import{$ as ii,$a as Hr,$b as _S,$c as ep,A as Jn,Aa as Ne,Ab as je,Ac as Je,Ad as BS,B as Xc,Ba as Wn,Bb as ln,Bc as CS,C as Us,Ca as sl,Cb as mS,Cc as SS,D as Br,Da as Mi,Db as Ot,Dc as Fe,E as ha,Ea as Gn,Eb as Bm,Ec as Ys,F as Ws,Fa as ui,Fb as Hm,Fc as Io,Fd as HS,G as $C,Ga as th,Gb as _,Gc as Cs,H as wi,Ha as ne,Hb as b,Hc as ES,I as pt,Ia as ke,Ib as G,Ic as xS,J as Sv,Ja as ol,Jb as zm,Jc as al,K as Gs,Ka as we,Kb as jm,Kc as kS,L as rs,La as pa,Lb as cd,Lc as DS,M as Dn,Ma as JC,Mb as Qt,Mc as $e,N as Ev,Na as ih,Nb as zr,Nc as TS,O as $t,Oa as eS,Ob as hd,Oc as oh,P as Kc,Pa as Do,Pb as X,Pc as IS,Q as Qc,Qa as _i,Qb as ud,Qc as OS,R as Zc,Ra as nh,Rb as Me,Rc as ll,S as Eo,Sa as od,Sb as _t,Sc as Zm,T as ua,Ta as ad,Tb as Re,Tc as Jm,U as xv,Ua as tS,Ub as pS,Uc as qs,V as YC,Va as iS,Vb as fS,Vc as os,W as qC,Wa as nS,Wb as Nt,Wc as pd,X as XC,Xa as rS,Xb as it,Xc as fd,Y as xo,Ya as sS,Yb as Ee,Yc as Pi,Z as Nm,Za as oS,Zb as xe,Zc as AS,_ as Jt,_a as aS,_b as gS,_c as MS,a as k,aa as Tt,ab as lS,ac as ft,ad as RS,b as Ce,ba as KC,bb as rh,bc as D,bd as tp,c as Mm,ca as Ai,cb as y,cc as Te,cd as dn,d as jC,da as di,db as w,dc as te,dd as Ci,e as yv,ea as ma,eb as fa,ec as ga,ed as FS,f as wv,fa as Tn,fb as dr,fc as Um,fd as Lt,g as qc,ga as $,gb as dS,gc as Wm,gd as Wi,h as Rm,ha as he,hb as sh,hc as Gm,hd as Mv,i as Ze,ia as QC,ib as ld,ic as vt,id as Si,j as Dt,ja as ie,jb as dd,jc as Xe,jd as PS,k as UC,ka as kv,kb as In,kc as vS,kd as NS,l as on,la as P,lb as Lm,lc as U,m as Cv,ma as ee,mb as Tv,mc as W,n as Fm,na as sd,nb as $s,nc as $m,o as ge,oa as Jc,ob as cS,oc as Ym,p as kr,pa as eh,pb as ni,pc as bS,q as Pm,qa as de,qb as It,qc as qm,qd as LS,r as Dr,ra as ue,rb as hS,rc as Xm,rd as ah,s as Ji,sa as Se,sb as Iv,sc as Ov,sd as ip,t as _e,ta as Dv,tb as ve,tc as Km,u as nl,ua as rl,ub as uS,uc as md,v as an,va as ZC,vb as Vm,vc as Av,w as WC,wa as ko,wb as er,wc as To,x as GC,xa as ss,xb as Ue,xc as Qm,xd as VS,y as Oe,ya as Kt,yb as M,yc as yS,yd as np,z as ca,za as Pe,zb as cr,zc as wS}from"./chunk-AJ4VXGBY.js";var Hw=wv((Bw,Oc)=>{"use strict";(function(n,t){typeof Bw=="object"&&typeof Oc<"u"?Oc.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(Bw,function(){"use strict";var n;function t(){return n.apply(null,arguments)}function e(d){n=d}function i(d){return d instanceof Array||Object.prototype.toString.call(d)==="[object Array]"}function r(d){return d!=null&&Object.prototype.toString.call(d)==="[object Object]"}function s(d,u){return Object.prototype.hasOwnProperty.call(d,u)}function o(d){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(d).length===0;var u;for(u in d)if(s(d,u))return!1;return!0}function a(d){return d===void 0}function l(d){return typeof d=="number"||Object.prototype.toString.call(d)==="[object Number]"}function c(d){return d instanceof Date||Object.prototype.toString.call(d)==="[object Date]"}function h(d,u){var p=[],g,S=d.length;for(g=0;g<S;++g)p.push(u(d[g],g));return p}function m(d,u){for(var p in u)s(u,p)&&(d[p]=u[p]);return s(u,"toString")&&(d.toString=u.toString),s(u,"valueOf")&&(d.valueOf=u.valueOf),d}function f(d,u,p,g){return bC(d,u,p,g,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function C(d){return d._pf==null&&(d._pf=v()),d._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(d){var u=Object(this),p=u.length>>>0,g;for(g=0;g<p;g++)if(g in u&&d.call(this,u[g],g,u))return!0;return!1};function E(d){var u=null,p=!1,g=d._d&&!isNaN(d._d.getTime());if(g&&(u=C(d),p=x.call(u.parsedDateParts,function(S){return S!=null}),g=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&p),d._strict&&(g=g&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(d))d._isValid=g;else return g;return d._isValid}function I(d){var u=f(NaN);return d!=null?m(C(u),d):C(u).userInvalidated=!0,u}var N=t.momentProperties=[],L=!1;function V(d,u){var p,g,S,A=N.length;if(a(u._isAMomentObject)||(d._isAMomentObject=u._isAMomentObject),a(u._i)||(d._i=u._i),a(u._f)||(d._f=u._f),a(u._l)||(d._l=u._l),a(u._strict)||(d._strict=u._strict),a(u._tzm)||(d._tzm=u._tzm),a(u._isUTC)||(d._isUTC=u._isUTC),a(u._offset)||(d._offset=u._offset),a(u._pf)||(d._pf=C(u)),a(u._locale)||(d._locale=u._locale),A>0)for(p=0;p<A;p++)g=N[p],S=u[g],a(S)||(d[g]=S);return d}function j(d){V(this,d),this._d=new Date(d._d!=null?d._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),L===!1&&(L=!0,t.updateOffset(this),L=!1)}function Y(d){return d instanceof j||d!=null&&d._isAMomentObject!=null}function me(d){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+d)}function Q(d,u){var p=!0;return m(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,d),p){var g=[],S,A,q,He=arguments.length;for(A=0;A<He;A++){if(S="",typeof arguments[A]=="object"){S+=`
[`+A+"] ";for(q in arguments[0])s(arguments[0],q)&&(S+=q+": "+arguments[0][q]+", ");S=S.slice(0,-2)}else S=arguments[A];g.push(S)}me(d+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),p=!1}return u.apply(this,arguments)},u)}var pe={};function Be(d,u){t.deprecationHandler!=null&&t.deprecationHandler(d,u),pe[d]||(me(u),pe[d]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function Ge(d){return typeof Function<"u"&&d instanceof Function||Object.prototype.toString.call(d)==="[object Function]"}function ct(d){var u,p;for(p in d)s(d,p)&&(u=d[p],Ge(u)?this[p]=u:this["_"+p]=u);this._config=d,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function St(d,u){var p=m({},d),g;for(g in u)s(u,g)&&(r(d[g])&&r(u[g])?(p[g]={},m(p[g],d[g]),m(p[g],u[g])):u[g]!=null?p[g]=u[g]:delete p[g]);for(g in d)s(d,g)&&!s(u,g)&&r(d[g])&&(p[g]=m({},p[g]));return p}function Et(d){d!=null&&this.set(d)}var xt;Object.keys?xt=Object.keys:xt=function(d){var u,p=[];for(u in d)s(d,u)&&p.push(u);return p};var Rt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kt(d,u,p){var g=this._calendar[d]||this._calendar.sameElse;return Ge(g)?g.call(u,p):g}function Ft(d,u,p){var g=""+Math.abs(d),S=u-g.length,A=d>=0;return(A?p?"+":"":"-")+Math.pow(10,Math.max(0,S)).toString().substr(1)+g}var Qi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,O=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},ae={};function z(d,u,p,g){var S=g;typeof g=="string"&&(S=function(){return this[g]()}),d&&(ae[d]=S),u&&(ae[u[0]]=function(){return Ft(S.apply(this,arguments),u[1],u[2])}),p&&(ae[p]=function(){return this.localeData().ordinal(S.apply(this,arguments),d)})}function oe(d){return d.match(/\[[\s\S]/)?d.replace(/^\[|\]$/g,""):d.replace(/\\/g,"")}function Z(d){var u=d.match(Qi),p,g;for(p=0,g=u.length;p<g;p++)ae[u[p]]?u[p]=ae[u[p]]:u[p]=oe(u[p]);return function(S){var A="",q;for(q=0;q<g;q++)A+=Ge(u[q])?u[q].call(S,d):u[q];return A}}function K(d,u){return d.isValid()?(u=J(u,d.localeData()),H[u]=H[u]||Z(u),H[u](d)):d.localeData().invalidDate()}function J(d,u){var p=5;function g(S){return u.longDateFormat(S)||S}for(O.lastIndex=0;p>=0&&O.test(d);)d=d.replace(O,g),O.lastIndex=0,p-=1;return d}var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nt(d){var u=this._longDateFormat[d],p=this._longDateFormat[d.toUpperCase()];return u||!p?u:(this._longDateFormat[d]=p.match(Qi).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[d])}var et="Invalid date";function fe(){return this._invalidDate}var Ye="%d",zt=/\d{1,2}/;function Vt(d){return this._ordinal.replace("%d",d)}var ji={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _n(d,u,p,g){var S=this._relativeTime[p];return Ge(S)?S(d,u,p,g):S.replace(/%d/i,d)}function or(d,u){var p=this._relativeTime[d>0?"future":"past"];return Ge(p)?p(u):p.replace(/%s/i,u)}var Un={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ei(d){return typeof d=="string"?Un[d]||Un[d.toLowerCase()]:void 0}function is(d){var u={},p,g;for(g in d)s(d,g)&&(p=ei(g),p&&(u[p]=d[g]));return u}var gm={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function J_(d){var u=[],p;for(p in d)s(d,p)&&u.push({unit:p,priority:gm[p]});return u.sort(function(g,S){return g.priority-S.priority}),u}var Zl=/\d/,vn=/\d\d/,go=/\d{3}/,Bs=/\d{4}/,Qa=/[+-]?\d{6}/,gi=/\d\d?/,Bc=/\d\d\d\d?/,Jl=/\d\d\d\d\d\d?/,Za=/\d{1,3}/,na=/\d{1,4}/,_o=/[+-]?\d{1,6}/,Qn=/\d+/,bs=/[+-]?\d+/,Hc=/Z|[+-]\d\d:?\d\d/gi,ra=/Z|[+-]\d\d(?::?\d\d)?/gi,ev=/[+-]?\d+(\.\d{1,3})?/,Hs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ys=/^[1-9]\d?/,zc=/^([1-9]\d|\d)/,zs;zs={};function Ve(d,u,p){zs[d]=Ge(u)?u:function(g,S){return g&&p?p:u}}function tv(d,u){return s(zs,d)?zs[d](u._strict,u._locale):new RegExp(sn(d))}function sn(d){return Zn(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,p,g,S,A){return p||g||S||A}))}function Zn(d){return d.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Sr(d){return d<0?Math.ceil(d)||0:Math.floor(d)}function Pt(d){var u=+d,p=0;return u!==0&&isFinite(u)&&(p=Sr(u)),p}var Ja={};function si(d,u){var p,g=u,S;for(typeof d=="string"&&(d=[d]),l(u)&&(g=function(A,q){q[u]=Pt(A)}),S=d.length,p=0;p<S;p++)Ja[d[p]]=g}function sa(d,u){si(d,function(p,g,S,A){S._w=S._w||{},u(p,S._w,S,A)})}function iv(d,u,p){u!=null&&s(Ja,d)&&Ja[d](u,p._a,p,d)}function ar(d){return d%4===0&&d%100!==0||d%400===0}var Zi=0,ns=1,Vr=2,Ui=3,Er=4,bn=5,js=6,_m=7,vm=8;z("Y",0,0,function(){var d=this.year();return d<=9999?Ft(d,4):"+"+d}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),Ve("Y",bs),Ve("YY",gi,vn),Ve("YYYY",na,Bs),Ve("YYYYY",_o,Qa),Ve("YYYYYY",_o,Qa),si(["YYYYY","YYYYYY"],Zi),si("YYYY",function(d,u){u[Zi]=d.length===2?t.parseTwoDigitYear(d):Pt(d)}),si("YY",function(d,u){u[Zi]=t.parseTwoDigitYear(d)}),si("Y",function(d,u){u[Zi]=parseInt(d,10)});function oa(d){return ar(d)?366:365}t.parseTwoDigitYear=function(d){return Pt(d)+(Pt(d)>68?1900:2e3)};var bm=F("FullYear",!0);function Ke(){return ar(this.year())}function F(d,u){return function(p){return p!=null?(We(this,d,p),t.updateOffset(this,u),this):le(this,d)}}function le(d,u){if(!d.isValid())return NaN;var p=d._d,g=d._isUTC;switch(u){case"Milliseconds":return g?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return g?p.getUTCSeconds():p.getSeconds();case"Minutes":return g?p.getUTCMinutes():p.getMinutes();case"Hours":return g?p.getUTCHours():p.getHours();case"Date":return g?p.getUTCDate():p.getDate();case"Day":return g?p.getUTCDay():p.getDay();case"Month":return g?p.getUTCMonth():p.getMonth();case"FullYear":return g?p.getUTCFullYear():p.getFullYear();default:return NaN}}function We(d,u,p){var g,S,A,q,He;if(!(!d.isValid()||isNaN(p))){switch(g=d._d,S=d._isUTC,u){case"Milliseconds":return void(S?g.setUTCMilliseconds(p):g.setMilliseconds(p));case"Seconds":return void(S?g.setUTCSeconds(p):g.setSeconds(p));case"Minutes":return void(S?g.setUTCMinutes(p):g.setMinutes(p));case"Hours":return void(S?g.setUTCHours(p):g.setHours(p));case"Date":return void(S?g.setUTCDate(p):g.setDate(p));case"FullYear":break;default:return}A=p,q=d.month(),He=d.date(),He=He===29&&q===1&&!ar(A)?28:He,S?g.setUTCFullYear(A,q,He):g.setFullYear(A,q,He)}}function xi(d){return d=ei(d),Ge(this[d])?this[d]():this}function xn(d,u){if(typeof d=="object"){d=is(d);var p=J_(d),g,S=p.length;for(g=0;g<S;g++)this[p[g].unit](d[p[g].unit])}else if(d=ei(d),Ge(this[d]))return this[d](u);return this}function yn(d,u){return(d%u+u)%u}var jt;Array.prototype.indexOf?jt=Array.prototype.indexOf:jt=function(d){var u;for(u=0;u<this.length;++u)if(this[u]===d)return u;return-1};function xr(d,u){if(isNaN(d)||isNaN(u))return NaN;var p=yn(u,12);return d+=(u-p)/12,p===1?ar(d)?29:28:31-p%7%2}z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(d){return this.localeData().monthsShort(this,d)}),z("MMMM",0,0,function(d){return this.localeData().months(this,d)}),Ve("M",gi,ys),Ve("MM",gi,vn),Ve("MMM",function(d,u){return u.monthsShortRegex(d)}),Ve("MMMM",function(d,u){return u.monthsRegex(d)}),si(["M","MM"],function(d,u){u[ns]=Pt(d)-1}),si(["MMM","MMMM"],function(d,u,p,g){var S=p._locale.monthsParse(d,g,p._strict);S!=null?u[ns]=S:C(p).invalidMonth=d});var el="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ym=Hs,HM=Hs;function zM(d,u){return d?i(this._months)?this._months[d.month()]:this._months[(this._months.isFormat||jc).test(u)?"format":"standalone"][d.month()]:i(this._months)?this._months:this._months.standalone}function jM(d,u){return d?i(this._monthsShort)?this._monthsShort[d.month()]:this._monthsShort[jc.test(u)?"format":"standalone"][d.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function UM(d,u,p){var g,S,A,q=d.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)A=f([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(A,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(A,"").toLocaleLowerCase();return p?u==="MMM"?(S=jt.call(this._shortMonthsParse,q),S!==-1?S:null):(S=jt.call(this._longMonthsParse,q),S!==-1?S:null):u==="MMM"?(S=jt.call(this._shortMonthsParse,q),S!==-1?S:(S=jt.call(this._longMonthsParse,q),S!==-1?S:null)):(S=jt.call(this._longMonthsParse,q),S!==-1?S:(S=jt.call(this._shortMonthsParse,q),S!==-1?S:null))}function WM(d,u,p){var g,S,A;if(this._monthsParseExact)return UM.call(this,d,u,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(S=f([2e3,g]),p&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(S,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(S,"").replace(".","")+"$","i")),!p&&!this._monthsParse[g]&&(A="^"+this.months(S,"")+"|^"+this.monthsShort(S,""),this._monthsParse[g]=new RegExp(A.replace(".",""),"i")),p&&u==="MMMM"&&this._longMonthsParse[g].test(d))return g;if(p&&u==="MMM"&&this._shortMonthsParse[g].test(d))return g;if(!p&&this._monthsParse[g].test(d))return g}}function aC(d,u){if(!d.isValid())return d;if(typeof u=="string"){if(/^\d+$/.test(u))u=Pt(u);else if(u=d.localeData().monthsParse(u),!l(u))return d}var p=u,g=d.date();return g=g<29?g:Math.min(g,xr(d.year(),p)),d._isUTC?d._d.setUTCMonth(p,g):d._d.setMonth(p,g),d}function lC(d){return d!=null?(aC(this,d),t.updateOffset(this,!0),this):le(this,"Month")}function GM(){return xr(this.year(),this.month())}function $M(d){return this._monthsParseExact?(s(this,"_monthsRegex")||dC.call(this),d?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ym),this._monthsShortStrictRegex&&d?this._monthsShortStrictRegex:this._monthsShortRegex)}function YM(d){return this._monthsParseExact?(s(this,"_monthsRegex")||dC.call(this),d?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=HM),this._monthsStrictRegex&&d?this._monthsStrictRegex:this._monthsRegex)}function dC(){function d(ht,Gt){return Gt.length-ht.length}var u=[],p=[],g=[],S,A,q,He;for(S=0;S<12;S++)A=f([2e3,S]),q=Zn(this.monthsShort(A,"")),He=Zn(this.months(A,"")),u.push(q),p.push(He),g.push(He),g.push(q);u.sort(d),p.sort(d),g.sort(d),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}function qM(d,u,p,g,S,A,q){var He;return d<100&&d>=0?(He=new Date(d+400,u,p,g,S,A,q),isFinite(He.getFullYear())&&He.setFullYear(d)):He=new Date(d,u,p,g,S,A,q),He}function Uc(d){var u,p;return d<100&&d>=0?(p=Array.prototype.slice.call(arguments),p[0]=d+400,u=new Date(Date.UTC.apply(null,p)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(d)):u=new Date(Date.UTC.apply(null,arguments)),u}function wm(d,u,p){var g=7+u-p,S=(7+Uc(d,0,g).getUTCDay()-u)%7;return-S+g-1}function cC(d,u,p,g,S){var A=(7+p-g)%7,q=wm(d,g,S),He=1+7*(u-1)+A+q,ht,Gt;return He<=0?(ht=d-1,Gt=oa(ht)+He):He>oa(d)?(ht=d+1,Gt=He-oa(d)):(ht=d,Gt=He),{year:ht,dayOfYear:Gt}}function Wc(d,u,p){var g=wm(d.year(),u,p),S=Math.floor((d.dayOfYear()-g-1)/7)+1,A,q;return S<1?(q=d.year()-1,A=S+vo(q,u,p)):S>vo(d.year(),u,p)?(A=S-vo(d.year(),u,p),q=d.year()+1):(q=d.year(),A=S),{week:A,year:q}}function vo(d,u,p){var g=wm(d,u,p),S=wm(d+1,u,p);return(oa(d)-g+S)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),Ve("w",gi,ys),Ve("ww",gi,vn),Ve("W",gi,ys),Ve("WW",gi,vn),sa(["w","ww","W","WW"],function(d,u,p,g){u[g.substr(0,1)]=Pt(d)});function XM(d){return Wc(d,this._week.dow,this._week.doy).week}var KM={dow:0,doy:6};function QM(){return this._week.dow}function ZM(){return this._week.doy}function JM(d){var u=this.localeData().week(this);return d==null?u:this.add((d-u)*7,"d")}function eR(d){var u=Wc(this,1,4).week;return d==null?u:this.add((d-u)*7,"d")}z("d",0,"do","day"),z("dd",0,0,function(d){return this.localeData().weekdaysMin(this,d)}),z("ddd",0,0,function(d){return this.localeData().weekdaysShort(this,d)}),z("dddd",0,0,function(d){return this.localeData().weekdays(this,d)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),Ve("d",gi),Ve("e",gi),Ve("E",gi),Ve("dd",function(d,u){return u.weekdaysMinRegex(d)}),Ve("ddd",function(d,u){return u.weekdaysShortRegex(d)}),Ve("dddd",function(d,u){return u.weekdaysRegex(d)}),sa(["dd","ddd","dddd"],function(d,u,p,g){var S=p._locale.weekdaysParse(d,g,p._strict);S!=null?u.d=S:C(p).invalidWeekday=d}),sa(["d","e","E"],function(d,u,p,g){u[g]=Pt(d)});function tR(d,u){return typeof d!="string"?d:isNaN(d)?(d=u.weekdaysParse(d),typeof d=="number"?d:null):parseInt(d,10)}function iR(d,u){return typeof d=="string"?u.weekdaysParse(d)%7||7:isNaN(d)?null:d}function nv(d,u){return d.slice(u,7).concat(d.slice(0,u))}var nR="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hC="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rR="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sR=Hs,oR=Hs,aR=Hs;function lR(d,u){var p=i(this._weekdays)?this._weekdays:this._weekdays[d&&d!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return d===!0?nv(p,this._week.dow):d?p[d.day()]:p}function dR(d){return d===!0?nv(this._weekdaysShort,this._week.dow):d?this._weekdaysShort[d.day()]:this._weekdaysShort}function cR(d){return d===!0?nv(this._weekdaysMin,this._week.dow):d?this._weekdaysMin[d.day()]:this._weekdaysMin}function hR(d,u,p){var g,S,A,q=d.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)A=f([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(A,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(A,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(A,"").toLocaleLowerCase();return p?u==="dddd"?(S=jt.call(this._weekdaysParse,q),S!==-1?S:null):u==="ddd"?(S=jt.call(this._shortWeekdaysParse,q),S!==-1?S:null):(S=jt.call(this._minWeekdaysParse,q),S!==-1?S:null):u==="dddd"?(S=jt.call(this._weekdaysParse,q),S!==-1||(S=jt.call(this._shortWeekdaysParse,q),S!==-1)?S:(S=jt.call(this._minWeekdaysParse,q),S!==-1?S:null)):u==="ddd"?(S=jt.call(this._shortWeekdaysParse,q),S!==-1||(S=jt.call(this._weekdaysParse,q),S!==-1)?S:(S=jt.call(this._minWeekdaysParse,q),S!==-1?S:null)):(S=jt.call(this._minWeekdaysParse,q),S!==-1||(S=jt.call(this._weekdaysParse,q),S!==-1)?S:(S=jt.call(this._shortWeekdaysParse,q),S!==-1?S:null))}function uR(d,u,p){var g,S,A;if(this._weekdaysParseExact)return hR.call(this,d,u,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(S=f([2e3,1]).day(g),p&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(S,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(S,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(S,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(A="^"+this.weekdays(S,"")+"|^"+this.weekdaysShort(S,"")+"|^"+this.weekdaysMin(S,""),this._weekdaysParse[g]=new RegExp(A.replace(".",""),"i")),p&&u==="dddd"&&this._fullWeekdaysParse[g].test(d))return g;if(p&&u==="ddd"&&this._shortWeekdaysParse[g].test(d))return g;if(p&&u==="dd"&&this._minWeekdaysParse[g].test(d))return g;if(!p&&this._weekdaysParse[g].test(d))return g}}function mR(d){if(!this.isValid())return d!=null?this:NaN;var u=le(this,"Day");return d!=null?(d=tR(d,this.localeData()),this.add(d-u,"d")):u}function pR(d){if(!this.isValid())return d!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return d==null?u:this.add(d-u,"d")}function fR(d){if(!this.isValid())return d!=null?this:NaN;if(d!=null){var u=iR(d,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}function gR(d){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||rv.call(this),d?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=sR),this._weekdaysStrictRegex&&d?this._weekdaysStrictRegex:this._weekdaysRegex)}function _R(d){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||rv.call(this),d?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oR),this._weekdaysShortStrictRegex&&d?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function vR(d){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||rv.call(this),d?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=aR),this._weekdaysMinStrictRegex&&d?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function rv(){function d(lr,So){return So.length-lr.length}var u=[],p=[],g=[],S=[],A,q,He,ht,Gt;for(A=0;A<7;A++)q=f([2e3,1]).day(A),He=Zn(this.weekdaysMin(q,"")),ht=Zn(this.weekdaysShort(q,"")),Gt=Zn(this.weekdays(q,"")),u.push(He),p.push(ht),g.push(Gt),S.push(He),S.push(ht),S.push(Gt);u.sort(d),p.sort(d),g.sort(d),S.sort(d),this._weekdaysRegex=new RegExp("^("+S.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}function sv(){return this.hours()%12||12}function bR(){return this.hours()||24}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,sv),z("k",["kk",2],0,bR),z("hmm",0,0,function(){return""+sv.apply(this)+Ft(this.minutes(),2)}),z("hmmss",0,0,function(){return""+sv.apply(this)+Ft(this.minutes(),2)+Ft(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+Ft(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+Ft(this.minutes(),2)+Ft(this.seconds(),2)});function uC(d,u){z(d,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}uC("a",!0),uC("A",!1);function mC(d,u){return u._meridiemParse}Ve("a",mC),Ve("A",mC),Ve("H",gi,zc),Ve("h",gi,ys),Ve("k",gi,ys),Ve("HH",gi,vn),Ve("hh",gi,vn),Ve("kk",gi,vn),Ve("hmm",Bc),Ve("hmmss",Jl),Ve("Hmm",Bc),Ve("Hmmss",Jl),si(["H","HH"],Ui),si(["k","kk"],function(d,u,p){var g=Pt(d);u[Ui]=g===24?0:g}),si(["a","A"],function(d,u,p){p._isPm=p._locale.isPM(d),p._meridiem=d}),si(["h","hh"],function(d,u,p){u[Ui]=Pt(d),C(p).bigHour=!0}),si("hmm",function(d,u,p){var g=d.length-2;u[Ui]=Pt(d.substr(0,g)),u[Er]=Pt(d.substr(g)),C(p).bigHour=!0}),si("hmmss",function(d,u,p){var g=d.length-4,S=d.length-2;u[Ui]=Pt(d.substr(0,g)),u[Er]=Pt(d.substr(g,2)),u[bn]=Pt(d.substr(S)),C(p).bigHour=!0}),si("Hmm",function(d,u,p){var g=d.length-2;u[Ui]=Pt(d.substr(0,g)),u[Er]=Pt(d.substr(g))}),si("Hmmss",function(d,u,p){var g=d.length-4,S=d.length-2;u[Ui]=Pt(d.substr(0,g)),u[Er]=Pt(d.substr(g,2)),u[bn]=Pt(d.substr(S))});function yR(d){return(d+"").toLowerCase().charAt(0)==="p"}var wR=/[ap]\.?m?\.?/i,CR=F("Hours",!0);function SR(d,u,p){return d>11?p?"pm":"PM":p?"am":"AM"}var pC={calendar:Rt,longDateFormat:Ae,invalidDate:et,ordinal:Ye,dayOfMonthOrdinalParse:zt,relativeTime:ji,months:el,monthsShort:kn,week:KM,weekdays:nR,weekdaysMin:rR,weekdaysShort:hC,meridiemParse:wR},Fi={},Gc={},$c;function ER(d,u){var p,g=Math.min(d.length,u.length);for(p=0;p<g;p+=1)if(d[p]!==u[p])return p;return g}function fC(d){return d&&d.toLowerCase().replace("_","-")}function xR(d){for(var u=0,p,g,S,A;u<d.length;){for(A=fC(d[u]).split("-"),p=A.length,g=fC(d[u+1]),g=g?g.split("-"):null;p>0;){if(S=Cm(A.slice(0,p).join("-")),S)return S;if(g&&g.length>=p&&ER(A,g)>=p-1)break;p--}u++}return $c}function kR(d){return!!(d&&d.match("^[^/\\\\]*$"))}function Cm(d){var u=null,p;if(Fi[d]===void 0&&typeof Oc<"u"&&Oc&&Oc.exports&&kR(d))try{u=$c._abbr,p=Mm,p("./locale/"+d),aa(u)}catch{Fi[d]=null}return Fi[d]}function aa(d,u){var p;return d&&(a(u)?p=bo(d):p=ov(d,u),p?$c=p:typeof console<"u"&&console.warn&&console.warn("Locale "+d+" not found. Did you forget to load it?")),$c._abbr}function ov(d,u){if(u!==null){var p,g=pC;if(u.abbr=d,Fi[d]!=null)Be("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=Fi[d]._config;else if(u.parentLocale!=null)if(Fi[u.parentLocale]!=null)g=Fi[u.parentLocale]._config;else if(p=Cm(u.parentLocale),p!=null)g=p._config;else return Gc[u.parentLocale]||(Gc[u.parentLocale]=[]),Gc[u.parentLocale].push({name:d,config:u}),null;return Fi[d]=new Et(St(g,u)),Gc[d]&&Gc[d].forEach(function(S){ov(S.name,S.config)}),aa(d),Fi[d]}else return delete Fi[d],null}function DR(d,u){if(u!=null){var p,g,S=pC;Fi[d]!=null&&Fi[d].parentLocale!=null?Fi[d].set(St(Fi[d]._config,u)):(g=Cm(d),g!=null&&(S=g._config),u=St(S,u),g==null&&(u.abbr=d),p=new Et(u),p.parentLocale=Fi[d],Fi[d]=p),aa(d)}else Fi[d]!=null&&(Fi[d].parentLocale!=null?(Fi[d]=Fi[d].parentLocale,d===aa()&&aa(d)):Fi[d]!=null&&delete Fi[d]);return Fi[d]}function bo(d){var u;if(d&&d._locale&&d._locale._abbr&&(d=d._locale._abbr),!d)return $c;if(!i(d)){if(u=Cm(d),u)return u;d=[d]}return xR(d)}function TR(){return xt(Fi)}function av(d){var u,p=d._a;return p&&C(d).overflow===-2&&(u=p[ns]<0||p[ns]>11?ns:p[Vr]<1||p[Vr]>xr(p[Zi],p[ns])?Vr:p[Ui]<0||p[Ui]>24||p[Ui]===24&&(p[Er]!==0||p[bn]!==0||p[js]!==0)?Ui:p[Er]<0||p[Er]>59?Er:p[bn]<0||p[bn]>59?bn:p[js]<0||p[js]>999?js:-1,C(d)._overflowDayOfYear&&(u<Zi||u>Vr)&&(u=Vr),C(d)._overflowWeeks&&u===-1&&(u=_m),C(d)._overflowWeekday&&u===-1&&(u=vm),C(d).overflow=u),d}var IR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,OR=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AR=/Z|[+-]\d\d(?::?\d\d)?/,Sm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],lv=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],MR=/^\/?Date\((-?\d+)/i,RR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,FR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gC(d){var u,p,g=d._i,S=IR.exec(g)||OR.exec(g),A,q,He,ht,Gt=Sm.length,lr=lv.length;if(S){for(C(d).iso=!0,u=0,p=Gt;u<p;u++)if(Sm[u][1].exec(S[1])){q=Sm[u][0],A=Sm[u][2]!==!1;break}if(q==null){d._isValid=!1;return}if(S[3]){for(u=0,p=lr;u<p;u++)if(lv[u][1].exec(S[3])){He=(S[2]||" ")+lv[u][0];break}if(He==null){d._isValid=!1;return}}if(!A&&He!=null){d._isValid=!1;return}if(S[4])if(AR.exec(S[4]))ht="Z";else{d._isValid=!1;return}d._f=q+(He||"")+(ht||""),cv(d)}else d._isValid=!1}function PR(d,u,p,g,S,A){var q=[NR(d),kn.indexOf(u),parseInt(p,10),parseInt(g,10),parseInt(S,10)];return A&&q.push(parseInt(A,10)),q}function NR(d){var u=parseInt(d,10);return u<=49?2e3+u:u<=999?1900+u:u}function LR(d){return d.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VR(d,u,p){if(d){var g=hC.indexOf(d),S=new Date(u[0],u[1],u[2]).getDay();if(g!==S)return C(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}function BR(d,u,p){if(d)return FR[d];if(u)return 0;var g=parseInt(p,10),S=g%100,A=(g-S)/100;return A*60+S}function _C(d){var u=RR.exec(LR(d._i)),p;if(u){if(p=PR(u[4],u[3],u[2],u[5],u[6],u[7]),!VR(u[1],p,d))return;d._a=p,d._tzm=BR(u[8],u[9],u[10]),d._d=Uc.apply(null,d._a),d._d.setUTCMinutes(d._d.getUTCMinutes()-d._tzm),C(d).rfc2822=!0}else d._isValid=!1}function HR(d){var u=MR.exec(d._i);if(u!==null){d._d=new Date(+u[1]);return}if(gC(d),d._isValid===!1)delete d._isValid;else return;if(_C(d),d._isValid===!1)delete d._isValid;else return;d._strict?d._isValid=!1:t.createFromInputFallback(d)}t.createFromInputFallback=Q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(d){d._d=new Date(d._i+(d._useUTC?" UTC":""))});function ed(d,u,p){return d??u??p}function zR(d){var u=new Date(t.now());return d._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}function dv(d){var u,p,g=[],S,A,q;if(!d._d){for(S=zR(d),d._w&&d._a[Vr]==null&&d._a[ns]==null&&jR(d),d._dayOfYear!=null&&(q=ed(d._a[Zi],S[Zi]),(d._dayOfYear>oa(q)||d._dayOfYear===0)&&(C(d)._overflowDayOfYear=!0),p=Uc(q,0,d._dayOfYear),d._a[ns]=p.getUTCMonth(),d._a[Vr]=p.getUTCDate()),u=0;u<3&&d._a[u]==null;++u)d._a[u]=g[u]=S[u];for(;u<7;u++)d._a[u]=g[u]=d._a[u]==null?u===2?1:0:d._a[u];d._a[Ui]===24&&d._a[Er]===0&&d._a[bn]===0&&d._a[js]===0&&(d._nextDay=!0,d._a[Ui]=0),d._d=(d._useUTC?Uc:qM).apply(null,g),A=d._useUTC?d._d.getUTCDay():d._d.getDay(),d._tzm!=null&&d._d.setUTCMinutes(d._d.getUTCMinutes()-d._tzm),d._nextDay&&(d._a[Ui]=24),d._w&&typeof d._w.d<"u"&&d._w.d!==A&&(C(d).weekdayMismatch=!0)}}function jR(d){var u,p,g,S,A,q,He,ht,Gt;u=d._w,u.GG!=null||u.W!=null||u.E!=null?(A=1,q=4,p=ed(u.GG,d._a[Zi],Wc(Oi(),1,4).year),g=ed(u.W,1),S=ed(u.E,1),(S<1||S>7)&&(ht=!0)):(A=d._locale._week.dow,q=d._locale._week.doy,Gt=Wc(Oi(),A,q),p=ed(u.gg,d._a[Zi],Gt.year),g=ed(u.w,Gt.week),u.d!=null?(S=u.d,(S<0||S>6)&&(ht=!0)):u.e!=null?(S=u.e+A,(u.e<0||u.e>6)&&(ht=!0)):S=A),g<1||g>vo(p,A,q)?C(d)._overflowWeeks=!0:ht!=null?C(d)._overflowWeekday=!0:(He=cC(p,g,S,A,q),d._a[Zi]=He.year,d._dayOfYear=He.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function cv(d){if(d._f===t.ISO_8601){gC(d);return}if(d._f===t.RFC_2822){_C(d);return}d._a=[],C(d).empty=!0;var u=""+d._i,p,g,S,A,q,He=u.length,ht=0,Gt,lr;for(S=J(d._f,d._locale).match(Qi)||[],lr=S.length,p=0;p<lr;p++)A=S[p],g=(u.match(tv(A,d))||[])[0],g&&(q=u.substr(0,u.indexOf(g)),q.length>0&&C(d).unusedInput.push(q),u=u.slice(u.indexOf(g)+g.length),ht+=g.length),ae[A]?(g?C(d).empty=!1:C(d).unusedTokens.push(A),iv(A,g,d)):d._strict&&!g&&C(d).unusedTokens.push(A);C(d).charsLeftOver=He-ht,u.length>0&&C(d).unusedInput.push(u),d._a[Ui]<=12&&C(d).bigHour===!0&&d._a[Ui]>0&&(C(d).bigHour=void 0),C(d).parsedDateParts=d._a.slice(0),C(d).meridiem=d._meridiem,d._a[Ui]=UR(d._locale,d._a[Ui],d._meridiem),Gt=C(d).era,Gt!==null&&(d._a[Zi]=d._locale.erasConvertYear(Gt,d._a[Zi])),dv(d),av(d)}function UR(d,u,p){var g;return p==null?u:d.meridiemHour!=null?d.meridiemHour(u,p):(d.isPM!=null&&(g=d.isPM(p),g&&u<12&&(u+=12),!g&&u===12&&(u=0)),u)}function WR(d){var u,p,g,S,A,q,He=!1,ht=d._f.length;if(ht===0){C(d).invalidFormat=!0,d._d=new Date(NaN);return}for(S=0;S<ht;S++)A=0,q=!1,u=V({},d),d._useUTC!=null&&(u._useUTC=d._useUTC),u._f=d._f[S],cv(u),E(u)&&(q=!0),A+=C(u).charsLeftOver,A+=C(u).unusedTokens.length*10,C(u).score=A,He?A<g&&(g=A,p=u):(g==null||A<g||q)&&(g=A,p=u,q&&(He=!0));m(d,p||u)}function GR(d){if(!d._d){var u=is(d._i),p=u.day===void 0?u.date:u.day;d._a=h([u.year,u.month,p,u.hour,u.minute,u.second,u.millisecond],function(g){return g&&parseInt(g,10)}),dv(d)}}function $R(d){var u=new j(av(vC(d)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function vC(d){var u=d._i,p=d._f;return d._locale=d._locale||bo(d._l),u===null||p===void 0&&u===""?I({nullInput:!0}):(typeof u=="string"&&(d._i=u=d._locale.preparse(u)),Y(u)?new j(av(u)):(c(u)?d._d=u:i(p)?WR(d):p?cv(d):YR(d),E(d)||(d._d=null),d))}function YR(d){var u=d._i;a(u)?d._d=new Date(t.now()):c(u)?d._d=new Date(u.valueOf()):typeof u=="string"?HR(d):i(u)?(d._a=h(u.slice(0),function(p){return parseInt(p,10)}),dv(d)):r(u)?GR(d):l(u)?d._d=new Date(u):t.createFromInputFallback(d)}function bC(d,u,p,g,S){var A={};return(u===!0||u===!1)&&(g=u,u=void 0),(p===!0||p===!1)&&(g=p,p=void 0),(r(d)&&o(d)||i(d)&&d.length===0)&&(d=void 0),A._isAMomentObject=!0,A._useUTC=A._isUTC=S,A._l=p,A._i=d,A._f=u,A._strict=g,$R(A)}function Oi(d,u,p,g){return bC(d,u,p,g,!1)}var qR=Q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var d=Oi.apply(null,arguments);return this.isValid()&&d.isValid()?d<this?this:d:I()}),XR=Q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var d=Oi.apply(null,arguments);return this.isValid()&&d.isValid()?d>this?this:d:I()});function yC(d,u){var p,g;if(u.length===1&&i(u[0])&&(u=u[0]),!u.length)return Oi();for(p=u[0],g=1;g<u.length;++g)(!u[g].isValid()||u[g][d](p))&&(p=u[g]);return p}function KR(){var d=[].slice.call(arguments,0);return yC("isBefore",d)}function QR(){var d=[].slice.call(arguments,0);return yC("isAfter",d)}var ZR=function(){return Date.now?Date.now():+new Date},Yc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JR(d){var u,p=!1,g,S=Yc.length;for(u in d)if(s(d,u)&&!(jt.call(Yc,u)!==-1&&(d[u]==null||!isNaN(d[u]))))return!1;for(g=0;g<S;++g)if(d[Yc[g]]){if(p)return!1;parseFloat(d[Yc[g]])!==Pt(d[Yc[g]])&&(p=!0)}return!0}function e1(){return this._isValid}function t1(){return ws(NaN)}function Em(d){var u=is(d),p=u.year||0,g=u.quarter||0,S=u.month||0,A=u.week||u.isoWeek||0,q=u.day||0,He=u.hour||0,ht=u.minute||0,Gt=u.second||0,lr=u.millisecond||0;this._isValid=JR(u),this._milliseconds=+lr+Gt*1e3+ht*6e4+He*1e3*60*60,this._days=+q+A*7,this._months=+S+g*3+p*12,this._data={},this._locale=bo(),this._bubble()}function xm(d){return d instanceof Em}function hv(d){return d<0?Math.round(-1*d)*-1:Math.round(d)}function i1(d,u,p){var g=Math.min(d.length,u.length),S=Math.abs(d.length-u.length),A=0,q;for(q=0;q<g;q++)(p&&d[q]!==u[q]||!p&&Pt(d[q])!==Pt(u[q]))&&A++;return A+S}function wC(d,u){z(d,0,0,function(){var p=this.utcOffset(),g="+";return p<0&&(p=-p,g="-"),g+Ft(~~(p/60),2)+u+Ft(~~p%60,2)})}wC("Z",":"),wC("ZZ",""),Ve("Z",ra),Ve("ZZ",ra),si(["Z","ZZ"],function(d,u,p){p._useUTC=!0,p._tzm=uv(ra,d)});var n1=/([\+\-]|\d\d)/gi;function uv(d,u){var p=(u||"").match(d),g,S,A;return p===null?null:(g=p[p.length-1]||[],S=(g+"").match(n1)||["-",0,0],A=+(S[1]*60)+Pt(S[2]),A===0?0:S[0]==="+"?A:-A)}function mv(d,u){var p,g;return u._isUTC?(p=u.clone(),g=(Y(d)||c(d)?d.valueOf():Oi(d).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+g),t.updateOffset(p,!1),p):Oi(d).local()}function pv(d){return-Math.round(d._d.getTimezoneOffset())}t.updateOffset=function(){};function r1(d,u,p){var g=this._offset||0,S;if(!this.isValid())return d!=null?this:NaN;if(d!=null){if(typeof d=="string"){if(d=uv(ra,d),d===null)return this}else Math.abs(d)<16&&!p&&(d=d*60);return!this._isUTC&&u&&(S=pv(this)),this._offset=d,this._isUTC=!0,S!=null&&this.add(S,"m"),g!==d&&(!u||this._changeInProgress?xC(this,ws(d-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:pv(this)}function s1(d,u){return d!=null?(typeof d!="string"&&(d=-d),this.utcOffset(d,u),this):-this.utcOffset()}function o1(d){return this.utcOffset(0,d)}function a1(d){return this._isUTC&&(this.utcOffset(0,d),this._isUTC=!1,d&&this.subtract(pv(this),"m")),this}function l1(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var d=uv(Hc,this._i);d!=null?this.utcOffset(d):this.utcOffset(0,!0)}return this}function d1(d){return this.isValid()?(d=d?Oi(d).utcOffset():0,(this.utcOffset()-d)%60===0):!1}function c1(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function h1(){if(!a(this._isDSTShifted))return this._isDSTShifted;var d={},u;return V(d,this),d=vC(d),d._a?(u=d._isUTC?f(d._a):Oi(d._a),this._isDSTShifted=this.isValid()&&i1(d._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function u1(){return this.isValid()?!this._isUTC:!1}function m1(){return this.isValid()?this._isUTC:!1}function CC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var p1=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,f1=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ws(d,u){var p=d,g=null,S,A,q;return xm(d)?p={ms:d._milliseconds,d:d._days,M:d._months}:l(d)||!isNaN(+d)?(p={},u?p[u]=+d:p.milliseconds=+d):(g=p1.exec(d))?(S=g[1]==="-"?-1:1,p={y:0,d:Pt(g[Vr])*S,h:Pt(g[Ui])*S,m:Pt(g[Er])*S,s:Pt(g[bn])*S,ms:Pt(hv(g[js]*1e3))*S}):(g=f1.exec(d))?(S=g[1]==="-"?-1:1,p={y:tl(g[2],S),M:tl(g[3],S),w:tl(g[4],S),d:tl(g[5],S),h:tl(g[6],S),m:tl(g[7],S),s:tl(g[8],S)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(q=g1(Oi(p.from),Oi(p.to)),p={},p.ms=q.milliseconds,p.M=q.months),A=new Em(p),xm(d)&&s(d,"_locale")&&(A._locale=d._locale),xm(d)&&s(d,"_isValid")&&(A._isValid=d._isValid),A}ws.fn=Em.prototype,ws.invalid=t1;function tl(d,u){var p=d&&parseFloat(d.replace(",","."));return(isNaN(p)?0:p)*u}function SC(d,u){var p={};return p.months=u.month()-d.month()+(u.year()-d.year())*12,d.clone().add(p.months,"M").isAfter(u)&&--p.months,p.milliseconds=+u-+d.clone().add(p.months,"M"),p}function g1(d,u){var p;return d.isValid()&&u.isValid()?(u=mv(u,d),d.isBefore(u)?p=SC(d,u):(p=SC(u,d),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}function EC(d,u){return function(p,g){var S,A;return g!==null&&!isNaN(+g)&&(Be(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),A=p,p=g,g=A),S=ws(p,g),xC(this,S,d),this}}function xC(d,u,p,g){var S=u._milliseconds,A=hv(u._days),q=hv(u._months);d.isValid()&&(g=g??!0,q&&aC(d,le(d,"Month")+q*p),A&&We(d,"Date",le(d,"Date")+A*p),S&&d._d.setTime(d._d.valueOf()+S*p),g&&t.updateOffset(d,A||q))}var _1=EC(1,"add"),v1=EC(-1,"subtract");function kC(d){return typeof d=="string"||d instanceof String}function b1(d){return Y(d)||c(d)||kC(d)||l(d)||w1(d)||y1(d)||d===null||d===void 0}function y1(d){var u=r(d)&&!o(d),p=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],S,A,q=g.length;for(S=0;S<q;S+=1)A=g[S],p=p||s(d,A);return u&&p}function w1(d){var u=i(d),p=!1;return u&&(p=d.filter(function(g){return!l(g)&&kC(d)}).length===0),u&&p}function C1(d){var u=r(d)&&!o(d),p=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],S,A;for(S=0;S<g.length;S+=1)A=g[S],p=p||s(d,A);return u&&p}function S1(d,u){var p=d.diff(u,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}function E1(d,u){arguments.length===1&&(arguments[0]?b1(arguments[0])?(d=arguments[0],u=void 0):C1(arguments[0])&&(u=arguments[0],d=void 0):(d=void 0,u=void 0));var p=d||Oi(),g=mv(p,this).startOf("day"),S=t.calendarFormat(this,g)||"sameElse",A=u&&(Ge(u[S])?u[S].call(this,p):u[S]);return this.format(A||this.localeData().calendar(S,this,Oi(p)))}function x1(){return new j(this)}function k1(d,u){var p=Y(d)?d:Oi(d);return this.isValid()&&p.isValid()?(u=ei(u)||"millisecond",u==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(u).valueOf()):!1}function D1(d,u){var p=Y(d)?d:Oi(d);return this.isValid()&&p.isValid()?(u=ei(u)||"millisecond",u==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(u).valueOf()<p.valueOf()):!1}function T1(d,u,p,g){var S=Y(d)?d:Oi(d),A=Y(u)?u:Oi(u);return this.isValid()&&S.isValid()&&A.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(S,p):!this.isBefore(S,p))&&(g[1]===")"?this.isBefore(A,p):!this.isAfter(A,p))):!1}function I1(d,u){var p=Y(d)?d:Oi(d),g;return this.isValid()&&p.isValid()?(u=ei(u)||"millisecond",u==="millisecond"?this.valueOf()===p.valueOf():(g=p.valueOf(),this.clone().startOf(u).valueOf()<=g&&g<=this.clone().endOf(u).valueOf())):!1}function O1(d,u){return this.isSame(d,u)||this.isAfter(d,u)}function A1(d,u){return this.isSame(d,u)||this.isBefore(d,u)}function M1(d,u,p){var g,S,A;if(!this.isValid())return NaN;if(g=mv(d,this),!g.isValid())return NaN;switch(S=(g.utcOffset()-this.utcOffset())*6e4,u=ei(u),u){case"year":A=km(this,g)/12;break;case"month":A=km(this,g);break;case"quarter":A=km(this,g)/3;break;case"second":A=(this-g)/1e3;break;case"minute":A=(this-g)/6e4;break;case"hour":A=(this-g)/36e5;break;case"day":A=(this-g-S)/864e5;break;case"week":A=(this-g-S)/6048e5;break;default:A=this-g}return p?A:Sr(A)}function km(d,u){if(d.date()<u.date())return-km(u,d);var p=(u.year()-d.year())*12+(u.month()-d.month()),g=d.clone().add(p,"months"),S,A;return u-g<0?(S=d.clone().add(p-1,"months"),A=(u-g)/(g-S)):(S=d.clone().add(p+1,"months"),A=(u-g)/(S-g)),-(p+A)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function R1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function F1(d){if(!this.isValid())return null;var u=d!==!0,p=u?this.clone().utc():this;return p.year()<0||p.year()>9999?K(p,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ge(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",K(p,"Z")):K(p,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function P1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var d="moment",u="",p,g,S,A;return this.isLocal()||(d=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),p="["+d+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",S="-MM-DD[T]HH:mm:ss.SSS",A=u+'[")]',this.format(p+g+S+A)}function N1(d){d||(d=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var u=K(this,d);return this.localeData().postformat(u)}function L1(d,u){return this.isValid()&&(Y(d)&&d.isValid()||Oi(d).isValid())?ws({to:this,from:d}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function V1(d){return this.from(Oi(),d)}function B1(d,u){return this.isValid()&&(Y(d)&&d.isValid()||Oi(d).isValid())?ws({from:this,to:d}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function H1(d){return this.to(Oi(),d)}function DC(d){var u;return d===void 0?this._locale._abbr:(u=bo(d),u!=null&&(this._locale=u),this)}var TC=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(d){return d===void 0?this.localeData():this.locale(d)});function IC(){return this._locale}var Dm=1e3,td=60*Dm,Tm=60*td,OC=(365*400+97)*24*Tm;function id(d,u){return(d%u+u)%u}function AC(d,u,p){return d<100&&d>=0?new Date(d+400,u,p)-OC:new Date(d,u,p).valueOf()}function MC(d,u,p){return d<100&&d>=0?Date.UTC(d+400,u,p)-OC:Date.UTC(d,u,p)}function z1(d){var u,p;if(d=ei(d),d===void 0||d==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?MC:AC,d){case"year":u=p(this.year(),0,1);break;case"quarter":u=p(this.year(),this.month()-this.month()%3,1);break;case"month":u=p(this.year(),this.month(),1);break;case"week":u=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=p(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=id(u+(this._isUTC?0:this.utcOffset()*td),Tm);break;case"minute":u=this._d.valueOf(),u-=id(u,td);break;case"second":u=this._d.valueOf(),u-=id(u,Dm);break}return this._d.setTime(u),t.updateOffset(this,!0),this}function j1(d){var u,p;if(d=ei(d),d===void 0||d==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?MC:AC,d){case"year":u=p(this.year()+1,0,1)-1;break;case"quarter":u=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=p(this.year(),this.month()+1,1)-1;break;case"week":u=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=Tm-id(u+(this._isUTC?0:this.utcOffset()*td),Tm)-1;break;case"minute":u=this._d.valueOf(),u+=td-id(u,td)-1;break;case"second":u=this._d.valueOf(),u+=Dm-id(u,Dm)-1;break}return this._d.setTime(u),t.updateOffset(this,!0),this}function U1(){return this._d.valueOf()-(this._offset||0)*6e4}function W1(){return Math.floor(this.valueOf()/1e3)}function G1(){return new Date(this.valueOf())}function $1(){var d=this;return[d.year(),d.month(),d.date(),d.hour(),d.minute(),d.second(),d.millisecond()]}function Y1(){var d=this;return{years:d.year(),months:d.month(),date:d.date(),hours:d.hours(),minutes:d.minutes(),seconds:d.seconds(),milliseconds:d.milliseconds()}}function q1(){return this.isValid()?this.toISOString():null}function X1(){return E(this)}function K1(){return m({},C(this))}function Q1(){return C(this).overflow}function Z1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),Ve("N",fv),Ve("NN",fv),Ve("NNN",fv),Ve("NNNN",dF),Ve("NNNNN",cF),si(["N","NN","NNN","NNNN","NNNNN"],function(d,u,p,g){var S=p._locale.erasParse(d,g,p._strict);S?C(p).era=S:C(p).invalidEra=d}),Ve("y",Qn),Ve("yy",Qn),Ve("yyy",Qn),Ve("yyyy",Qn),Ve("yo",hF),si(["y","yy","yyy","yyyy"],Zi),si(["yo"],function(d,u,p,g){var S;p._locale._eraYearOrdinalRegex&&(S=d.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?u[Zi]=p._locale.eraYearOrdinalParse(d,S):u[Zi]=parseInt(d,10)});function J1(d,u){var p,g,S,A=this._eras||bo("en")._eras;for(p=0,g=A.length;p<g;++p){switch(typeof A[p].since){case"string":S=t(A[p].since).startOf("day"),A[p].since=S.valueOf();break}switch(typeof A[p].until){case"undefined":A[p].until=1/0;break;case"string":S=t(A[p].until).startOf("day").valueOf(),A[p].until=S.valueOf();break}}return A}function eF(d,u,p){var g,S,A=this.eras(),q,He,ht;for(d=d.toUpperCase(),g=0,S=A.length;g<S;++g)if(q=A[g].name.toUpperCase(),He=A[g].abbr.toUpperCase(),ht=A[g].narrow.toUpperCase(),p)switch(u){case"N":case"NN":case"NNN":if(He===d)return A[g];break;case"NNNN":if(q===d)return A[g];break;case"NNNNN":if(ht===d)return A[g];break}else if([q,He,ht].indexOf(d)>=0)return A[g]}function tF(d,u){var p=d.since<=d.until?1:-1;return u===void 0?t(d.since).year():t(d.since).year()+(u-d.offset)*p}function iF(){var d,u,p,g=this.localeData().eras();for(d=0,u=g.length;d<u;++d)if(p=this.clone().startOf("day").valueOf(),g[d].since<=p&&p<=g[d].until||g[d].until<=p&&p<=g[d].since)return g[d].name;return""}function nF(){var d,u,p,g=this.localeData().eras();for(d=0,u=g.length;d<u;++d)if(p=this.clone().startOf("day").valueOf(),g[d].since<=p&&p<=g[d].until||g[d].until<=p&&p<=g[d].since)return g[d].narrow;return""}function rF(){var d,u,p,g=this.localeData().eras();for(d=0,u=g.length;d<u;++d)if(p=this.clone().startOf("day").valueOf(),g[d].since<=p&&p<=g[d].until||g[d].until<=p&&p<=g[d].since)return g[d].abbr;return""}function sF(){var d,u,p,g,S=this.localeData().eras();for(d=0,u=S.length;d<u;++d)if(p=S[d].since<=S[d].until?1:-1,g=this.clone().startOf("day").valueOf(),S[d].since<=g&&g<=S[d].until||S[d].until<=g&&g<=S[d].since)return(this.year()-t(S[d].since).year())*p+S[d].offset;return this.year()}function oF(d){return s(this,"_erasNameRegex")||gv.call(this),d?this._erasNameRegex:this._erasRegex}function aF(d){return s(this,"_erasAbbrRegex")||gv.call(this),d?this._erasAbbrRegex:this._erasRegex}function lF(d){return s(this,"_erasNarrowRegex")||gv.call(this),d?this._erasNarrowRegex:this._erasRegex}function fv(d,u){return u.erasAbbrRegex(d)}function dF(d,u){return u.erasNameRegex(d)}function cF(d,u){return u.erasNarrowRegex(d)}function hF(d,u){return u._eraYearOrdinalRegex||Qn}function gv(){var d=[],u=[],p=[],g=[],S,A,q,He,ht,Gt=this.eras();for(S=0,A=Gt.length;S<A;++S)q=Zn(Gt[S].name),He=Zn(Gt[S].abbr),ht=Zn(Gt[S].narrow),u.push(q),d.push(He),p.push(ht),g.push(q),g.push(He),g.push(ht);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Im(d,u){z(0,[d,d.length],0,u)}Im("gggg","weekYear"),Im("ggggg","weekYear"),Im("GGGG","isoWeekYear"),Im("GGGGG","isoWeekYear"),Ve("G",bs),Ve("g",bs),Ve("GG",gi,vn),Ve("gg",gi,vn),Ve("GGGG",na,Bs),Ve("gggg",na,Bs),Ve("GGGGG",_o,Qa),Ve("ggggg",_o,Qa),sa(["gggg","ggggg","GGGG","GGGGG"],function(d,u,p,g){u[g.substr(0,2)]=Pt(d)}),sa(["gg","GG"],function(d,u,p,g){u[g]=t.parseTwoDigitYear(d)});function uF(d){return RC.call(this,d,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function mF(d){return RC.call(this,d,this.isoWeek(),this.isoWeekday(),1,4)}function pF(){return vo(this.year(),1,4)}function fF(){return vo(this.isoWeekYear(),1,4)}function gF(){var d=this.localeData()._week;return vo(this.year(),d.dow,d.doy)}function _F(){var d=this.localeData()._week;return vo(this.weekYear(),d.dow,d.doy)}function RC(d,u,p,g,S){var A;return d==null?Wc(this,g,S).year:(A=vo(d,g,S),u>A&&(u=A),vF.call(this,d,u,p,g,S))}function vF(d,u,p,g,S){var A=cC(d,u,p,g,S),q=Uc(A.year,0,A.dayOfYear);return this.year(q.getUTCFullYear()),this.month(q.getUTCMonth()),this.date(q.getUTCDate()),this}z("Q",0,"Qo","quarter"),Ve("Q",Zl),si("Q",function(d,u){u[ns]=(Pt(d)-1)*3});function bF(d){return d==null?Math.ceil((this.month()+1)/3):this.month((d-1)*3+this.month()%3)}z("D",["DD",2],"Do","date"),Ve("D",gi,ys),Ve("DD",gi,vn),Ve("Do",function(d,u){return d?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),si(["D","DD"],Vr),si("Do",function(d,u){u[Vr]=Pt(d.match(gi)[0])});var FC=F("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),Ve("DDD",Za),Ve("DDDD",go),si(["DDD","DDDD"],function(d,u,p){p._dayOfYear=Pt(d)});function yF(d){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return d==null?u:this.add(d-u,"d")}z("m",["mm",2],0,"minute"),Ve("m",gi,zc),Ve("mm",gi,vn),si(["m","mm"],Er);var wF=F("Minutes",!1);z("s",["ss",2],0,"second"),Ve("s",gi,zc),Ve("ss",gi,vn),si(["s","ss"],bn);var CF=F("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return this.millisecond()*10}),z(0,["SSSSS",5],0,function(){return this.millisecond()*100}),z(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),z(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),z(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),z(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ve("S",Za,Zl),Ve("SS",Za,vn),Ve("SSS",Za,go);var la,PC;for(la="SSSS";la.length<=9;la+="S")Ve(la,Qn);function SF(d,u){u[js]=Pt(("0."+d)*1e3)}for(la="S";la.length<=9;la+="S")si(la,SF);PC=F("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");function EF(){return this._isUTC?"UTC":""}function xF(){return this._isUTC?"Coordinated Universal Time":""}var ce=j.prototype;ce.add=_1,ce.calendar=E1,ce.clone=x1,ce.diff=M1,ce.endOf=j1,ce.format=N1,ce.from=L1,ce.fromNow=V1,ce.to=B1,ce.toNow=H1,ce.get=xi,ce.invalidAt=Q1,ce.isAfter=k1,ce.isBefore=D1,ce.isBetween=T1,ce.isSame=I1,ce.isSameOrAfter=O1,ce.isSameOrBefore=A1,ce.isValid=X1,ce.lang=TC,ce.locale=DC,ce.localeData=IC,ce.max=XR,ce.min=qR,ce.parsingFlags=K1,ce.set=xn,ce.startOf=z1,ce.subtract=v1,ce.toArray=$1,ce.toObject=Y1,ce.toDate=G1,ce.toISOString=F1,ce.inspect=P1,typeof Symbol<"u"&&Symbol.for!=null&&(ce[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ce.toJSON=q1,ce.toString=R1,ce.unix=W1,ce.valueOf=U1,ce.creationData=Z1,ce.eraName=iF,ce.eraNarrow=nF,ce.eraAbbr=rF,ce.eraYear=sF,ce.year=bm,ce.isLeapYear=Ke,ce.weekYear=uF,ce.isoWeekYear=mF,ce.quarter=ce.quarters=bF,ce.month=lC,ce.daysInMonth=GM,ce.week=ce.weeks=JM,ce.isoWeek=ce.isoWeeks=eR,ce.weeksInYear=gF,ce.weeksInWeekYear=_F,ce.isoWeeksInYear=pF,ce.isoWeeksInISOWeekYear=fF,ce.date=FC,ce.day=ce.days=mR,ce.weekday=pR,ce.isoWeekday=fR,ce.dayOfYear=yF,ce.hour=ce.hours=CR,ce.minute=ce.minutes=wF,ce.second=ce.seconds=CF,ce.millisecond=ce.milliseconds=PC,ce.utcOffset=r1,ce.utc=o1,ce.local=a1,ce.parseZone=l1,ce.hasAlignedHourOffset=d1,ce.isDST=c1,ce.isLocal=u1,ce.isUtcOffset=m1,ce.isUtc=CC,ce.isUTC=CC,ce.zoneAbbr=EF,ce.zoneName=xF,ce.dates=Q("dates accessor is deprecated. Use date instead.",FC),ce.months=Q("months accessor is deprecated. Use month instead",lC),ce.years=Q("years accessor is deprecated. Use year instead",bm),ce.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",s1),ce.isDSTShifted=Q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",h1);function kF(d){return Oi(d*1e3)}function DF(){return Oi.apply(null,arguments).parseZone()}function NC(d){return d}var ti=Et.prototype;ti.calendar=kt,ti.longDateFormat=nt,ti.invalidDate=fe,ti.ordinal=Vt,ti.preparse=NC,ti.postformat=NC,ti.relativeTime=_n,ti.pastFuture=or,ti.set=ct,ti.eras=J1,ti.erasParse=eF,ti.erasConvertYear=tF,ti.erasAbbrRegex=aF,ti.erasNameRegex=oF,ti.erasNarrowRegex=lF,ti.months=zM,ti.monthsShort=jM,ti.monthsParse=WM,ti.monthsRegex=YM,ti.monthsShortRegex=$M,ti.week=XM,ti.firstDayOfYear=ZM,ti.firstDayOfWeek=QM,ti.weekdays=lR,ti.weekdaysMin=cR,ti.weekdaysShort=dR,ti.weekdaysParse=uR,ti.weekdaysRegex=gR,ti.weekdaysShortRegex=_R,ti.weekdaysMinRegex=vR,ti.isPM=yR,ti.meridiem=SR;function Om(d,u,p,g){var S=bo(),A=f().set(g,u);return S[p](A,d)}function LC(d,u,p){if(l(d)&&(u=d,d=void 0),d=d||"",u!=null)return Om(d,u,p,"month");var g,S=[];for(g=0;g<12;g++)S[g]=Om(d,g,p,"month");return S}function _v(d,u,p,g){typeof d=="boolean"?(l(u)&&(p=u,u=void 0),u=u||""):(u=d,p=u,d=!1,l(u)&&(p=u,u=void 0),u=u||"");var S=bo(),A=d?S._week.dow:0,q,He=[];if(p!=null)return Om(u,(p+A)%7,g,"day");for(q=0;q<7;q++)He[q]=Om(u,(q+A)%7,g,"day");return He}function TF(d,u){return LC(d,u,"months")}function IF(d,u){return LC(d,u,"monthsShort")}function OF(d,u,p){return _v(d,u,p,"weekdays")}function AF(d,u,p){return _v(d,u,p,"weekdaysShort")}function MF(d,u,p){return _v(d,u,p,"weekdaysMin")}aa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(d){var u=d%10,p=Pt(d%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return d+p}}),t.lang=Q("moment.lang is deprecated. Use moment.locale instead.",aa),t.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",bo);var yo=Math.abs;function RF(){var d=this._data;return this._milliseconds=yo(this._milliseconds),this._days=yo(this._days),this._months=yo(this._months),d.milliseconds=yo(d.milliseconds),d.seconds=yo(d.seconds),d.minutes=yo(d.minutes),d.hours=yo(d.hours),d.months=yo(d.months),d.years=yo(d.years),this}function VC(d,u,p,g){var S=ws(u,p);return d._milliseconds+=g*S._milliseconds,d._days+=g*S._days,d._months+=g*S._months,d._bubble()}function FF(d,u){return VC(this,d,u,1)}function PF(d,u){return VC(this,d,u,-1)}function BC(d){return d<0?Math.floor(d):Math.ceil(d)}function NF(){var d=this._milliseconds,u=this._days,p=this._months,g=this._data,S,A,q,He,ht;return d>=0&&u>=0&&p>=0||d<=0&&u<=0&&p<=0||(d+=BC(vv(p)+u)*864e5,u=0,p=0),g.milliseconds=d%1e3,S=Sr(d/1e3),g.seconds=S%60,A=Sr(S/60),g.minutes=A%60,q=Sr(A/60),g.hours=q%24,u+=Sr(q/24),ht=Sr(HC(u)),p+=ht,u-=BC(vv(ht)),He=Sr(p/12),p%=12,g.days=u,g.months=p,g.years=He,this}function HC(d){return d*4800/146097}function vv(d){return d*146097/4800}function LF(d){if(!this.isValid())return NaN;var u,p,g=this._milliseconds;if(d=ei(d),d==="month"||d==="quarter"||d==="year")switch(u=this._days+g/864e5,p=this._months+HC(u),d){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(u=this._days+Math.round(vv(this._months)),d){case"week":return u/7+g/6048e5;case"day":return u+g/864e5;case"hour":return u*24+g/36e5;case"minute":return u*1440+g/6e4;case"second":return u*86400+g/1e3;case"millisecond":return Math.floor(u*864e5)+g;default:throw new Error("Unknown unit "+d)}}function wo(d){return function(){return this.as(d)}}var zC=wo("ms"),VF=wo("s"),BF=wo("m"),HF=wo("h"),zF=wo("d"),jF=wo("w"),UF=wo("M"),WF=wo("Q"),GF=wo("y"),$F=zC;function YF(){return ws(this)}function qF(d){return d=ei(d),this.isValid()?this[d+"s"]():NaN}function il(d){return function(){return this.isValid()?this._data[d]:NaN}}var XF=il("milliseconds"),KF=il("seconds"),QF=il("minutes"),ZF=il("hours"),JF=il("days"),eP=il("months"),tP=il("years");function iP(){return Sr(this.days()/7)}var Co=Math.round,nd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nP(d,u,p,g,S){return S.relativeTime(u||1,!!p,d,g)}function rP(d,u,p,g){var S=ws(d).abs(),A=Co(S.as("s")),q=Co(S.as("m")),He=Co(S.as("h")),ht=Co(S.as("d")),Gt=Co(S.as("M")),lr=Co(S.as("w")),So=Co(S.as("y")),da=A<=p.ss&&["s",A]||A<p.s&&["ss",A]||q<=1&&["m"]||q<p.m&&["mm",q]||He<=1&&["h"]||He<p.h&&["hh",He]||ht<=1&&["d"]||ht<p.d&&["dd",ht];return p.w!=null&&(da=da||lr<=1&&["w"]||lr<p.w&&["ww",lr]),da=da||Gt<=1&&["M"]||Gt<p.M&&["MM",Gt]||So<=1&&["y"]||["yy",So],da[2]=u,da[3]=+d>0,da[4]=g,nP.apply(null,da)}function sP(d){return d===void 0?Co:typeof d=="function"?(Co=d,!0):!1}function oP(d,u){return nd[d]===void 0?!1:u===void 0?nd[d]:(nd[d]=u,d==="s"&&(nd.ss=u-1),!0)}function aP(d,u){if(!this.isValid())return this.localeData().invalidDate();var p=!1,g=nd,S,A;return typeof d=="object"&&(u=d,d=!1),typeof d=="boolean"&&(p=d),typeof u=="object"&&(g=Object.assign({},nd,u),u.s!=null&&u.ss==null&&(g.ss=u.s-1)),S=this.localeData(),A=rP(this,!p,g,S),p&&(A=S.pastFuture(+this,A)),S.postformat(A)}var bv=Math.abs;function rd(d){return(d>0)-(d<0)||+d}function Am(){if(!this.isValid())return this.localeData().invalidDate();var d=bv(this._milliseconds)/1e3,u=bv(this._days),p=bv(this._months),g,S,A,q,He=this.asSeconds(),ht,Gt,lr,So;return He?(g=Sr(d/60),S=Sr(g/60),d%=60,g%=60,A=Sr(p/12),p%=12,q=d?d.toFixed(3).replace(/\.?0+$/,""):"",ht=He<0?"-":"",Gt=rd(this._months)!==rd(He)?"-":"",lr=rd(this._days)!==rd(He)?"-":"",So=rd(this._milliseconds)!==rd(He)?"-":"",ht+"P"+(A?Gt+A+"Y":"")+(p?Gt+p+"M":"")+(u?lr+u+"D":"")+(S||g||d?"T":"")+(S?So+S+"H":"")+(g?So+g+"M":"")+(d?So+q+"S":"")):"P0D"}var Xt=Em.prototype;Xt.isValid=e1,Xt.abs=RF,Xt.add=FF,Xt.subtract=PF,Xt.as=LF,Xt.asMilliseconds=zC,Xt.asSeconds=VF,Xt.asMinutes=BF,Xt.asHours=HF,Xt.asDays=zF,Xt.asWeeks=jF,Xt.asMonths=UF,Xt.asQuarters=WF,Xt.asYears=GF,Xt.valueOf=$F,Xt._bubble=NF,Xt.clone=YF,Xt.get=qF,Xt.milliseconds=XF,Xt.seconds=KF,Xt.minutes=QF,Xt.hours=ZF,Xt.days=JF,Xt.weeks=iP,Xt.months=eP,Xt.years=tP,Xt.humanize=aP,Xt.toISOString=Am,Xt.toString=Am,Xt.toJSON=Am,Xt.locale=DC,Xt.localeData=IC,Xt.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Am),Xt.lang=TC,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ve("x",bs),Ve("X",ev),si("X",function(d,u,p){p._d=new Date(parseFloat(d)*1e3)}),si("x",function(d,u,p){p._d=new Date(Pt(d))});return t.version="2.30.1",e(Oi),t.fn=ce,t.min=KR,t.max=QR,t.now=ZR,t.utc=f,t.unix=kF,t.months=TF,t.isDate=c,t.locale=aa,t.invalid=I,t.duration=ws,t.isMoment=Y,t.weekdays=OF,t.parseZone=DF,t.localeData=bo,t.isDuration=xm,t.monthsShort=IF,t.weekdaysMin=MF,t.defineLocale=ov,t.updateLocale=DR,t.locales=TR,t.weekdaysShort=AF,t.normalizeUnits=ei,t.relativeTimeRounding=sP,t.relativeTimeThreshold=oP,t.calendarFormat=S1,t.prototype=ce,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var SA=wv((zw,CA)=>{"use strict";(function(n,t){typeof zw=="object"&&typeof CA<"u"&&typeof Mm=="function"?t(Hw()):typeof define=="function"&&define.amd?define(["../moment"],t):t(n.moment)})(zw,function(n){"use strict";var t={1:"\u06F1",2:"\u06F2",3:"\u06F3",4:"\u06F4",5:"\u06F5",6:"\u06F6",7:"\u06F7",8:"\u06F8",9:"\u06F9",0:"\u06F0"},e={"\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u06F0":"0"},i=n.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06CC\u0647_\u0641\u0648\u0631\u06CC\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06CC\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06CC\u0647_\u0627\u0648\u062A_\u0633\u067E\u062A\u0627\u0645\u0628\u0631_\u0627\u06A9\u062A\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062F\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06CC\u0647_\u0641\u0648\u0631\u06CC\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06CC\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06CC\u0647_\u0627\u0648\u062A_\u0633\u067E\u062A\u0627\u0645\u0628\u0631_\u0627\u06A9\u062A\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062F\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647_\u062F\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200C\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647_\u062C\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647_\u062F\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200C\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647_\u062C\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06CC_\u062F_\u0633_\u0686_\u067E_\u062C_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(r){return/  /.test(r)},meridiem:function(r,s,o){return r<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062F \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",nextDay:"[\u0641\u0631\u062F\u0627 \u0633\u0627\u0639\u062A] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062A] LT",lastDay:"[\u062F\u06CC\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",lastWeek:"dddd [\u067E\u06CC\u0634] [\u0633\u0627\u0639\u062A] LT",sameElse:"L"},relativeTime:{future:"\u062F\u0631 %s",past:"%s \u067E\u06CC\u0634",s:"\u0686\u0646\u062F \u062B\u0627\u0646\u06CC\u0647",ss:"%d \u062B\u0627\u0646\u06CC\u0647",m:"\u06CC\u06A9 \u062F\u0642\u06CC\u0642\u0647",mm:"%d \u062F\u0642\u06CC\u0642\u0647",h:"\u06CC\u06A9 \u0633\u0627\u0639\u062A",hh:"%d \u0633\u0627\u0639\u062A",d:"\u06CC\u06A9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06CC\u06A9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06CC\u06A9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(r){return r.replace(/[-]/g,function(s){return e[s]}).replace(//g,",")},postformat:function(r){return r.replace(/\d/g,function(s){return t[s]}).replace(/,/g,"\u060C")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d\u0645",week:{dow:6,doy:12}});return i})});var hm=wv((pbe,zA)=>{"use strict";zA.exports=Ie;var dt=Hw();SA();var Uw=/(\[[^\[]*\])|(\\)?j(Mo|MM?M?M?|Do|DDDo|DD?D?D?|w[o|w]?|YYYYY|YYYY|YY|gg(ggg?)?|)|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,EA=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,xA=/\d\d?/,kA=/\d{1,3}/,DA=/\d{3}/,TA=/\d{1,4}/,IA=/[+\-]?\d{1,6}/,OA=/[0-9]*["a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,R3=/Z|[\+\-]\d\d:?\d\d/i,F3=/T/i,P3=/[\+\-]?\d+(\.\d{1,3})?/,N3={jm:"jmonth",jmonths:"jmonth",jy:"jyear",jyears:"jyear"},jw={},AA="DDD w M D".split(" "),MA="M D w".split(" "),lm={Jalali:1,Gregorian:2},fo={jM:function(){return this.jMonth()+1},jMMM:function(n){return this.localeData().jMonthsShort(this,n)},jMMMM:function(n){return this.localeData().jMonths(this,n)},jD:function(){return this.jDate()},jDDD:function(){return this.jDayOfYear()},jw:function(){return this.jWeek()},jYY:function(){return ia(this.jYear()%100,2)},jYYYY:function(){return ia(this.jYear(),4)},jYYYYY:function(){return ia(this.jYear(),5)},jgg:function(){return ia(this.jWeekYear()%100,2)},jgggg:function(){return this.jWeekYear()},jggggg:function(){return ia(this.jWeekYear(),5)}};function RA(n,t){return function(e){return ia(n.call(this,e),t)}}function L3(n,t){return function(e){return this.localeData().ordinal(n.call(this,e),t)}}(function(){for(var n;AA.length;)n=AA.pop(),fo["j"+n+"o"]=L3(fo["j"+n],n);for(;MA.length;)n=MA.pop(),fo["j"+n+n]=RA(fo["j"+n],2);fo.jDDDD=RA(fo.jDDD,3)})();function Ww(n,t){var e;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ia(n,t){for(var e=n+"";e.length<t;)e="0"+e;return e}function V3(n){return Object.prototype.toString.call(n)==="[object Array]"}function FA(n){for(var t=0;t<n.length;t++)(!t||n[t-1]!=="j"&&n[t-1]!==n[t])&&(n[t]==="Y"||n[t]==="M"||n[t]==="D"||n[t]==="g")&&(n=n.slice(0,t)+"j"+n.slice(t));return n}function B3(n){switch(n){case"week":return"jWeek";case"year":return"jYear";case"month":return"jMonth";case"months":return"jMonths";case"monthName":return"jMonthsShort";case"monthsShort":return"jMonthsShort"}return n}function Xl(n,t){if(Vs(t)&&(n=B3(n)),n){var e=n.toLowerCase();e.startsWith("j")&&(n=N3[e]||e),n==="jday"?n="day":n==="jd"&&(n="d")}return n}function Gw(n,t,e,i){var r=n._d;n._isUTC?n._d=new Date(Date.UTC(t,e,i,r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())):n._d=new Date(t,e,i,r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}function PA(n){function t(){}return t.prototype=n,new t}function H3(n){return Object.getPrototypeOf?Object.getPrototypeOf(n):"".__proto__?n.__proto__:n.constructor.prototype}Ww(H3(dt.localeData()),{_jMonths:["Farvardin","Ordibehesht","Khordaad","Tir","Mordaad","Shahrivar","Mehr","Aabaan","Aazar","Dey","Bahman","Esfand"],jMonths:function(n){return n?this._jMonths[n.jMonth()]:this._jMonths},_jMonthsShort:["Far","Ord","Kho","Tir","Amo","Sha","Meh","Aab","Aaz","Dey","Bah","Esf"],jMonthsShort:function(n){return n?this._jMonthsShort[n.jMonth()]:this._jMonthsShort},jMonthsParse:function(n){var t,e,i;for(this._jMonthsParse||(this._jMonthsParse=[]),t=0;t<12;t+=1)if(this._jMonthsParse[t]||(e=Ie([2e3,(2+t)%12,25]),i="^"+this.jMonths(e,"")+"|^"+this.jMonthsShort(e,""),this._jMonthsParse[t]=new RegExp(i.replace(".",""),"i")),this._jMonthsParse[t].test(n))return t}});function z3(n){var t=n.match(Uw),e=t.length,i;for(i=0;i<e;i+=1)fo[t[i]]&&(t[i]=fo[t[i]]);return function(r){var s="";for(i=0;i<e;i+=1)s+=t[i]instanceof Function?"["+t[i].call(r,n)+"]":t[i];return s}}function NA(n,t){switch(n){case"jDDDD":return DA;case"jYYYY":return TA;case"jYYYYY":return IA;case"jDDD":return kA;case"jMMM":case"jMMMM":return OA;case"jMM":case"jDD":case"jYY":case"jM":case"jD":return xA;case"DDDD":return DA;case"YYYY":return TA;case"YYYYY":return IA;case"S":case"SS":case"SSS":case"DDD":return kA;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return OA;case"a":case"A":return dt.localeData(t._l)._meridiemParse;case"X":return P3;case"Z":case"ZZ":return R3;case"T":return F3;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return xA;default:return new RegExp(n.replace("\\",""))}}function Kn(n){return n==null}function j3(n,t,e){var i,r=e._a;switch(n){case"jM":case"jMM":r[1]=Kn(t)?0:~~t-1;break;case"jMMM":case"jMMMM":i=dt.localeData(e._l).jMonthsParse(t),Kn(i)?e._isValid=!1:r[1]=i;break;case"jD":case"jDD":case"jDDD":case"jDDDD":Kn(t)||(r[2]=~~t);break;case"jYY":r[0]=~~t+(~~t>47?1300:1400);break;case"jYYYY":case"jYYYYY":r[0]=~~t}Kn(t)&&(e._isValid=!1)}function U3(n){var t,e,i=n._a[0],r=n._a[1],s=n._a[2];if(!(Kn(i)&&Kn(r)&&Kn(s)))return i=Kn(i)?0:i,r=Kn(r)?0:r,s=Kn(s)?1:s,(s<1||s>Ie.jDaysInMonth(i,r)||r<0||r>11)&&(n._isValid=!1),t=cm(i,r,s),e=q_(t.gy,t.gm,t.gd),n._jDiff=0,~~e.jy!==i&&(n._jDiff+=1),~~e.jm!==r&&(n._jDiff+=1),~~e.jd!==s&&(n._jDiff+=1),[t.gy,t.gm,t.gd]}function W3(n){var t=n._f.match(Uw),e=n._i+"",i=t.length,r,s,o;for(n._a=[],r=0;r<i;r+=1)s=t[r],o=(NA(s,n).exec(e)||[])[0],o&&(e=e.slice(e.indexOf(o)+o.length)),fo[s]&&j3(s,o,n);return e&&(n._il=e),U3(n)}function G3(n,t){var e=n._f.length,i,r,s,o,a,l;if(e===0)return dm(new Date(NaN));for(i=0;i<e;i+=1)r=n._f[i],a=0,s=dm(n._i,r,n._l,n._strict,t),s.isValid()&&(a+=s._jDiff,s._il&&(a+=s._il.length),(Kn(l)||a<l)&&(l=a,o=s));return o}function $3(n){var t=n._i+"",e="",i="",r=n._f.match(Uw),s=r.length,o,a,l;for(o=0;o<s;o+=1)a=r[o],l=(NA(a,n).exec(t)||[])[0],l&&(t=t.slice(t.indexOf(l)+l.length)),fo[a]instanceof Function||(i+=a,l&&(e+=l));n._i=e,n._f=i}function LA(n,t,e){var i=e-t,r=e-n.day(),s;return r>i&&(r-=7),r<i-7&&(r+=7),s=Ie(n).add(r,"d"),{week:Math.ceil(s.jDayOfYear()/7),year:s.jYear()}}function Vs(n){return n&&n.calSystem===lm.Jalali||dt.justUseJalali&&n.calSystem!==lm.Gregorian}function Y3(n,t,e){return dt.justUseJalali||t&&t.calSystem===lm.Jalali}function dm(n,t,e,i,r){typeof e=="boolean"&&(r=r||i,i=e,e=void 0),dt.ISO_8601===t&&(t="YYYY-MM-DDTHH:mm:ss.SSSZ");let s=Y3(t,this,n);n&&typeof n=="string"&&!t&&s&&!dt.useGregorianParser&&(n=n.replace(/\//g,"-"),/\d{4}\-\d{2}\-\d{2}/.test(n)?t="jYYYY-jMM-jDD":/\d{4}\-\d{2}\-\d{1}/.test(n)?t="jYYYY-jMM-jD":/\d{4}\-\d{1}\-\d{1}/.test(n)?t="jYYYY-jM-jD":/\d{4}\-\d{1}\-\d{2}/.test(n)?t="jYYYY-jM-jDD":/\d{4}\-W\d{2}\-\d{2}/.test(n)?t="jYYYY-jW-jDD":/\d{4}\-\d{3}/.test(n)?t="jYYYY-jDDD":/\d{8}/.test(n)?t="jYYYYjMMjDD":/\d{4}W\d{2}\d{1}/.test(n)?t="jYYYYjWWjD":/\d{4}W\d{2}/.test(n)?t="jYYYYjWW":/\d{4}\d{3}/.test(n)&&(t="jYYYYjDDD")),t&&s&&(t=FA(t)),t&&typeof t=="string"&&(t=VA(t,dt));var o={_i:n,_f:t,_l:e,_strict:i,_isUTC:r},a,l,c,h=n,m=t;if(t){if(V3(t))return G3(o,r);a=W3(o),$3(o),a&&(t="YYYY-MM-DD-"+o._f,n=ia(a[0],4)+"-"+ia(a[1]+1,2)+"-"+ia(a[2],2)+"-"+o._i)}return r?l=dt.utc(n,t,e,i):l=dt(n,t,e,i),(o._isValid===!1||n&&n._isAMomentObject&&!n._isValid)&&(l._isValid=!1),l._jDiff=o._jDiff||0,c=PA(Ie.fn),Ww(c,l),i&&c.isValid()&&(c._isValid=c.format(m)===h),n&&n.calSystem&&(c.calSystem=n.calSystem),c}function Ie(n,t,e,i){return dm(n,t,e,i,!1)}Ww(Ie,dt);Ie.fn=PA(dt.fn);Ie.utc=function(n,t,e,i){return dm(n,t,e,i,!0)};Ie.unix=function(n){return dm(n*1e3)};function VA(n,t){for(var e=5,i=function(r){return t.localeData().longDateFormat(r)||r};e>0&&EA.test(n);)e-=1,n=n.replace(EA,i);return n}Ie.fn.format=function(n){n=n||Ie.defaultFormat,n&&(Vs(this)&&(n=FA(n)),n=VA(n,this),jw[n]||(jw[n]=z3(n)),n=jw[n](this));var t=dt.fn.format.call(this,n);return t};Ie.fn.year=function(n){return Vs(this)?Ie.fn.jYear.call(this,n):dt.fn.year.call(this,n)};Ie.fn.jYear=function(n){var t,e,i;return typeof n=="number"?(e=Ac(this),t=Math.min(e.jd,Ie.jDaysInMonth(n,e.jm)),i=cm(n,e.jm,t),Gw(this,i.gy,i.gm,i.gd),dt.updateOffset(this),this):Ac(this).jy};Ie.fn.month=function(n){return Vs(this)?Ie.fn.jMonth.call(this,n):dt.fn.month.call(this,n)};Ie.fn.jMonth=function(n){var t,e,i;return Kn(n)?Ac(this).jm:typeof n=="string"&&(n=this.localeData().jMonthsParse(n),typeof n!="number")?this:(e=Ac(this),t=Math.min(e.jd,Ie.jDaysInMonth(e.jy,n)),this.jYear(e.jy+Ii(n,12)),n=es(n,12),n<0&&(n+=12,this.jYear(this.jYear()-1)),i=cm(this.jYear(),n,t),Gw(this,i.gy,i.gm,i.gd),dt.updateOffset(this),this)};Ie.fn.date=function(n){return Vs(this)?Ie.fn.jDate.call(this,n):dt.fn.date.call(this,n)};function Ac(n){var t=n._d;return n._isUTC?q_(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()):q_(t.getFullYear(),t.getMonth(),t.getDate())}Ie.fn.jDate=function(n){var t,e;return typeof n=="number"?(t=Ac(this),e=cm(t.jy,t.jm,n),Gw(this,e.gy,e.gm,e.gd),dt.updateOffset(this),this):Ac(this).jd};Ie.fn.jDay=function(n){return typeof n=="number"?dt.fn.day.call(this,n-1):(dt.fn.day.call(this)+1)%7};Ie.fn.diff=function(n,t,e){if(!Vs(this))return dt.fn.diff.call(this,n,t,e);var i;switch(t){case"year":i=r(this,n)/12;break;case"month":i=r(this,n);break;case"quarter":i=r(this,n)/3;break;default:i=dt.fn.diff.call(this,n,t,e)}return e?i:i<0?Math.ceil(i)||0:Math.floor(i);function r(s,o){if(s.date()<o.date())return-r(o,s);var a=(o.jYear()-s.jYear())*12+(o.jMonth()-s.jMonth()),l=s.clone().add(a,"months"),c,h;return o-l<0?(c=s.clone().add(a-1,"months"),h=(o-l)/(l-c)):(c=s.clone().add(a+1,"months"),h=(o-l)/(c-l)),-(a+h)||0}};Ie.fn.dayOfYear=function(n){return Vs(this)?Ie.fn.jDayOfYear.call(this,n):dt.fn.dayOfYear.call(this,n)};Ie.fn.jDayOfYear=function(n){var t=Math.round((Ie(this).startOf("day")-Ie(this).startOf("jYear"))/864e5)+1;return Kn(n)?t:this.add(n-t,"d")};Ie.fn.week=function(n){return Vs(this)?Ie.fn.jWeek.call(this,n):dt.fn.week.call(this,n)};Ie.fn.jWeek=function(n){var t=LA(this,6,12).week;return Kn(n)?t:this.add((n-t)*7,"d")};Ie.fn.weekYear=function(n){return Vs(this)?Ie.fn.jWeekYear.call(this,n):dt.fn.weekYear.call(this,n)};Ie.fn.jWeekYear=function(n){var t=LA(this,6,12).year;return Kn(n)?t:this.add(n-t,"jyear")};Ie.fn.add=function(n,t){var e;return!Kn(t)&&!isNaN(+t)&&(e=n,n=t,t=e),t=Xl(t,this),(t==="jweek"||t==="isoweek")&&(t="week"),t==="jyear"?this.jYear(this.jYear()+n):t==="jmonth"?this.jMonth(this.jMonth()+n):dt.fn.add.call(this,n,t),this};Ie.fn.subtract=function(n,t){var e;return!Kn(t)&&!isNaN(+t)&&(e=n,n=t,t=e),t=Xl(t,this),t==="jyear"?this.jYear(this.jYear()-n):t==="jmonth"?this.jMonth(this.jMonth()-n):dt.fn.subtract.call(this,n,t),this};Ie.fn.startOf=function(n){var t=Xl(n,this);return t==="jweek"?this.startOf("day").subtract(this.jDay(),"day"):(t==="jyear"&&(this.jMonth(0),t="jmonth"),t==="jmonth"&&(this.jDate(1),t="day"),t==="day"?(this.hours(0),this.minutes(0),this.seconds(0),this.milliseconds(0),this):dt.fn.startOf.call(this,n))};Ie.fn.endOf=function(n){return n=Xl(n,this),n===void 0||n==="milisecond"?this:this.startOf(n).add(1,n).subtract(1,"ms")};Ie.fn.isSame=function(n,t){return t=Xl(t,this),t==="jyear"||t==="jmonth"?dt.fn.isSame.call(this.clone().startOf(t),n.clone().startOf(t)):dt.fn.isSame.call(this,n,t)};Ie.fn.isBefore=function(n,t){return t=Xl(t,this),t==="jyear"||t==="jmonth"?dt.fn.isBefore.call(this.clone().startOf(t),n.clone().startOf(t)):dt.fn.isBefore.call(this,n,t)};Ie.fn.isAfter=function(n,t){return t=Xl(t,this),t==="jyear"||t==="jmonth"?dt.fn.isAfter.call(this.clone().startOf(t),n.clone().startOf(t)):dt.fn.isAfter.call(this,n,t)};Ie.fn.clone=function(){return Ie(this)};Ie.fn.doAsJalali=function(){return this.calSystem=lm.Jalali,this};Ie.fn.doAsGregorian=function(){return this.calSystem=lm.Gregorian,this};Ie.fn.jYears=Ie.fn.jYear;Ie.fn.jMonths=Ie.fn.jMonth;Ie.fn.jDates=Ie.fn.jDate;Ie.fn.jWeeks=Ie.fn.jWeek;Ie.fn.daysInMonth=function(){return Vs(this)?this.jDaysInMonth():dt.fn.daysInMonth.call(this)};Ie.fn.jDaysInMonth=function(){var n=this.jMonth(),t=this.jYear();return n<6?31:n<11||Ie.jIsLeapYear(t)?30:29};Ie.fn.isLeapYear=function(){return Vs(this)?this.jIsLeapYear():dt.fn.isLeapYear.call(this)};Ie.fn.jIsLeapYear=function(){var n=this.jYear();return BA(n)};Ie.fn.locale=function(n){return n&&dt.changeCalendarSystemByItsLocale&&(n==="fa"?this.doAsJalali():this.doAsGregorian()),dt.fn.locale.call(this,n)};Ie.locale=function(n,t){return n&&dt.changeCalendarSystemByItsLocale&&(n==="fa"?this.useJalaliSystemPrimarily(t):this.useJalaliSystemSecondary()),dt.locale.call(this,n)};Ie.from=function(n,t,e){var i=Ie.locale();Ie.locale(t);var r=Ie(n,e);return r.locale(i),Ie.locale(i),r};Ie.bindCalendarSystemAndLocale=function(){dt.changeCalendarSystemByItsLocale=!0};Ie.unBindCalendarSystemAndLocale=function(){dt.changeCalendarSystemByItsLocale=!1};Ie.useJalaliSystemPrimarily=function(n){dt.justUseJalali=!0;var t=!1;n&&(t=n.useGregorianParser),dt.useGregorianParser=t};Ie.useJalaliSystemSecondary=function(){dt.justUseJalali=!1};Ie.jDaysInMonth=function(n,t){return n+=Ii(t,12),t=es(t,12),t<0&&(t+=12,n-=1),t<6?31:t<11||Ie.jIsLeapYear(n)?30:29};Ie.jIsLeapYear=BA;dt.updateLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06CC\u0647_\u0641\u0648\u0631\u06CC\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06CC\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06CC\u0647_\u0627\u0648\u062A_\u0633\u067E\u062A\u0627\u0645\u0628\u0631_\u0627\u06A9\u062A\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062F\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06CC\u0647_\u0641\u0648\u0631\u06CC\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06CC\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06CC\u0647_\u0627\u0648\u062A_\u0633\u067E\u062A\u0627\u0645\u0628\u0631_\u0627\u06A9\u062A\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062F\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647_\u062F\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200C\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647_\u062C\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647_\u062F\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200C\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647_\u062C\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06CC_\u062F_\u0633_\u0686_\u067E_\u062C_\u0634".split("_"),longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd\u060C jD jMMMM jYYYY LT"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",nextDay:"[\u0641\u0631\u062F\u0627 \u0633\u0627\u0639\u062A] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062A] LT",lastDay:"[\u062F\u06CC\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",lastWeek:"dddd [\u06CC \u067E\u06CC\u0634 \u0633\u0627\u0639\u062A] LT",sameElse:"L"},relativeTime:{future:"\u062F\u0631 %s",past:"%s \u067E\u06CC\u0634",s:"\u0686\u0646\u062F \u062B\u0627\u0646\u06CC\u0647",m:"1 \u062F\u0642\u06CC\u0642\u0647",mm:"%d \u062F\u0642\u06CC\u0642\u0647",h:"1 \u0633\u0627\u0639\u062A",hh:"%d \u0633\u0627\u0639\u062A",d:"1 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"1 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"1 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},ordinal:"%d\u0645",preparse:function(n){return n},postformat:function(n){return n},week:{dow:6,doy:12},meridiem:function(n){return n<12?"\u0642.\u0638":"\u0628.\u0638"},jMonths:"\u0641\u0631\u0648\u0631\u062F\u06CC\u0646_\u0627\u0631\u062F\u06CC\u0628\u0647\u0634\u062A_\u062E\u0631\u062F\u0627\u062F_\u062A\u06CC\u0631_\u0645\u0631\u062F\u0627\u062F_\u0634\u0647\u0631\u06CC\u0648\u0631_\u0645\u0647\u0631_\u0622\u0628\u0627\u0646_\u0622\u0630\u0631_\u062F\u06CC_\u0628\u0647\u0645\u0646_\u0627\u0633\u0641\u0646\u062F".split("_"),jMonthsShort:"\u0641\u0631\u0648\u0631\u062F\u06CC\u0646_\u0627\u0631\u062F\u06CC\u0628\u0647\u0634\u062A_\u062E\u0631\u062F\u0627\u062F_\u062A\u06CC\u0631_\u0645\u0631\u062F\u0627\u062F_\u0634\u0647\u0631\u06CC\u0648\u0631_\u0645\u0647\u0631_\u0622\u0628\u0627\u0646_\u0622\u0630\u0631_\u062F\u06CC_\u0628\u0647\u0645\u0646_\u0627\u0633\u0641\u0646\u062F".split("_")});Ie.bindCalendarSystemAndLocale();dt.locale("en");Ie.jConvert={toJalali:q_,toGregorian:cm};function q_(n,t,e){var i=q3(n,t+1,e);return i.jm-=1,i}function cm(n,t,e){var i=X3(n,t+1,e);return i.gm-=1,i}function Ii(n,t){return~~(n/t)}function es(n,t){return n-~~(n/t)*t}function q3(n,t,e){return Object.prototype.toString.call(n)==="[object Date]"&&(e=n.getDate(),t=n.getMonth()+1,n=n.getFullYear()),Q3(Yw(n,t,e))}function X3(n,t,e){return HA(K3(n,t,e))}function BA(n){return $w(n).leap===0}function $w(n){var t=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],e=t.length,i=n+621,r=-14,s=t[0],o,a,l,c,h,m,f;if(n<s||n>=t[e-1])throw new Error("Invalid Jalali year "+n);for(f=1;f<e&&(o=t[f],a=o-s,!(n<o));f+=1)r=r+Ii(a,33)*8+Ii(es(a,33),4),s=o;return m=n-s,r=r+Ii(m,33)*8+Ii(es(m,33)+3,4),es(a,33)===4&&a-m===4&&(r+=1),c=Ii(i,4)-Ii((Ii(i,100)+1)*3,4)-150,h=20+r-c,a-m<6&&(m=m-a+Ii(a+4,33)*33),l=es(es(m+1,33)-1,4),l===-1&&(l=4),{leap:l,gy:i,march:h}}function K3(n,t,e){var i=$w(n);return Yw(i.gy,3,i.march)+(t-1)*31-Ii(t,7)*(t-7)+e-1}function Q3(n){var t=HA(n).gy,e=t-621,i=$w(e),r=Yw(t,3,i.march),s,o,a;if(a=n-r,a>=0){if(a<=185)return o=1+Ii(a,31),s=es(a,31)+1,{jy:e,jm:o,jd:s};a-=186}else e-=1,a+=179,i.leap===1&&(a+=1);return o=7+Ii(a,30),s=es(a,30)+1,{jy:e,jm:o,jd:s}}function Yw(n,t,e){var i=Ii((n+Ii(t-8,6)+100100)*1461,4)+Ii(153*es(t+9,12)+2,5)+e-34840408;return i=i-Ii(Ii(n+100100+Ii(t-8,6),100)*3,4)+752,i}function HA(n){var t,e,i,r,s;return t=4*n+139361631,t=t+Ii(Ii(4*n+183187720,146097)*3,4)*4-3908,e=Ii(es(t,1461),4)*5+308,i=Ii(es(e,153),5)+1,r=es(Ii(e,153),12)+1,s=Ii(t,1461)-100100+Ii(8-r,6),{gy:s,gm:r,gd:i}}});var dh=class{},sp=class{},jr=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Fv=class{encodeKey(t){return zS(t)}encodeValue(t){return zS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function dP(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}var cP=/%(\d[a-f0-9])/gi,hP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zS(n){return encodeURIComponent(n).replace(cP,(t,e)=>hP[e]??t)}function rp(n){return`${n}`}var va=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=dP(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(rp):[rp(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(rp(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(rp(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Pv=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function uP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function US(n){return typeof Blob<"u"&&n instanceof Blob}function WS(n){return typeof FormData<"u"&&n instanceof FormData}function mP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var lh=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(uP(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new jr,this.context??=new Pv,!this.params)this.params=new va,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jS(this.body)||US(this.body)||WS(this.body)||mP(this.body)?this.body:this.body instanceof va?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||WS(this.body)?null:US(this.body)?this.body.type||null:jS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof va?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,h=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,v)=>f.set(v,t.setHeaders[v]),c)),t.setParams&&(h=Object.keys(t.setParams).reduce((f,v)=>f.set(v,t.setParams[v]),h)),new n(e,i,o,{params:h,headers:c,context:m,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},ba=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ba||{}),ch=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new jr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},op=class n extends ch{constructor(t={}){super(t),this.type=ba.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},hh=class n extends ch{constructor(t={}){super(t),this.type=ba.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},_a=class extends ch{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},XS=200,pP=204;function Rv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var mi=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof lh)s=e;else{let l;r.headers instanceof jr?l=r.headers:l=new jr(r.headers);let c;r.params&&(r.params instanceof va?c=r.params:c=new va({fromObject:r.params})),s=new lh(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=_e(s).pipe(rs(l=>this.handler.handle(l)));if(e instanceof lh||r.observe==="events")return o;let a=o.pipe(pt(l=>l instanceof hh));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Oe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Oe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Oe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(Oe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new va().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Rv(r,i))}post(e,i,r={}){return this.request("POST",e,Rv(r,i))}put(e,i,r={}){return this.request("PUT",e,Rv(r,i))}static{this.\u0275fac=function(i){return new(i||n)(P(dh))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),fP=/^\)\]\}',?\n/,gP="X-Request-URL";function GS(n){if(n.url)return n.url;let t=gP.toLocaleLowerCase();return n.headers.get(t)}var _P=(()=>{class n{constructor(){this.fetchImpl=ee(Nv,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=ee(ke)}handle(e){return new on(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(Lv,s=>i.error(new _a({error:s}))),()=>r.abort()})}doRequest(e,i,r){return Ze(this,null,function*(){let s=this.createRequestInit(e),o;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,k({signal:i},s)));vP(v),r.next({type:ba.Sent}),o=yield v}catch(v){r.error(new _a({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}));return}let a=new jr(o.headers),l=o.statusText,c=GS(o)??e.urlWithParams,h=o.status,m=null;if(e.reportProgress&&r.next(new op({headers:a,status:h,statusText:l,url:c})),o.body){let v=o.headers.get("content-length"),C=[],x=o.body.getReader(),E=0,I,N,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ze(this,null,function*(){for(;;){let{done:j,value:Y}=yield x.read();if(j)break;if(C.push(Y),E+=Y.length,e.reportProgress){N=e.responseType==="text"?(N??"")+(I??=new TextDecoder).decode(Y,{stream:!0}):void 0;let me=()=>r.next({type:ba.DownloadProgress,total:v?+v:void 0,loaded:E,partialText:N});L?L.run(me):me()}}}));let V=this.concatChunks(C,E);try{let j=o.headers.get("Content-Type")??"";m=this.parseBody(e,V,j)}catch(j){r.error(new _a({error:j,headers:new jr(o.headers),status:o.status,statusText:o.statusText,url:GS(o)??e.urlWithParams}));return}}h===0&&(h=m?XS:0),h>=200&&h<300?(r.next(new hh({body:m,headers:a,status:h,statusText:l,url:c})),r.complete()):r.error(new _a({error:m,headers:a,status:h,statusText:l,url:c}))})}parseBody(e,i,r){switch(e.responseType){case"json":let s=new TextDecoder().decode(i).replace(fP,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>i[s]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let s=e.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),s=0;for(let o of e)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Nv=class{};function Lv(){}function vP(n){n.then(Lv,Lv)}function KS(n,t){return t(n)}function bP(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function yP(n,t,e){return(i,r)=>ss(e,()=>t(i,s=>n(s,r)))}var uh=new ie(""),Vv=new ie(""),wP=new ie(""),QS=new ie("",{providedIn:"root",factory:()=>!0});function CP(){let n=null;return(t,e)=>{n===null&&(n=(ee(uh,{optional:!0})??[]).reduceRight(bP,KS));let i=ee(th);if(ee(QS)){let s=i.add();return n(t,e).pipe(Eo(()=>i.remove(s)))}else return n(t,e)}}var $S=(()=>{class n extends dh{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=ee(th),this.contributeToStability=ee(QS)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Vv),...this.injector.get(wP,[])]));this.chain=i.reduceRight((r,s)=>yP(r,s,this.injector),KS)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Eo(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(P(sp),P(ko))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();var SP=/^\)\]\}',?\n/;function EP(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var YS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new di(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ji(i.\u0275loadImpl()):_e(null)).pipe(ii(()=>new on(s=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,E)=>o.setRequestHeader(x,E.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let x=e.detectContentTypeHeader();x!==null&&o.setRequestHeader("Content-Type",x)}if(e.responseType){let x=e.responseType.toLowerCase();o.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=o.statusText||"OK",E=new jr(o.getAllResponseHeaders()),I=EP(o)||e.url;return l=new op({headers:E,status:o.status,statusText:x,url:I}),l},h=()=>{let{headers:x,status:E,statusText:I,url:N}=c(),L=null;E!==pP&&(L=typeof o.response>"u"?o.responseText:o.response),E===0&&(E=L?XS:0);let V=E>=200&&E<300;if(e.responseType==="json"&&typeof L=="string"){let j=L;L=L.replace(SP,"");try{L=L!==""?JSON.parse(L):null}catch(Y){L=j,V&&(V=!1,L={error:Y,text:L})}}V?(s.next(new hh({body:L,headers:x,status:E,statusText:I,url:N||void 0})),s.complete()):s.error(new _a({error:L,headers:x,status:E,statusText:I,url:N||void 0}))},m=x=>{let{url:E}=c(),I=new _a({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E||void 0});s.error(I)},f=!1,v=x=>{f||(s.next(c()),f=!0);let E={type:ba.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(E.total=x.total),e.responseType==="text"&&o.responseText&&(E.partialText=o.responseText),s.next(E)},C=x=>{let E={type:ba.UploadProgress,loaded:x.loaded};x.lengthComputable&&(E.total=x.total),s.next(E)};return o.addEventListener("load",h),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),e.reportProgress&&(o.addEventListener("progress",v),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:ba.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",h),o.removeEventListener("timeout",m),e.reportProgress&&(o.removeEventListener("progress",v),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(P(tp))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),ZS=new ie(""),xP="XSRF-TOKEN",kP=new ie("",{providedIn:"root",factory:()=>xP}),DP="X-XSRF-TOKEN",TP=new ie("",{providedIn:"root",factory:()=>DP}),ap=class{},IP=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zm(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(P($e),P(Do),P(kP))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function OP(n,t){let e=n.url.toLowerCase();if(!ee(ZS)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=ee(ap).getToken(),r=ee(TP);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var JS=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(JS||{});function AP(n,t){return{\u0275kind:n,\u0275providers:t}}function MP(...n){let t=[mi,YS,$S,{provide:dh,useExisting:$S},{provide:sp,useFactory:()=>ee(_P,{optional:!0})??ee(YS)},{provide:Vv,useValue:OP,multi:!0},{provide:ZS,useValue:!0},{provide:ap,useClass:IP}];for(let e of n)t.push(...e.\u0275providers);return rl(t)}var qS=new ie("");function RP(){return AP(JS.LegacyInterceptors,[{provide:qS,useFactory:CP},{provide:Vv,useExisting:qS,multi:!0}])}var eE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[MP(RP())]})}}return n})();var zv=class extends DS{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jv=class n extends zv{static makeCurrent(){kS(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=PP();return e==null?null:NP(e)}resetBaseElement(){mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Zm(document.cookie,t)}},mh=null;function PP(){return mh=mh||document.querySelector("base"),mh?mh.getAttribute("href"):null}function NP(n){return new URL(n,document.baseURI).pathname}var Uv=class{addToWindow(t){ma.getAngularTestability=(i,r=!0)=>{let s=t.findTestabilityInTree(i,r);if(s==null)throw new di(5103,!1);return s},ma.getAllAngularTestabilities=()=>t.getAllTestabilities(),ma.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=ma.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};ma.frameworkStabilizers||(ma.frameworkStabilizers=[]),ma.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?al().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},LP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Wv=new ie(""),nE=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new di(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(P(Wv),P(ke))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),lp=class{constructor(t){this._doc=t}},Bv="ng-app-id",rE=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ep(s),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Bv}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Bv),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Bv,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(P($e),P(ih),P(nh,8),P(Do))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Hv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yv=/%COMP%/g,sE="%COMP%",VP=`_nghost-${sE}`,BP=`_ngcontent-${sE}`,HP=!0,zP=new ie("",{providedIn:"root",factory:()=>HP});function jP(n){return BP.replace(Yv,n)}function UP(n){return VP.replace(Yv,n)}function oE(n,t){return t.map(e=>e.replace(Yv,n))}var gd=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=ep(a),this.defaultRenderer=new ph(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===eh.ShadowDom&&(i=Ce(k({},i),{encapsulation:eh.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof dp?r.applyToHost(e):r instanceof fh&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case eh.Emulated:s=new dp(l,c,i,this.appId,h,o,a,m);break;case eh.ShadowDom:return new Gv(l,c,e,i,o,a,this.nonce,m);default:s=new fh(l,c,i,h,o,a,m);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(P(nE),P(rE),P(ih),P(zP),P($e),P(Do),P(ke),P(nh))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),ph=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Hv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(tE(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(tE(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new di(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let s=Hv[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Hv[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(rh.DashCase|rh.Important)?t.style.setProperty(e,i,r&rh.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&rh.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=al().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function tE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Gv=class extends ph{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=oE(r.id,r.styles);for(let h of c){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fh=class extends ph{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?oE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dp=class extends fh{constructor(t,e,i,r,s,o,a,l){let c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=jP(c),this.hostAttr=UP(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},WP=(()=>{class n extends lp{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),iE=["alt","control","meta","shift"],GP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$P={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},YP=(()=>{class n extends lp{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>al().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),iE.forEach(c=>{let h=i.indexOf(c);h>-1&&(i.splice(h,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=GP[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),iE.forEach(o=>{if(o!==r){let a=$P[o];a(e)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function qP(){jv.makeCurrent()}function XP(){return new ol}function KP(){return JC(document),document}var QP=[{provide:Do,useValue:AS},{provide:eS,useValue:qP,multi:!0},{provide:$e,useFactory:KP,deps:[]}],aE=wS(CS,"browser",QP),ZP=new ie(""),JP=[{provide:qm,useClass:Uv,deps:[]},{provide:bS,useClass:Xm,deps:[ke,Ov,qm]},{provide:Xm,useClass:Xm,deps:[ke,Ov,qm]}],eN=[{provide:ZC,useValue:"root"},{provide:ol,useFactory:XP,deps:[]},{provide:Wv,useClass:WP,multi:!0,deps:[$e,ke,Do]},{provide:Wv,useClass:YP,multi:!0,deps:[$e]},gd,rE,nE,{provide:ld,useExisting:gd},{provide:tp,useClass:LP,deps:[]},[]],cp=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ih,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(P(ZP,12))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[...eN,...JP],imports:[Pi,SS]})}}return n})();var lE=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=P(tN),r},providedIn:"root"})}}return n})(),tN=(()=>{class n extends qv{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Hr.NONE:return i;case Hr.HTML:return ad(i,"HTML")?od(i):aS(this._doc,String(i)).toString();case Hr.STYLE:return ad(i,"Style")?od(i):i;case Hr.SCRIPT:if(ad(i,"Script"))return od(i);throw new di(5200,!1);case Hr.URL:return ad(i,"URL")?od(i):oS(String(i));case Hr.RESOURCE_URL:if(ad(i,"ResourceURL"))return od(i);throw new di(5201,!1);default:throw new di(5202,!1)}}bypassSecurityTrustHtml(e){return tS(e)}bypassSecurityTrustStyle(e){return iS(e)}bypassSecurityTrustScript(e){return nS(e)}bypassSecurityTrustUrl(e){return rS(e)}bypassSecurityTrustResourceUrl(e){return sS(e)}static{this.\u0275fac=function(i){return new(i||n)(P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var{entries:vE,setPrototypeOf:dE,isFrozen:iN,getPrototypeOf:nN,getOwnPropertyDescriptor:rN}=Object,{freeze:ur,seal:as,create:bE}=Object,{apply:tb,construct:ib}=typeof Reflect<"u"&&Reflect;ur||(ur=function(t){return t});as||(as=function(t){return t});tb||(tb=function(t,e,i){return t.apply(e,i)});ib||(ib=function(t,e){return new t(...e)});var hp=mr(Array.prototype.forEach),sN=mr(Array.prototype.lastIndexOf),cE=mr(Array.prototype.pop),gh=mr(Array.prototype.push),oN=mr(Array.prototype.splice),mp=mr(String.prototype.toLowerCase),Kv=mr(String.prototype.toString),hE=mr(String.prototype.match),_h=mr(String.prototype.replace),aN=mr(String.prototype.indexOf),lN=mr(String.prototype.trim),Es=mr(Object.prototype.hasOwnProperty),hr=mr(RegExp.prototype.test),vh=dN(TypeError);function mr(n){return function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return tb(n,t,i)}}function dN(n){return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ib(n,e)}}function Bt(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mp;dE&&dE(n,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){let s=e(r);s!==r&&(iN(t)||(t[i]=s),r=s)}n[r]=!0}return n}function cN(n){for(let t=0;t<n.length;t++)Es(n,t)||(n[t]=null);return n}function dl(n){let t=bE(null);for(let[e,i]of vE(n))Es(n,e)&&(Array.isArray(i)?t[e]=cN(i):i&&typeof i=="object"&&i.constructor===Object?t[e]=dl(i):t[e]=i);return t}function bh(n,t){for(;n!==null;){let i=rN(n,t);if(i){if(i.get)return mr(i.get);if(typeof i.value=="function")return mr(i.value)}n=nN(n)}function e(){return null}return e}var uE=ur(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qv=ur(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zv=ur(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hN=ur(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jv=ur(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uN=ur(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mE=ur(["#text"]),pE=ur(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),eb=ur(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fE=ur(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),up=ur(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mN=as(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pN=as(/<%[\w\W]*|[\w\W]*%>/gm),fN=as(/\$\{[\w\W]*/gm),gN=as(/^data-[\-\w.\u00B7-\uFFFF]+$/),_N=as(/^aria-[\-\w]+$/),yE=as(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vN=as(/^(?:\w+script|data):/i),bN=as(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wE=as(/^html$/i),yN=as(/^[a-z][.\w]*(-[.\w]+)+$/i),gE=Object.freeze({__proto__:null,ARIA_ATTR:_N,ATTR_WHITESPACE:bN,CUSTOM_ELEMENT:yN,DATA_ATTR:gN,DOCTYPE_NAME:wE,ERB_EXPR:pN,IS_ALLOWED_URI:yE,IS_SCRIPT_OR_DATA:vN,MUSTACHE_EXPR:mN,TMPLIT_EXPR:fN}),yh={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},wN=function(){return typeof window>"u"?null:window},CN=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null,r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(i=e.getAttribute(r));let s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},_E=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function CE(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wN(),t=Ke=>CE(Ke);if(t.version="3.2.4",t.removed=[],!n||!n.document||n.document.nodeType!==yh.document||!n.Element)return t.isSupported=!1,t;let{document:e}=n,i=e,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:h=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:m,DOMParser:f,trustedTypes:v}=n,C=l.prototype,x=bh(C,"cloneNode"),E=bh(C,"remove"),I=bh(C,"nextSibling"),N=bh(C,"childNodes"),L=bh(C,"parentNode");if(typeof o=="function"){let Ke=e.createElement("template");Ke.content&&Ke.content.ownerDocument&&(e=Ke.content.ownerDocument)}let V,j="",{implementation:Y,createNodeIterator:me,createDocumentFragment:Q,getElementsByTagName:pe}=e,{importNode:Be}=i,Ge=_E();t.isSupported=typeof vE=="function"&&typeof L=="function"&&Y&&Y.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ct,ERB_EXPR:St,TMPLIT_EXPR:Et,DATA_ATTR:xt,ARIA_ATTR:Rt,IS_SCRIPT_OR_DATA:kt,ATTR_WHITESPACE:Ft,CUSTOM_ELEMENT:Qi}=gE,{IS_ALLOWED_URI:O}=gE,H=null,ae=Bt({},[...uE,...Qv,...Zv,...Jv,...mE]),z=null,oe=Bt({},[...pE,...eb,...fE,...up]),Z=Object.seal(bE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,J=null,Ae=!0,nt=!0,et=!1,fe=!0,Ye=!1,zt=!0,Vt=!1,ji=!1,_n=!1,or=!1,Un=!1,ei=!1,is=!0,gm=!1,J_="user-content-",Zl=!0,vn=!1,go={},Bs=null,Qa=Bt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gi=null,Bc=Bt({},["audio","video","img","source","image","track"]),Jl=null,Za=Bt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),na="http://www.w3.org/1998/Math/MathML",_o="http://www.w3.org/2000/svg",Qn="http://www.w3.org/1999/xhtml",bs=Qn,Hc=!1,ra=null,ev=Bt({},[na,_o,Qn],Kv),Hs=Bt({},["mi","mo","mn","ms","mtext"]),ys=Bt({},["annotation-xml"]),zc=Bt({},["title","style","font","a","script"]),zs=null,Ve=["application/xhtml+xml","text/html"],tv="text/html",sn=null,Zn=null,Sr=e.createElement("form"),Pt=function(F){return F instanceof RegExp||F instanceof Function},Ja=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Zn&&Zn===F)){if((!F||typeof F!="object")&&(F={}),F=dl(F),zs=Ve.indexOf(F.PARSER_MEDIA_TYPE)===-1?tv:F.PARSER_MEDIA_TYPE,sn=zs==="application/xhtml+xml"?Kv:mp,H=Es(F,"ALLOWED_TAGS")?Bt({},F.ALLOWED_TAGS,sn):ae,z=Es(F,"ALLOWED_ATTR")?Bt({},F.ALLOWED_ATTR,sn):oe,ra=Es(F,"ALLOWED_NAMESPACES")?Bt({},F.ALLOWED_NAMESPACES,Kv):ev,Jl=Es(F,"ADD_URI_SAFE_ATTR")?Bt(dl(Za),F.ADD_URI_SAFE_ATTR,sn):Za,gi=Es(F,"ADD_DATA_URI_TAGS")?Bt(dl(Bc),F.ADD_DATA_URI_TAGS,sn):Bc,Bs=Es(F,"FORBID_CONTENTS")?Bt({},F.FORBID_CONTENTS,sn):Qa,K=Es(F,"FORBID_TAGS")?Bt({},F.FORBID_TAGS,sn):{},J=Es(F,"FORBID_ATTR")?Bt({},F.FORBID_ATTR,sn):{},go=Es(F,"USE_PROFILES")?F.USE_PROFILES:!1,Ae=F.ALLOW_ARIA_ATTR!==!1,nt=F.ALLOW_DATA_ATTR!==!1,et=F.ALLOW_UNKNOWN_PROTOCOLS||!1,fe=F.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ye=F.SAFE_FOR_TEMPLATES||!1,zt=F.SAFE_FOR_XML!==!1,Vt=F.WHOLE_DOCUMENT||!1,or=F.RETURN_DOM||!1,Un=F.RETURN_DOM_FRAGMENT||!1,ei=F.RETURN_TRUSTED_TYPE||!1,_n=F.FORCE_BODY||!1,is=F.SANITIZE_DOM!==!1,gm=F.SANITIZE_NAMED_PROPS||!1,Zl=F.KEEP_CONTENT!==!1,vn=F.IN_PLACE||!1,O=F.ALLOWED_URI_REGEXP||yE,bs=F.NAMESPACE||Qn,Hs=F.MATHML_TEXT_INTEGRATION_POINTS||Hs,ys=F.HTML_INTEGRATION_POINTS||ys,Z=F.CUSTOM_ELEMENT_HANDLING||{},F.CUSTOM_ELEMENT_HANDLING&&Pt(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Z.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Pt(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Z.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Z.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ye&&(nt=!1),Un&&(or=!0),go&&(H=Bt({},mE),z=[],go.html===!0&&(Bt(H,uE),Bt(z,pE)),go.svg===!0&&(Bt(H,Qv),Bt(z,eb),Bt(z,up)),go.svgFilters===!0&&(Bt(H,Zv),Bt(z,eb),Bt(z,up)),go.mathMl===!0&&(Bt(H,Jv),Bt(z,fE),Bt(z,up))),F.ADD_TAGS&&(H===ae&&(H=dl(H)),Bt(H,F.ADD_TAGS,sn)),F.ADD_ATTR&&(z===oe&&(z=dl(z)),Bt(z,F.ADD_ATTR,sn)),F.ADD_URI_SAFE_ATTR&&Bt(Jl,F.ADD_URI_SAFE_ATTR,sn),F.FORBID_CONTENTS&&(Bs===Qa&&(Bs=dl(Bs)),Bt(Bs,F.FORBID_CONTENTS,sn)),Zl&&(H["#text"]=!0),Vt&&Bt(H,["html","head","body"]),H.table&&(Bt(H,["tbody"]),delete K.tbody),F.TRUSTED_TYPES_POLICY){if(typeof F.TRUSTED_TYPES_POLICY.createHTML!="function")throw vh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof F.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');V=F.TRUSTED_TYPES_POLICY,j=V.createHTML("")}else V===void 0&&(V=CN(v,r)),V!==null&&typeof j=="string"&&(j=V.createHTML(""));ur&&ur(F),Zn=F}},si=Bt({},[...Qv,...Zv,...hN]),sa=Bt({},[...Jv,...uN]),iv=function(F){let le=L(F);(!le||!le.tagName)&&(le={namespaceURI:bs,tagName:"template"});let We=mp(F.tagName),xi=mp(le.tagName);return ra[F.namespaceURI]?F.namespaceURI===_o?le.namespaceURI===Qn?We==="svg":le.namespaceURI===na?We==="svg"&&(xi==="annotation-xml"||Hs[xi]):!!si[We]:F.namespaceURI===na?le.namespaceURI===Qn?We==="math":le.namespaceURI===_o?We==="math"&&ys[xi]:!!sa[We]:F.namespaceURI===Qn?le.namespaceURI===_o&&!ys[xi]||le.namespaceURI===na&&!Hs[xi]?!1:!sa[We]&&(zc[We]||!si[We]):!!(zs==="application/xhtml+xml"&&ra[F.namespaceURI]):!1},ar=function(F){gh(t.removed,{element:F});try{L(F).removeChild(F)}catch{E(F)}},Zi=function(F,le){try{gh(t.removed,{attribute:le.getAttributeNode(F),from:le})}catch{gh(t.removed,{attribute:null,from:le})}if(le.removeAttribute(F),F==="is")if(or||Un)try{ar(le)}catch{}else try{le.setAttribute(F,"")}catch{}},ns=function(F){let le=null,We=null;if(_n)F="<remove></remove>"+F;else{let yn=hE(F,/^[\r\n\t ]+/);We=yn&&yn[0]}zs==="application/xhtml+xml"&&bs===Qn&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");let xi=V?V.createHTML(F):F;if(bs===Qn)try{le=new f().parseFromString(xi,zs)}catch{}if(!le||!le.documentElement){le=Y.createDocument(bs,"template",null);try{le.documentElement.innerHTML=Hc?j:xi}catch{}}let xn=le.body||le.documentElement;return F&&We&&xn.insertBefore(e.createTextNode(We),xn.childNodes[0]||null),bs===Qn?pe.call(le,Vt?"html":"body")[0]:Vt?le.documentElement:xn},Vr=function(F){return me.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Ui=function(F){return F instanceof m&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof h)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},Er=function(F){return typeof a=="function"&&F instanceof a};function bn(Ke,F,le){hp(Ke,We=>{We.call(t,F,le,Zn)})}let js=function(F){let le=null;if(bn(Ge.beforeSanitizeElements,F,null),Ui(F))return ar(F),!0;let We=sn(F.nodeName);if(bn(Ge.uponSanitizeElement,F,{tagName:We,allowedTags:H}),F.hasChildNodes()&&!Er(F.firstElementChild)&&hr(/<[/\w]/g,F.innerHTML)&&hr(/<[/\w]/g,F.textContent)||F.nodeType===yh.progressingInstruction||zt&&F.nodeType===yh.comment&&hr(/<[/\w]/g,F.data))return ar(F),!0;if(!H[We]||K[We]){if(!K[We]&&vm(We)&&(Z.tagNameCheck instanceof RegExp&&hr(Z.tagNameCheck,We)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(We)))return!1;if(Zl&&!Bs[We]){let xi=L(F)||F.parentNode,xn=N(F)||F.childNodes;if(xn&&xi){let yn=xn.length;for(let jt=yn-1;jt>=0;--jt){let xr=x(xn[jt],!0);xr.__removalCount=(F.__removalCount||0)+1,xi.insertBefore(xr,I(F))}}}return ar(F),!0}return F instanceof l&&!iv(F)||(We==="noscript"||We==="noembed"||We==="noframes")&&hr(/<\/no(script|embed|frames)/i,F.innerHTML)?(ar(F),!0):(Ye&&F.nodeType===yh.text&&(le=F.textContent,hp([ct,St,Et],xi=>{le=_h(le,xi," ")}),F.textContent!==le&&(gh(t.removed,{element:F.cloneNode()}),F.textContent=le)),bn(Ge.afterSanitizeElements,F,null),!1)},_m=function(F,le,We){if(is&&(le==="id"||le==="name")&&(We in e||We in Sr))return!1;if(!(nt&&!J[le]&&hr(xt,le))){if(!(Ae&&hr(Rt,le))){if(!z[le]||J[le]){if(!(vm(F)&&(Z.tagNameCheck instanceof RegExp&&hr(Z.tagNameCheck,F)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(F))&&(Z.attributeNameCheck instanceof RegExp&&hr(Z.attributeNameCheck,le)||Z.attributeNameCheck instanceof Function&&Z.attributeNameCheck(le))||le==="is"&&Z.allowCustomizedBuiltInElements&&(Z.tagNameCheck instanceof RegExp&&hr(Z.tagNameCheck,We)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(We))))return!1}else if(!Jl[le]){if(!hr(O,_h(We,Ft,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&F!=="script"&&aN(We,"data:")===0&&gi[F])){if(!(et&&!hr(kt,_h(We,Ft,"")))){if(We)return!1}}}}}}return!0},vm=function(F){return F!=="annotation-xml"&&hE(F,Qi)},oa=function(F){bn(Ge.beforeSanitizeAttributes,F,null);let{attributes:le}=F;if(!le||Ui(F))return;let We={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0},xi=le.length;for(;xi--;){let xn=le[xi],{name:yn,namespaceURI:jt,value:xr}=xn,el=sn(yn),kn=yn==="value"?xr:lN(xr);if(We.attrName=el,We.attrValue=kn,We.keepAttr=!0,We.forceKeepAttr=void 0,bn(Ge.uponSanitizeAttribute,F,We),kn=We.attrValue,gm&&(el==="id"||el==="name")&&(Zi(yn,F),kn=J_+kn),zt&&hr(/((--!?|])>)|<\/(style|title)/i,kn)){Zi(yn,F);continue}if(We.forceKeepAttr||(Zi(yn,F),!We.keepAttr))continue;if(!fe&&hr(/\/>/i,kn)){Zi(yn,F);continue}Ye&&hp([ct,St,Et],ym=>{kn=_h(kn,ym," ")});let jc=sn(F.nodeName);if(_m(jc,el,kn)){if(V&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!jt)switch(v.getAttributeType(jc,el)){case"TrustedHTML":{kn=V.createHTML(kn);break}case"TrustedScriptURL":{kn=V.createScriptURL(kn);break}}try{jt?F.setAttributeNS(jt,yn,kn):F.setAttribute(yn,kn),Ui(F)?ar(F):cE(t.removed)}catch{}}}bn(Ge.afterSanitizeAttributes,F,null)},bm=function Ke(F){let le=null,We=Vr(F);for(bn(Ge.beforeSanitizeShadowDOM,F,null);le=We.nextNode();)bn(Ge.uponSanitizeShadowNode,le,null),js(le),oa(le),le.content instanceof s&&Ke(le.content);bn(Ge.afterSanitizeShadowDOM,F,null)};return t.sanitize=function(Ke){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=null,We=null,xi=null,xn=null;if(Hc=!Ke,Hc&&(Ke="<!-->"),typeof Ke!="string"&&!Er(Ke))if(typeof Ke.toString=="function"){if(Ke=Ke.toString(),typeof Ke!="string")throw vh("dirty is not a string, aborting")}else throw vh("toString is not a function");if(!t.isSupported)return Ke;if(ji||Ja(F),t.removed=[],typeof Ke=="string"&&(vn=!1),vn){if(Ke.nodeName){let xr=sn(Ke.nodeName);if(!H[xr]||K[xr])throw vh("root node is forbidden and cannot be sanitized in-place")}}else if(Ke instanceof a)le=ns("<!---->"),We=le.ownerDocument.importNode(Ke,!0),We.nodeType===yh.element&&We.nodeName==="BODY"||We.nodeName==="HTML"?le=We:le.appendChild(We);else{if(!or&&!Ye&&!Vt&&Ke.indexOf("<")===-1)return V&&ei?V.createHTML(Ke):Ke;if(le=ns(Ke),!le)return or?null:ei?j:""}le&&_n&&ar(le.firstChild);let yn=Vr(vn?Ke:le);for(;xi=yn.nextNode();)js(xi),oa(xi),xi.content instanceof s&&bm(xi.content);if(vn)return Ke;if(or){if(Un)for(xn=Q.call(le.ownerDocument);le.firstChild;)xn.appendChild(le.firstChild);else xn=le;return(z.shadowroot||z.shadowrootmode)&&(xn=Be.call(i,xn,!0)),xn}let jt=Vt?le.outerHTML:le.innerHTML;return Vt&&H["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&hr(wE,le.ownerDocument.doctype.name)&&(jt="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+jt),Ye&&hp([ct,St,Et],xr=>{jt=_h(jt,xr," ")}),V&&ei?V.createHTML(jt):jt},t.setConfig=function(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ja(Ke),ji=!0},t.clearConfig=function(){Zn=null,ji=!1},t.isValidAttribute=function(Ke,F,le){Zn||Ja({});let We=sn(Ke),xi=sn(F);return _m(We,xi,le)},t.addHook=function(Ke,F){typeof F=="function"&&gh(Ge[Ke],F)},t.removeHook=function(Ke,F){if(F!==void 0){let le=sN(Ge[Ke],F);return le===-1?void 0:oN(Ge[Ke],le,1)[0]}return cE(Ge[Ke])},t.removeHooks=function(Ke){Ge[Ke]=[]},t.removeAllHooks=function(){Ge=_E()},t}var SE=CE();var At="primary",Fh=Symbol("RouteTitle"),ab=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Cd(n){return new ab(n)}function SN(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function EN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Xs(n[e],t[e]))return!1;return!0}function Xs(n,t){let e=n?lb(n):void 0,i=t?lb(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!FE(n[r],t[r]))return!1;return!0}function lb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FE(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}else return n===t}function PE(n){return n.length>0?n[n.length-1]:null}function wa(n){return an(n)?n:Km(n)?Ji(Promise.resolve(n)):_e(n)}var xN={exact:LE,subset:VE},NE={exact:kN,subset:DN,ignored:()=>!0};function EE(n,t,e){return xN[e.paths](n.root,t.root,e.matrixParams)&&NE[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function kN(n,t){return Xs(n,t)}function LE(n,t,e){if(!hl(n.segments,t.segments)||!gp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!LE(n.children[i],t.children[i],e))return!1;return!0}function DN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>FE(n[e],t[e]))}function VE(n,t,e){return BE(n,t,t.segments,e)}function BE(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!hl(r,e)||t.hasChildren()||!gp(r,e,i))}else if(n.segments.length===e.length){if(!hl(n.segments,e)||!gp(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!VE(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!hl(n.segments,r)||!gp(n.segments,r,i)||!n.children[At]?!1:BE(n.children[At],t,s,i)}}function gp(n,t,e){return t.every((i,r)=>NE[e](n[r].parameters,i.parameters))}var Ao=class{constructor(t=new ci([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){return ON.serialize(this)}},ci=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _p(this)}},cl=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Cd(this.parameters),this._parameterMap}toString(){return zE(this)}};function TN(n,t){return hl(n,t)&&n.every((e,i)=>Xs(e.parameters,t[i].parameters))}function hl(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function IN(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===At&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==At&&(e=e.concat(t(r,i)))}),e}var Ph=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>new Sd,providedIn:"root"})}}return n})(),Sd=class{parse(t){let e=new cb(t);return new Ao(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${wh(t.root,!0)}`,i=RN(t.queryParams),r=typeof t.fragment=="string"?`#${AN(t.fragment)}`:"";return`${e}${i}${r}`}},ON=new Sd;function _p(n){return n.segments.map(t=>zE(t)).join("/")}function wh(n,t){if(!n.hasChildren())return _p(n);if(t){let e=n.children[At]?wh(n.children[At],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==At&&i.push(`${r}:${wh(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=IN(n,(i,r)=>r===At?[wh(n.children[At],!1)]:[`${r}:${wh(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[At]!=null?`${_p(n)}/${e[0]}`:`${_p(n)}/(${e.join("//")})`}}function HE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pp(n){return HE(n).replace(/%3B/gi,";")}function AN(n){return encodeURI(n)}function db(n){return HE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vp(n){return decodeURIComponent(n)}function xE(n){return vp(n.replace(/\+/g,"%20"))}function zE(n){return`${db(n.path)}${MN(n.parameters)}`}function MN(n){return Object.entries(n).map(([t,e])=>`;${db(t)}=${db(e)}`).join("")}function RN(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${pp(e)}=${pp(r)}`).join("&"):`${pp(e)}=${pp(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var FN=/^[^\/()?;#]+/;function nb(n){let t=n.match(FN);return t?t[0]:""}var PN=/^[^\/()?;=#]+/;function NN(n){let t=n.match(PN);return t?t[0]:""}var LN=/^[^=?&#]+/;function VN(n){let t=n.match(LN);return t?t[0]:""}var BN=/^[^&#]+/;function HN(n){let t=n.match(BN);return t?t[0]:""}var cb=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ci([],{}):new ci([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[At]=new ci(t,e)),i}parseSegment(){let t=nb(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new di(4009,!1);return this.capture(t),new cl(vp(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=NN(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=nb(this.remaining);r&&(i=r,this.capture(i))}t[vp(e)]=vp(i)}parseQueryParam(t){let e=VN(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=HN(this.remaining);o&&(i=o,this.capture(i))}let r=xE(e),s=xE(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=nb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new di(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=At);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[At]:new ci([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new di(4011,!1)}};function jE(n){return n.segments.length>0?new ci([],{[At]:n}):n}function UE(n){let t={};for(let[i,r]of Object.entries(n.children)){let s=UE(r);if(i===At&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let e=new ci(n.segments,t);return zN(e)}function zN(n){if(n.numberOfChildren===1&&n.children[At]){let t=n.children[At];return new ci(n.segments.concat(t.segments),t.children)}return n}function ul(n){return n instanceof Ao}function jN(n,t,e=null,i=null){let r=WE(n);return GE(r,t,e,i)}function WE(n){let t;function e(s){let o={};for(let l of s.children){let c=e(l);o[l.outlet]=c}let a=new ci(s.url,o);return s===n&&(t=a),a}let i=e(n.root),r=jE(i);return t??r}function GE(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return rb(r,r,r,e,i);let s=UN(t);if(s.toRoot())return rb(r,r,new ci([],{}),e,i);let o=WN(s,r,n),a=o.processChildren?Eh(o.segmentGroup,o.index,s.commands):YE(o.segmentGroup,o.index,s.commands);return rb(r,o.segmentGroup,a,e,i)}function bp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Dh(n){return typeof n=="object"&&n!=null&&n.outlets}function rb(n,t,e,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let o;n===t?o=e:o=$E(n,t,e);let a=jE(UE(o));return new Ao(a,s,r)}function $E(n,t,e){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===t?i[r]=e:i[r]=$E(s,t,e)}),new ci(n.segments,i)}var yp=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&bp(i[0]))throw new di(4003,!1);let r=i.find(Dh);if(r&&r!==PE(i))throw new di(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new yp(!0,0,n);let t=0,e=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new yp(e,t,i)}var bd=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function WN(n,t,e){if(n.isAbsolute)return new bd(t,!0,0);if(!e)return new bd(t,!1,NaN);if(e.parent===null)return new bd(e,!0,0);let i=bp(n.commands[0])?0:1,r=e.segments.length-1+i;return GN(e,r,n.numberOfDoubleDots)}function GN(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new di(4005,!1);r=i.segments.length}return new bd(i,!1,r-s)}function $N(n){return Dh(n[0])?n[0].outlets:{[At]:n}}function YE(n,t,e){if(n??=new ci([],{}),n.segments.length===0&&n.hasChildren())return Eh(n,t,e);let i=YN(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new ci(n.segments.slice(0,i.pathIndex),{});return s.children[At]=new ci(n.segments.slice(i.pathIndex),n.children),Eh(s,0,r)}else return i.match&&r.length===0?new ci(n.segments,{}):i.match&&!n.hasChildren()?hb(n,t,e):i.match?Eh(n,0,r):hb(n,t,e)}function Eh(n,t,e){if(e.length===0)return new ci(n.segments,{});{let i=$N(e),r={};if(Object.keys(i).some(s=>s!==At)&&n.children[At]&&n.numberOfChildren===1&&n.children[At].segments.length===0){let s=Eh(n.children[At],t,e);return new ci(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=YE(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new ci(n.segments,r)}}function YN(n,t,e){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;let o=n.segments[r],a=e[i];if(Dh(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!DE(l,c,o))return s;i+=2}else{if(!DE(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function hb(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(Dh(s)){let l=qN(s.outlets);return new ci(i,l)}if(r===0&&bp(e[0])){let l=n.segments[t];i.push(new cl(l.path,kE(e[0]))),r++;continue}let o=Dh(s)?s.outlets[At]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&bp(a)?(i.push(new cl(o,kE(a))),r+=2):(i.push(new cl(o,{})),r++)}return new ci(i,{})}function qN(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=hb(new ci([],{}),0,i))}),t}function kE(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function DE(n,t,e){return n==e.path&&Xs(t,e.parameters)}var xh="imperative",On=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(On||{}),ls=class{constructor(t,e){this.id=t,this.url=e}},Ed=class extends ls{constructor(t,e,i="imperative",r=null){super(t,e),this.type=On.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ks=class extends ls{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=On.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Gr||{}),wp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wp||{}),Oo=class extends ls{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=On.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ya=class extends ls{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=On.NavigationSkipped}},Th=class extends ls{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=On.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cp=class extends ls{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=On.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ub=class extends ls{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=On.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mb=class extends ls{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=On.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pb=class extends ls{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=On.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fb=class extends ls{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=On.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gb=class{constructor(t){this.route=t,this.type=On.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_b=class{constructor(t){this.route=t,this.type=On.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vb=class{constructor(t){this.snapshot=t,this.type=On.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bb=class{constructor(t){this.snapshot=t,this.type=On.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yb=class{constructor(t){this.snapshot=t,this.type=On.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wb=class{constructor(t){this.snapshot=t,this.type=On.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sp=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=On.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ih=class{},xd=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function XN(n,t){return n.providers&&!n._injector&&(n._injector=Iv(n.providers,t,`Route: ${n.path}`)),n._injector??t}function xs(n){return n.outlet||At}function KN(n,t){let e=n.filter(i=>xs(i)===t);return e.push(...n.filter(i=>xs(i)!==t)),e}function Nh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Cb=class{get injector(){return Nh(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Lh(this.rootInjector),this.attachRef=null}},Lh=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Cb(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(P(ko))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ep=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Sb(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Sb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Eb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Eb(t,this._root).map(e=>e.value)}};function Sb(n,t){if(n===t.value)return t;for(let e of t.children){let i=Sb(n,e);if(i)return i}return null}function Eb(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Eb(n,e);if(i.length)return i.unshift(t),i}return[]}var Wr=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function vd(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var xp=class extends Ep{constructor(t,e){super(t),this.snapshot=e,Rb(this,t)}toString(){return this.snapshot.toString()}};function qE(n){let t=QN(n),e=new kr([new cl("",{})]),i=new kr({}),r=new kr({}),s=new kr({}),o=new kr(""),a=new ml(e,i,s,o,r,At,n,t.root);return a.snapshot=t.root,new xp(new Wr(a,[]),t)}function QN(n){let t={},e={},i={},r="",s=new yd([],t,i,r,e,At,n,null,{});return new Dp("",new Wr(s,[]))}var ml=class{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Oe(c=>c[Fh]))??_e(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(t=>Cd(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(t=>Cd(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kp(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:k(k({},t.params),n.params),data:k(k({},t.data),n.data),resolve:k(k(k(k({},n.data),t.data),r?.data),n._resolvedData)}:i={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},r&&KE(r)&&(i.resolve[Fh]=r.title),i}var yd=class{get title(){return this.data?.[Fh]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Dp=class extends Ep{constructor(t,e){super(e),this.url=t,Rb(this,e)}toString(){return XE(this._root)}};function Rb(n,t){t.value._routerState=n,t.children.forEach(e=>Rb(n,e))}function XE(n){let t=n.children.length>0?` { ${n.children.map(XE).join(", ")} } `:"";return`${n.value}${t}`}function sb(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Xs(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Xs(t.params,e.params)||n.paramsSubject.next(e.params),EN(t.url,e.url)||n.urlSubject.next(e.url),Xs(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xb(n,t){let e=Xs(n.params,t.params)&&TN(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||xb(n.parent,t.parent))}function KE(n){return typeof n.title=="string"||n.title===null}var Vh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.parentContexts=ee(Lh),this.location=ee(In),this.changeDetector=ee(Je),this.inputBinder=ee(Mp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new di(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new di(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new di(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new di(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new kb(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kt]})}}return n})(),kb=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ml?this.route:t===Lh?this.childContexts:this.parent.get(t,e)}},Mp=new ie(""),TE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=ca([i.queryParams,i.params,i.data]).pipe(ii(([s,o,a],l)=>(a=k(k(k({},s),o),a),l===0?_e(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let o=xS(i.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function ZN(n,t,e){let i=Oh(n,t._root,e?e._root:void 0);return new xp(i,t)}function Oh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=JN(n,t,e);return new Wr(i,r)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Oh(n,a)),o}}let i=eL(t.value),r=t.children.map(s=>Oh(n,s));return new Wr(i,r)}}function JN(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Oh(n,i,r);return Oh(n,i)})}function eL(n){return new ml(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}var Ah=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},QE="ngNavigationCancelingError";function Tp(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ul(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ZE(!1,Gr.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function ZE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[QE]=!0,e.cancellationCode=t,e}function tL(n){return JE(n)&&ul(n.url)}function JE(n){return!!n&&n[QE]}var iL=(n,t,e,i)=>Oe(r=>(new Db(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),Db=class{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),sb(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=vd(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=vd(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=vd(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=vd(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new wb(s.value.snapshot))}),t.children.length&&this.forwardEvent(new bb(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(sb(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sb(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}},Ip=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},wd=class{constructor(t,e){this.component=t,this.route=e}};function nL(n,t,e){let i=n._root,r=t?t._root:null;return Ch(i,r,e,[i.value])}function rL(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Td(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!QC(n)?n:t.get(n):i}function Ch(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=vd(t);return n.children.forEach(o=>{sL(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kh(a,e.getContext(o),r)),r}function sL(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=oL(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ip(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ch(n,t,a?a.children:null,i,r):Ch(n,t,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new wd(a.outlet.component,o))}else o&&kh(t,a,r),r.canActivateChecks.push(new Ip(i)),s.component?Ch(n,null,a?a.children:null,i,r):Ch(n,null,e,i,r);return r}function oL(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!hl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!hl(n.url,t.url)||!Xs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xb(n,t)||!Xs(n.queryParams,t.queryParams);case"paramsChange":default:return!xb(n,t)}}function kh(n,t,e){let i=vd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?t?kh(o,t.children.getContext(s),e):kh(o,null,e):kh(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new wd(t.outlet.component,r)):e.canDeactivateChecks.push(new wd(null,r)):e.canDeactivateChecks.push(new wd(null,r))}function Bh(n){return typeof n=="function"}function aL(n){return typeof n=="boolean"}function lL(n){return n&&Bh(n.canLoad)}function dL(n){return n&&Bh(n.canActivate)}function cL(n){return n&&Bh(n.canActivateChild)}function hL(n){return n&&Bh(n.canDeactivate)}function uL(n){return n&&Bh(n.canMatch)}function ex(n){return n instanceof WC||n?.name==="EmptyError"}var fp=Symbol("INITIAL_VALUE");function kd(){return ii(n=>ca(n.map(t=>t.pipe($t(1),Jt(fp)))).pipe(Oe(t=>{for(let e of t)if(e!==!0){if(e===fp)return fp;if(e===!1||mL(e))return e}return!0}),pt(t=>t!==fp),$t(1)))}function mL(n){return ul(n)||n instanceof Ah}function pL(n,t){return Jn(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?_e(Ce(k({},e),{guardsResult:!0})):fL(o,i,r,n).pipe(Jn(a=>a&&aL(a)?gL(i,s,n,t):_e(a)),Oe(a=>Ce(k({},e),{guardsResult:a})))})}function fL(n,t,e,i){return Ji(n).pipe(Jn(r=>wL(r.component,r.route,e,t,i)),ua(r=>r!==!0,!0))}function gL(n,t,e,i){return Ji(t).pipe(rs(r=>Us(vL(r.route.parent,i),_L(r.route,i),yL(n,r.path,e),bL(n,r.route,e))),ua(r=>r!==!0,!0))}function _L(n,t){return n!==null&&t&&t(new yb(n)),_e(!0)}function vL(n,t){return n!==null&&t&&t(new vb(n)),_e(!0)}function bL(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return _e(!0);let r=i.map(s=>Br(()=>{let o=Nh(t)??e,a=Td(s,o),l=dL(a)?a.canActivate(t,n):ss(o,()=>a(t,n));return wa(l).pipe(ua())}));return _e(r).pipe(kd())}function yL(n,t,e){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>rL(o)).filter(o=>o!==null).map(o=>Br(()=>{let a=o.guards.map(l=>{let c=Nh(o.node)??e,h=Td(l,c),m=cL(h)?h.canActivateChild(i,n):ss(c,()=>h(i,n));return wa(m).pipe(ua())});return _e(a).pipe(kd())}));return _e(s).pipe(kd())}function wL(n,t,e,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return _e(!0);let o=s.map(a=>{let l=Nh(t)??r,c=Td(a,l),h=hL(c)?c.canDeactivate(n,t,e,i):ss(l,()=>c(n,t,e,i));return wa(h).pipe(ua())});return _e(o).pipe(kd())}function CL(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return _e(!0);let s=r.map(o=>{let a=Td(o,n),l=lL(a)?a.canLoad(t,e):ss(n,()=>a(t,e));return wa(l)});return _e(s).pipe(kd(),tx(i))}function tx(n){return UC(Ai(t=>{if(typeof t!="boolean")throw Tp(n,t)}),Oe(t=>t===!0))}function SL(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return _e(!0);let s=r.map(o=>{let a=Td(o,n),l=uL(a)?a.canMatch(t,e):ss(n,()=>a(t,e));return wa(l)});return _e(s).pipe(kd(),tx(i))}var Mh=class{constructor(t){this.segmentGroup=t||null}},Rh=class extends Error{constructor(t){super(),this.urlTree=t}};function _d(n){return nl(new Mh(n))}function EL(n){return nl(new di(4e3,!1))}function xL(n){return nl(ZE(!1,Gr.GuardRejected))}var Tb=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return _e(i);if(r.numberOfChildren>1||!r.children[At])return EL(`${t.redirectTo}`);r=r.children[At]}}applyRedirectCommands(t,e,i,r,s){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:h,url:m,outlet:f,params:v,data:C,title:x}=r,E=ss(s,()=>a({params:v,data:C,queryParams:l,fragment:c,routeConfig:h,url:m,outlet:f,title:x}));if(E instanceof Ao)throw new Rh(E);e=E}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Rh(o);return o}applyRedirectCreateUrlTree(t,e,i,r){let s=this.createSegmentGroup(t,e.root,i,r);return new Ao(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){let s=this.createSegments(t,e.segments,i,r),o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new ci(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new di(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},Ib={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kL(n,t,e,i,r){let s=ix(n,t,e);return s.matched?(i=XN(t,i),SL(i,t,e,r).pipe(Oe(o=>o===!0?s:k({},Ib)))):_e(s)}function ix(n,t,e){if(t.path==="**")return DL(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?k({},Ib):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||SN)(e,n,t);if(!r)return k({},Ib);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?k(k({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function DL(n){return{matched:!0,parameters:n.length>0?PE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function IE(n,t,e,i){return e.length>0&&OL(n,e,i)?{segmentGroup:new ci(t,IL(i,new ci(e,n.children))),slicedSegments:[]}:e.length===0&&AL(n,e,i)?{segmentGroup:new ci(n.segments,TL(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ci(n.segments,n.children),slicedSegments:e}}function TL(n,t,e,i){let r={};for(let s of e)if(Rp(n,t,s)&&!i[xs(s)]){let o=new ci([],{});r[xs(s)]=o}return k(k({},i),r)}function IL(n,t){let e={};e[At]=t;for(let i of n)if(i.path===""&&xs(i)!==At){let r=new ci([],{});e[xs(i)]=r}return e}function OL(n,t,e){return e.some(i=>Rp(n,t,i)&&xs(i)!==At)}function AL(n,t,e){return e.some(i=>Rp(n,t,i))}function Rp(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ML(n,t,e){return t.length===0&&!n.children[e]}var Ob=class{};function RL(n,t,e,i,r,s,o="emptyOnly"){return new Ab(n,t,e,i,r,o,s).recognize()}var FL=31,Ab=class{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Tb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new di(4002,`'${t.segmentGroup}'`)}recognize(){let t=IE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Oe(({children:e,rootSnapshot:i})=>{let r=new Wr(i,e),s=new Dp("",r),o=jN(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new yd([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),At,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,At,e).pipe(Oe(i=>({children:i,rootSnapshot:e})),Gs(i=>{if(i instanceof Rh)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Mh?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,s):this.processSegment(t,e,i,i.segments,r,!0,s).pipe(Oe(o=>o instanceof Wr?[o]:[]))}processChildren(t,e,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ji(s).pipe(rs(o=>{let a=i.children[o],l=KN(e,o);return this.processSegmentGroup(t,l,a,o,r)}),qC((o,a)=>(o.push(...a),o)),Ev(null),YC(),Jn(o=>{if(o===null)return _d(i);let a=nx(o);return PL(a),_e(a)}))}processSegment(t,e,i,r,s,o,a){return Ji(e).pipe(rs(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,s,o,a).pipe(Gs(c=>{if(c instanceof Mh)return _e(null);throw c}))),ua(l=>!!l),Gs(l=>{if(ex(l))return ML(i,r,s)?_e(new Ob):_d(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,s,o,a,l){return xs(i)!==o&&(o===At||!Rp(r,s,i))?_d(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o,l):_d(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:m,remainingSegments:f}=ix(e,r,s);if(!l)return _d(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FL&&(this.allowRedirects=!1));let v=new yd(s,c,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,OE(r),xs(r),r.component??r._loadedComponent??null,r,AE(r)),C=kp(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);let x=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,m,v,t);return this.applyRedirects.lineralizeSegments(r,x).pipe(Jn(E=>this.processSegment(t,i,e,E.concat(f),o,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a=kL(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(ii(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ii(({routes:c})=>{let h=i._loadedInjector??t,{parameters:m,consumedSegments:f,remainingSegments:v}=l,C=new yd(f,m,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,OE(i),xs(i),i.component??i._loadedComponent??null,i,AE(i)),x=kp(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(x.params),C.data=Object.freeze(x.data);let{segmentGroup:E,slicedSegments:I}=IE(e,f,v,c);if(I.length===0&&E.hasChildren())return this.processChildren(h,c,E,C).pipe(Oe(L=>new Wr(C,L)));if(c.length===0&&I.length===0)return _e(new Wr(C,[]));let N=xs(i)===s;return this.processSegment(h,c,E,I,N?At:s,!0,C).pipe(Oe(L=>new Wr(C,L instanceof Wr?[L]:[])))}))):_d(e)))}getChildConfig(t,e,i){return e.children?_e({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?_e({routes:e._loadedRoutes,injector:e._loadedInjector}):CL(t,e,i,this.urlSerializer).pipe(Jn(r=>r?this.configLoader.loadChildren(t,e).pipe(Ai(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):xL(e))):_e({routes:[],injector:t})}};function PL(n){n.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}function NL(n){let t=n.value.routeConfig;return t&&t.path===""}function nx(n){let t=[],e=new Set;for(let i of n){if(!NL(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=nx(i.children);t.push(new Wr(i.value,r))}return t.filter(i=>!e.has(i))}function OE(n){return n.data||{}}function AE(n){return n.resolve||{}}function LL(n,t,e,i,r,s){return Jn(o=>RL(n,t,e,i,o.extractedUrl,r,s).pipe(Oe(({state:a,tree:l})=>Ce(k({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function VL(n,t){return Jn(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return _e(e);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of rx(l))o.add(c);let a=0;return Ji(o).pipe(rs(l=>s.has(l)?BL(l,i,n,t):(l.data=kp(l,l.parent,n).resolve,_e(void 0))),Ai(()=>a++),xv(1),Jn(l=>a===o.size?_e(e):Dr))})}function rx(n){let t=n.children.map(e=>rx(e)).flat();return[n,...t]}function BL(n,t,e,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!KE(r)&&(s[Fh]=r.title),HL(s,n,t,i).pipe(Oe(o=>(n._resolvedData=o,n.data=kp(n,n.parent,e).resolve,null)))}function HL(n,t,e,i){let r=lb(n);if(r.length===0)return _e({});let s={};return Ji(r).pipe(Jn(o=>zL(n[o],t,e,i).pipe(ua(),Ai(a=>{if(a instanceof Ah)throw Tp(new Sd,a);s[o]=a}))),xv(1),Kc(s),Gs(o=>ex(o)?Dr:nl(o)))}function zL(n,t,e,i){let r=Nh(t)??i,s=Td(n,r),o=s.resolve?s.resolve(t,e):ss(r,()=>s(t,e));return wa(o)}function ob(n){return ii(t=>{let e=n(t);return e?Ji(e).pipe(Oe(()=>t)):_e(t)})}var sx=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===At);return i}getResolvedTitleForRoute(e){return e.data[Fh]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>ee(jL),providedIn:"root"})}}return n})(),jL=(()=>{class n extends sx{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(P(lE))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hh=new ie("",{providedIn:"root",factory:()=>({})}),UL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],standalone:!0,features:[Xe],decls:1,vars:0,template:function(i,r){i&1&&G(0,"router-outlet")},dependencies:[Vh],encapsulation:2})}}return n})();function Fb(n){let t=n.children&&n.children.map(Fb),e=t?Ce(k({},n),{children:t}):k({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=UL),e}var Op=new ie(""),Pb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(Qm)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return _e(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=wa(e.loadComponent()).pipe(Oe(ox),Ai(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Eo(()=>{this.componentLoaders.delete(e)})),r=new Fm(i,()=>new ge).pipe(Cv());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return _e({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=WL(i,this.compiler,e,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(i)})),o=new Fm(s,()=>new ge).pipe(Cv());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function WL(n,t,e,i){return wa(n.loadChildren()).pipe(Oe(ox),Jn(r=>r instanceof hS||Array.isArray(r)?_e(r):Ji(t.compileModuleAsync(r))),Oe(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(e).injector,o=s.get(Op,[],{optional:!0,self:!0}).flat()),{routes:o.map(Fb),injector:s}}))}function GL(n){return n&&typeof n=="object"&&"default"in n}function ox(n){return GL(n)?n.default:n}var Nb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>ee($L),providedIn:"root"})}}return n})(),$L=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ax=new ie(""),lx=new ie("");function YL(n,t,e){let i=n.get(lx),r=n.get($e);return n.get(ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),qL(n))),{onViewTransitionCreated:l}=i;return l&&ss(n,()=>l({transition:a,from:t,to:e})),o})}function qL(n){return new Promise(t=>{er({read:()=>setTimeout(t)},{injector:n})})}var XL=new ie(""),Lb=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=ee(Pb),this.environmentInjector=ee(ko),this.urlSerializer=ee(Ph),this.rootContexts=ee(Lh),this.location=ee(ll),this.inputBindingEnabled=ee(Mp,{optional:!0})!==null,this.titleStrategy=ee(sx),this.options=ee(Hh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(Nb),this.createViewTransition=ee(ax,{optional:!0}),this.navigationErrorHandler=ee(XL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_e(void 0),this.rootComponentType=null;let e=r=>this.events.next(new gb(r)),i=r=>this.events.next(new _b(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Ce(k(k({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new kr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(s=>s.id!==0),Oe(s=>Ce(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ii(s=>{let o=!1,a=!1;return _e(s).pipe(ii(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Gr.SupersededByNewNavigation),Dr;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&h!=="reload"){let m="";return this.events.next(new ya(l.id,this.urlSerializer.serialize(l.rawUrl),m,wp.IgnoredSameUrlNavigation)),l.resolve(!1),Dr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _e(l).pipe(ii(m=>{let f=this.transitions?.getValue();return this.events.next(new Ed(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),f!==this.transitions?.getValue()?Dr:Promise.resolve(m)}),LL(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ai(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ce(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let f=new Cp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:f,source:v,restoredState:C,extras:x}=l,E=new Ed(m,this.urlSerializer.serialize(f),v,C);this.events.next(E);let I=qE(this.rootComponentType).snapshot;return this.currentTransition=s=Ce(k({},l),{targetSnapshot:I,urlAfterRedirects:f,extras:Ce(k({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,_e(s)}else{let m="";return this.events.next(new ya(l.id,this.urlSerializer.serialize(l.extractedUrl),m,wp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dr}}),Ai(l=>{let c=new ub(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Oe(l=>(this.currentTransition=s=Ce(k({},l),{guards:nL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),pL(this.environmentInjector,l=>this.events.next(l)),Ai(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Tp(this.urlSerializer,l.guardsResult);let c=new mb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),pt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Gr.GuardRejected),!1)),ob(l=>{if(l.guards.canActivateChecks.length)return _e(l).pipe(Ai(c=>{let h=new pb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),ii(c=>{let h=!1;return _e(c).pipe(VL(this.paramsInheritanceStrategy,this.environmentInjector),Ai({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",Gr.NoDataFromResolver)}}))}),Ai(c=>{let h=new fb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),ob(l=>{let c=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ai(f=>{h.component=f}),Oe(()=>{})));for(let f of h.children)m.push(...c(f));return m};return ca(c(l.targetSnapshot.root)).pipe(Ev(null),$t(1))}),ob(()=>this.afterPreactivation()),ii(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return h?Ji(h).pipe(Oe(()=>s)):_e(s)}),Oe(l=>{let c=ZN(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ce(k({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),Ai(()=>{this.events.next(new Ih)}),iL(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),$t(1),Ai({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ks(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Tt(this.transitionAbortSubject.pipe(Ai(l=>{throw l}))),Eo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Gr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gs(l=>{if(a=!0,JE(l))this.events.next(new Oo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),tL(l)?this.events.next(new xd(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new Th(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let h=ss(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(h instanceof Ah){let{message:m,cancellationCode:f}=Tp(this.urlSerializer,h);this.events.next(new Oo(s.id,this.urlSerializer.serialize(s.extractedUrl),m,f)),this.events.next(new xd(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(c);let m=e.errorHandler(l);s.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Dr}))}))}cancelNavigationTransition(e,i,r){let s=new Oo(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KL(n){return n!==xh}var QL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>ee(ZL),providedIn:"root"})}}return n})(),Mb=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},ZL=(()=>{class n extends Mb{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:()=>ee(JL),providedIn:"root"})}}return n})(),JL=(()=>{class n extends dx{constructor(){super(...arguments),this.location=ee(ll),this.urlSerializer=ee(Ph),this.options=ee(Hh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(Nb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ao,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Ed)this.stateMemento=this.createStateMemento();else if(e instanceof ya)this.rawUrlTree=i.initialUrl;else if(e instanceof Cp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof Ih?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Oo&&(e.code===Gr.GuardRejected||e.code===Gr.NoDataFromResolver)?this.restoreHistory(i):e instanceof Th?this.restoreHistory(i,!0):e instanceof ks&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof Ao?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=k(k({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Sh||{});function cx(n,t){n.events.pipe(pt(e=>e instanceof ks||e instanceof Oo||e instanceof Th||e instanceof ya),Oe(e=>e instanceof ks||e instanceof ya?Sh.COMPLETE:(e instanceof Oo?e.code===Gr.Redirect||e.code===Gr.SupersededByNewNavigation:!1)?Sh.REDIRECTING:Sh.FAILED),pt(e=>e!==Sh.REDIRECTING),$t(1)).subscribe(()=>{t()})}function eV(n){throw n}var tV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$r=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ee(Ym),this.stateManager=ee(dx),this.options=ee(Hh,{optional:!0})||{},this.pendingTasks=ee(th),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(Lb),this.urlSerializer=ee(Ph),this.location=ee(ll),this.urlHandlingStrategy=ee(Nb),this._events=new ge,this.errorHandler=this.options.errorHandler||eV,this.navigated=!1,this.routeReuseStrategy=ee(QL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(Op,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(Mp,{optional:!0}),this.eventsSubscription=new Dt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Oo&&i.code!==Gr.Redirect&&i.code!==Gr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ks)this.navigated=!0;else if(i instanceof xd){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=k({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||KL(r.source)},o);this.scheduleNavigation(a,xh,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}rV(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=k({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Fb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let f=r?r.snapshot:this.routerState.snapshot.root;m=WE(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return GE(m,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ul(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,xh,null,i)}navigate(e,i={skipLocationChange:!1}){return nV(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=k({},tV):i===!1?r=k({},iV):r=i,ul(e))return EE(this.currentUrlTree,e,r);let s=this.parseUrl(e);return EE(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((m,f)=>{a=m,l=f});let h=this.pendingTasks.add();return cx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function nV(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new di(4008,!1)}function rV(n){return!(n instanceof Ih)&&!(n instanceof xd)}var Dd=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ul(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:lS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:ul(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(w($r),w(ml),Gn("tabindex"),w(dd),w(we),w(oh))}}static{this.\u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&X("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Ue("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fe],replaceUrl:[2,"replaceUrl","replaceUrl",Fe],routerLink:"routerLink"},standalone:!0,features:[It,Kt]})}}return n})(),hx=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ne,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof ks&&this.update()})}ngAfterContentInit(){_e(this.links.changes,_e(null)).pipe(Xc()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ji(e).pipe(Xc()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=sV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?e.isActive(s,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||n)(w($r),w(we),w(dd),w(Je),w(Dd,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(i&1&&Nt(s,Dd,5),i&2){let o;Ee(o=xe())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Kt]})}}return n})();function sV(n){return!!n.paths}var Ap=class{};var oV=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(e=>e instanceof ks),rs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Iv(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ji(r).pipe(Xc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=_e(null);let s=r.pipe(Jn(o=>o===null?_e(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return Ji([s,o]).pipe(Xc())}else return s})}static{this.\u0275fac=function(i){return new(i||n)(P($r),P(Qm),P(ko),P(Ap),P(Pb))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ux=new ie(""),aV=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ed?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ks?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ya&&e.code===wp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sp&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sp(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){fa()}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function lV(n){return n.routerState.root}function zh(n,t){return{\u0275kind:n,\u0275providers:t}}function dV(){let n=ee(ui);return t=>{let e=n.get(To);if(t!==e.components[0])return;let i=n.get($r),r=n.get(mx);n.get(Vb)===1&&i.initialNavigation(),n.get(px,null,kv.Optional)?.setUpPreloading(),n.get(ux,null,kv.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var mx=new ie("",{factory:()=>new ge}),Vb=new ie("",{providedIn:"root",factory:()=>1});function cV(){return zh(2,[{provide:Vb,useValue:0},{provide:md,multi:!0,deps:[ui],useFactory:t=>{let e=t.get(TS,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get($r),s=t.get(mx);cx(r,()=>{i(!0)}),t.get(Lb).afterPreactivation=()=>(i(!0),s.closed?_e(void 0):s),r.initialNavigation()}))}}])}function hV(){return zh(3,[{provide:md,multi:!0,useFactory:()=>{let t=ee($r);return()=>{t.setUpLocationChangeListener()}}},{provide:Vb,useValue:2}])}var px=new ie("");function uV(n){return zh(0,[{provide:px,useExisting:oV},{provide:Ap,useExisting:n}])}function mV(){return zh(8,[TE,{provide:Mp,useExisting:TE}])}function pV(n){let t=[{provide:ax,useValue:YL},{provide:lx,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return zh(9,t)}var ME=new ie("ROUTER_FORROOT_GUARD"),fV=[ll,{provide:Ph,useClass:Sd},$r,Lh,{provide:ml,useFactory:lV,deps:[$r]},Pb,[]],Bb=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[fV,[],{provide:Op,multi:!0,useValue:e},{provide:ME,useFactory:bV,deps:[[$r,new sd,new Jc]]},{provide:Hh,useValue:i||{}},i?.useHash?_V():vV(),gV(),i?.preloadingStrategy?uV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yV(i):[],i?.bindToComponentInputs?mV().\u0275providers:[],i?.enableViewTransitions?pV().\u0275providers:[],wV()]}}static forChild(e){return{ngModule:n,providers:[{provide:Op,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(P(ME,8))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})();function gV(){return{provide:ux,useFactory:()=>{let n=ee(RS),t=ee(ke),e=ee(Hh),i=ee(Lb),r=ee(Ph);return e.scrollOffset&&n.setOffset(e.scrollOffset),new aV(r,i,n,t,e)}}}function _V(){return{provide:oh,useClass:OS}}function vV(){return{provide:oh,useClass:IS}}function bV(n){return"guarded"}function yV(n){return[n.initialNavigation==="disabled"?hV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?cV().\u0275providers:[]]}var RE=new ie("");function wV(){return[{provide:RE,useFactory:dV},{provide:Av,multi:!0,useExisting:RE}]}var fx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["app-access-denied"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"center"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"h1",2),D(3,"Access denied"),b()()())},styles:[".center[_ngcontent-%COMP%]{text-align:center}"]})}}return n})();function gx(n){if(!(this instanceof gx))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");if(typeof n!="string"&&!zb(n))throw new Error("The 'Keycloak' constructor must be provided with a configuration object, or a URL to a JSON configuration file.");if(zb(n)){let O="oidcProvider"in n?["clientId"]:["url","realm","clientId"];for(let H of O)if(!n[H])throw new Error(`The configuration object is missing the required '${H}' property.`)}var t=this,e,i=[],r,s={enable:!0,callbackList:[],interval:5};t.didInitialize=!1;var o=!0,a=Qi(console.info),l=Qi(console.warn);globalThis.isSecureContext||l(`[KEYCLOAK] Keycloak JS must be used in a 'secure context' to function properly as it relies on browser APIs that are otherwise not available.
Continuing to run your application insecurely will lead to unexpected behavior and breakage.

For more information see: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts`),t.init=function(O={}){if(t.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");t.didInitialize=!0,t.authenticated=!1,r=Ft();var H=["default","cordova","cordova-native"];if(H.indexOf(O.adapter)>-1?e=Et(O.adapter):typeof O.adapter=="object"?e=O.adapter:window.Cordova||window.cordova?e=Et("cordova"):e=Et(),typeof O.useNonce<"u"&&(o=O.useNonce),typeof O.checkLoginIframe<"u"&&(s.enable=O.checkLoginIframe),O.checkLoginIframeInterval&&(s.interval=O.checkLoginIframeInterval),O.onLoad==="login-required"&&(t.loginRequired=!0),O.responseMode)if(O.responseMode==="query"||O.responseMode==="fragment")t.responseMode=O.responseMode;else throw"Invalid value for responseMode";if(O.flow){switch(O.flow){case"standard":t.responseType="code";break;case"implicit":t.responseType="id_token token";break;case"hybrid":t.responseType="code id_token token";break;default:throw"Invalid value for flow"}t.flow=O.flow}if(O.timeSkew!=null&&(t.timeSkew=O.timeSkew),O.redirectUri&&(t.redirectUri=O.redirectUri),O.silentCheckSsoRedirectUri&&(t.silentCheckSsoRedirectUri=O.silentCheckSsoRedirectUri),typeof O.silentCheckSsoFallback=="boolean"?t.silentCheckSsoFallback=O.silentCheckSsoFallback:t.silentCheckSsoFallback=!0,typeof O.pkceMethod<"u"){if(O.pkceMethod!=="S256"&&O.pkceMethod!==!1)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${O.pkceMethod}.`);t.pkceMethod=O.pkceMethod}else t.pkceMethod="S256";typeof O.enableLogging=="boolean"?t.enableLogging=O.enableLogging:t.enableLogging=!1,O.logoutMethod==="POST"?t.logoutMethod="POST":t.logoutMethod="GET",typeof O.scope=="string"&&(t.scope=O.scope),typeof O.acrValues=="string"&&(t.acrValues=O.acrValues),typeof O.messageReceiveTimeout=="number"&&O.messageReceiveTimeout>0?t.messageReceiveTimeout=O.messageReceiveTimeout:t.messageReceiveTimeout=1e4,t.responseMode||(t.responseMode="fragment"),t.responseType||(t.responseType="code",t.flow="standard");var ae=Q(),z=Q();z.promise.then(function(){t.onReady&&t.onReady(t.authenticated),ae.setSuccess(t.authenticated)}).catch(function(J){ae.setError(J)});var oe=I();function Z(){var J=function(et){et||(nt.prompt="none"),O.locale&&(nt.locale=O.locale),t.login(nt).then(function(){z.setSuccess()}).catch(function(fe){z.setError(fe)})},Ae=function(){return Ze(this,null,function*(){var et=document.createElement("iframe"),fe=yield t.createLoginUrl({prompt:"none",redirectUri:t.silentCheckSsoRedirectUri});et.setAttribute("src",fe),et.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),et.setAttribute("title","keycloak-silent-check-sso"),et.style.display="none",document.body.appendChild(et);var Ye=function(zt){if(!(zt.origin!==window.location.origin||et.contentWindow!==zt.source)){var Vt=j(zt.data);E(Vt,z),document.body.removeChild(et),window.removeEventListener("message",Ye)}};window.addEventListener("message",Ye)})},nt={};switch(O.onLoad){case"check-sso":s.enable?Be().then(function(){ct().then(function(et){et?z.setSuccess():t.silentCheckSsoRedirectUri?Ae():J(!1)}).catch(function(et){z.setError(et)})}):t.silentCheckSsoRedirectUri?Ae():J(!1);break;case"login-required":J(!0);break;default:throw"Invalid value for onLoad"}}function K(){var J=j(window.location.href);if(J&&window.history.replaceState(window.history.state,null,J.newUrl),J&&J.valid)return Be().then(function(){E(J,z)}).catch(function(Ae){z.setError(Ae)});O.token&&O.refreshToken?(L(O.token,O.refreshToken,O.idToken),s.enable?Be().then(function(){ct().then(function(Ae){Ae?(t.onAuthSuccess&&t.onAuthSuccess(),z.setSuccess(),Ge()):z.setSuccess()}).catch(function(Ae){z.setError(Ae)})}):t.updateToken(-1).then(function(){t.onAuthSuccess&&t.onAuthSuccess(),z.setSuccess()}).catch(function(Ae){t.onAuthError&&t.onAuthError(),O.onLoad?Z():z.setError(Ae)})):O.onLoad?Z():z.setSuccess()}return oe.then(function(){St().then(K).catch(function(J){ae.setError(J)})}),oe.catch(function(J){ae.setError(J)}),ae.promise},t.login=function(O){return e.login(O)};function c(O){if(typeof crypto>"u"||typeof crypto.getRandomValues>"u")throw new Error("Web Crypto API is not available.");return crypto.getRandomValues(new Uint8Array(O))}function h(O){return m(O,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function m(O,H){for(var ae=c(O),z=new Array(O),oe=0;oe<O;oe++)z[oe]=H.charCodeAt(ae[oe]%H.length);return String.fromCharCode.apply(null,z)}function f(O,H){return Ze(this,null,function*(){if(O!=="S256")throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${O}'.`);let ae=new Uint8Array(yield SV(H));return CV(ae).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")})}function v(O){var H={id_token:{acr:O}};return JSON.stringify(H)}t.createLoginUrl=function(O){return Ze(this,null,function*(){var H=V(),ae=V(),z=e.redirectUri(O),oe={state:H,nonce:ae,redirectUri:encodeURIComponent(z),loginOptions:O};O&&O.prompt&&(oe.prompt=O.prompt);var Z;O&&O.action=="register"?Z=t.endpoints.register():Z=t.endpoints.authorize();var K=O&&O.scope||t.scope;K?K.indexOf("openid")===-1&&(K="openid "+K):K="openid";var J=Z+"?client_id="+encodeURIComponent(t.clientId)+"&redirect_uri="+encodeURIComponent(z)+"&state="+encodeURIComponent(H)+"&response_mode="+encodeURIComponent(t.responseMode)+"&response_type="+encodeURIComponent(t.responseType)+"&scope="+encodeURIComponent(K);if(o&&(J=J+"&nonce="+encodeURIComponent(ae)),O&&O.prompt&&(J+="&prompt="+encodeURIComponent(O.prompt)),O&&typeof O.maxAge=="number"&&(J+="&max_age="+encodeURIComponent(O.maxAge)),O&&O.loginHint&&(J+="&login_hint="+encodeURIComponent(O.loginHint)),O&&O.idpHint&&(J+="&kc_idp_hint="+encodeURIComponent(O.idpHint)),O&&O.action&&O.action!="register"&&(J+="&kc_action="+encodeURIComponent(O.action)),O&&O.locale&&(J+="&ui_locales="+encodeURIComponent(O.locale)),O&&O.acr){var Ae=v(O.acr);J+="&claims="+encodeURIComponent(Ae)}if((O&&O.acrValues||t.acrValues)&&(J+="&acr_values="+encodeURIComponent(O.acrValues||t.acrValues)),t.pkceMethod)try{let nt=h(96),et=yield f(t.pkceMethod,nt);oe.pkceCodeVerifier=nt,J+="&code_challenge="+et,J+="&code_challenge_method="+t.pkceMethod}catch(nt){throw new Error("Failed to generate PKCE challenge.",{cause:nt})}return r.add(oe),J})},t.logout=function(O){return e.logout(O)},t.createLogoutUrl=function(O){if((O?.logoutMethod??t.logoutMethod)==="POST")return t.endpoints.logout();var ae=t.endpoints.logout()+"?client_id="+encodeURIComponent(t.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(e.redirectUri(O,!1));return t.idToken&&(ae+="&id_token_hint="+encodeURIComponent(t.idToken)),ae},t.register=function(O){return e.register(O)},t.createRegisterUrl=function(O){return Ze(this,null,function*(){return O||(O={}),O.action="register",yield t.createLoginUrl(O)})},t.createAccountUrl=function(O){var H=C(),ae=void 0;return typeof H<"u"&&(ae=H+"/account?referrer="+encodeURIComponent(t.clientId)+"&referrer_uri="+encodeURIComponent(e.redirectUri(O))),ae},t.accountManagement=function(){return e.accountManagement()},t.hasRealmRole=function(O){var H=t.realmAccess;return!!H&&H.roles.indexOf(O)>=0},t.hasResourceRole=function(O,H){if(!t.resourceAccess)return!1;var ae=t.resourceAccess[H||t.clientId];return!!ae&&ae.roles.indexOf(O)>=0},t.loadUserProfile=function(){var O=C()+"/account",H=new XMLHttpRequest;H.open("GET",O,!0),H.setRequestHeader("Accept","application/json"),H.setRequestHeader("Authorization","bearer "+t.token);var ae=Q();return H.onreadystatechange=function(){H.readyState==4&&(H.status==200?(t.profile=JSON.parse(H.responseText),ae.setSuccess(t.profile)):ae.setError())},H.send(),ae.promise},t.loadUserInfo=function(){var O=t.endpoints.userinfo(),H=new XMLHttpRequest;H.open("GET",O,!0),H.setRequestHeader("Accept","application/json"),H.setRequestHeader("Authorization","bearer "+t.token);var ae=Q();return H.onreadystatechange=function(){H.readyState==4&&(H.status==200?(t.userInfo=JSON.parse(H.responseText),ae.setSuccess(t.userInfo)):ae.setError())},H.send(),ae.promise},t.isTokenExpired=function(O){if(!t.tokenParsed||!t.refreshToken&&t.flow!="implicit")throw"Not authenticated";if(t.timeSkew==null)return a("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var H=t.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+t.timeSkew;if(O){if(isNaN(O))throw"Invalid minValidity";H-=O}return H<0},t.updateToken=function(O){var H=Q();if(!t.refreshToken)return H.setError(),H.promise;O=O||5;var ae=function(){var oe=!1;if(O==-1?(oe=!0,a("[KEYCLOAK] Refreshing token: forced refresh")):(!t.tokenParsed||t.isTokenExpired(O))&&(oe=!0,a("[KEYCLOAK] Refreshing token: token expired")),!oe)H.setSuccess(!1);else{var Z="grant_type=refresh_token&refresh_token="+t.refreshToken,K=t.endpoints.token();if(i.push(H),i.length==1){var J=new XMLHttpRequest;J.open("POST",K,!0),J.setRequestHeader("Content-type","application/x-www-form-urlencoded"),J.withCredentials=!0,Z+="&client_id="+encodeURIComponent(t.clientId);var Ae=new Date().getTime();J.onreadystatechange=function(){if(J.readyState==4)if(J.status==200){a("[KEYCLOAK] Token refreshed"),Ae=(Ae+new Date().getTime())/2;var nt=JSON.parse(J.responseText);L(nt.access_token,nt.refresh_token,nt.id_token,Ae),t.onAuthRefreshSuccess&&t.onAuthRefreshSuccess();for(var et=i.pop();et!=null;et=i.pop())et.setSuccess(!0)}else{l("[KEYCLOAK] Failed to refresh token"),J.status==400&&t.clearToken(),t.onAuthRefreshError&&t.onAuthRefreshError();for(var et=i.pop();et!=null;et=i.pop())et.setError("Failed to refresh token: An unexpected HTTP error occurred while attempting to refresh the token.")}},J.send(Z)}}};if(s.enable){var z=ct();z.then(function(){ae()}).catch(function(oe){H.setError(oe)})}else ae();return H.promise},t.clearToken=function(){t.token&&(L(null,null,null),t.onAuthLogout&&t.onAuthLogout(),t.loginRequired&&t.login())};function C(){if(typeof t.authServerUrl<"u")return t.authServerUrl.charAt(t.authServerUrl.length-1)=="/"?t.authServerUrl+"realms/"+encodeURIComponent(t.realm):t.authServerUrl+"/realms/"+encodeURIComponent(t.realm)}function x(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function E(O,H){var ae=O.code,z=O.error,oe=O.prompt,Z=new Date().getTime();if(O.kc_action_status&&t.onActionUpdate&&t.onActionUpdate(O.kc_action_status,O.kc_action),z){if(oe!="none")if(O.error_description&&O.error_description==="authentication_expired")t.login(O.loginOptions);else{var K={error:z,error_description:O.error_description};t.onAuthError&&t.onAuthError(K),H&&H.setError(K)}else H&&H.setSuccess();return}else t.flow!="standard"&&(O.access_token||O.id_token)&&et(O.access_token,null,O.id_token,!0);if(t.flow!="implicit"&&ae){var J="code="+ae+"&grant_type=authorization_code",Ae=t.endpoints.token(),nt=new XMLHttpRequest;nt.open("POST",Ae,!0),nt.setRequestHeader("Content-type","application/x-www-form-urlencoded"),J+="&client_id="+encodeURIComponent(t.clientId),J+="&redirect_uri="+O.redirectUri,O.pkceCodeVerifier&&(J+="&code_verifier="+O.pkceCodeVerifier),nt.withCredentials=!0,nt.onreadystatechange=function(){if(nt.readyState==4)if(nt.status==200){var fe=JSON.parse(nt.responseText);et(fe.access_token,fe.refresh_token,fe.id_token,t.flow==="standard"),Ge()}else t.onAuthError&&t.onAuthError(),H&&H.setError()},nt.send(J)}function et(fe,Ye,zt,Vt){Z=(Z+new Date().getTime())/2,L(fe,Ye,zt,Z),o&&t.idTokenParsed&&t.idTokenParsed.nonce!=O.storedNonce?(a("[KEYCLOAK] Invalid nonce, clearing token"),t.clearToken(),H&&H.setError()):Vt&&(t.onAuthSuccess&&t.onAuthSuccess(),H&&H.setSuccess())}}function I(){var O=Q(),H;typeof n=="string"&&(H=n);function ae(K){K?t.endpoints={authorize:function(){return K.authorization_endpoint},token:function(){return K.token_endpoint},logout:function(){if(!K.end_session_endpoint)throw"Not supported by the OIDC server";return K.end_session_endpoint},checkSessionIframe:function(){if(!K.check_session_iframe)throw"Not supported by the OIDC server";return K.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!K.userinfo_endpoint)throw"Not supported by the OIDC server";return K.userinfo_endpoint}}:t.endpoints={authorize:function(){return C()+"/protocol/openid-connect/auth"},token:function(){return C()+"/protocol/openid-connect/token"},logout:function(){return C()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){return C()+"/protocol/openid-connect/login-status-iframe.html"},thirdPartyCookiesIframe:function(){return C()+"/protocol/openid-connect/3p-cookies/step1.html"},register:function(){return C()+"/protocol/openid-connect/registrations"},userinfo:function(){return C()+"/protocol/openid-connect/userinfo"}}}if(H){var z=new XMLHttpRequest;z.open("GET",H,!0),z.setRequestHeader("Accept","application/json"),z.onreadystatechange=function(){if(z.readyState==4)if(z.status==200||N(z)){var K=JSON.parse(z.responseText);t.authServerUrl=K["auth-server-url"],t.realm=K.realm,t.clientId=K.resource,ae(null),O.setSuccess()}else O.setError()},z.send()}else{t.clientId=n.clientId;var oe=n.oidcProvider;if(!oe)t.authServerUrl=n.url,t.realm=n.realm,ae(null),O.setSuccess();else if(typeof oe=="string"){var Z;oe.charAt(oe.length-1)=="/"?Z=oe+".well-known/openid-configuration":Z=oe+"/.well-known/openid-configuration";var z=new XMLHttpRequest;z.open("GET",Z,!0),z.setRequestHeader("Accept","application/json"),z.onreadystatechange=function(){if(z.readyState==4)if(z.status==200||N(z)){var J=JSON.parse(z.responseText);ae(J),O.setSuccess()}else O.setError()},z.send()}else ae(oe),O.setSuccess()}return O.promise}function N(O){return O.status==0&&O.responseText&&O.responseURL.startsWith("file:")}function L(O,H,ae,z){if(t.tokenTimeoutHandle&&(clearTimeout(t.tokenTimeoutHandle),t.tokenTimeoutHandle=null),H?(t.refreshToken=H,t.refreshTokenParsed=Hb(H)):(delete t.refreshToken,delete t.refreshTokenParsed),ae?(t.idToken=ae,t.idTokenParsed=Hb(ae)):(delete t.idToken,delete t.idTokenParsed),O){if(t.token=O,t.tokenParsed=Hb(O),t.sessionId=t.tokenParsed.sid,t.authenticated=!0,t.subject=t.tokenParsed.sub,t.realmAccess=t.tokenParsed.realm_access,t.resourceAccess=t.tokenParsed.resource_access,z&&(t.timeSkew=Math.floor(z/1e3)-t.tokenParsed.iat),t.timeSkew!=null&&(a("[KEYCLOAK] Estimated time difference between browser and server is "+t.timeSkew+" seconds"),t.onTokenExpired)){var oe=(t.tokenParsed.exp-new Date().getTime()/1e3+t.timeSkew)*1e3;a("[KEYCLOAK] Token expires in "+Math.round(oe/1e3)+" s"),oe<=0?t.onTokenExpired():t.tokenTimeoutHandle=setTimeout(t.onTokenExpired,oe)}}else delete t.token,delete t.tokenParsed,delete t.subject,delete t.realmAccess,delete t.resourceAccess,t.authenticated=!1}function V(){if(typeof crypto>"u"||typeof crypto.randomUUID>"u")throw new Error("Web Crypto API is not available.");return crypto.randomUUID()}function j(O){var H=Y(O);if(H){var ae=r.get(H.state);return ae&&(H.valid=!0,H.redirectUri=ae.redirectUri,H.storedNonce=ae.nonce,H.prompt=ae.prompt,H.pkceCodeVerifier=ae.pkceCodeVerifier,H.loginOptions=ae.loginOptions),H}}function Y(O){var H;switch(t.flow){case"standard":H=["code","state","session_state","kc_action_status","kc_action","iss"];break;case"implicit":H=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","kc_action","iss"];break;case"hybrid":H=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","kc_action","iss"];break}H.push("error"),H.push("error_description"),H.push("error_uri");var ae=O.indexOf("?"),z=O.indexOf("#"),oe,Z;if(t.responseMode==="query"&&ae!==-1?(oe=O.substring(0,ae),Z=me(O.substring(ae+1,z!==-1?z:O.length),H),Z.paramsString!==""&&(oe+="?"+Z.paramsString),z!==-1&&(oe+=O.substring(z))):t.responseMode==="fragment"&&z!==-1&&(oe=O.substring(0,z),Z=me(O.substring(z+1),H),Z.paramsString!==""&&(oe+="#"+Z.paramsString)),Z&&Z.oauthParams){if(t.flow==="standard"||t.flow==="hybrid"){if((Z.oauthParams.code||Z.oauthParams.error)&&Z.oauthParams.state)return Z.oauthParams.newUrl=oe,Z.oauthParams}else if(t.flow==="implicit"&&(Z.oauthParams.access_token||Z.oauthParams.error)&&Z.oauthParams.state)return Z.oauthParams.newUrl=oe,Z.oauthParams}}function me(O,H){for(var ae=O.split("&"),z={paramsString:"",oauthParams:{}},oe=0;oe<ae.length;oe++){var Z=ae[oe].indexOf("="),K=ae[oe].slice(0,Z);H.indexOf(K)!==-1?z.oauthParams[K]=ae[oe].slice(Z+1):(z.paramsString!==""&&(z.paramsString+="&"),z.paramsString+=ae[oe])}return z}function Q(){var O={setSuccess:function(H){O.resolve(H)},setError:function(H){O.reject(H)}};return O.promise=new Promise(function(H,ae){O.resolve=H,O.reject=ae}),O}function pe(O,H,ae){var z=null,oe=new Promise(function(Z,K){z=setTimeout(function(){K({error:ae||"Promise is not settled within timeout of "+H+"ms"})},H)});return Promise.race([O,oe]).finally(function(){clearTimeout(z)})}function Be(){var O=Q();if(!s.enable||s.iframe)return O.setSuccess(),O.promise;var H=document.createElement("iframe");s.iframe=H,H.onload=function(){var oe=t.endpoints.authorize();oe.charAt(0)==="/"?s.iframeOrigin=x():s.iframeOrigin=oe.substring(0,oe.indexOf("/",8)),O.setSuccess()};var ae=t.endpoints.checkSessionIframe();H.setAttribute("src",ae),H.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),H.setAttribute("title","keycloak-session-iframe"),H.style.display="none",document.body.appendChild(H);var z=function(oe){if(!(oe.origin!==s.iframeOrigin||s.iframe.contentWindow!==oe.source)&&(oe.data=="unchanged"||oe.data=="changed"||oe.data=="error")){oe.data!="unchanged"&&t.clearToken();for(var Z=s.callbackList.splice(0,s.callbackList.length),K=Z.length-1;K>=0;--K){var J=Z[K];oe.data=="error"?J.setError():J.setSuccess(oe.data=="unchanged")}}};return window.addEventListener("message",z,!1),O.promise}function Ge(){s.enable&&t.token&&setTimeout(function(){ct().then(function(O){O&&Ge()})},s.interval*1e3)}function ct(){var O=Q();if(s.iframe&&s.iframeOrigin){var H=t.clientId+" "+(t.sessionId?t.sessionId:"");s.callbackList.push(O);var ae=s.iframeOrigin;s.callbackList.length==1&&s.iframe.contentWindow.postMessage(H,ae)}else O.setSuccess();return O.promise}function St(){var O=Q();if((s.enable||t.silentCheckSsoRedirectUri)&&typeof t.endpoints.thirdPartyCookiesIframe=="function"){var H=document.createElement("iframe");H.setAttribute("src",t.endpoints.thirdPartyCookiesIframe()),H.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),H.setAttribute("title","keycloak-3p-check-iframe"),H.style.display="none",document.body.appendChild(H);var ae=function(z){H.contentWindow===z.source&&(z.data!=="supported"&&z.data!=="unsupported"||(z.data==="unsupported"&&(l(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/securing-apps/javascript-adapter#_modern_browsers`),s.enable=!1,t.silentCheckSsoFallback&&(t.silentCheckSsoRedirectUri=!1)),document.body.removeChild(H),window.removeEventListener("message",ae),O.setSuccess()))};window.addEventListener("message",ae,!1)}else O.setSuccess();return pe(O.promise,t.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function Et(O){if(!O||O=="default")return{login:function(K){return Ze(this,null,function*(){return window.location.assign(yield t.createLoginUrl(K)),Q().promise})},logout:function(K){return Ze(this,null,function*(){if((K?.logoutMethod??t.logoutMethod)==="GET"){window.location.replace(t.createLogoutUrl(K));return}let Ae=document.createElement("form");Ae.setAttribute("method","POST"),Ae.setAttribute("action",t.createLogoutUrl(K)),Ae.style.display="none";let nt={id_token_hint:t.idToken,client_id:t.clientId,post_logout_redirect_uri:e.redirectUri(K,!1)};for(let[et,fe]of Object.entries(nt)){let Ye=document.createElement("input");Ye.setAttribute("type","hidden"),Ye.setAttribute("name",et),Ye.setAttribute("value",fe),Ae.appendChild(Ye)}document.body.appendChild(Ae),Ae.submit()})},register:function(K){return Ze(this,null,function*(){return window.location.assign(yield t.createRegisterUrl(K)),Q().promise})},accountManagement:function(){var K=t.createAccountUrl();if(typeof K<"u")window.location.href=K;else throw"Not supported by the OIDC server";return Q().promise},redirectUri:function(K,J){return arguments.length==1&&(J=!0),K&&K.redirectUri?K.redirectUri:t.redirectUri?t.redirectUri:location.href}};if(O=="cordova"){s.enable=!1;var H=function(K,J,Ae){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(K,J,Ae):window.open(K,J,Ae)},ae=function(K){return K&&K.cordovaOptions?Object.keys(K.cordovaOptions).reduce(function(J,Ae){return J[Ae]=K.cordovaOptions[Ae],J},{}):{}},z=function(K){return Object.keys(K).reduce(function(J,Ae){return J.push(Ae+"="+K[Ae]),J},[]).join(",")},oe=function(K){var J=ae(K);return J.location="no",K&&K.prompt=="none"&&(J.hidden="yes"),z(J)},Z=function(){return t.redirectUri||"http://localhost"};return{login:function(K){return Ze(this,null,function*(){var J=Q(),Ae=oe(K),nt=yield t.createLoginUrl(K),et=H(nt,"_blank",Ae),fe=!1,Ye=!1,zt=function(){Ye=!0,et.close()};return et.addEventListener("loadstart",function(Vt){if(Vt.url.indexOf(Z())==0){var ji=j(Vt.url);E(ji,J),zt(),fe=!0}}),et.addEventListener("loaderror",function(Vt){if(!fe)if(Vt.url.indexOf(Z())==0){var ji=j(Vt.url);E(ji,J),zt(),fe=!0}else J.setError(),zt()}),et.addEventListener("exit",function(Vt){Ye||J.setError({reason:"closed_by_user"})}),J.promise})},logout:function(K){var J=Q(),Ae=t.createLogoutUrl(K),nt=H(Ae,"_blank","location=no,hidden=yes,clearcache=yes"),et;return nt.addEventListener("loadstart",function(fe){fe.url.indexOf(Z())==0&&nt.close()}),nt.addEventListener("loaderror",function(fe){fe.url.indexOf(Z())==0||(et=!0),nt.close()}),nt.addEventListener("exit",function(fe){et?J.setError():(t.clearToken(),J.setSuccess())}),J.promise},register:function(K){return Ze(this,null,function*(){var J=Q(),Ae=yield t.createRegisterUrl(),nt=oe(K),et=H(Ae,"_blank",nt);return et.addEventListener("loadstart",function(fe){if(fe.url.indexOf(Z())==0){et.close();var Ye=j(fe.url);E(Ye,J)}}),J.promise})},accountManagement:function(){var K=t.createAccountUrl();if(typeof K<"u"){var J=H(K,"_blank","location=no");J.addEventListener("loadstart",function(Ae){Ae.url.indexOf(Z())==0&&J.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(K){return Z()}}}if(O=="cordova-native")return s.enable=!1,{login:function(K){return Ze(this,null,function*(){var J=Q(),Ae=yield t.createLoginUrl(K);return universalLinks.subscribe("keycloak",function(nt){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var et=j(nt.url);E(et,J)}),window.cordova.plugins.browsertab.openUrl(Ae),J.promise})},logout:function(K){var J=Q(),Ae=t.createLogoutUrl(K);return universalLinks.subscribe("keycloak",function(nt){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),t.clearToken(),J.setSuccess()}),window.cordova.plugins.browsertab.openUrl(Ae),J.promise},register:function(K){return Ze(this,null,function*(){var J=Q(),Ae=yield t.createRegisterUrl(K);return universalLinks.subscribe("keycloak",function(nt){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var et=j(nt.url);E(et,J)}),window.cordova.plugins.browsertab.openUrl(Ae),J.promise})},accountManagement:function(){var K=t.createAccountUrl();if(typeof K<"u")window.cordova.plugins.browsertab.openUrl(K);else throw"Not supported by the OIDC server"},redirectUri:function(K){return K&&K.redirectUri?K.redirectUri:t.redirectUri?t.redirectUri:"http://localhost"}};throw"invalid adapter type: "+O}let xt="kc-callback-";var Rt=function(){if(!(this instanceof Rt))return new Rt;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var O=this;function H(){let Z=Date.now();for(let[K,J]of z()){let Ae=oe(J);(Ae===null||Ae<Z)&&localStorage.removeItem(K)}}function ae(){for(let[Z]of z())localStorage.removeItem(Z)}function z(){return Object.entries(localStorage).filter(([Z])=>Z.startsWith(xt))}function oe(Z){let K;try{K=JSON.parse(Z)}catch{return null}return zb(K)&&"expires"in K&&typeof K.expires=="number"?K.expires:null}O.get=function(Z){if(Z){var K=xt+Z,J=localStorage.getItem(K);return J&&(localStorage.removeItem(K),J=JSON.parse(J)),H(),J}},O.add=function(Z){H();let K=xt+Z.state,J=JSON.stringify(Ce(k({},Z),{expires:Date.now()+60*60*1e3}));try{localStorage.setItem(K,J)}catch{ae(),localStorage.setItem(K,J)}}},kt=function(){if(!(this instanceof kt))return new kt;var O=this;O.get=function(oe){if(oe){var Z=ae(xt+oe);if(z(xt+oe,"",H(-100)),Z)return JSON.parse(Z)}},O.add=function(oe){z(xt+oe.state,JSON.stringify(oe),H(60))},O.removeItem=function(oe){z(oe,"",H(-100))};var H=function(oe){var Z=new Date;return Z.setTime(Z.getTime()+oe*60*1e3),Z},ae=function(oe){for(var Z=oe+"=",K=document.cookie.split(";"),J=0;J<K.length;J++){for(var Ae=K[J];Ae.charAt(0)==" ";)Ae=Ae.substring(1);if(Ae.indexOf(Z)==0)return Ae.substring(Z.length,Ae.length)}return""},z=function(oe,Z,K){var J=oe+"="+Z+"; expires="+K.toUTCString()+"; ";document.cookie=J}};function Ft(){try{return new Rt}catch{}return new kt}function Qi(O){return function(){t.enableLogging&&O.apply(console,Array.prototype.slice.call(arguments))}}}var _x=gx;function CV(n){let t=String.fromCodePoint(...n);return btoa(t)}function SV(n){return Ze(this,null,function*(){let e=new TextEncoder().encode(n);if(typeof crypto>"u"||typeof crypto.subtle>"u")throw new Error("Web Crypto API is not available.");return yield crypto.subtle.digest("SHA-256",e)})}function Hb(n){let[t,e]=n.split(".");if(typeof e!="string")throw new Error("Unable to decode token, payload not found.");let i;try{i=EV(e)}catch(r){throw new Error("Unable to decode token, payload is not a valid Base64URL value.",{cause:r})}try{return JSON.parse(i)}catch(r){throw new Error("Unable to decode token, payload is not a valid JSON value.",{cause:r})}}function EV(n){let t=n.replaceAll("-","+").replaceAll("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Input is not of the correct length.")}try{return xV(t)}catch{return atob(t)}}function xV(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function zb(n){return typeof n=="object"&&n!==null}var Mo=function(n){return n[n.OnAuthError=0]="OnAuthError",n[n.OnAuthLogout=1]="OnAuthLogout",n[n.OnAuthRefreshError=2]="OnAuthRefreshError",n[n.OnAuthRefreshSuccess=3]="OnAuthRefreshSuccess",n[n.OnAuthSuccess=4]="OnAuthSuccess",n[n.OnReady=5]="OnReady",n[n.OnTokenExpired=6]="OnTokenExpired",n[n.OnActionUpdate=7]="OnActionUpdate",n}(Mo||{}),Fp=class{constructor(t,e){this.router=t,this.keycloakAngular=e}canActivate(t,e){return Ze(this,null,function*(){try{return this.authenticated=yield this.keycloakAngular.isLoggedIn(),this.roles=yield this.keycloakAngular.getUserRoles(!0),yield this.isAccessAllowed(t,e)}catch(i){throw new Error("An error happened during access validation. Details:"+i)}})}},Ca=(()=>{class n{constructor(){this._keycloakEvents$=new ge}bindsKeycloakEvents(){this._instance.onAuthError=e=>{this._keycloakEvents$.next({args:e,type:Mo.OnAuthError})},this._instance.onAuthLogout=()=>{this._keycloakEvents$.next({type:Mo.OnAuthLogout})},this._instance.onAuthRefreshSuccess=()=>{this._keycloakEvents$.next({type:Mo.OnAuthRefreshSuccess})},this._instance.onAuthRefreshError=()=>{this._keycloakEvents$.next({type:Mo.OnAuthRefreshError})},this._instance.onAuthSuccess=()=>{this._keycloakEvents$.next({type:Mo.OnAuthSuccess})},this._instance.onTokenExpired=()=>{this._keycloakEvents$.next({type:Mo.OnTokenExpired})},this._instance.onActionUpdate=e=>{this._keycloakEvents$.next({args:e,type:Mo.OnActionUpdate})},this._instance.onReady=e=>{this._keycloakEvents$.next({args:e,type:Mo.OnReady})}}loadExcludedUrls(e){let i=[];for(let r of e){let s;typeof r=="string"?s={urlPattern:new RegExp(r,"i"),httpMethods:[]}:s={urlPattern:new RegExp(r.url,"i"),httpMethods:r.httpMethods},i.push(s)}return i}initServiceValues({enableBearerInterceptor:e=!0,loadUserProfileAtStartUp:i=!1,bearerExcludedUrls:r=[],authorizationHeaderName:s="Authorization",bearerPrefix:o="Bearer",initOptions:a,updateMinValidity:l=20,shouldAddToken:c=()=>!0,shouldUpdateToken:h=()=>!0}){this._enableBearerInterceptor=e,this._loadUserProfileAtStartUp=i,this._authorizationHeaderName=s,this._bearerPrefix=o.trim().concat(" "),this._excludedUrls=this.loadExcludedUrls(r),this._silentRefresh=a?a.flow==="implicit":!1,this._updateMinValidity=l,this.shouldAddToken=c,this.shouldUpdateToken=h}init(){return Ze(this,arguments,function*(e={}){this.initServiceValues(e);let{config:i,initOptions:r}=e;this._instance=new _x(i),this.bindsKeycloakEvents();let s=yield this._instance.init(r);return s&&this._loadUserProfileAtStartUp&&(yield this.loadUserProfile()),s})}login(){return Ze(this,arguments,function*(e={}){yield this._instance.login(e),this._loadUserProfileAtStartUp&&(yield this.loadUserProfile())})}logout(e){return Ze(this,null,function*(){let i={redirectUri:e};yield this._instance.logout(i),this._userProfile=void 0})}register(){return Ze(this,arguments,function*(e={action:"register"}){yield this._instance.register(e)})}isUserInRole(e,i){let r;return r=this._instance.hasResourceRole(e,i),r||(r=this._instance.hasRealmRole(e)),r}getUserRoles(e=!0,i){let r=[];if(this._instance.resourceAccess&&Object.keys(this._instance.resourceAccess).forEach(s=>{if(i&&i!==s)return;let a=this._instance.resourceAccess[s].roles||[];r=r.concat(a)}),e&&this._instance.realmAccess){let s=this._instance.realmAccess.roles||[];r.push(...s)}return r}isLoggedIn(){return this._instance?this._instance.authenticated:!1}isTokenExpired(e=0){return this._instance.isTokenExpired(e)}updateToken(){return Ze(this,arguments,function*(e=this._updateMinValidity){if(this._silentRefresh){if(this.isTokenExpired())throw new Error("Failed to refresh the token, or the session is expired");return!0}if(!this._instance)throw new Error("Keycloak Angular library is not initialized.");try{return yield this._instance.updateToken(e)}catch{return!1}})}loadUserProfile(e=!1){return Ze(this,null,function*(){if(this._userProfile&&!e)return this._userProfile;if(!this._instance.authenticated)throw new Error("The user profile was not loaded as the user is not logged in.");return this._userProfile=yield this._instance.loadUserProfile()})}getToken(){return Ze(this,null,function*(){return this._instance.token})}getUsername(){if(!this._userProfile)throw new Error("User not logged in or user profile was not loaded.");return this._userProfile.username}clearToken(){this._instance.clearToken()}addTokenToHeader(e=new jr){return Ji(this.getToken()).pipe(Oe(i=>i?e.set(this._authorizationHeaderName,this._bearerPrefix+i):e))}getKeycloakInstance(){return this._instance}get excludedUrls(){return this._excludedUrls}get enableBearerInterceptor(){return this._enableBearerInterceptor}get keycloakEvents$(){return this._keycloakEvents$}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),kV=(()=>{class n{constructor(e){this.keycloak=e}conditionallyUpdateToken(e){return Ze(this,null,function*(){return this.keycloak.shouldUpdateToken(e)?yield this.keycloak.updateToken():!0})}isUrlExcluded({method:e,url:i},{urlPattern:r,httpMethods:s}){let o=s.length===0||s.join().indexOf(e.toUpperCase())>-1,a=r.test(i);return o&&a}intercept(e,i){let{enableBearerInterceptor:r,excludedUrls:s}=this.keycloak;return!r||!this.keycloak.shouldAddToken(e)||s.findIndex(a=>this.isUrlExcluded(e,a))>-1?i.handle(e):ca([Ji(this.conditionallyUpdateToken(e)),_e(this.keycloak.isLoggedIn())]).pipe(Jn(([a,l])=>l?this.handleRequestWithTokenHeader(e,i):i.handle(e)))}handleRequestWithTokenHeader(e,i){return this.keycloak.addTokenToHeader(e.headers).pipe(Jn(r=>{let s=e.clone({headers:r});return i.handle(s)}))}static{this.\u0275fac=function(i){return new(i||n)(P(Ca))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),DV=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[Ca,{provide:uh,useClass:kV,multi:!0}],imports:[Pi]})}}return n})(),vx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[DV]})}}return n})();var Tr=(()=>{class n extends Fp{constructor(e,i){super(e,i),this.router=e,this.keycloak=i}isAccessAllowed(e,i){return Ze(this,null,function*(){if(!this.authenticated)return!1;let r=e.data.roles;return!(r instanceof Array)||r.length===0||r.every(s=>this.roles.includes(s))?!0:(this.router.navigate(["access-denied"]),!1)})}static{this.\u0275fac=function(i){return new(i||n)(P($r),P(Ca))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ub;try{Ub=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ub=!1}var yt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?MS(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ub)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(P(Do))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Od,yx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wb(){if(Od)return Od;if(typeof document!="object"||!document)return Od=new Set(yx),Od;let n=document.createElement("input");return Od=new Set(yx.filter(t=>(n.setAttribute("type",t),n.type===t))),Od}var jh;function TV(){if(jh==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jh=!0}))}finally{jh=jh||!1}return jh}function Ir(n){return TV()?n:!!n.capture}var Ds=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Ds||{}),Pp,pl;function Np(){if(pl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return pl=!1,pl;if("scrollBehavior"in document.documentElement.style)pl=!0;else{let n=Element.prototype.scrollTo;n?pl=!/\{\s*\[native code\]\s*\}/.test(n.toString()):pl=!1}}return pl}function Ad(){if(typeof document!="object"||!document)return Ds.NORMAL;if(Pp==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Pp=Ds.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Pp=n.scrollLeft===0?Ds.NEGATED:Ds.INVERTED),n.remove()}return Pp}var jb;function IV(){if(jb==null){let n=typeof document<"u"?document.head:null;jb=!!(n&&(n.createShadowRoot||n.attachShadow))}return jb}function wx(n){if(IV()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Lp(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function pr(n){return n.composedPath?n.composedPath()[0]:n.target}function Uh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ki(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function wn(n){return n!=null&&`${n}`!="false"}function Sa(n,t=0){return OV(n)?Number(n):arguments.length===2?t:0}function OV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Md(n){return Array.isArray(n)?n:[n]}function en(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Ar(n){return n instanceof we?n.nativeElement:n}function Cx(n,t=/\s+/){let e=[];if(n!=null){let i=Array.isArray(n)?n:`${n}`.split(t);for(let r of i){let s=`${r}`.trim();s&&e.push(s)}}return e}function AV(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Sx=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MV=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map,this._ngZone=ee(ke)}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Ar(e);return new on(r=>{let o=this._observeElement(i).pipe(Oe(a=>a.filter(l=>!AV(l))),pt(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new ge,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(i){return new(i||n)(P(Sx))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ex=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Sa(e),this._subscribe()}constructor(e,i){this._contentObserver=e,this._elementRef=i,this.event=new ne,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Dn(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(w(MV),w(we))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Fe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[It]})}}return n})(),Rd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[Sx]})}}return n})();var xx=new Set,fl,RV=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):PV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&FV(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(P(yt),P(nh,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function FV(n,t){if(!xx.has(n))try{fl||(fl=document.createElement("style"),t&&fl.setAttribute("nonce",t),fl.setAttribute("type","text/css"),document.head.appendChild(fl)),fl.sheet&&(fl.sheet.insertRule(`@media ${n} {body{ }}`,0),xx.add(n))}catch(e){console.error(e)}}function PV(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Fd=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ge}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return kx(Md(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=kx(Md(e)).map(o=>this._registerQuery(o).observable),s=ca(r);return s=Us(s.pipe($t(1)),s.pipe(Nm(1),Dn(0))),s.pipe(Oe(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),s={observable:new on(o=>{let a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Jt(i),Oe(({matches:o})=>({query:e,matches:o})),Tt(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static{this.\u0275fac=function(i){return new(i||n)(P(RV),P(ke))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kx(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Vp={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Ox=" ";function $h(n,t,e){let i=Ax(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(Ox)))}function _l(n,t,e){let i=Ax(n,t);e=e.trim();let r=i.filter(s=>s!==e);r.length?n.setAttribute(t,r.join(Ox)):n.removeAttribute(t)}function Ax(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var GV=200,$b=class{constructor(t,e){this._letterKeyStream=new ge,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new ge,this.selectedItem=this._selectedItem;let i=typeof e?.debounceInterval=="number"?e.debounceInterval:GV;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Ai(e=>this._pressedLetters.push(e)),Dn(t),pt(()=>this._pressedLetters.length>0),Oe(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,s=this._items[r];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}},zp=class{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=$s(null),this._wrap=!1,this._typeaheadSubscription=Dt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new ge,this.change=new ge,t instanceof pa?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):Tv(t)&&(this._effectRef=ES(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new $b(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(r||ki(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+t*i+e.length)%e.length,s=e[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return Tv(this._items)?this._items():this._items instanceof pa?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},Nd=class extends zp{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}},jp=class extends zp{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var Kb=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return YV(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=$V(tB(e));if(i&&(Dx(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Dx(e);return e.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!JV(e)?!1:r==="audio"?e.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return eB(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||n)(P(yt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $V(n){try{return n.frameElement}catch{return null}}function YV(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function qV(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function XV(n){return QV(n)&&n.type=="hidden"}function KV(n){return ZV(n)&&n.hasAttribute("href")}function QV(n){return n.nodeName.toLowerCase()=="input"}function ZV(n){return n.nodeName.toLowerCase()=="a"}function Mx(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Dx(n){if(!Mx(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function JV(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function eB(n){return XV(n)?!1:qV(n)||KV(n)||n.hasAttribute("contenteditable")||Mx(n)}function tB(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Yb=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1,o){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?er(t,{injector:this._injector}):setTimeout(t)}},Qb=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=ee(ui),this._document=r}create(e,i=!1){return new Yb(e,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||n)(P(Kb),P(ke),P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rx=(()=>{class n{get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,ee(yt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Lp(),this.focusTrap?.focusInitialElementWhenReady()}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Qb),w($e))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Fe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Fe]},exportAs:["cdkTrapFocus"],standalone:!0,features:[It,Kt]})}}return n})();function Yh(n){return n.buttons===0||n.detail===0}function qh(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var iB=new ie("cdk-input-modality-detector-options"),nB={ignoreKeys:[18,17,224,91,16]},Fx=650,Pd=Ir({passive:!0,capture:!0}),rB=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new kr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=pr(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<Fx||(this._modality.next(Yh(o)?"keyboard":"mouse"),this._mostRecentTarget=pr(o))},this._onTouchstart=o=>{if(qh(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=pr(o)},this._options=k(k({},nB),s),this.modalityDetected=this._modality.pipe(Nm(1)),this.modalityChanged=this.modalityDetected.pipe(Zc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Pd),r.addEventListener("mousedown",this._onMousedown,Pd),r.addEventListener("touchstart",this._onTouchstart,Pd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pd),document.removeEventListener("mousedown",this._onMousedown,Pd),document.removeEventListener("touchstart",this._onTouchstart,Pd))}static{this.\u0275fac=function(i){return new(i||n)(P(yt),P(ke),P($e),P(iB,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sB=new ie("liveAnnouncerElement",{providedIn:"root",factory:oB});function oB(){return null}var aB=new ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),lB=0,Up=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,s,o;return i.length===1&&typeof i[0]=="number"?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),o==null&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${lB++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],o=s.getAttribute("aria-owns");o?o.indexOf(e)===-1&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(P(sB,8),P(ke),P($e),P(aB,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Hp||{}),dB=new ie("cdk-focus-monitor-default-options"),Bp=Ir({passive:!0,capture:!0}),ds=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ge,this._rootNodeFocusAndBlurListener=a=>{let l=pr(a);for(let c=l;c;c=c.parentElement)a.type==="focus"?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||Hp.IMMEDIATE}monitor(e,i=!1){let r=Ar(e);if(!this._platform.isBrowser||r.nodeType!==1)return _e();let s=wx(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;let a={checkChildren:i,subject:new ge,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=Ar(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let s=Ar(e),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Hp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Hp.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Fx:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),s=pr(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bp)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(P(ke),P(yt),P(rB),P($e,8),P(dB,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Px=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new ne}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ds))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return n})(),gl=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(gl||{}),Tx="cdk-high-contrast-black-on-white",Ix="cdk-high-contrast-white-on-black",Gb="cdk-high-contrast-active",Zb=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=ee(Fd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return gl.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return gl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return gl.BLACK_ON_WHITE}return gl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Gb,Tx,Ix),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===gl.BLACK_ON_WHITE?e.add(Gb,Tx):i===gl.WHITE_ON_BLACK&&e.add(Gb,Ix)}}static{this.\u0275fac=function(i){return new(i||n)(P(yt),P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nx=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(P(Zb))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Rd]})}}return n})();var cB=new ie("cdk-dir-doc",{providedIn:"root",factory:hB});function hB(){return ee($e)}var uB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Lx(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?uB.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var tn=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new ne,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=Lx(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(P(cB,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vx=(()=>{class n{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new ne}get dir(){return this._dir}set dir(e){let i=this._dir;this._dir=Lx(e),this._rawDir=e,i!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","dir",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ue("dir",r._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],standalone:!0,features:[vt([{provide:tn,useExisting:n}])]})}}return n})(),Ea=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})();var mB=["text"],pB=[[["mat-icon"]],"*"],fB=["mat-icon","*"];function gB(n,t){if(n&1&&G(0,"mat-pseudo-checkbox",1),n&2){let e=Me();M("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function _B(n,t){if(n&1&&G(0,"mat-pseudo-checkbox",3),n&2){let e=Me();M("disabled",e.disabled)}}function vB(n,t){if(n&1&&(_(0,"span",4),D(1),b()),n&2){let e=Me();y(),te("(",e.group.label,")")}}var bB=["mat-internal-form-field",""],yB=["*"];function wB(){return!0}var CB=new ie("mat-sanity-checks",{providedIn:"root",factory:wB}),qe=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Uh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||n)(P(Zb),P(CB,8),P($e))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Ea,Ea]})}}return n})();var bl=class{constructor(t,e,i,r,s){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,e)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}};var Gp=new ie("MAT_DATE_LOCALE",{providedIn:"root",factory:SB});function SB(){return ee(yS)}var nn=class{constructor(){this._localeChanges=new ge,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}},Ks=new ie("mat-date-formats"),EB=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Jb(n,t){let e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}var xB=(()=>{class n extends nn{constructor(e){super(),this.useUtcForDisplay=!1,this._matDateLocale=ee(Gp,{optional:!0}),e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Jb(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Jb(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){let i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Jb(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),i=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return i===7?0:i}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth()!=i,s}today(){return new Date}parse(e,i){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,Ce(k({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(EB.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){let s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){let r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static{this.\u0275fac=function(i){return new(i||n)(P(Gp,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),kB={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};var Yx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[DB()]})}}return n})();function DB(n=kB){return[{provide:nn,useClass:xB},{provide:Ks,useValue:n}]}var Qh=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cs=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(cs||{}),iy=class{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=cs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Bx=Ir({passive:!0,capture:!0}),ny=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=pr(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){let s=this._events.get(e);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Bx)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let s=r.get(e);s&&(s.delete(i),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Bx)))}},Hx={enterDuration:225,exitDuration:150},TB=800,zx=Ir({passive:!0,capture:!0}),jx=["mousedown","touchstart"],Ux=["mouseup","mouseleave","touchend","touchcancel"],Xh=class n{static{this._eventManager=new ny}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ar(i))}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=k(k({},Hx),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let o=i.radius||IB(t,e,r),a=t-r.left,l=e-r.top,c=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-o}px`,h.style.top=`${l-o}px`,h.style.height=`${o*2}px`,h.style.width=`${o*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);let m=window.getComputedStyle(h),f=m.transitionProperty,v=m.transitionDuration,C=f==="none"||v==="0s"||v==="0s, 0s"||r.width===0&&r.height===0,x=new iy(this,h,i,C);h.style.transform="scale3d(1, 1, 1)",x.state=cs.FADING_IN,i.persistent||(this._mostRecentTransientRipple=x);let E=null;return!C&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let I=()=>{E&&(E.fallbackTimer=null),clearTimeout(L),this._finishRippleTransition(x)},N=()=>this._destroyRipple(x),L=setTimeout(N,c+100);h.addEventListener("transitionend",I),h.addEventListener("transitioncancel",N),E={onTransitionEnd:I,onTransitionCancel:N,fallbackTimer:L}}),this._activeRipples.set(x,E),(C||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(t){if(t.state===cs.FADING_OUT||t.state===cs.HIDDEN)return;let e=t.element,i=k(k({},Hx),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=cs.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Ar(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,jx.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ux.forEach(e=>{this._triggerElement.addEventListener(e,this,zx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===cs.FADING_IN?this._startFadeOutTransition(t):t.state===cs.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=cs.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=cs.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Yh(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+TB;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!qh(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===cs.VISIBLE||t.config.terminateOnPointerUp&&t.state===cs.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(jx.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Ux.forEach(e=>t.removeEventListener(e,this,zx)),this._pointerUpEventsRegistered=!1))}};function IB(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var Zh=new ie("mat-ripple-global-options"),Fo=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Xh(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:k(k(k({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,k(k({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,k(k({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke),w(yt),w(Zh,8),w(_i,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&je("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),yl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,qe]})}}return n})(),OB=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(w(_i,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&je("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Xe],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),ry=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe]})}}return n})(),Jh=new ie("MAT_OPTION_PARENT_COMPONENT");var eu=new ie("MatOptgroup");var AB=0,Kh=class{constructor(t,e=!1){this.source=t,this.isUserInput=e}},hs=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${AB++}`,this.onSelectionChange=new ne,this._stateChanges=new ge}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!ki(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Kh(this,e))}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Je),w(Jh,8),w(eu,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&it(mB,7),i&2){let s;Ee(s=xe())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&X("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),i&2&&(zr("id",r.id),Ue("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),je("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Fe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[It,Xe],ngContentSelectors:fB,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(_t(pB),ve(0,gB,1,2,"mat-pseudo-checkbox",1),Re(1),_(2,"span",2,0),Re(4,1),b(),ve(5,_B,1,1,"mat-pseudo-checkbox",3)(6,vB,2,1,"span",4),G(7,"div",5)),i&2&&(Ot(r.multiple?0:-1),y(5),Ot(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),y(),Ot(r.group&&r.group._inert?6:-1),y(),M("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[OB,Fo],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();function $p(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}function Yp(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var xa=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[yl,qe,ry]})}}return n})(),Wx={capture:!0},Gx=["focus","mousedown","mouseenter","touchstart"],ey="mat-ripple-loader-uninitialized",ty="mat-ripple-loader-class-name",$x="mat-ripple-loader-centered",Wp="mat-ripple-loader-disabled",qx=(()=>{class n{constructor(){this._document=ee($e,{optional:!0}),this._animationMode=ee(_i,{optional:!0}),this._globalRippleOptions=ee(Zh,{optional:!0}),this._platform=ee(yt),this._ngZone=ee(ke),this._hosts=new Map,this._onInteraction=e=>{let i=pr(e);if(i instanceof HTMLElement){let r=i.closest(`[${ey}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(let e of Gx)this._document?.addEventListener(e,this._onInteraction,Wx)})}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);for(let i of Gx)this._document?.removeEventListener(i,this._onInteraction,Wx)}configureRipple(e,i){e.setAttribute(ey,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(ty))&&e.setAttribute(ty,i.className||""),i.centered&&e.setAttribute($x,""),i.disabled&&e.setAttribute(Wp,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){let r=this._hosts.get(e);if(r){r.disabled=i;return}i?e.setAttribute(Wp,""):e.removeAttribute(Wp)}_createRipple(e){if(!this._document)return;let i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(ty)),e.append(r);let s=new Fo(new we(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute($x),s.disabled=e.hasAttribute(Wp),this.attachRipple(e,s),s}attachRipple(e,i){e.removeAttribute(ey),this._hosts.set(e,i)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&je("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Xe],attrs:bB,ngContentSelectors:yB,decls:1,vars:0,template:function(i,r){i&1&&(_t(),Re(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return n})();var MB=["*"],Xp;function RB(){if(Xp===void 0&&(Xp=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Xp=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Xp}function tu(n){return RB()?.createHTML(n)||n}function Xx(n){return Error(`Unable to find icon with the name "${n}"`)}function FB(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Kx(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Qx(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Po=class{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},PB=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Po(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){let o=this._sanitizer.sanitize(Hr.HTML,r);if(!o)throw Qx(r);let a=tu(o);return this._addSvgIconConfig(e,i,new Po("",a,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Po(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let s=this._sanitizer.sanitize(Hr.HTML,i);if(!s)throw Qx(i);let o=tu(s);return this._addSvgIconSetConfig(e,new Po("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(Hr.RESOURCE_URL,e);if(!i)throw Kx(e);let r=this._cachedIconsByUrl.get(i);return r?_e(Kp(r)):this._loadSvgIconFromConfig(new Po(e,null)).pipe(Ai(s=>this._cachedIconsByUrl.set(i,s)),Oe(s=>Kp(s)))}getNamedSvgIcon(e,i=""){let r=Zx(i,e),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):nl(Xx(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?_e(Kp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Oe(i=>Kp(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return _e(r);let s=i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Gs(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Hr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),_e(null)})));return ha(s).pipe(Oe(()=>{let o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw Xx(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ai(i=>e.svgText=i),Oe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?_e(null):this._fetchIcon(e).pipe(Ai(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let s=e.querySelector(`[id="${i}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,r);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),r);let a=this._svgElementFromString(tu("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(tu("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){let{name:o,value:a}=r[s];o!=="id"&&i.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw FB();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let o=this._sanitizer.sanitize(Hr.RESOURCE_URL,i);if(!o)throw Kx(i);let a=this._inProgressUrlFetches.get(o);if(a)return a;let l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Oe(c=>tu(c)),Eo(()=>this._inProgressUrlFetches.delete(o)),XC());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Zx(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](i,e);if(s)return NB(s)?new Po(s.url,null,s.options):new Po(s,null)}}static{this.\u0275fac=function(i){return new(i||n)(P(mi,8),P(qv),P($e,8),P(ol))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Kp(n){return n.cloneNode(!0)}function Zx(n,t){return n+":"+t}function NB(n){return!!(n.url&&n.options)}var LB=new ie("MAT_ICON_DEFAULT_OPTIONS"),VB=new ie("mat-icon-location",{providedIn:"root",factory:BB});function BB(){let n=ee($e),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Jx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],HB=Jx.map(n=>`[${n}]`).join(", "),zB=/^url\(['"]?#(.*?)['"]?\)$/,Di=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,o,a){this._elementRef=e,this._iconRegistry=i,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Dt.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(HB),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Jx.forEach(o=>{let a=i[s],l=a.getAttribute(o),c=l?l.match(zB):null;if(c){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe($t(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${i}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(PB),Gn("aria-hidden"),w(VB),w(ol),w(LB,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Ue("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ln(r.color?"mat-"+r.color:""),je("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Fe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[It,Xe],ngContentSelectors:MB,decls:1,vars:0,template:function(i,r){i&1&&(_t(),Re(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),ek=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,qe]})}}return n})();var jB=["mat-button",""],UB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],WB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var GB=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var $B=["mat-icon-button",""],YB=["*"];var qB=new ie("MAT_BUTTON_CONFIG");var XB=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tk=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,s){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=ee(ds),this._rippleLoader=ee(qx),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let o=ee(qB,{optional:!0}),a=e.nativeElement,l=a.classList;this.disabledInteractive=o?.disabledInteractive??!1,this.color=o?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:c,mdcClasses:h}of XB)a.hasAttribute(c)&&l.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){fa()}}static{this.\u0275dir=Se({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Fe],disabled:[2,"disabled","disabled",Fe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe]},features:[It]})}}return n})();var Ei=(()=>{class n extends tk{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(yt),w(ke),w(_i,8))}}static{this.\u0275cmp=de({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Ue("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ln(r.color?"mat-"+r.color:""),je("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ni,Xe],attrs:jB,ngContentSelectors:WB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(_t(UB),G(0,"span",0),Re(1),_(2,"span",1),Re(3,1),b(),Re(4,2),G(5,"span",2)(6,"span",3)),i&2&&je("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var iu=(()=>{class n extends tk{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(yt),w(ke),w(_i,8))}}static{this.\u0275cmp=de({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Ue("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ln(r.color?"mat-"+r.color:""),je("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ni,Xe],attrs:$B,ngContentSelectors:YB,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(_t(),G(0,"span",0),Re(1),G(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',GB],encapsulation:2,changeDetection:0})}}return n})();var Bd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,yl,qe]})}}return n})();var KB=["*",[["p"]],[["",8,"action"]]],QB=["*","p",".action"];function ZB(n,t){if(n&1&&(_(0,"mat-icon",5),D(1),b()),n&2){let e=Me();y(),te(" ",e.icon," ")}}var cn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["app-page-header"]],inputs:{icon:"icon"},ngContentSelectors:QB,decls:8,vars:1,consts:[[1,"feature-header","justify-content-between","align-items-center"],[1,"start"],[1,"title"],["class","feature-icon mr-3",4,"ngIf"],[1,"action"],[1,"feature-icon","mr-3"]],template:function(i,r){i&1&&(_t(KB),_(0,"div",0)(1,"div",1)(2,"div",2),ve(3,ZB,2,1,"mat-icon",3),Re(4),b(),Re(5,1),b(),_(6,"div",4),Re(7,2),b()()),i&2&&(y(3),M("ngIf",r.icon))},dependencies:[os,Di],styles:[".feature-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 10px;border-bottom:1px solid #ececec;box-shadow:0 0 4px 2px #ececec;position:sticky;top:0;z-index:9999;margin-bottom:5px;height:24px}.start[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:20px}.feature-icon[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center;justify-content:center}.action[_ngcontent-%COMP%]{display:flex;gap:5px}"]})}}return n})();var ik=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:9,vars:0,consts:[["icon","home"],["routerLink","/sales","mat-flat-button","","color","primary",1,"action"],[2,"padding","0 20px"]],template:function(i,r){i&1&&(_(0,"app-page-header",0),D(1," Home "),_(2,"button",1)(3,"mat-icon"),D(4,"add"),b(),_(5,"span"),D(6,"New sale"),b()()(),_(7,"div",2),D(8," Hello from Home "),b())},dependencies:[Di,Ei,Dd,cn],encapsulation:2})}}return n})();var Qp=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ge,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var Zp=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var eH=20,nu=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=eH){return this._platform.isBrowser?new on(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(Sv(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_e()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(pt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ar(i),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ws(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(P(ke),P(yt),P($e,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jp=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ge,this._elementScrolled=new on(o=>this.ngZone.runOutsideAngular(()=>Ws(this.elementRef.nativeElement,"scroll").pipe(Tt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Ad()!=Ds.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Ad()==Ds.INVERTED?e.left=e.right:Ad()==Ds.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;Np()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",s=this.elementRef.nativeElement;if(e=="top")return s.scrollTop;if(e=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?r:i:e=="end"&&(e=o?i:r),o&&Ad()==Ds.INVERTED?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&Ad()==Ds.NEGATED?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(nu),w(ke),w(tn,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),tH=20,No=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ge,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),o=-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:o,left:a}}change(e=tH){return e>0?this._change.pipe(Sv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(P(yt),P(ke),P($e,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})(),ru=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Ea,qr,Ea,qr]})}}return n})();var rk=["*"],iH=["content"],nH=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],rH=["mat-drawer","mat-drawer-content","*"];function sH(n,t){if(n&1){let e=Qt();_(0,"div",1),X("click",function(){Pe(e);let r=Me();return Ne(r._onBackdropClicked())}),b()}if(n&2){let e=Me();je("mat-drawer-shown",e._isShowingBackdrop())}}function oH(n,t){n&1&&(_(0,"mat-drawer-content"),Re(1,2),b())}var aH={transformDrawer:dn("transform",[Wi("open, open-instant",Lt({transform:"none",visibility:"visible"})),Wi("void",Lt({"box-shadow":"none",visibility:"hidden"})),Si("void => open-instant",Ci("0ms")),Si("void <=> open, open-instant => void",Ci("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var lH=new ie("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:dH}),sk=new ie("MAT_DRAWER_CONTAINER");function dH(){return!1}var su=(()=>{class n extends Jp{constructor(e,i,r,s,o){super(r,s,o),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||n)(w(Je),w(Tn(()=>oy)),w(we),w(nu),w(ke))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){i&2&&cr("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[vt([{provide:Jp,useExisting:n}]),ni,Xe],ngContentSelectors:rk,decls:1,vars:0,template:function(i,r){i&1&&(_t(),Re(0))},encapsulation:2,changeDetection:0})}}return n})(),sy=(()=>{class n{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=wn(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=wn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(wn(e))}constructor(e,i,r,s,o,a,l,c){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ge,this._animationEnd=new ge,this._animationState="void",this.openedChange=new ne(!0),this._openedStream=this.openedChange.pipe(pt(h=>h),Oe(()=>{})),this.openedStart=this._animationStarted.pipe(pt(h=>h.fromState!==h.toState&&h.toState.indexOf("open")===0),Kc(void 0)),this._closedStream=this.openedChange.pipe(pt(h=>!h),Oe(()=>{})),this.closedStart=this._animationStarted.pipe(pt(h=>h.fromState!==h.toState&&h.toState==="void"),Kc(void 0)),this._destroyed=new ge,this.onPositionChanged=new ne,this._modeChanged=new ge,this._injector=ee(ui),this._changeDetectorRef=ee(Je),this.openedChange.pipe(Tt(this._destroyed)).subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ws(this._elementRef.nativeElement,"keydown").pipe(pt(h=>h.keyCode===27&&!this.disableClose&&!ki(h)),Tt(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.subscribe(h=>{let{fromState:m,toState:f}=h;(f.indexOf("open")===0&&m==="void"||f==="void"&&m.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":er(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe($t(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Qb),w(ds),w(yt),w(ke),w(Kb),w($e,8),w(sk,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&it(iH,5),i&2){let s;Ee(s=xe())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&1&&ud("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),i&2&&(hd("@transform",r._animationState),Ue("align",null),je("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Xe],ngContentSelectors:rk,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(_t(),_(0,"div",1,0),Re(2),b())},dependencies:[Jp],encapsulation:2,data:{animation:[aH.transformDrawer]},changeDetection:0})}}return n})(),oy=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=wn(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:wn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,s,o,a=!1,l){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new pa,this.backdropClick=new ne,this._destroyed=new ge,this._doCheckSubject=new ge,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ge,this._injector=ee(ui),e&&e.change.pipe(Tt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Tt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(Jt(this._allDrawers),Tt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Jt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Dn(10),Tt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,e-=r}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(pt(i=>i.fromState!==i.toState),Tt(this._drawers.changes)).subscribe(i=>{i.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Tt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Tt(this._drawers.changes)).subscribe(()=>{er(()=>{this._validateDrawers()},{injector:this._injector,phase:uS.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Tt(wi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(i){return new(i||n)(w(tn,8),w(we),w(ke),w(Je),w(No),w(lH),w(_i,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,s){if(i&1&&(Nt(s,su,5),Nt(s,sy,5)),i&2){let o;Ee(o=xe())&&(r._content=o.first),Ee(o=xe())&&(r._allDrawers=o)}},viewQuery:function(i,r){if(i&1&&it(su,5),i&2){let s;Ee(s=xe())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&je("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[vt([{provide:sk,useExisting:n}]),Xe],ngContentSelectors:rH,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(_t(nH),ve(0,sH,1,2,"div",0),Re(1),Re(2,1),ve(3,oH,2,0,"mat-drawer-content")),i&2&&(Ot(r.hasBackdrop?0:-1),y(3),Ot(r._content?-1:3))},dependencies:[su],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return n})();var ok=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,qr,qr,qe]})}}return n})();var Hd=(()=>{class n{constructor(e){this.keycloak=e}getLoggedUser(){try{return this.keycloak.getKeycloakInstance().idTokenParsed}catch(e){console.error(e);return}}getUserName(){try{return this.keycloak.getKeycloakInstance().idTokenParsed?.preferred_username}catch(e){console.error(e);return}}isLoggedIn(){return console.log("isLoggedIn in..."),this.keycloak.isLoggedIn()}loadUserProfile(){return this.keycloak.loadUserProfile()}login(){console.log("Logging in..."),this.keycloak.login()}logout(){this.keycloak.logout(window.location.origin).then()}getToken(){return this.keycloak.getToken()}addTokenToHeader(){this.keycloak.addTokenToHeader()}static{this.\u0275fac=function(i){return new(i||n)(P(Ca))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ou=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Lo=class extends ou{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},Rr=class extends ou{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},ay=class extends ou{constructor(t){super(),this.element=t instanceof we?t.nativeElement:t}},zd=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Lo)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Rr)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof ay)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var au=class extends zd{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||ui.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ka=(()=>{class n extends zd{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ne,this.attachDomPortal=s=>{this._document;let o=s.element;o.parentNode;let a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(w(sh),w(In),w($e))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ni]})}}return n})();var Da=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})();var lk=Np(),ly=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=en(-this._previousScrollPosition.left),t.style.top=en(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),lk&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lk&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var dy=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(pt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},tf=class{enable(){}disable(){}attach(){}};function cy(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,s=n.right<e.left,o=n.left>e.right;return i||r||s||o})}function dk(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,s=n.left<e.left,o=n.right>e.right;return i||r||s||o})}var hy=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cy(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},hH=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new tf,this.close=o=>new dy(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new ly(this._viewportRuler,this._document),this.reposition=o=>new hy(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(P(nu),P(No),P(ke),P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ms=class{constructor(t){if(this.scrollStrategy=new tf,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var uy=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var fk=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(P($e))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uH=(()=>{class n extends fk{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{let s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){let a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(P($e),P(ke,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mH=(()=>{class n extends fk{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=pr(s)},this._clickListener=s=>{let o=pr(s),a=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){let h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(ck(h.overlayElement,o)||ck(h.overlayElement,a))break;let m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(P($e),P(yt),P(ke,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ck(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var nf=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Uh()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let i=this._document.createElement("div");i.classList.add(e),Uh()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(P($e),P(yt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),my=class{constructor(t,e,i,r,s,o,a,l,c,h=!1,m){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=m,this._backdropElement=null,this._backdropClick=new ge,this._attachments=new ge,this._detachments=new ge,this._locationChanges=Dt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new ge,this._outsidePointerEvents=new ge,this._renders=new ge,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Cs(()=>Vm(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=er(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=k(k({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ce(k({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=en(this._config.width),t.height=en(this._config.height),t.minWidth=en(this._config.minWidth),t.minHeight=en(this._config.minHeight),t.maxWidth=en(this._config.maxWidth),t.maxHeight=en(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let r=Md(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Tt(wi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},hk="cdk-overlay-connected-position-bounding-box",pH=/([A-Za-z%]+)$/,lu=class{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge,this._resizeSubscription=Dt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(hk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),h=this._getOverlayFit(c,e,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,i)){s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(let c of s){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?o:a}e.left<0&&(r-=e.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let s;return i.overlayY=="center"?s=-e.height/2:s=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){let s=mk(e),{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-o,m=o+s.width-i.width,f=0-a,v=a+s.height-i.height,C=this._subtractOverflows(s.width,h,m),x=this._subtractOverflows(s.height,f,v),E=C*x;return{visibleArea:E,isCompletelyWithinViewport:s.width*s.height===E,fitsInViewportVertically:x===s.height,fitsInViewportHorizontally:C==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,s=i.right-e.x,o=uk(this._overlayRef.getConfig().minHeight),a=uk(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||o!=null&&o<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=s;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=mk(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0),h=0,m=0;return r.width<=s.width?h=c||-o:h=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?m=l||-a:m=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:h,y:m},{x:t.x+h,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!fH(this._lastScrollVisibility,i)){let r=new uy(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),s,o,a;if(e.overlayY==="top")o=t.y,s=i.height-o+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,s=i.height-a+this._viewportMargin;else{let v=Math.min(i.bottom-t.y+i.top,t.y),C=this._lastBoundingBoxSize.height;s=v*2,o=t.y-v,s>C&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-C/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,h,m,f;if(c)f=i.width-t.x+this._viewportMargin*2,h=t.x-this._viewportMargin;else if(l)m=t.x,h=i.right-t.x;else{let v=Math.min(i.right-t.x+i.left,t.x),C=this._lastBoundingBoxSize.width;h=v*2,m=t.x-v,h>C&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-C/2)}return{top:o,left:m,bottom:a,right:f,width:h,height:s}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=en(i.height),r.top=en(i.top),r.bottom=en(i.bottom),r.width=en(i.width),r.left=en(i.left),r.right=en(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=en(s)),o&&(r.maxWidth=en(o))}this._lastBoundingBoxSize=i,Cl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Cl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();Cl(i,this._getExactOverlayY(e,t,h)),Cl(i,this._getExactOverlayX(e,t,h))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=en(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=en(o.maxWidth):s&&(i.maxWidth="")),Cl(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=en(s.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=t.overlayX==="end"?"left":"right":o=t.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(s.x+this._overlayRect.width)}px`}else r.left=en(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dk(t,i),isOriginOutsideView:cy(t,i),isOverlayClipped:dk(e,i),isOverlayOutsideView:cy(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Md(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof we)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Cl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function uk(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(pH);return!e||e==="px"?parseFloat(t):null}return n||null}function mk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function fH(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var pk="cdk-global-overlay-wrapper",py=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pk),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,m=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",v="",C="",x="";l?x="flex-start":h==="center"?(x="center",f?C=m:v=m):f?h==="left"||h==="end"?(x="flex-end",v=m):(h==="right"||h==="start")&&(x="flex-start",C=m):h==="left"||h==="start"?(x="flex-start",v=m):(h==="right"||h==="end")&&(x="flex-end",C=m),t.position=this._cssPosition,t.marginLeft=l?"0":v,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":C,e.justifyContent=x,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(pk),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},gH=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new py}flexibleConnectedTo(e){return new lu(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(P(No),P($e),P(yt),P(nf))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_H=0,Ni=(()=>{class n{constructor(e,i,r,s,o,a,l,c,h,m,f,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=m,this._outsideClickDispatcher=f,this._animationsModuleType=v}create(e){let i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new ms(e);return o.direction=o.direction||this._directionality.value,new my(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ko))}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${_H++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(To)),new au(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(P(hH),P(nf),P(sh),P(gH),P(uH),P(ui),P(ke),P($e),P(tn),P(ll),P(mH),P(_i,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vH=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gk=new ie("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=ee(Ni);return()=>n.scrollStrategies.reposition()}}),du=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(w(we))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),fy=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._backdropSubscription=Dt.EMPTY,this._attachSubscription=Dt.EMPTY,this._detachSubscription=Dt.EMPTY,this._positionSubscription=Dt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=ee(ke),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new ne,this.positionChange=new ne,this.attach=new ne,this.detach=new ne,this.overlayKeydown=new ne,this.overlayOutsideClick=new ne,this._templatePortal=new Rr(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vH);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!ki(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),s=pr(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ms({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof du?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof du?this.origin.elementRef.nativeElement:this.origin instanceof we?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(KC(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(w(Ni),w(dr),w(In),w(gk),w(tn,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Fe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Fe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Fe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Fe],push:[2,"cdkConnectedOverlayPush","push",Fe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Fe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[It,Kt]})}}return n})();function bH(n){return()=>n.scrollStrategies.reposition()}var yH={provide:gk,deps:[Ni],useFactory:bH},Zs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[Ni,yH],imports:[Ea,Da,ru,ru]})}}return n})();var wH=["*",[["mat-toolbar-row"]]],CH=["*","mat-toolbar-row"],SH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),_k=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(yt),w($e))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(i&1&&Nt(s,SH,5),i&2){let o;Ee(o=xe())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){i&2&&(ln(r.color?"mat-"+r.color:""),je("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Xe],ngContentSelectors:CH,decls:2,vars:0,template:function(i,r){i&1&&(_t(wH),Re(0),Re(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var vk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,qe]})}}return n})();var xH=["mat-menu-item",""],kH=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],DH=["mat-icon, [matMenuItemIcon]","*"];function TH(n,t){n&1&&(Wn(),_(0,"svg",2),G(1,"polygon",3),b())}var IH=["*"];function OH(n,t){if(n&1){let e=Qt();_(0,"div",0),X("keydown",function(r){Pe(e);let s=Me();return Ne(s._handleKeydown(r))})("click",function(){Pe(e);let r=Me();return Ne(r.closed.emit("click"))})("@transformMenu.start",function(r){Pe(e);let s=Me();return Ne(s._onAnimationStart(r))})("@transformMenu.done",function(r){Pe(e);let s=Me();return Ne(s._onAnimationDone(r))}),_(1,"div",1),Re(2),b()()}if(n&2){let e=Me();ln(e._classList),M("id",e.panelId)("@transformMenu",e._panelAnimationState),Ue("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var gy=new ie("MAT_MENU_PANEL"),hu=(()=>{class n{constructor(e,i,r,s,o){this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new ge,this._focused=new ge,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(i){return new(i||n)(w(we),w($e),w(ds),w(gy,8),w(Je))}}static{this.\u0275cmp=de({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&X("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Ue("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),je("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe]},exportAs:["matMenuItem"],standalone:!0,features:[It,Xe],attrs:xH,ngContentSelectors:DH,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(_t(kH),Re(0),_(1,"span",0),Re(2,1),b(),G(3,"div",1),ve(4,TH,2,0,":svg:svg",2)),i&2&&(y(3),M("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),y(),Ot(r._triggersSubmenu?4:-1))},dependencies:[Fo],encapsulation:2,changeDetection:0})}}return n})();var AH=new ie("MatMenuContent");var rf={transformMenu:dn("transformMenu",[Wi("void",Lt({opacity:0,transform:"scale(0.8)"})),Si("void => enter",Ci("120ms cubic-bezier(0, 0, 0.2, 1)",Lt({opacity:1,transform:"scale(1)"}))),Si("* => void",Ci("100ms 25ms linear",Lt({opacity:0})))]),fadeInItems:dn("fadeInItems",[Wi("showing",Lt({opacity:1})),Si("void => *",[Lt({opacity:0}),Ci("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},U8=rf.fadeInItems,W8=rf.transformMenu,MH=0,RH=new ie("mat-menu-default-options",{providedIn:"root",factory:FH});function FH(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var jd=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let i=this._previousPanelClass,r=k({},this._classList);i&&i.length&&i.split(" ").forEach(s=>{r[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{r[s]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new pa,this._classList={},this._panelAnimationState="void",this._animationDone=new ge,this.closed=new ne,this.close=this.closed,this.panelId=`mat-menu-panel-${MH++}`,this._injector=ee(ui),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new jp(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Jt(this._directDescendantItems),ii(e=>wi(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Jt(this._directDescendantItems),ii(i=>wi(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let i=e.keyCode,r=this._keyManager;switch(i){case 27:ki(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=er(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let a=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(a)}let i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));if(!s||s===this._previousElevation){let o=k({},this._classList);this._previousElevation&&(o[this._previousElevation]=!1),o[r]=!0,this._previousElevation=r,this._classList=o}}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList=Ce(k({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Jt(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke),w(RH),w(Je))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,s){if(i&1&&(Nt(s,AH,5),Nt(s,hu,5),Nt(s,hu,4)),i&2){let o;Ee(o=xe())&&(r.lazyContent=o.first),Ee(o=xe())&&(r._allItems=o),Ee(o=xe())&&(r.items=o)}},viewQuery:function(i,r){if(i&1&&it(dr,5),i&2){let s;Ee(s=xe())&&(r.templateRef=s.first)}},hostVars:3,hostBindings:function(i,r){i&2&&Ue("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Fe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Fe(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[vt([{provide:gy,useExisting:n}]),It,Xe],ngContentSelectors:IH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(_t(),ve(0,OH,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[rf.transformMenu,rf.fadeInItems]},changeDetection:0})}}return n})(),yk=new ie("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=ee(Ni);return()=>n.scrollStrategies.reposition()}});function PH(n){return()=>n.scrollStrategies.reposition()}var NH={provide:yk,deps:[Ni],useFactory:PH},bk=Ir({passive:!0});var wk=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,o,a,l,c,h){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Dt.EMPTY,this._hoverSubscription=Dt.EMPTY,this._menuCloseSubscription=Dt.EMPTY,this._changeDetectorRef=ee(Je),this._handleTouchStart=m=>{qh(m)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ne,this.onMenuOpen=this.menuOpened,this.menuClosed=new ne,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof jd?o:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,bk)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,bk),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof jd&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Tt(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof jd?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(pt(r=>r.toState==="void"),$t(1),Tt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new ms({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{let s=r.connectionPair.overlayX==="start"?"after":"before",o=r.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,o)):e.setPositionClasses(s,o)})}_setPosition(e,i){let[r,s]=e.xPosition==="before"?["end","start"]:["start","end"],[o,a]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[o,a],[h,m]=[r,s],f=0;if(this.triggersSubmenu()){if(m=r=e.xPosition==="before"?"start":"end",s=h=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let v=this._parentMaterialMenu.items.first;this._parentInnerPadding=v?v._getHostElement().offsetTop:0}f=o==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=o==="top"?"bottom":"top",c=a==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:h,overlayY:o,offsetY:f},{originX:s,originY:l,overlayX:m,overlayY:o,offsetY:f},{originX:r,originY:c,overlayX:h,overlayY:a,offsetY:-f},{originX:s,originY:c,overlayX:m,overlayY:a,offsetY:-f}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:_e(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(pt(o=>o!==this._menuItemInstance),pt(()=>this._menuOpen)):_e();return wi(e,r,s,i)}_handleMousedown(e){Yh(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let i=e.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(pt(e=>e===this._menuItemInstance&&!e.disabled),Qc(0,Pm)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof jd&&this.menu._isAnimating?this.menu._animationDone.pipe($t(1),Qc(0,Pm),Tt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Rr(e.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(i){return new(i||n)(w(Ni),w(we),w(In),w(yk),w(gy,8),w(hu,10),w(tn,8),w(ds),w(ke))}}static{this.\u0275dir=Se({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&X("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),i&2&&Ue("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return n})(),Ck=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[NH],imports:[Pi,yl,qe,Zs,qr,qe]})}}return n})();var Ok=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(w(dd),w(we))}}static{this.\u0275dir=Se({type:n})}}return n})(),VH=(()=>{class n extends Ok{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275dir=Se({type:n,features:[ni]})}}return n})(),eo=new ie("");var BH={provide:eo,useExisting:Tn(()=>hn),multi:!0};function HH(){let n=al()?al().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var zH=new ie(""),hn=(()=>{class n extends Ok{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HH())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(w(dd),w(we),w(zH,8))}}static{this.\u0275dir=Se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&X("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[vt([BH]),ni]})}}return n})();function Ta(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Ak(n){return n!=null&&typeof n.length=="number"}var Vo=new ie(""),Sy=new ie(""),jH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hi=class{static min(t){return UH(t)}static max(t){return WH(t)}static required(t){return GH(t)}static requiredTrue(t){return $H(t)}static email(t){return YH(t)}static minLength(t){return qH(t)}static maxLength(t){return XH(t)}static pattern(t){return KH(t)}static nullValidator(t){return Mk(t)}static compose(t){return Vk(t)}static composeAsync(t){return Bk(t)}};function UH(n){return t=>{if(Ta(t.value)||Ta(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function WH(n){return t=>{if(Ta(t.value)||Ta(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function GH(n){return Ta(n.value)?{required:!0}:null}function $H(n){return n.value===!0?null:{required:!0}}function YH(n){return Ta(n.value)||jH.test(n.value)?null:{email:!0}}function qH(n){return t=>Ta(t.value)||!Ak(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function XH(n){return t=>Ak(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function KH(n){if(!n)return Mk;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ta(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Mk(n){return null}function Rk(n){return n!=null}function Fk(n){return Km(n)?Ji(n):n}function Pk(n){let t={};return n.forEach(e=>{t=e!=null?k(k({},t),e):t}),Object.keys(t).length===0?null:t}function Nk(n,t){return t.map(e=>e(n))}function QH(n){return!n.validate}function Lk(n){return n.map(t=>QH(t)?t:e=>t.validate(e))}function Vk(n){if(!n)return null;let t=n.filter(Rk);return t.length==0?null:function(e){return Pk(Nk(e,t))}}function Ey(n){return n!=null?Vk(Lk(n)):null}function Bk(n){if(!n)return null;let t=n.filter(Rk);return t.length==0?null:function(e){let i=Nk(e,t).map(Fk);return ha(i).pipe(Oe(Pk))}}function xy(n){return n!=null?Bk(Lk(n)):null}function Sk(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Hk(n){return n._rawValidators}function zk(n){return n._rawAsyncValidators}function _y(n){return n?Array.isArray(n)?n:[n]:[]}function af(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ek(n,t){let e=_y(t);return _y(n).forEach(r=>{af(e,r)||e.push(r)}),e}function xk(n,t){return _y(t).filter(e=>!af(n,e))}var lf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ey(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ia=class extends lf{get formDirective(){return null}get path(){return null}},Js=class extends lf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},df=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ZH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},a6=Ce(k({},ZH),{"[class.ng-submitted]":"isSubmitted"}),An=(()=>{class n extends df{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(w(Js,2))}}static{this.\u0275dir=Se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&je("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ni]})}}return n})(),Mn=(()=>{class n extends df{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(w(Ia,10))}}static{this.\u0275dir=Se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&je("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ni]})}}return n})();var uu="VALID",sf="INVALID",Ud="PENDING",mu="DISABLED",Oa=class{},cf=class extends Oa{constructor(t,e){super(),this.value=t,this.source=e}},fu=class extends Oa{constructor(t,e){super(),this.pristine=t,this.source=e}},gu=class extends Oa{constructor(t,e){super(),this.touched=t,this.source=e}},Wd=class extends Oa{constructor(t,e){super(),this.status=t,this.source=e}},vy=class extends Oa{constructor(t){super(),this.source=t}},by=class extends Oa{constructor(t){super(),this.source=t}};function ky(n){return(mf(n)?n.validators:n)||null}function JH(n){return Array.isArray(n)?Ey(n):n||null}function Dy(n,t){return(mf(t)?t.asyncValidators:n)||null}function e2(n){return Array.isArray(n)?xy(n):n||null}function mf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function jk(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new di(1e3,"");if(!i[e])throw new di(1001,"")}function Uk(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new di(1002,"")})}var Gd=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Io(()=>this.statusReactive()),this.statusReactive=$s(void 0),this._pristine=Io(()=>this.pristineReactive()),this.pristineReactive=$s(!0),this._touched=Io(()=>this.touchedReactive()),this.touchedReactive=$s(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Cs(this.statusReactive)}set status(t){Cs(()=>this.statusReactive.set(t))}get valid(){return this.status===uu}get invalid(){return this.status===sf}get pending(){return this.status==Ud}get disabled(){return this.status===mu}get enabled(){return this.status!==mu}get pristine(){return Cs(this.pristineReactive)}set pristine(t){Cs(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Cs(this.touchedReactive)}set touched(t){Cs(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ek(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ek(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(xk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(xk(t,this._rawAsyncValidators))}hasValidator(t){return af(this._rawValidators,t)}hasAsyncValidator(t){return af(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ce(k({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new gu(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new gu(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ce(k({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new fu(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new fu(!0,i))}markAsPending(t={}){this.status=Ud;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wd(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ce(k({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=mu,this.errors=null,this._forEachChild(r=>{r.disable(Ce(k({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cf(this.value,i)),this._events.next(new Wd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=uu,this._forEachChild(i=>{i.enable(Ce(k({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ce(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uu||this.status===Ud)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cf(this.value,e)),this._events.next(new Wd(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ce(k({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mu:uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ud,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Fk(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Wd(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?mu:this.errors?sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ud)?Ud:this._anyControlsHaveStatus(sf)?sf:uu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new fu(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new gu(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JH(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=e2(this._rawAsyncValidators)}},Li=class extends Gd{constructor(t,e,i){super(ky(e),Dy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Uk(this,!0,t),Object.keys(t).forEach(i=>{jk(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var yy=class extends Li{};var pf=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>ff}),ff="always";function t2(n,t){return[...t.path,n]}function wy(n,t,e=ff){Ty(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),n2(n,t),s2(n,t),r2(n,t),i2(n,t)}function kk(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),uf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function i2(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Ty(n,t){let e=Hk(n);t.validator!==null?n.setValidators(Sk(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=zk(n);t.asyncValidator!==null?n.setAsyncValidators(Sk(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();hf(t._rawValidators,r),hf(t._rawAsyncValidators,r)}function uf(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=Hk(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let r=zk(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}let i=()=>{};return hf(t._rawValidators,i),hf(t._rawAsyncValidators,i),e}function n2(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Wk(n,t)})}function r2(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Wk(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Wk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function s2(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Gk(n,t){n==null,Ty(n,t)}function o2(n,t){return uf(n,t)}function a2(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function l2(n){return Object.getPrototypeOf(n.constructor)===VH}function $k(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function d2(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(s=>{s.constructor===hn?e=s:l2(s)?i=s:r=s}),r||i||e||null}function c2(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var h2={provide:Ia,useExisting:Tn(()=>_u)},pu=Promise.resolve(),_u=(()=>{class n extends Ia{get submitted(){return Cs(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Io(()=>this.submittedReactive()),this.submittedReactive=$s(!1),this._directives=new Set,this.ngSubmit=new ne,this.form=new Li({},Ey(e),xy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pu.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),wy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){pu.then(()=>{let i=this._findContainer(e.path),r=new Li({});Gk(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){pu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),$k(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(w(Vo,10),w(Sy,10),w(pf,8))}}static{this.\u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&X("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([h2]),ni]})}}return n})();function Dk(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Tk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var of=class extends Gd{constructor(t=null,e,i){super(ky(e),Dy(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Tk(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Tk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var u2=n=>n instanceof of;var Rn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Yk=new ie("");var m2={provide:Ia,useExisting:Tn(()=>Gi)},Gi=(()=>{class n extends Ia{get submitted(){return Cs(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Io(()=>this._submittedReactive()),this._submittedReactive=$s(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ne,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return wy(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){kk(e.control||null,e,!1),c2(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),$k(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new vy(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new by(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(kk(i||null,e),u2(r)&&(wy(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Gk(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&o2(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ty(this.form,this),this._oldForm&&uf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(w(Vo,10),w(Sy,10),w(pf,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&X("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([m2]),ni,Kt]})}}return n})();var p2={provide:Js,useExisting:Tn(()=>Cn)},Cn=(()=>{class n extends Js{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ne,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=d2(this,s)}ngOnChanges(e){this._added||this._setUpControl(),a2(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return t2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(w(Ia,13),w(Vo,10),w(Sy,10),w(eo,10),w(Yk,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[vt([p2]),ni,Kt]})}}return n})();var qk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})(),Cy=class extends Gd{constructor(t,e,i){super(ky(e),Dy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Uk(this,!1,t),t.forEach((i,r)=>{jk(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Ik(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Fn=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),s={};return Ik(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Li(r,s)}record(e,i=null){let r=this._reduceControls(e);return new yy(r,i)}control(e,i,r){let s={};return this.useNonNullable?(Ik(i)?s=i:(s.validators=i,s.asyncValidators=r),new of(e,Ce(k({},s),{nonNullable:!0}))):new of(e,i,r)}array(e,i,r){let s=e.map(o=>this._createControl(o));return new Cy(s,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof of)return e;if(e instanceof Gd)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(i,r,s)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Iy=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:pf,useValue:e.callSetDisabledState??ff}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qk]})}}return n})(),Xk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Yk,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:pf,useValue:e.callSetDisabledState??ff}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qk]})}}return n})();var g2=["switch"],_2=["*"];function v2(n,t){n&1&&(_(0,"span",10),Wn(),_(1,"svg",12),G(2,"path",13),b(),_(3,"svg",14),G(4,"path",15),b()())}var b2=new ie("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),y2={provide:eo,useExisting:Tn(()=>_f),multi:!0},gf=class{constructor(t,e){this.source=t,this.checked=e}},w2=0,_f=(()=>{class n{_createChangeEvent(e){return new gf(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,o,a){this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=o,this._onChange=l=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new ne,this.toggleChange=new ne,this.tabIndex=parseInt(s)||0,this.color=o.color||"accent",this._noopAnimations=a==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++w2}`,this.hideIcon=o.hideIcon??!1,this.disabledInteractive=o.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new gf(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ds),w(Je),Gn("tabindex"),w(b2),w(_i,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&it(g2,5),i&2){let s;Ee(s=xe())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(zr("id",r.id),Ue("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ln(r.color?"mat-"+r.color:""),je("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Fe],color:"color",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ys(e)],checked:[2,"checked","checked",Fe],hideIcon:[2,"hideIcon","hideIcon",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[vt([y2,{provide:Vo,useExisting:n,multi:!0}]),It,Kt,Xe],ngContentSelectors:_2,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let s=Qt();_t(),_(0,"div",1)(1,"button",2,0),X("click",function(){return Pe(s),Ne(r._handleClick())}),G(3,"span",3),_(4,"span",4)(5,"span",5)(6,"span",6),G(7,"span",7),b(),_(8,"span",8),G(9,"span",9),b(),ve(10,v2,5,0,"span",10),b()()(),_(11,"label",11),X("click",function(a){return Pe(s),Ne(a.stopPropagation())}),Re(12),b()()}if(i&2){let s=ft(2);M("labelPosition",r.labelPosition),y(),je("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),M("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),Ue("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),y(8),M("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),y(),Ot(r.hideIcon?-1:10),y(),M("for",r.buttonId),Ue("id",r._labelId)}},dependencies:[Fo,qp],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}}return n})();var Kk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[_f,qe,qe]})}}return n})();var Ma=class{},Qk=(()=>{class n extends Ma{getTranslation(e){return _e({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),bu=class{},Zk=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function bf(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;let e=typeof n,i=typeof t,r,s,o;if(e==i&&e=="object")if(Array.isArray(n)){if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(s=0;s<r;s++)if(!bf(n[s],t[s]))return!1;return!0}}else{if(Array.isArray(t))return!1;o=Object.create(null);for(s in n){if(!bf(n[s],t[s]))return!1;o[s]=!0}for(s in t)if(!(s in o)&&typeof t[s]<"u")return!1;return!0}return!1}function Aa(n){return typeof n<"u"&&n!==null}function wu(n){return vf(n)&&!Ny(n)&&n!==null}function vf(n){return typeof n=="object"}function Ny(n){return Array.isArray(n)}function Ly(n){return typeof n=="string"}function S2(n){return typeof n=="function"}function Oy(n,t){let e=Object.assign({},n);return vf(n)?(vf(n)&&vf(t)&&Object.keys(t).forEach(i=>{wu(t[i])?i in n?e[i]=Oy(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e):Oy({},t)}function Ay(n,t){let e=t.split(".");t="";do t+=e.shift(),Aa(n)&&Aa(n[t])&&(wu(n[t])||Ny(n[t])||!e.length)?(n=n[t],t=""):e.length?t+=".":n=void 0;while(e.length);return n}function E2(n,t,e){let i=t.split("."),r=n;for(let s=0;s<i.length;s++){let o=i[s];s===i.length-1?r[o]=e:((!r[o]||!wu(r[o]))&&(r[o]={}),r=r[o])}}var $d=class{},Jk=(()=>{class n extends $d{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){if(Ly(e))return this.interpolateString(e,i);if(S2(e))return this.interpolateFunction(e,i)}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,s)=>{let o=Ay(i,s);return Aa(o)?o:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Yd=class{},eD=(()=>{class n extends Yd{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),yu=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ne;onLangChange=new ne;onDefaultLangChange=new ne},My=new ie("ISOLATE_TRANSLATE_SERVICE"),Ry=new ie("USE_DEFAULT_LANG"),Fy=new ie("DEFAULT_LANGUAGE"),Py=new ie("USE_EXTEND"),vu=n=>an(n)?n:_e(n),vi=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,i,r,s,o,a=!0,l=!1,c=!1,h){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.extend=c,l&&(this.store=new yu),h&&this.setDefaultLang(h)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe($t(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return _e(this.translations[e]);this.currentLang||(this.currentLang=e);let i=this.retrieveTranslations(e);return an(i)?(i.pipe($t(1)).subscribe(()=>{this.changeLang(e)}),i):(this.changeLang(e),_e(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(xo(1),$t(1));return this.loadingTranslations=i.pipe(Oe(r=>this.compiler.compileTranslations(r,e)),xo(1),$t(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?k(k({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){let s=this.compiler.compileTranslations(i,e);(r||this.extend)&&this.translations[e]?this.translations[e]=Oy(this.translations[e],s):this.translations[e]=s,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let i=e.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,i,r){let s;if(e&&(s=this.runInterpolation(Ay(e,i),r)),s===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(Ay(this.translations[this.defaultLang],i),r)),s===void 0){let o={key:i,translateService:this};typeof r<"u"&&(o.interpolateParams=r),s=this.missingTranslationHandler.handle(o)}return s!==void 0?s:i}runInterpolation(e,i){if(Ny(e))return e.map(r=>this.runInterpolation(r,i));if(wu(e)){let r={};for(let s in e){let o=this.runInterpolation(e[s],i);o!==void 0&&(r[s]=o)}return r}else return this.parser.interpolate(e,i)}getParsedResult(e,i,r){if(i instanceof Array){let s={},o=!1;for(let l of i)s[l]=this.getParsedResultForKey(e,l,r),o=o||an(s[l]);if(!o)return s;let a=i.map(l=>vu(s[l]));return ha(a).pipe(Oe(l=>{let c={};return l.forEach((h,m)=>{c[i[m]]=h}),c}))}return this.getParsedResultForKey(e,i,r)}get(e,i){if(!Aa(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(rs(r=>vu(this.getParsedResult(r,e,i)))):vu(this.getParsedResult(this.translations[this.currentLang],e,i))}getStreamOnTranslationChange(e,i){if(!Aa(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return Us(Br(()=>this.get(e,i)),this.onTranslationChange.pipe(ii(r=>{let s=this.getParsedResult(r.translations,e,i);return vu(s)})))}stream(e,i){if(!Aa(e)||!e.length)throw new Error('Parameter "key" required');return Us(Br(()=>this.get(e,i)),this.onLangChange.pipe(ii(r=>{let s=this.getParsedResult(r.translations,e,i);return vu(s)})))}instant(e,i){if(!Aa(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],e,i);return an(r)?Array.isArray(e)?e.reduce((s,o)=>(s[o]=o,s),{}):e:r}set(e,i,r=this.currentLang){E2(this.translations[r],e,Ly(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||n)(P(yu),P(Ma),P(Yd),P($d),P(bu),P(Ry),P(My),P(Py),P(Fy))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yi=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,r){let s=o=>{this.value=o!==void 0?o:e,this.lastKey=e,this._ref.markForCheck()};if(r){let o=this.translate.getParsedResult(r,e,i);an(o)?o.subscribe(s):s(o)}this.translate.get(e,i).subscribe(s)}transform(e,...i){if(!e||!e.length)return e;if(bf(e,this.lastKey)&&bf(i,this.lastParams))return this.value;let r;if(Aa(i[0])&&i.length)if(Ly(i[0])&&i[0].length){let s=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else wu(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(w(vi,16),w(Je,16))};static \u0275pipe=Dv({name:"translate",type:n,pure:!1,standalone:!0});static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var tD=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:Ma,useClass:Qk},e.compiler||{provide:Yd,useClass:eD},e.parser||{provide:$d,useClass:Jk},e.missingTranslationHandler||{provide:bu,useClass:Zk},yu,{provide:My,useValue:e.isolate},{provide:Ry,useValue:e.useDefaultLang},{provide:Py,useValue:e.extend},{provide:Fy,useValue:e.defaultLanguage},vi]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:Ma,useClass:Qk},e.compiler||{provide:Yd,useClass:eD},e.parser||{provide:$d,useClass:Jk},e.missingTranslationHandler||{provide:bu,useClass:Zk},{provide:My,useValue:e.isolate},{provide:Ry,useValue:e.useDefaultLang},{provide:Py,useValue:e.extend},{provide:Fy,useValue:e.defaultLanguage},vi]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ue({type:n});static \u0275inj=he({})}return n})();var iD=(()=>{class n{constructor(e,i){this.authService=e,this.overlayContainer=i,this.menuToggled=new ne,this.toggleDirection=new ne,this.user="Enea",this.isDarkTheme=!1,this.user=this.authService.getUserName(),this.manageLoadThemeRestore()}manageLoadThemeRestore(){localStorage.getItem("theme")==="light"?(this.isDarkTheme=!1,this.changeTheme(!1)):(this.isDarkTheme=!0,this.changeTheme(!0))}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.changeTheme(this.isDarkTheme)}changeTheme(e){e?(document.body.classList.add("dark-theme"),this.overlayContainer.getContainerElement().classList.add("dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-theme"),this.overlayContainer.getContainerElement().classList.remove("dark-theme"),localStorage.setItem("theme","light"))}logout(){this.authService.logout(),console.log("Logged out")}static{this.\u0275fac=function(i){return new(i||n)(w(Hd),w(nf))}}static{this.\u0275cmp=de({type:n,selectors:[["app-header"]],outputs:{menuToggled:"menuToggled",toggleDirection:"toggleDirection"},decls:19,vars:7,consts:[["menu","matMenu"],["color","primary"],["mat-icon-button","",3,"click"],[1,"spacer"],[3,"change","checked"],[1,"welcome-text"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(i,r){if(i&1){let s=Qt();_(0,"mat-toolbar",1)(1,"button",2),X("click",function(){return Pe(s),Ne(r.menuToggled.emit(!0))}),_(2,"mat-icon"),D(3,"menu"),b()(),G(4,"span",3),_(5,"mat-slide-toggle",4),X("change",function(){return Pe(s),Ne(r.toggleTheme())}),_(6,"mat-icon"),D(7),b()(),_(8,"span",5),D(9),U(10,"translate"),b(),_(11,"button",6)(12,"mat-icon"),D(13,"person_pin"),b()(),_(14,"mat-menu",null,0)(16,"button",7),X("click",function(){return Pe(s),Ne(r.logout())}),_(17,"span"),D(18,"Logout"),b()()()()}if(i&2){let s=ft(15);y(5),M("checked",r.isDarkTheme),y(2),Te(r.isDarkTheme?"dark_mode":"light_mode"),y(2),ga("",W(10,5,"userWelcomeHeader")," ",r.user,""),y(2),M("matMenuTriggerFor",s)}},dependencies:[Di,iu,_k,jd,hu,wk,_f,Yi],styles:["mat-toolbar[_ngcontent-%COMP%]{height:40px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.title[_ngcontent-%COMP%]{cursor:pointer}.welcome-text[_ngcontent-%COMP%]{font-size:smaller}"],changeDetection:0})}}return n})();var _r=class{constructor(t,e,i,r,s=[]){this.showSubmenu=!1,this.name=t,this.translateName=e,this.url=i,this.icon=r,this.children=s}};var yf=class{static getMenuItemList(){return[new _r("Components","sideNavMenu.basicInformation.title","/components","widgets",[new _r("Agency","sideNavMenu.basicInformation.subMenu.candidate","/agency","agency"),new _r("Brand","sideNavMenu.basicInformation.subMenu.brand","/brand",""),new _r("CarModel","sideNavMenu.basicInformation.subMenu.carModel","/carModel",""),new _r("Contract","sideNavMenu.basicInformation.subMenu.contract","/contract",""),new _r("Investor","sideNavMenu.basicInformation.subMenu.investor","/investor",""),new _r("Veteran","sideNavMenu.basicInformation.subMenu.veteran","/veteran",""),new _r("Product","sideNavMenu.basicInformation.subMenu.product","/product","")]),new _r("Components11","sideNavMenu.regisery.title","/components","widgets",[new _r("Order","sideNavMenu.basicInformation.subMenu.order","/order","")]),new _r("Components12","sideNavMenu.tarkhis.title","/components","widgets",[new _r("tarkhis","sideNavMenu.basicInformation.subMenu.tarkhis","/tarkhis","tarkhis")])]}};var nD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,qe]})}}return n})();var k2=["*"],D2='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}',T2=["unscopedContent"],I2=["text"],O2=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],A2=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var M2=new ie("ListOption"),R2=(()=>{class n{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(w(we))}}static{this.\u0275dir=Se({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}}return n})(),F2=(()=>{class n{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(w(we))}}static{this.\u0275dir=Se({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}}return n})(),P2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}}return n})(),rD=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static{this.\u0275fac=function(i){return new(i||n)(w(M2,8))}}static{this.\u0275dir=Se({type:n,hostVars:4,hostBindings:function(i,r){i&2&&je("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}}return n})(),N2=(()=>{class n extends rD{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275dir=Se({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[ni]})}}return n})(),L2=(()=>{class n extends rD{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275dir=Se({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[ni]})}}return n})(),V2=new ie("MAT_LIST_CONFIG"),wf=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=ee(V2,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=wn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=wn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,hostVars:1,hostBindings:function(i,r){i&2&&Ue("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return n})(),B2=(()=>{class n{set lines(e){this._explicitLines=Sa(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=wn(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=wn(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,s,o,a){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Dt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=o||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=a==="NoopAnimations",r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Xh(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(wi(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&i===1;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke),w(wf,8),w(yt),w(Zh,8),w(_i,8))}}static{this.\u0275dir=Se({type:n,contentQueries:function(i,r,s){if(i&1&&(Nt(s,N2,4),Nt(s,L2,4)),i&2){let o;Ee(o=xe())&&(r._avatars=o),Ee(o=xe())&&(r._icons=o)}},hostVars:4,hostBindings:function(i,r){i&2&&(Ue("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),je("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return n})();var sD=(()=>{class n extends B2{get activated(){return this._activated}set activated(e){this._activated=wn(e)}constructor(e,i,r,s,o,a){super(e,i,r,s,o,a),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke),w(wf,8),w(yt),w(Zh,8),w(_i,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,s){if(i&1&&(Nt(s,F2,5),Nt(s,R2,5),Nt(s,P2,5)),i&2){let o;Ee(o=xe())&&(r._lines=o),Ee(o=xe())&&(r._titles=o),Ee(o=xe())&&(r._meta=o)}},viewQuery:function(i,r){if(i&1&&(it(T2,5),it(I2,5)),i&2){let s;Ee(s=xe())&&(r._unscopedContent=s.first),Ee(s=xe())&&(r._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){i&2&&(Ue("aria-current",r._getAriaCurrent()),je("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[ni,Xe],ngContentSelectors:A2,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,r){if(i&1){let s=Qt();_t(O2),Re(0),_(1,"span",1),Re(2,1),Re(3,2),_(4,"span",2,0),X("cdkObserveContent",function(){return Pe(s),Ne(r._updateItemLines(!0))}),Re(6,3),b()(),Re(7,4),Re(8,5),G(9,"div",3)}},dependencies:[Ex],encapsulation:2,changeDetection:0})}}return n})();var oD=(()=>{class n extends wf{constructor(){super(...arguments),this._isNonInteractive=!1}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275cmp=de({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[vt([{provide:wf,useExisting:n}]),ni,Xe],ngContentSelectors:k2,decls:1,vars:0,template:function(i,r){i&1&&(_t(),Re(0))},styles:[D2],encapsulation:2,changeDetection:0})}}return n})();var aD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Rd,Pi,qe,yl,ry,nD]})}}return n})();var lD=new ie("CdkAccordion");var z2=0,dD=(()=>{class n{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Dt.EMPTY,this.closed=new ne,this.opened=new ne,this.destroyed=new ne,this.expandedChange=new ne,this.id=`cdk-accordion-child-${z2++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(i){return new(i||n)(w(lD,12),w(Je),w(Zp))}}static{this.\u0275dir=Se({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Fe],disabled:[2,"disabled","disabled",Fe]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[vt([{provide:lD,useValue:void 0}]),It]})}}return n})(),cD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})();var j2=["body"],U2=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],W2=["mat-expansion-panel-header","*","mat-action-row"];function G2(n,t){}var $2=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Y2=["mat-panel-title","mat-panel-description","*"];function q2(n,t){if(n&1&&(_(0,"span",1),Wn(),_(1,"svg",2),G(2,"path",3),b()()),n&2){let e=Me();M("@indicatorRotate",e._getExpandedState())}}var hD=new ie("MAT_ACCORDION"),uD="225ms cubic-bezier(0.4,0.0,0.2,1)",pD={indicatorRotate:dn("indicatorRotate",[Wi("collapsed, void",Lt({transform:"rotate(0deg)"})),Wi("expanded",Lt({transform:"rotate(180deg)"})),Si("expanded <=> collapsed, void => collapsed",Ci(uD))]),bodyExpansion:dn("bodyExpansion",[Wi("collapsed, void",Lt({height:"0px",visibility:"hidden"})),Wi("expanded",Lt({height:"*",visibility:""})),Si("expanded <=> collapsed, void => collapsed",Ci(uD))])},fD=new ie("MAT_EXPANSION_PANEL"),X2=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(w(dr),w(fD,8))}}static{this.\u0275dir=Se({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return n})(),K2=0,gD=new ie("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Vy=(()=>{class n extends dD{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,s,o,a,l){super(e,i,r),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new ne,this.afterCollapse=new ne,this._inputChanges=new ge,this._headerId=`mat-expansion-panel-header-${K2++}`,this.accordion=e,this._document=o,this._animationsDisabled=a==="NoopAnimations",l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Jt(null),pt(()=>this.expanded&&!this._portal),$t(1)).subscribe(()=>{this._portal=new Rr(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_animationStarted(e){!mD(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){mD(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(i){return new(i||n)(w(hD,12),w(Je),w(Zp),w(In),w($e),w(_i,8),w(gD,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,s){if(i&1&&Nt(s,X2,5),i&2){let o;Ee(o=xe())&&(r._lazyContent=o.first)}},viewQuery:function(i,r){if(i&1&&it(j2,5),i&2){let s;Ee(s=xe())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){i&2&&je("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Fe],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[vt([{provide:hD,useValue:void 0},{provide:fD,useExisting:n}]),It,ni,Kt,Xe],ngContentSelectors:W2,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(i&1){let s=Qt();_t(U2),Re(0),_(1,"div",1,0),X("@bodyExpansion.start",function(a){return Pe(s),Ne(r._animationStarted(a))})("@bodyExpansion.done",function(a){return Pe(s),Ne(r._animationDone(a))}),_(3,"div",2),Re(4,1),ve(5,G2,0,0,"ng-template",3),b(),Re(6,2),b()}i&2&&(y(),M("@bodyExpansion",r._getExpandedState())("id",r.id),Ue("aria-labelledby",r._headerId),y(4),M("cdkPortalOutlet",r._portal))},dependencies:[ka],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[pD.bodyExpansion]},changeDetection:0})}}return n})();function mD(n){return n.fromState==="void"}var _D=(()=>{class n{constructor(e,i,r,s,o,a,l){this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=Dt.EMPTY,this.tabIndex=0;let c=e.accordion?e.accordion._stateChanges.pipe(pt(h=>!!(h.hideToggle||h.togglePosition))):Dr;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=wi(e.opened,e.closed,c,e._inputChanges.pipe(pt(h=>!!(h.hideToggle||h.disabled||h.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(pt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ki(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(w(Vy,1),w(we),w(ds),w(Je),w(gD,8),w(_i,8),Gn("tabindex"))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){i&1&&X("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),i&2&&(Ue("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),cr("height",r._getHeaderHeight()),je("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ys(e)]},standalone:!0,features:[It,Xe],ngContentSelectors:Y2,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){i&1&&(_t($2),_(0,"span",0),Re(1),Re(2,1),Re(3,2),b(),ve(4,q2,3,1,"span",1)),i&2&&(je("mat-content-hide-toggle",!r._showToggle()),y(4),Ot(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[pD.indicatorRotate]},changeDetection:0})}}return n})();var vD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,cD,Da]})}}return n})();var Z2=()=>["active"];function J2(n,t){if(n&1&&(_(0,"mat-list-item",5)(1,"mat-icon"),D(2,"arrow_right"),b(),_(3,"span",3),D(4),U(5,"translate"),b()()),n&2){let e=t.$implicit;M("routerLink",e.url)("routerLinkActive",vS(5,Z2)),y(4),Te(W(5,3,e.translateName))}}function ez(n,t){if(n&1&&(_(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-icon",2),D(3,"list"),b(),_(4,"span",3),D(5),U(6,"translate"),b()(),_(7,"mat-nav-list"),ve(8,J2,6,6,"mat-list-item",4),b()()),n&2){let e=Me().$implicit;y(5),Te(W(6,2,e.translateName)),y(3),M("ngForOf",e.children)}}function tz(n,t){if(n&1&&(zm(0),ve(1,ez,9,4,"mat-expansion-panel",1),jm()),n&2){let e=t.$implicit;y(),M("ngIf",e.children.length>0)}}var bD=(()=>{class n{constructor(){this.showSubmenu=!1,this.showSubSubMenu=!1,this.navItems=yf.getMenuItemList()}toggleSubmenu(e){e.showSubmenu=!e.showSubmenu}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["app-menu-item"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["matListIcon",""],["matLine",""],[3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],[3,"routerLink","routerLinkActive"]],template:function(i,r){i&1&&(_(0,"mat-nav-list"),ve(1,tz,2,1,"ng-container",0),b()),i&2&&(y(),M("ngForOf",r.navItems))},dependencies:[qs,os,Di,oD,sD,Vy,_D,Dd,hx,Yi],styles:[".mat-list-item.active[_ngcontent-%COMP%]{color:red}"],changeDetection:0})}}return n})();var yD=(()=>{class n{constructor(){this.opened=!0,this.direction="rtl"}toggle(){this.opened=!this.opened}changeDirection(){this.direction=this.direction==="rtl"?"ltr":"rtl"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["app-layout"]],decls:7,vars:2,consts:[[3,"dir"],[3,"menuToggled","toggleDirection"],["mode","side",3,"opened"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"app-header",1),X("menuToggled",function(){return r.toggle()})("toggleDirection",function(){return r.changeDirection()}),b(),_(2,"mat-drawer-container")(3,"mat-drawer",2),G(4,"app-menu-item"),b(),_(5,"mat-drawer-content"),G(6,"router-outlet"),b()()()),i&2&&(M("dir",r.direction),y(3),M("opened",r.opened))},dependencies:[Vx,sy,oy,su,Vh,iD,bD],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer[_ngcontent-%COMP%]{min-width:200px;max-width:300px}.margin-left[_ngcontent-%COMP%]{margin-left:300px}mat-drawer-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px)}  .mat-drawer-inner-container{display:flex;flex-direction:column;justify-content:space-between;background:#ecececc2}.center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:80vh}.date-hour-content[_ngcontent-%COMP%]{background:#3f51b538;text-align:center;padding:10px 0}"],changeDetection:0})}}return n})();var By={};qc(By,{BackendUtilityService:()=>Cu});var bi=function(n){return n.local="local",n.remote="remote",n}(bi||{});var Cu=class{constructor(t){this.rxjs=t,this._infiniteScrollBottomHit=!1}addRxJsResource(t){this.rxjs=t}executeBackendProcessesCallback(t,e,i,r){let s=new Date;e&&i.service.postProcess&&i.service.postProcess(e),e&&i?.internalPostProcess&&i.internalPostProcess(e),i.postProcess!==void 0&&(e instanceof Object&&(e.metrics={startTime:t,endTime:s,executionTime:s.valueOf()-t.valueOf(),itemCount:r,totalItemCount:r},i.service.options?.infiniteScroll&&(e.infiniteScrollBottomHit=this._infiniteScrollBottomHit,delete e.itemCount)),i.postProcess(e),this.setInfiniteScrollBottomHit(!1))}onBackendError(t,e){if(typeof e?.onError=="function")e.onError(t);else throw t}executeBackendCallback(t,e,i,r,s,o){if(t){i&&!i.clearFilterTriggered&&!i.clearSortTriggered&&o?.emitActionChangedCallback&&o.emitActionChangedCallback.call(this,bi.remote);let a=t.process(e);if(a instanceof Promise&&a.then)a.then(l=>{this.executeBackendProcessesCallback(r,l,t,s),o?.successCallback?.call(this,i)}).catch(l=>{o?.errorCallback?.call(this,i),this.onBackendError(l,t)});else if(this.rxjs?.isObservable(a)){let l=this.rxjs;l.isObservable(o?.httpCancelRequestSubject)&&o?.httpCancelRequestSubject.next(),a.pipe(l.takeUntil(l.iif(()=>l.isObservable(o?.httpCancelRequestSubject),o?.httpCancelRequestSubject,l.EMPTY))).subscribe(c=>{this.executeBackendProcessesCallback(r,c,t,s),o?.successCallback?.call(this,i)},c=>{o?.errorCallback?.call(this,i),this.onBackendError(c,t)})}}}refreshBackendDataset(t){let e="",i=t?.backendServiceApi;if(!i||!i.service||!i.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(i.service&&(e=i.service.buildQuery()),e&&e!==""){let r=new Date;i.preProcess&&i.preProcess();let s=t?.pagination?.totalItems??0;this.executeBackendCallback(i,e,null,r,s)}}setInfiniteScrollBottomHit(t){this._infiniteScrollBottomHit=t}};var Hy={};qc(Hy,{collectionObserver:()=>Sl,propertyObserver:()=>El});function Sl(n,t){if(Array.isArray(n)){let e=["pop","push","reverse","shift","unshift","splice","sort"],i=[];return e.forEach(s=>{n[s]=(...o)=>{let a=Array.prototype[s].apply(n,o);return i.push({method:s,action:a}),t.apply(n,[n,o]),a}}),{disconnect:()=>e.forEach(s=>{n[s]=()=>i[s].action})}}return null}function El(n,t,e){let i=n[t];Object.defineProperty(n,t,{configurable:!0,get(){return i},set(r){i=r,e.apply(n,[r,n[t]])}})}var Uy={};qc(Uy,{CancelledException:()=>Cf,addTreeLevelAndAggregatorsByMutation:()=>qd,addTreeLevelByMutation:()=>Sf,cancellablePromise:()=>rz,castObservableToPromise:()=>Eu,decimalFormatted:()=>io,findItemInTreeStructure:()=>xl,findOrDefault:()=>no,flattenToParentChildArray:()=>zy,formatNumber:()=>wt,getCellValueFromQueryFieldGetter:()=>Fa,getColumnFieldType:()=>kl,getDescendantProperty:()=>Vi,getTranslationPrefix:()=>Sn,getTreeDataOptionPropName:()=>qi,isColumnDateType:()=>vr,mapOperatorByFieldType:()=>Ef,mapOperatorToShorthandDesignation:()=>Bo,mapOperatorType:()=>sz,objectWithoutKey:()=>SD,thousandSeparatorFormatted:()=>Rs,unflattenParentChildArrayToTree:()=>jy,unsubscribeAll:()=>Pa});var $q=Array.prototype.map,Yq=Array.prototype.reduce;var nz=n=>n;function wD(n,t,e=nz,i=()=>{}){let r=n&&n.length?[{pointer:n,offset:0}]:[],s=[],o;for(;r.length;)for(o=r.pop();o.offset<o.pointer.length;){let a=o.pointer[o.offset],l=i(a),c=t(a);s.push(e(a,o.node,l,o.nodeId)),o.offset+=1,c&&(r.push(o),o={pointer:c,offset:0,node:a,nodeId:l})}return s}var se=class{};se.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_DROP_COLUMN_HEADER_TO_GROUP_BY:"Drop a column header here to group by the column",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FILTER_SHORTCUTS:"Filter Shortcuts",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_RECORDS_SELECTED:"records selected",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_RESET_INPUT_VALUE:"Reset Input Value",TEXT_RESET_FORM:"Reset Form",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_ALL_GROUPS:"Toggle all Groups",TEXT_TOGGLE_DARK_MODE:"Toggle Dark Mode",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_UNFREEZE_COLUMNS:"Unfreeze Columns",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"};se.treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"};se.DEFAULT_FORMATTER_NUMBER_MIN_DECIMAL=2;se.DEFAULT_FORMATTER_NUMBER_MAX_DECIMAL=2;se.DEFAULT_FORMATTER_CURRENCY_MIN_DECIMAL=2;se.DEFAULT_FORMATTER_CURRENCY_MAX_DECIMAL=4;se.DEFAULT_FORMATTER_PERCENT_MIN_DECIMAL=void 0;se.DEFAULT_FORMATTER_PERCENT_MAX_DECIMAL=void 0;se.DEFAULT_NUMBER_DECIMAL_SEPARATOR=".";se.DEFAULT_NUMBER_THOUSAND_SEPARATOR="";se.DEFAULT_NEGATIVE_NUMBER_WRAPPED_IN_BRAQUET=!1;se.SLIDER_DEFAULT_MIN_VALUE=0;se.SLIDER_DEFAULT_MAX_VALUE=100;se.SLIDER_DEFAULT_STEP=1;se.VALIDATION_REQUIRED_FIELD="Field is required";se.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number";se.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number";se.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}";se.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}";se.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}";se.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}";se.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}";se.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}";se.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}";se.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}";se.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}";se.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}";se.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals";se.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters";se.VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters";se.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters";se.VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)";se.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)";var Ms=function(n){return n.colon=":",n.comma=",",n.equalSign="=",n.pipe="|",n.semicolon=";",n.space=" ",n.tab="	",n.doubleColon="::",n.doublePipe="||",n.doubleSemicolon=";;",n}(Ms||{});var st=function(n){return n.autoTooltip="autoTooltip",n.cellExternalCopyManager="cellExternalCopyManager",n.cellMenu="cellMenu",n.checkboxSelector="checkboxSelector",n.columnPicker="columnPicker",n.contextMenu="contextMenu",n.customTooltip="customTooltip",n.draggableGrouping="draggableGrouping",n.groupItemMetaProvider="groupItemMetaProvider",n.gridMenu="gridMenu",n.headerButton="headerButton",n.headerMenu="headerMenu",n.rowBasedEdit="rowBasedEdit",n.rowDetailView="rowDetailView",n.rowMoveManager="rowMoveManager",n.rowSelection="rowSelection",n}(st||{});var R={unknown:"unknown",string:"string",boolean:"boolean",integer:"integer",float:"float",number:"number",date:"date",dateIso:"dateIso",dateUtc:"dateUtc",dateTime:"dateTime",dateTimeIso:"dateTimeIso",dateTimeIsoAmPm:"dateTimeIsoAmPm",dateTimeIsoAM_PM:"dateTimeIsoAM_PM",dateTimeShortIso:"dateTimeShortIso",dateEuro:"dateEuro",dateEuroShort:"dateEuroShort",dateTimeShortEuro:"dateTimeShortEuro",dateTimeEuro:"dateTimeEuro",dateTimeEuroAmPm:"dateTimeEuroAmPm",dateTimeEuroAM_PM:"dateTimeEuroAM_PM",dateTimeEuroShort:"dateTimeEuroShort",dateTimeEuroShortAmPm:"dateTimeEuroShortAmPm",dateTimeEuroShortAM_PM:"dateTimeEuroShortAM_PM",dateUs:"dateUs",dateUsShort:"dateUsShort",dateTimeShortUs:"dateTimeShortUs",dateTimeUs:"dateTimeUs",dateTimeUsAmPm:"dateTimeUsAmPm",dateTimeUsAM_PM:"dateTimeUsAM_PM",dateTimeUsShort:"dateTimeUsShort",dateTimeUsShortAmPm:"dateTimeUsShortAmPm",dateTimeUsShortAM_PM:"dateTimeUsShortAM_PM",object:"object",password:"password",text:"text",readonly:"readonly"};var Pn=function(n){return n.csv="csv",n.txt="txt",n.xls="xls",n.xlsx="xlsx",n}(Pn||{});var Su=function(n){return n.merge="merge",n.chain="chain",n}(Su||{});var tr=function(n){return n.columns="columns",n.filter="filter",n.pagination="pagination",n.pinning="pinning",n.rowSelection="rowSelection",n.sorter="sorter",n.treeData="treeData",n}(tr||{});var Le=function(n){return n.empty="",n.custom="Custom",n.contains="Contains",n.notContains="Not_Contains",n.lessThan="LT",n.lessThanOrEqual="LE",n.greaterThan="GT",n.greaterThanOrEqual="GE",n.notEqual="NE",n.equal="EQ",n.endsWith="EndsWith",n.rangeInclusive="RangeInclusive",n.rangeExclusive="RangeExclusive",n.startsWith="StartsWith",n.startsWithEndsWith="StartsWithEndsWith",n.in="IN",n.notIn="NOT_IN",n.inContains="IN_CONTAINS",n.notInContains="NOT_IN_CONTAINS",n.inCollection="IN_COLLECTION",n.notInCollection="NOT_IN_COLLECTION",n}(Le||{});var to=function(n){return n.asc="asc",n.ASC="ASC",n.desc="desc",n.DESC="DESC",n}(to||{});var ri=function(n){return n[n.asc=1]="asc",n[n.desc=-1]="desc",n[n.neutral=0]="neutral",n}(ri||{});var Ra=function(n){return n.toggleCollapse="toggle-collapse",n.fullExpand="full-expand",n.fullCollapse="full-collapse",n.toggleExpand="toggle-expand",n}(Ra||{});var Cf=class n extends Error{constructor(t){super(t),Object.setPrototypeOf(this,n.prototype)}};function rz(n){let t=!1;return n instanceof Promise?{promise:n.then(e=>{if(t)throw new Cf("Cancelled Promise");return e}),cancel:()=>t=!0}:n}function Eu(n,t,e=""){let i=t;if(t instanceof Promise)return t;if(n.isObservable(t)&&(i=n.firstValueFrom(t)),!(i instanceof Promise))throw new Error(`Something went wrong, Slickgrid-Universal ${e} is not able to convert the Observable into a Promise.`);return i}function Sf(n,t,e=0){let i=qi(t,"childrenPropName");Array.isArray(n)&&n.forEach(r=>{r&&(Array.isArray(r[i])&&r[i].length>0&&(e++,Sf(r[i],t,e),e--),r[t.levelPropName]=e)})}function qd(n,t,e=0,i=null){let r=qi(t,"childrenPropName"),{aggregator:s}=t;Array.isArray(n)&&n.forEach(o=>{if(o){let a=Array.isArray(o[r]);Array.isArray(o[r])&&o[r].length>0&&(s.init(o,!0),e++,qd(o[r],t,e,o),e--),i&&s.isInitialized&&typeof s.accumulate=="function"&&!o?.__filteredOut&&(s.accumulate(o,a),s.storeResult(i.__treeTotals)),o[t.levelPropName]=e}})}function zy(n,t){let e=qi(t,"identifierPropName"),i=qi(t,"childrenPropName"),r=qi(t,"hasChildrenPropName"),s=qi(t,"parentPropName"),o=qi(t,"levelPropName");return t?.shouldAddTreeLevelNumber&&(Array.isArray(t?.aggregators)?t.aggregators.forEach(l=>{qd(n,{childrenPropName:i,levelPropName:o,aggregator:l})}):Sf(n,{childrenPropName:i,levelPropName:o})),wD(n,l=>l[i],(l,c)=>k({[e]:l[e],[s]:c!==void 0?c[e]:null,[r]:!!l[i]},SD(l,i)))}function qi(n,t,e="id"){let i="";switch(t){case"childrenPropName":i=n?.childrenPropName??se.treeDataProperties.CHILDREN_PROP;break;case"collapsedPropName":i=n?.collapsedPropName??se.treeDataProperties.COLLAPSED_PROP;break;case"hasChildrenPropName":i=n?.hasChildrenPropName??se.treeDataProperties.HAS_CHILDREN_PROP;break;case"identifierPropName":i=n?.identifierPropName??e;break;case"levelPropName":i=n?.levelPropName??se.treeDataProperties.TREE_LEVEL_PROP;break;case"parentPropName":i=n?.parentPropName??se.treeDataProperties.PARENT_PROP;break}return i}function jy(n,t){let e=qi(t,"identifierPropName"),i=qi(t,"childrenPropName"),r=qi(t,"parentPropName"),s=qi(t,"levelPropName"),o=qi(t,"collapsedPropName"),a=n||[],l=[],c={};return a.forEach(h=>{c[h[e]]=h,delete h[i]}),Object.keys(c).forEach(h=>{let m=c[h];if(!(r in m)||m[r]===null||m[r]===void 0||m[r]==="")l.push(m);else if(m[r]in c){let f=c[m[r]];i in f||(f[i]=[]),f[i].push(m),f[o]===void 0&&(f[o]=t?.initiallyCollapsed??!1)}}),Array.isArray(t?.aggregators)?t.aggregators.forEach(h=>{qd(l,{childrenPropName:i,levelPropName:s,aggregator:h},0)}):Sf(l,{childrenPropName:i,levelPropName:s},0),l}function xl(n,t,e){if(!e)throw new Error('findItemInTreeStructure requires parameter "childrenPropertyName"');let i=n.find(t),r=n.filter(s=>e in s&&s[e]);if(i)return i;if(r.length){let s=[];for(let o of r)e in o&&s.push(...o[e]);return xl(s,t,e)}}function io(n,t,e,i=".",r=""){if(isNaN(+n))return n;let s=t===void 0?2:t,o=e===void 0?2:e,a=String(Math.round(+n*Math.pow(10,o))/Math.pow(10,o));for(a.indexOf(".")<0&&s>0&&(a+=".");a.length-a.indexOf(".")<=s;)a+="0";let l=a.split("."),c,h;r?c=l.length>=1?Rs(l[0],r):void 0:c=l.length>=1?l[0]:a,l.length>1&&(h=l[1]);let m="";return c!==void 0&&h!==void 0?m=`${c}${i}${h}`:c!=null&&(m=c),m}function wt(n,t,e,i,r="",s="",o=".",a=""){if(isNaN(+n))return n;let l=Math.round(parseFloat(n)*1e6)/1e6;if(l<0){let c=Math.abs(l);if(i){if(!isNaN(t)||!isNaN(e))return`(${r}${io(c,t,e,o,a)}${s})`;let h=Rs(`${c}`,a);return`(${r}${h}${s})`}else{if(!isNaN(t)||!isNaN(e))return`-${r}${io(c,t,e,o,a)}${s}`;let h=Rs(`${c}`,a);return`-${r}${h}${s}`}}else{if(!isNaN(t)||!isNaN(e))return`${r}${io(n,t,e,o,a)}${s}`;let c=Rs(`${n}`,a);return`${r}${c}${s}`}}function Fa(n,t,e){if(typeof n.queryFieldNameGetterFn=="function"){let i=n.queryFieldNameGetterFn(t);i?.indexOf(".")>=0?e=Vi(t,i):e=t.hasOwnProperty(i)?t[i]:e}return e}function Vi(n,t){return!n||!t?n:t.split(".").reduce((e,i)=>e&&e[i],n)}function Sn(n){return n&&n.translationNamespace?n.translationNamespace+(n.translationNamespaceSeparator||""):""}function kl(n){return n.outputType||n.type||R.string}function vr(n){switch(n){case R.date:case R.dateTime:case R.dateIso:case R.dateTimeIso:case R.dateTimeShortIso:case R.dateTimeIsoAmPm:case R.dateTimeIsoAM_PM:case R.dateEuro:case R.dateEuroShort:case R.dateTimeEuro:case R.dateTimeShortEuro:case R.dateTimeEuroAmPm:case R.dateTimeEuroAM_PM:case R.dateTimeEuroShort:case R.dateTimeEuroShortAmPm:case R.dateTimeEuroShortAM_PM:case R.dateUs:case R.dateUsShort:case R.dateTimeUs:case R.dateTimeShortUs:case R.dateTimeUsAmPm:case R.dateTimeUsAM_PM:case R.dateTimeUsShort:case R.dateTimeUsShortAmPm:case R.dateTimeUsShortAM_PM:case R.dateUtc:return!0;default:return!1}}function sz(n){let t;switch(n){case"<":case"LT":t=Le.lessThan;break;case"<=":case"LE":t=Le.lessThanOrEqual;break;case">":case"GT":t=Le.greaterThan;break;case">=":case"GE":t=Le.greaterThanOrEqual;break;case"!=":case"NE":t=Le.notEqual;break;case"*":case"a*":case"StartsWith":t=Le.startsWith;break;case"*z":case"EndsWith":t=Le.endsWith;break;case"=":case"==":case"EQ":t=Le.equal;break;case"IN":t=Le.in;break;case"NIN":case"NOT_IN":t=Le.notIn;break;case"<>":case"Not_Contains":case"NOT_CONTAINS":t=Le.notContains;break;case"Contains":case"CONTAINS":default:t=Le.contains;break}return t}function Bo(n){let t="";switch(n){case Le.greaterThan:case">":t=">";break;case Le.greaterThanOrEqual:case">=":t=">=";break;case Le.lessThan:case"<":t="<";break;case Le.lessThanOrEqual:case"<=":t="<=";break;case Le.notEqual:case"<>":t="<>";break;case Le.equal:case"=":case"==":case"EQ":t="=";break;case Le.startsWith:case"a*":case"*":t="a*";break;case Le.endsWith:case"*z":t="*z";break;default:t=n;break}return t}function Ef(n){let t;if(vr(n))t=Le.equal;else switch(n){case R.unknown:case R.string:case R.text:case R.password:case R.readonly:t=Le.contains;break;case R.float:case R.number:default:t=Le.equal;break}return t}function SD(n,t){return Object.keys(n).reduce((e,i)=>(i!==t&&(e[i]=n[i]),e),{})}function Rs(n,t=","){if(n!=null){let e=`${n}`,i=e.split(".");return i.length===2?`${i[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)}.${i[1]}`:e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}return n}function no(n,t,e={}){return Array.isArray(n)?n.find(t)||e:n}function Pa(n){if(Array.isArray(n))for(;n.length>0;){let t=n.pop();t?.unsubscribe&&t.unsubscribe()}return n}var o0={};qc(o0,{sortByFieldType:()=>Wo});var ED=(n,t,e=ri.neutral)=>{let i=0;return n===t?i=0:n===null?i=-1:t===null?i=1:e?i=n<t?-1:1:i=n<t?1:-1,e*i};var xD=(n,t,e=ri.neutral,i,r)=>{if(!i||!i.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');let s=n?.hasOwnProperty(i.dataKey)?n[i.dataKey]:n,o=t?.hasOwnProperty(i.dataKey)?t[i.dataKey]:t,a=i?.valueCouldBeUndefined??r?.cellValueCouldBeUndefined??!1,l=0;return typeof n!="object"?l=-1/0:typeof t!="object"?l=1/0:s===null||a&&s===void 0?l=-1:o===null||a&&o===void 0?l=1:s===o?l=0:e?l=s<o?-1:1:l=s<o?1:-1,e*l};var Qy={};qc(Qy,{addToArrayWhenNotExists:()=>Yy,addWhiteSpaces:()=>Kd,arrayRemoveItemByIndex:()=>xu,calculateAvailableSpace:()=>Dl,classNameToList:()=>Ut,createDomElement:()=>T,deepCopy:()=>lz,deepMerge:()=>Ho,destroyAllElementProps:()=>xf,emptyElement:()=>ut,emptyObject:()=>dz,extend:()=>oi,findFirstAttribute:()=>oz,findWidthOrDefault:()=>Kr,getFunctionDetails:()=>Tf,getHtmlStringOutput:()=>Fr,getInnerSize:()=>Xd,getOffset:()=>pi,getOffsetRelativeToParent:()=>Wy,getStyleProp:()=>kD,htmlEncode:()=>DD,htmlEncodeWithPadding:()=>Gy,htmlEntityDecode:()=>az,insertAfterElement:()=>$y,isDefined:()=>mt,isDefinedNumber:()=>La,isEmptyObject:()=>If,isNumber:()=>ze,isObject:()=>Na,isObjectEmpty:()=>qy,isPrimitiveOrHTML:()=>ro,isPrimitiveValue:()=>Tl,parseBoolean:()=>ku,removeAccentFromText:()=>Va,setDeepValue:()=>so,stripTags:()=>yi,titleCase:()=>oo,toCamelCase:()=>Xy,toKebabCase:()=>zo,toSentenceCase:()=>Qr,toSnakeCase:()=>cz,uniqueArray:()=>Ky,uniqueObjectArray:()=>hz,windowScrollPosition:()=>kf});function Dl(n){let t=0,e=0,i=0,r=0,s=window.innerHeight||0,o=window.innerWidth||0,a=kf(),l=a.top,c=a.left,h=pi(n);if(h){let m=h.top,f=h.left;e=m-l,i=f-c,t=s-(m-l+n.clientHeight),r=o-(f-c+n.clientWidth)}return{top:e,bottom:t,left:i,right:r}}function T(n,t,e){let i=document.createElement(n);return t&&Object.keys(t).forEach(r=>{r==="innerHTML"&&console.warn(`[Slickgrid-Universal] For better CSP (Content Security Policy) support, do not use "innerHTML" directly in "createDomElement('${n}', { innerHTML: 'some html'})", it is better as separate assignment: "const elm = createDomElement('span'); elm.innerHTML = 'some html';"`);let s=t[r];typeof s=="object"?Object.assign(i[r],s):i[r]=t[r]}),e?.appendChild&&e.appendChild(i),i}function Ut(n=""){return n.split(" ").filter(t=>t)}function xf(n){typeof n=="object"&&Object.keys(n).forEach(t=>{Array.isArray(n[t])&&xf(n[t]),n[t]instanceof HTMLElement&&(n[t]=null)})}function ut(n){for(;n?.firstChild;)n.removeChild(n.firstChild);return n}function Fr(n,t="innerHTML"){return n instanceof DocumentFragment?[].map.call(n.childNodes,e=>e[t]).join("")||n.textContent||"":n instanceof HTMLElement?n[t]:String(n??"")}function Wy(n,t){if(!n||!t)return;let e=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:i.top-e.top,right:i.right-e.right,bottom:i.bottom-e.bottom,left:i.left-e.left}}function pi(n){let t=0,e=0,i=0,r=0;if(!n||!n.getBoundingClientRect)return{top:t,bottom:i,left:e,right:r};let s=n.getBoundingClientRect(),o=document.documentElement;return s?.top!==void 0&&s.left!==void 0&&(t=s.top+window.pageYOffset-o.clientTop,e=s.left+window.pageXOffset-o.clientLeft,r=s.right,i=s.bottom),{top:t,left:e,bottom:i,right:r}}function Xd(n,t){let e=0;if(n){let i=t==="height"?"clientHeight":"clientWidth",r=t==="height"?["top","bottom"]:["left","right"];e=n[i];for(let s of r){let o=parseFloat(kD(n,`padding-${s}`)||"")||0;e-=o}}return e}function kD(n,t){return n?window.getComputedStyle(n).getPropertyValue(t):null}function oz(n,t){if(n)for(let e of t){let i=n.getAttribute(e);if(i)return i}return null}function Kr(n,t="auto"){return(/^[0-9]+$/i.test(`${n}`)?`${+n}px`:n)||t}function DD(n){let t=typeof n=="string"?n:String(n),e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(t||"").toString().replace(/[&<>"']/g,i=>e[i])}function az(n){return n.replace(/&#(\d+);/g,(t,e)=>String.fromCharCode(e))}function Gy(n,t){let e=n.length,i=DD(n);if(e<t)for(let r=e;r<t;r++)i+="&nbsp;";return i}function $y(n,t){n.parentNode?.insertBefore(t,n.nextSibling)}function kf(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}var Df=Object.prototype.hasOwnProperty,FD=Object.prototype.toString,TD=Object.defineProperty,ID=Object.getOwnPropertyDescriptor,OD=function(t){return typeof Array.isArray=="function"?Array.isArray(t):FD.call(t)==="[object Array]"},AD=function(t){if(!t||FD.call(t)!=="[object Object]")return!1;let e=Df.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&Df.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;let r;for(r in t);return typeof r>"u"||Df.call(t,r)},MD=function(t,e){TD&&e.name==="__proto__"?TD(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},RD=function(t,e){if(e==="__proto__")if(Df.call(t,e)){if(ID)return ID(t,e).value}else return;return t[e]};function oi(...n){let t,e,i,r,s,o,a=n[0],l=1,c=n.length,h=!1;for(typeof a=="boolean"&&(h=a,a=n[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(t=n[l],t!=null)for(e in t)i=RD(a,e),r=RD(t,e),a!==r&&(h&&r&&(AD(r)||(s=OD(r)))?(s?(s=!1,o=i&&OD(i)?i:[]):o=i&&AD(i)?i:{},MD(a,{name:e,newValue:oi(h,o,r)})):typeof r<"u"&&MD(a,{name:e,newValue:r}));return a}function Yy(n,t,e="id"){let i=-1;t&&typeof t=="object"&&e in t?i=n.findIndex(r=>r[e]===t[e]):i=n.findIndex(r=>r===t),i<0&&n.push(t)}function Kd(n,t=" "){let e="";for(let i=0;i<n;i++)e+=t;return e}function xu(n,t){return n.filter((e,i)=>t!==i)}function lz(n){if(!Array.isArray(n)&&!Na(n))return n;let t=Array.isArray(n)?[]:{};return oi(!0,t,n)}function Ho(n,...t){if(!t.length)return n;let e=t.shift();return n=!Na(n)&&Na(e)?{}:n,Na(n)&&Na(e)&&Object.keys(e).forEach(i=>{e.hasOwnProperty(i)&&(i in n?typeof n[i]!="object"||typeof e[i]!="object"?n[i]=e[i]:n[i].concat&&e[i].concat?n[i]=n[i].concat(e[i]):n[i]=Ho(n[i],e[i]):n[i]=e[i])}),Ho(n,...t)}function dz(n){return Na(n)&&Object.keys(n).forEach(t=>{n.hasOwnProperty(t)&&delete n[t]}),n=null,n={},n}function Tf(n,t=!0){let e=!1,i=s=>{let o=s.toString();if(e=o.includes("async "),o.replaceAll(" ","").includes("=>({")){let c=o.match(/(({.*}))/g)||[];return c.length>=1?`return ${c[0].trimStart()}`:o}let a=!o.includes("{")&&o.includes("=>"),l=o.substring(o.indexOf("{")+1||o.indexOf("=>")+2,o.includes("}")?o.lastIndexOf("}"):o.length);return t&&a&&!l.startsWith("return")?"return "+l.trimStart():l};return{params:(s=>{let o=/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,)]*))/gm,a=/([^\s,]+)/g,l=s.toString().replace(o,"");return l.slice(l.indexOf("(")+1,l.indexOf(")")).match(a)??[]})(n),body:i(n),isAsync:e}}function If(n){return n==null?!0:Object.entries(n).length===0}function mt(n){return n!=null&&n!==""}function La(n){return n!==null&&!isNaN(n)&&n!==""}function Na(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)&&!(n instanceof Date)}function Tl(n){return typeof n=="boolean"||typeof n=="number"||typeof n=="string"||n===null||n===void 0}function ro(n){return n instanceof HTMLElement||n instanceof DocumentFragment||Tl(n)}function ze(n,t=!1){return t?n==null||typeof n=="string"?!1:!isNaN(n):n==null||n===""?!1:!isNaN(+n)}function qy(n){return!n||n&&typeof n=="object"&&Object.keys(n).length===0}function ku(n){return/(true|1)/i.test(n+"")}function Va(n,t=!1){let e=typeof n.normalize=="function"?n.normalize("NFD").replace(/[\u0300-\u036f]/g,""):n;return t?e.toLowerCase():e}function so(n,t,e){if(typeof t=="string"&&(t=t.split(".")),t.length>1){let i=t.shift();n&&i!==void 0&&so(n[i]=mt(n[i])&&(Array.isArray(n[i])||Object.prototype.toString.call(n[i])==="[object Object]")?n[i]:{},t,e)}else n&&t[0]&&(n[t[0]]=e)}function oo(n,t=!1){return typeof n=="string"?t?n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()):n.charAt(0).toUpperCase()+n.slice(1):n}function Xy(n){return typeof n=="string"?n.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_/])/g,(t,e)=>/[\s+\-_/]/.test(t)?"":e===0?t.toLowerCase():t.toUpperCase()):n}function zo(n){return typeof n=="string"?Xy(n).replace(/([A-Z])|([-_])/g,"-$1").toLowerCase():n}function Qr(n){if(typeof n=="string"){let t=n.replace(/([A-Z])|([-_])/g," $1").replace(/\s+/g," ").trim();return t.charAt(0).toUpperCase()+t.slice(1)}return n}function cz(n){return typeof n=="string"?Xy(n).replace(/([A-Z])/g,"_$1").toLowerCase():n}function Ky(n){return Array.isArray(n)&&n.length>0?n.filter((t,e)=>n.indexOf(t)>=e):n}function hz(n,t="id"){if(Array.isArray(n)&&n.length>0){let e=[],i=new Map;for(let r of n)r&&!i.has(r[t])&&(i.set(r[t],!0),e.push({id:r[t],name:r.name}));return e}return n}var Du=Symbol("plaintext"),PD=Symbol("html"),ND=Symbol("comment"),uz=/<(\w*)>/g,mz=/<\/?([^\s/>]+)/;function yi(n,t,e){function i(l,c,h){if(typeof l!="string"&&(ze(l)||typeof l=="boolean"))return String(l);if(l instanceof HTMLElement&&(l=l.innerHTML),typeof l!="string"&&l!==void 0&&l!==null)throw new TypeError("'html' parameter must be a string");return s(l||"",r(c||"",h||""))}function r(l,c){return{allowable_tags:o(l),tag_replacement:c,state:Du,tag_buffer:"",depth:0,in_quote_char:""}}function s(l,c){let h=c.allowable_tags,m=c.tag_replacement,f=c.state,v=c.tag_buffer,C=c.depth,x=c.in_quote_char,E="";for(let I=0,N=l.length;I<N;I++){let L=l[I];if(f===Du)switch(L){case"<":f=PD,v+=L;break;default:E+=L;break}else if(f===PD)switch(L){case"<":if(x)break;C++;break;case">":if(x)break;if(C){C--;break}x="",f=Du,v+=">",h.has(a(v))?E+=v:E+=m,v="";break;case'"':case"'":L===x?x="":x=x||L,v+=L;break;case"-":v==="<!-"&&(f=ND),v+=L;break;case" ":case`
`:if(v==="<"){f=Du,E+="< ",v="";break}v+=L;break;default:v+=L;break}else if(f===ND)switch(L){case">":v.slice(-2)==="--"&&(f=Du),v="";break;default:v+=L;break}}return c.state=f,c.tag_buffer=v,c.depth=C,c.in_quote_char=x,E}function o(l){let c=new Set;if(typeof l=="string"){let h;for(;h=uz.exec(l);)c.add(h[1])}else typeof l[Symbol.iterator]=="function"&&(c=new Set(l));return c}function a(l){let c=mz.exec(l);return c?c[1].toLowerCase():null}return i(n,t,e)}var LD=(n,t,e=ri.neutral,i,r)=>{let s=0,o=i?.valueCouldBeUndefined??r?.cellValueCouldBeUndefined??!1;return n===t?s=0:n===null||o&&n===void 0?s=-1:t===null||o&&t===void 0?s=1:(r?.ignoreAccentOnStringFilterAndSort&&(n=Va(n,!1),t=Va(t,!1)),e?s=n<t?-1:1:s=n<t?1:-1),e*s};var VD=(n,t,e=ri.neutral,i,r)=>{let s=i?.valueCouldBeUndefined??r?.cellValueCouldBeUndefined??!1,o=isNaN(n)||n===""||n===null||s&&n===void 0?-1/0:parseFloat(n),a=isNaN(t)||t===""||t===null||s&&t===void 0?-1/0:parseFloat(t);return e*(o===a?0:o>a?1:-1)};var Zy=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{2}:?[0-9]{2})?$/;function Jy(n){let t=n.match(Zy);if(t){let e=Number(t[2]);if(e<1||e>12)return!1;if(typeof t[3]!==void 0){let i=Number(t[3]);if(i<1||i>31)return!1}if(typeof t[4]!==void 0){let i=Number(t[4]);if(i<0||i>23)return!1}return!0}return!1}function pz(n){let t=n.match(Zy);return t&&typeof t[4]>"u"?n+="T00:00:00":n}function gt(n){if(n||(n=new Date),n instanceof Date){let t=new Date(n);return t.setMilliseconds(0),t}if(n=n.trim(),Jy(n))return new Date(pz(n));throw new Error(`Non ISO 8601 compliant date (${n}).`)}function e0(n){let t=gt(n);return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),t}function Il(n){return e0(n).getDate()}var Iu="1999-03-04T02:05:01.000Z",Of=new Map,Af=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["ZZ",{timeZoneName:"long"}],["Z",{timeZoneName:"short"}]],Mf=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],Rf=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],Tu={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2};function Ff(n){if(/^[+-]\d{2}:\d{2}/.test(n))return 6;if(/^[+-]\d{4}/.test(n))return 5;throw new Error("Invalid offset format")}var fz=["MMMM","MMM","dddd","ddd"],Bi=new Map([...Af,...Mf,...Rf].map(n=>[n[0],n])),t0=new Map,Pf=["full","long","medium","short"],jo=n=>String(n).padStart(2,"0"),Nf=n=>String(n).padStart(2,"0");function ps(n){return n.type==="literal"&&(n.value=n.value.normalize("NFKC")),n}function BD(n,t,e,i=!1,r=null){let s=gz(n,t,e,i),o=gt(n);function a({partName:l,partValue:c,token:h}){if(l==="literal")return c;let m=s[l];if(l==="hour"&&h==="H")return m.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(h)&&m.length===1)return`0${m}`;if(l==="dayPeriod"){let f=ao(o.getUTCHours()<12?"am":"pm",e);return h==="A"?f.toUpperCase():f.toLowerCase()}return l==="timeZoneName"?r??i0(-1*o.getTimezoneOffset(),h):m}return t.map(l=>Ce(k({},l),{value:a(l)}))}function gz(n,t,e,i=!1){let r=gt(n),s=t.filter(h=>h.hour12),o=t.filter(h=>!h.hour12),a=[],l=[];function c(h,m=!1){let f=`${e}-u-hc-${m?"h12":"h23"}`;if(a.push(...new Intl.DateTimeFormat(f,h.reduce((v,C)=>C.partName==="literal"?v:(i&&fz.includes(C.token)&&l.push(C),Object.assign(v,C.option)),{timeZone:"UTC"})).formatToParts(r).map(ps)),i&&l.length)for(let v of l){let C=[];switch(v.token){case"MMMM":C=new Intl.DateTimeFormat(f,{dateStyle:"long",timeZone:"UTC"}).formatToParts(r).map(ps);break;case"MMM":C=new Intl.DateTimeFormat(f,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(r).map(ps);break}let x=C.find(I=>I.type===v.partName),E=a.findIndex(I=>I.type===v.partName);x&&E>-1&&(a[E]=x)}}return s.length&&c(s,!0),o.length&&c(o),a.reduce((h,m)=>(h[m.type]=m.value,h),{})}function i0(n,t="Z"){let e=String(Math.floor(Math.abs(n/60))).padStart(2,"0"),i=String(Math.abs(n%60)).padStart(2,"0"),r=n<0?"-":"+";return t==="ZZ"?`${r}${e}${i}`:`${r}${e}:${i}`}function HD(n,t){n0(n,t);let[e,i,r,s]=n.match(/([+-])([0-3][0-9]):?([0-6][0-9])/),o=Number(r)*60+Number(s);return i==="+"?o:-o}function n0(n,t="Z"){if(!(i=>{switch(i){case"Z":return/^([+-])[0-3][0-9]:[0-6][0-9]$/.test(n);case"ZZ":return/^([+-])[0-3][0-9][0-6][0-9]$/.test(n)}})(t))throw new Error(`Invalid offset: ${n}`);return n}function zD(n){return Af.concat(Mf).concat(Rf).sort((t,e)=>t[0].length>e[0].length?1:-1).reduce((t,e)=>t.replace(e[0],`\\${e[0]}`),n)}function _z(n){return["numeric","2-digit"].includes(n.partValue)}function jD(n){let t;for(let e of n){if(e.partName==="literal"&&!isNaN(parseFloat(e.partValue)))throw new Error(`Numbers in format (${e.partValue}).`);if(t&&t.partName!=="literal"&&e.partName!=="literal"&&!(t.token in Tu)&&!(e.token in Tu)&&!(_z(t)&&e.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${t.token}, ${e.token})`);t=e}return n}function UD(n){return typeof n=="string"?n.includes("ZZ")?"ZZ":"Z":"time"in n&&n.time==="full"?"Z":"ZZ"}function ao(n,t){let e=t0.get(t);if(e&&e[n])return e[n];let i=new Date(Iu);i.setUTCHours(n==="am"?5:20);let s=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(i).map(ps).find(o=>o.type==="dayPeriod");if(s){let o=e||{};return t0.set(t,Object.assign(o,{[n]:s.value})),s.value}return n}function Lf(n,t="+00:00"){let e=gt(n),i=(()=>{switch(Ff(t)){case 5:return"ZZ";case 6:return"Z"}})(),r=HD(t,i);return new Date(e.getTime()+r*1e3*60)}function Vf(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function WD(n,t){let e=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t,hourCycle:"h23"}).formatToParts(n).map(ps),i={};return e.forEach(r=>{i[r.type]=r.value}),new Date(`${i.year}-${i.month}-${i.day}T${i.hour}:${i.minute}:${i.second}Z`)}function Ol(n,t="UTC",e="device",i="Z"){var r;e=e==="device"?(r=Vf())!=null?r:"utc":e;let s=gt(n),o=WD(s,t),a=WD(s,e),l=Math.round((a.getTime()-o.getTime())/1e3/60);return i0(l,i)}function Bf(n){let t=gt(n);return t.setHours(0,0,0),t}function Al(n,t){if(Pf.includes(n)||typeof n=="object")return vz(n,t);let e=n,i=0,r=h=>{if(h[2]||(h[2]=new RegExp(`(.)?(${h[0]})`,"g")),h[2].test(e)){let m=0;return e=e.replace(h[2],(f,v,C)=>v==="\\"?C:`${typeof v=="string"?v:""}{!${m++?i:i++}!}`),!!m}return!1};function s(h){let m=h.map(v=>v.partName),f=new Set(m);if(m.length>f.size)throw new Error("Cannot reuse format tokens.");return h}function o(h,[m,f,v]){let C=Object.keys(f)[0],x=f[C];return{option:f,partName:C,partValue:x,token:m,pattern:v,hour12:h}}let a=Af.filter(r).concat(Mf.filter(r)).map(o.bind(null,!1)),l=s(a.concat(Rf.filter(r).map(o.bind(null,!0)))),c=/^\{!(\d+)!\}$/;return e.split(/(\{!\d+!\})/).map(h=>{let m=h.match(c);return m?l[Number(m[1])]:{option:{literal:h},partName:"literal",partValue:h,token:h,pattern:new RegExp(""),hour12:!1}}).filter(h=>!(h.partName==="literal"&&h.partValue===""))}function vz(n,t){let e={timeZone:"UTC"};typeof n=="string"?e.dateStyle=n:("date"in n&&(e.dateStyle=n.date),"time"in n&&(e.timeStyle=n.time));let i=new Intl.DateTimeFormat(t,e),r=i.formatToParts(new Date(Iu)).map(ps),o=i.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(ps).find(l=>l.type==="hour"),a=o&&o.value==="23"?24:12;return r.map(l=>{let c=l.type,h=bz(l.type,l.value,t,l.type==="hour"?a:void 0,e);if(h===void 0)return;let m=h[1][c];if(m)return h[2]||(h[2]=new RegExp(`${h[0]}`,"g")),{option:{[c]:m},partName:c,partValue:m,token:h[0],pattern:h[2],hour12:a===12}}).filter(l=>!!l)}function bz(n,t,e,i,r){let s=t.length,o=!isNaN(Number(t)),a;switch(n){case"year":return s===2?Bi.get("YY"):Bi.get("YYYY");case"month":if(o)return s===1?Bi.get("M"):Bi.get("MM");switch(a=GD(e,n,t),a){case"long":return Bi.get("MMMM");default:return Bi.get("MMM")}case"day":return s===1?Bi.get("D"):Bi.get("DD");case"weekday":switch(a=GD(e,n,t),a){case"narrow":return Bi.get("d");case"short":return Bi.get("ddd");default:return Bi.get("dddd")}case"hour":return i===12?s===1?Bi.get("h"):Bi.get("hh"):s===1?Bi.get("H"):Bi.get("HH");case"minute":return s===1?Bi.get("m"):Bi.get("mm");case"second":return s===1?Bi.get("s"):Bi.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(t)?Bi.get("A"):Bi.get("a");case"literal":return[t,{literal:t},new RegExp("")];case"timeZoneName":return r.timeStyle==="full"?Bi.get("Z"):Bi.get("ZZ");default:return}}function GD(n,t,e){if(!Of.has(n)){let r=new Date(Iu),s=[3,8,9,7,6,4,3],o=["weekday","month","dayPeriod"],a=["long","short","narrow"],l={};for(let c=0;c<12;c++){r.setMonth(0+c),c in s&&r.setDate(s[c]),r.setUTCHours(8+c);for(let h of a){let m=new Intl.DateTimeFormat(n,o.reduce((f,v)=>Object.assign(f,{[v]:h}),{hour12:!0,timeZone:"UTC"})).formatToParts(r).map(ps);if(h==="long"||h==="short"){let v=new Intl.DateTimeFormat(n,{dateStyle:h==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(r).map(ps).find(x=>x.type==="month"),C=m.findIndex(x=>x.type==="month");C>-1&&v&&(m[C]=v)}m.forEach(f=>{if(f.type==="literal")return;let v=f.type;l[v]=Object.assign(l[v]||{},{[f.value]:h})})}}Of.set(n,l)}let i=Of.get(n);return i?i[t][e]:void 0}function Ou(n,t="+00:00"){let e=t.slice(0,1)==="+";return Lf(n,t.replace(e?"+":"-",e?"-":"+"))}function $D(){return Intl.DateTimeFormat().resolvedOptions().locale}function un(n,t="long",e="device",i=!1,r){let s,o;return typeof n=="object"&&!(n instanceof Date)&&({date:n,format:t,locale:e,genitive:i,partFilter:r,tz:s}=n),t==="ISO8601"?gt(n).toISOString():(s&&(o=Ol(n,"utc",s,UD(t))),s??(s=Vf()),s?.toLowerCase()!=="utc"&&(n=Ou(n,Ol(n,s,"utc"))),(!e||e==="device")&&(e=$D()),BD(n,Al(t,e).filter(r??(()=>!0)),e,i,o).map(a=>a.value).join(""))}function r0(n,t="en",e=!1,i=()=>!0){return Al(n,t).filter(i).reduce((r,s)=>r+=e&&s.partName==="literal"?zD(s.token):s.token,"").normalize("NFKC")}function s0(n){let t=new Date().getFullYear(),e=t%100,i=Math.floor(t/100),r=Number(n);return(i+(r>e+20?-1:0))*100+r}function Hf(n,t="en",e=!1){let i=(r,s)=>Array(r).fill("").map((o,a)=>`${s(a)}`);if(n==="M")return i(12,r=>r+1);if(n==="MM")return i(12,r=>{let s=r+1;return s<10?`0${s}`:s});if(n.startsWith("M"))return Hf("MM").map(r=>un(`2000-${r}-05`,n,t,e));if(n.startsWith("d"))return i(7,r=>`0${r+2}`).map(r=>un(`2022-10-${r}`,n,t));if(n==="a")return[ao("am",t).toLowerCase(),ao("pm",t).toLowerCase()];if(n==="A")return[ao("am",t).toUpperCase(),ao("pm",t).toUpperCase()];if(n.startsWith("Y")){let r=new Date().getFullYear();return i(120,s=>s+1).reduce((s,o)=>(o!=="120"&&s.push(un(`${r+Number(o)}-06-06`,n,t)),s.unshift(un(`${r-Number(o)}-06-06`,n,t)),s),[un(`${r}-06-06`,n,t)])}return n.startsWith("D")?i(31,r=>`${n==="DD"&&r<9?"0":""}${r+1}`):n.startsWith("H")?i(24,r=>`${n==="HH"&&r<10?"0":""}${r}`):n.startsWith("h")?i(12,r=>`${n==="hh"&&r<9?"0":""}${r+1}`):n.startsWith("m")||n.startsWith("s")?i(60,r=>`${n.length>1&&r<10?"0":""}${r}`):[]}function Ml(n,t="ISO8601",e="device"){let i=()=>!0,r,s="backward";if(typeof n=="object"?{date:r,format:t="ISO8601",locale:e="device",dateOverflow:s="backward",partFilter:i=()=>!0}=n:r=n,!r)throw new Error("parse() requires a date string.");let o=()=>{throw new Error(`Date (${r}) does not match format (${r0(t,e)})`)};if(t==="ISO8601")return gt(r);let a=Pf.includes(t)||typeof t=="object",l=jD(Al(t,e).filter(i));if(!l.length)throw new Error("parse() requires a pattern.");let c;try{c=YD(r,l)}catch{return o()}let h=new Date,m=new Map([["YYYY",h.getFullYear()],["MM",h.getMonth()+1],["DD",h.getDate()],["HH",0],["mm",0],["ss",0]]),f=null,v="";c.forEach(Q=>{if(Q.partName==="literal")return;if(Q.token===Q.value)return o();let pe=Number(Q.value);if(m.has(Q.token))m.set(Q.token,pe);else if(Q.token==="YY")m.set("YYYY",s0(Q.value));else{let Be=Q.token;if(Be.startsWith("d"))return;if(Be==="D")m.set("DD",pe);else if(Be==="H"||Be.startsWith("h"))m.set("HH",pe);else if(Be==="M")m.set("MM",pe);else if(Be==="a"||Be==="A")f=Q.value.toLowerCase()===ao("am",e).toLowerCase();else if(Be==="Z"||Be==="ZZ")v=n0(Q.value,Be);else{let ct=Hf(Be,e,a).indexOf(Q.value);if(ct!==-1)switch(Be){case"MMM":case"MMMM":m.set("MM",ct+1);break}}}});let C=m.get("HH")||0;f===!1?(C+=C===12?0:12,m.set("HH",C===24?0:C)):f===!0&&C===12&&m.set("HH",0),m.set("MM",(m.get("MM")||1)-1);let[x,E,I,N,L,V]=Array.from(m.values()),j=Il(new Date(`${Nf(x)}-${jo(E+1)}-10`));if(j<I&&s==="throw")throw new Error(`Invalid date ${Nf(x)}-${jo(E+1)}-${jo(I)}`);I=s==="backward"?Math.min(I,j):I;let Y=`${Nf(x)}-${jo(E+1)}-${jo(I)}T${jo(N)}:${jo(L)}:${jo(V)}${v}`,me=new Date(Y);return isFinite(+me)?me:o()}function YD(n,t){let e=0,i=a=>[a[e++],a[e]],r=0,s=[],o;do{let[a,l]=i(t);o=l;let c=1;if(a.partName==="literal")c=a.partValue.length;else if(a.partName==="timeZoneName")c=Ff(n.substring(r));else if(a.token in Tu)c=Tu[a.token];else if(l)if(l.partName==="literal"){if(c=n.indexOf(l.partValue,r)-r,c<0)throw new Error}else if(l.partName==="dayPeriod"){for(let h=1;h<=4;h++)if(isNaN(Number(n.charAt(r+h)))){c=h;break}}else{let h=n.substring(r).search(/\d/);h!==-1&&(c=r+h)}else c=n.length;s.push(Ce(k({},a),{value:n.substring(r,r+c)})),r+=c}while(o);return s}function En(n,t){let e,i=t?.withZeroPadding??!1;switch(n){case R.dateTime:case R.dateTimeIso:e="YYYY-MM-DD HH:mm:ss";break;case R.dateTimeIsoAmPm:e="YYYY-MM-DD hh:mm:ss a";break;case R.dateTimeIsoAM_PM:e="YYYY-MM-DD hh:mm:ss A";break;case R.dateTimeShortIso:e="YYYY-MM-DD HH:mm";break;case R.dateEuro:e="DD/MM/YYYY";break;case R.dateEuroShort:e=i?"DD/MM/YY":"D/M/YY";break;case R.dateTimeEuro:e="DD/MM/YYYY HH:mm:ss";break;case R.dateTimeShortEuro:e=i?"DD/MM/YYYY HH:mm":"D/M/YYYY H:m";break;case R.dateTimeEuroAmPm:e="DD/MM/YYYY hh:mm:ss a";break;case R.dateTimeEuroAM_PM:e="DD/MM/YYYY hh:mm:ss A";break;case R.dateTimeEuroShort:e=i?"DD/MM/YY HH:mm:ss":"D/M/YY H:m:s";break;case R.dateTimeEuroShortAmPm:e=i?"DD/MM/YY hh:mm:ss a":"D/M/YY h:m:s a";break;case R.dateTimeEuroShortAM_PM:e=i?"DD/MM/YY hh:mm:ss A":"D/M/YY h:m:s A";break;case R.dateUs:e="MM/DD/YYYY";break;case R.dateUsShort:e=i?"MM/DD/YY":"M/D/YY";break;case R.dateTimeUs:e="MM/DD/YYYY HH:mm:ss";break;case R.dateTimeUsAmPm:e="MM/DD/YYYY hh:mm:ss a";break;case R.dateTimeUsAM_PM:e="MM/DD/YYYY hh:mm:ss A";break;case R.dateTimeUsShort:e=i?"MM/DD/YY HH:mm:ss":"M/D/YY H:m:s";break;case R.dateTimeUsShortAmPm:e=i?"MM/DD/YY hh:mm:ss a":"M/D/YY h:m:s a";break;case R.dateTimeUsShortAM_PM:e=i?"MM/DD/YY hh:mm:ss A":"M/D/YY h:m:s A";break;case R.dateTimeShortUs:e=i?"MM/DD/YYYY HH:mm":"M/D/YYYY H:m";break;case R.dateUtc:e="ISO8601";break;case R.date:case R.dateIso:default:e=t?.withDefaultIso8601?"ISO8601":"YYYY-MM-DD";break}return e}function Uo(n,t,e){let i=t?En(t):void 0,r=En(e),s=n instanceof Date?n:br(n,i);return s&&n!==void 0?e===R.dateUtc?s.toISOString():un(s,r,"en-US"):""}function br(n,t,e=!1){try{return n?n instanceof Date?n:Ml({date:n,format:t,dateOverflow:e?"throw":"backward",locale:"en-US"}):!1}catch{return!1}}function qD(n){return Ou(n,Ol(n,"utc"))}function XD(n,t,e,i,r){let s=0;if(n===t)s=0;else{let o=br(n,i,r),a=br(t,i,r);o||(o=new Date(1001,1,1)),a||(a=new Date(1001,1,1)),s=o.valueOf()-a.valueOf()}return e*s}function fi(n){let t=n===R.date?void 0:En(n);return(e,i,r)=>t===void 0?XD(e,i,r,t,!1):XD(e,i,r,t,!0)}var Mu={boolean:ED,date:fi(R.date),dateIso:fi(R.dateIso),dateUtc:fi(R.dateUtc),dateTime:fi(R.dateTime),dateTimeIso:fi(R.dateTimeIso),dateTimeIsoAmPm:fi(R.dateTimeIsoAmPm),dateTimeIsoAM_PM:fi(R.dateTimeIsoAM_PM),dateTimeShortIso:fi(R.dateTimeShortIso),dateEuro:fi(R.dateEuro),dateEuroShort:fi(R.dateEuroShort),dateTimeShortEuro:fi(R.dateTimeShortEuro),dateTimeEuro:fi(R.dateTimeEuro),dateTimeEuroAmPm:fi(R.dateTimeEuroAmPm),dateTimeEuroAM_PM:fi(R.dateTimeEuroAM_PM),dateTimeEuroShort:fi(R.dateTimeEuroShort),dateTimeEuroShortAmPm:fi(R.dateTimeEuroShortAmPm),dateTimeEuroShortAM_PM:fi(R.dateTimeEuroShortAM_PM),dateUs:fi(R.dateUs),dateUsShort:fi(R.dateUsShort),dateTimeShortUs:fi(R.dateTimeShortUs),dateTimeUs:fi(R.dateTimeUs),dateTimeUsAmPm:fi(R.dateTimeUsAmPm),dateTimeUsAM_PM:fi(R.dateTimeUsAM_PM),dateTimeUsShort:fi(R.dateTimeUsShort),dateTimeUsShortAmPm:fi(R.dateTimeUsShortAmPm),dateTimeUsShortAM_PM:fi(R.dateTimeUsShortAM_PM),numeric:VD,objectString:xD,string:LD};function Wo(n,t,e,i,r,s){let o=0;if(vr(n))o=fi(n).call(this,t,e,i,r,s);else switch(n){case R.boolean:o=Mu.boolean(t,e,i,r,s);break;case R.float:case R.integer:case R.number:o=Mu.numeric(t,e,i,r,s);break;case R.object:o=Mu.objectString(t,e,i,r,s);break;case R.string:case R.text:case R.password:case R.readonly:default:o=Mu.string(t,e,i,r,s);break}return o}var yr=function(n){return n.camelCase="camelCase",n.camelCaseWithExtraOnPrefix="camelCaseWithExtraOnPrefix",n.kebabCase="kebabCase",n.lowerCase="lowerCase",n.lowerCaseWithoutOnPrefix="lowerCaseWithoutOnPrefix",n}(yr||{});var jf=class{get elementSource(){return this._elementSource}set elementSource(t){this._elementSource=t}get subscribedEvents(){return this._subscribedEvents}get subscribedEventNames(){return this._subscribedEvents.map(t=>t.name)}constructor(t){this._subscribedEvents=[],this.eventNamingStyle=yr.camelCase,this._elementSource=t||document.createElement("div")}dispose(){this.unsubscribeAll(),this._subscribedEvents=[],window.clearTimeout(this._timer),this._elementSource?.remove(),this._elementSource=null}dispatchCustomEvent(t,e,i=!0,r=!0,s){let o={bubbles:i,cancelable:r};e&&(o.detail=e);let a=new CustomEvent(t,o);return typeof s=="function"&&s(a),this._elementSource?.dispatchEvent(a)}getEventNameByNamingConvention(t,e){let i="";switch(this.eventNamingStyle===yr.lowerCaseWithoutOnPrefix?i=`${e}${t.replace(/^on/,"")}`:this.eventNamingStyle===yr.camelCaseWithExtraOnPrefix&&(i=`${e}${t.replace(/^on/,"onOn")}`),this.eventNamingStyle){case yr.camelCase:i=e!==""?`${e}${oo(t)}`:t;break;case yr.kebabCase:i=e!==""?`${e}-${zo(t)}`:zo(t);break;case yr.lowerCase:i=`${e}${t}`.toLowerCase();break}return i}publish(t,e,i,r){let s=this.getEventNameByNamingConvention(t,"");return i?new Promise(o=>{window.clearTimeout(this._timer),this._timer=window.setTimeout(()=>o(this.dispatchCustomEvent(s,e,!1,!0,r)),i)}):this.dispatchCustomEvent(s,e,!1,!0,r)}subscribe(t,e){t=Array.isArray(t)?t:[t];let i=[];return t.forEach(r=>{let s=this.getEventNameByNamingConvention(r,"");this._elementSource.addEventListener(s,o=>e.call(null,o.detail)),this._subscribedEvents.push({name:s,listener:e}),i.push(()=>this.unsubscribe(s,e))}),{unsubscribe:()=>i.forEach(r=>r())}}subscribeEvent(t,e){let i=this.getEventNameByNamingConvention(t,"");return this._elementSource.addEventListener(i,e),this._subscribedEvents.push({name:i,listener:e}),{unsubscribe:()=>this.unsubscribe(i,e)}}unsubscribe(t,e,i=!0){let r=this.getEventNameByNamingConvention(t,"");this._elementSource.removeEventListener(r,e),i&&this.removeSubscribedEventWhenFound(t,e)}unsubscribeAll(t){if(Array.isArray(t)){let e;do e=t.pop(),e?.dispose?e.dispose():e?.unsubscribe&&e.unsubscribe();while(e)}else{let e=this._subscribedEvents.pop();for(;e;)this.unsubscribe(e.name,e.listener,!1),e=this._subscribedEvents.pop()}}removeSubscribedEventWhenFound(t,e){let i=this._subscribedEvents.findIndex(r=>r.name===t&&r.listener===e);i>=0&&this._subscribedEvents.splice(i,1)}};function kz(n){var t=document,e=n.container||t.createElement("div"),i=n.preventSubmit||0;e.id=e.id||"autocomplete-"+N();var r=e.style,s=n.debounceWaitMs||0,o=n.disableAutoSelect||!1,a=e.parentElement,l=[],c="",h=2,m=n.showOnFocus,f,v=0,C,x=!1,E=!1;if(n.minLength!==void 0&&(h=n.minLength),!n.input)throw new Error("input undefined");var I=n.input;e.className=[e.className,"autocomplete",n.className||""].join(" ").trim(),e.setAttribute("role","listbox"),I.setAttribute("role","combobox"),I.setAttribute("aria-expanded","false"),I.setAttribute("aria-autocomplete","list"),I.setAttribute("aria-controls",e.id),I.setAttribute("aria-owns",e.id),I.setAttribute("aria-activedescendant",""),I.setAttribute("aria-haspopup","listbox"),r.position="absolute";function N(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function L(){var fe=e.parentNode;fe&&fe.removeChild(e)}function V(){C&&window.clearTimeout(C)}function j(){e.parentNode||(a||t.body).appendChild(e)}function Y(){return!!e.parentNode}function me(){v++,l=[],c="",f=void 0,I.setAttribute("aria-activedescendant",""),I.setAttribute("aria-expanded","false"),L()}function Q(){if(!Y())return;I.setAttribute("aria-expanded","true"),r.height="auto",r.width=I.offsetWidth+"px";var fe=0,Ye;function zt(){var Vt=t.documentElement,ji=Vt.clientTop||t.body.clientTop||0,_n=Vt.clientLeft||t.body.clientLeft||0,or=window.pageYOffset||Vt.scrollTop,Un=window.pageXOffset||Vt.scrollLeft;Ye=I.getBoundingClientRect();var ei=Ye.top+I.offsetHeight+or-ji,is=Ye.left+Un-_n;r.top=ei+"px",r.left=is+"px",fe=window.innerHeight-(Ye.top+I.offsetHeight),fe<0&&(fe=0),r.top=ei+"px",r.bottom="",r.left=is+"px",r.maxHeight=fe+"px"}zt(),zt(),n.customize&&Ye&&n.customize(I,Ye,e,fe)}function pe(){e.textContent="",I.setAttribute("aria-activedescendant","");var fe=function(_n,or,Un){var ei=t.createElement("div");return ei.textContent=_n.label||"",ei};n.render&&(fe=n.render);var Ye=function(_n,or){var Un=t.createElement("div");return Un.textContent=_n,Un};n.renderGroup&&(Ye=n.renderGroup);var zt=t.createDocumentFragment(),Vt=N();if(l.forEach(function(_n,or){if(_n.group&&_n.group!==Vt){Vt=_n.group;var Un=Ye(_n.group,c);Un&&(Un.className+=" group",zt.appendChild(Un))}var ei=fe(_n,c,or);ei&&(ei.id=e.id+"_"+or,ei.setAttribute("role","option"),ei.addEventListener("click",function(is){E=!0;try{n.onSelect(_n,I)}finally{E=!1}me(),is.preventDefault(),is.stopPropagation()}),_n===f&&(ei.className+=" selected",ei.setAttribute("aria-selected","true"),I.setAttribute("aria-activedescendant",ei.id)),zt.appendChild(ei))}),e.appendChild(zt),l.length<1)if(n.emptyMsg){var ji=t.createElement("div");ji.id=e.id+"_"+N(),ji.className="empty",ji.textContent=n.emptyMsg,e.appendChild(ji),I.setAttribute("aria-activedescendant",ji.id)}else{me();return}j(),Q(),Et()}function Be(){Y()&&pe()}function Ge(){Be()}function ct(fe){fe.target!==e?Be():fe.preventDefault()}function St(){E||oe(0)}function Et(){var fe=e.getElementsByClassName("selected");if(fe.length>0){var Ye=fe[0],zt=Ye.previousElementSibling;if(zt&&zt.className.indexOf("group")!==-1&&!zt.previousElementSibling&&(Ye=zt),Ye.offsetTop<e.scrollTop)e.scrollTop=Ye.offsetTop;else{var Vt=Ye.offsetTop+Ye.offsetHeight,ji=e.scrollTop+e.offsetHeight;Vt>ji&&(e.scrollTop+=Vt-ji)}}}function xt(){var fe=l.indexOf(f);f=fe===-1?void 0:l[(fe+l.length-1)%l.length],kt(fe)}function Rt(){var fe=l.indexOf(f);f=l.length<1?void 0:fe===-1?l[0]:l[(fe+1)%l.length],kt(fe)}function kt(fe){l.length>0&&(Qi(fe),Ft(l.indexOf(f)),Et())}function Ft(fe){var Ye=t.getElementById(e.id+"_"+fe);Ye&&(Ye.classList.add("selected"),Ye.setAttribute("aria-selected","true"),I.setAttribute("aria-activedescendant",Ye.id))}function Qi(fe){var Ye=t.getElementById(e.id+"_"+fe);Ye&&(Ye.classList.remove("selected"),Ye.removeAttribute("aria-selected"),I.removeAttribute("aria-activedescendant"))}function O(fe,Ye){var zt=Y();if(Ye==="Escape")me();else{if(!zt||l.length<1)return;Ye==="ArrowUp"?xt():Rt()}fe.preventDefault(),zt&&fe.stopPropagation()}function H(fe){if(f){i===2&&fe.preventDefault(),E=!0;try{n.onSelect(f,I)}finally{E=!1}me()}i===1&&fe.preventDefault()}function ae(fe){var Ye=fe.key;switch(Ye){case"ArrowUp":case"ArrowDown":case"Escape":O(fe,Ye);break;case"Enter":H(fe);break}}function z(){m&&oe(1)}function oe(fe){I.value.length>=h||fe===1?(V(),C=window.setTimeout(function(){return Z(I.value,fe,I.selectionStart||0)},fe===0||fe===2?s:0)):me()}function Z(fe,Ye,zt){if(!x){var Vt=++v;n.fetch(fe,function(ji){v===Vt&&ji&&(l=ji,c=fe,f=l.length<1||o?void 0:l[0],pe())},Ye,zt)}}function K(fe){if(n.keyup){n.keyup({event:fe,fetch:function(){return oe(0)}});return}!Y()&&fe.key==="ArrowDown"&&oe(0)}function J(fe){n.click&&n.click({event:fe,fetch:function(){return oe(2)}})}function Ae(){setTimeout(function(){t.activeElement!==I&&me()},200)}function nt(){Z(I.value,3,I.selectionStart||0)}e.addEventListener("mousedown",function(fe){fe.stopPropagation(),fe.preventDefault()}),e.addEventListener("focus",function(){return I.focus()}),L();function et(){I.removeEventListener("focus",z),I.removeEventListener("keyup",K),I.removeEventListener("click",J),I.removeEventListener("keydown",ae),I.removeEventListener("input",St),I.removeEventListener("blur",Ae),window.removeEventListener("resize",Ge),t.removeEventListener("scroll",ct,!0),I.removeAttribute("role"),I.removeAttribute("aria-expanded"),I.removeAttribute("aria-autocomplete"),I.removeAttribute("aria-controls"),I.removeAttribute("aria-activedescendant"),I.removeAttribute("aria-owns"),I.removeAttribute("aria-haspopup"),V(),me(),x=!0}return I.addEventListener("keyup",K),I.addEventListener("click",J),I.addEventListener("keydown",ae),I.addEventListener("input",St),I.addEventListener("blur",Ae),I.addEventListener("focus",z),window.addEventListener("resize",Ge),t.addEventListener("scroll",ct,!0),{destroy:et,fetch:nt}}var Uf=kz;var Wf=class{constructor(t){this._value=null,this._boundedEventWithListeners=[],this._elementBindings=[],this._binding=t,this._property=t.property||"",this._elementBindings=[],t.property&&t.variable&&(t.variable.hasOwnProperty(t.property)||t.property in t.variable)?this._value=t.variable[t.property]:this._value=t.variable,typeof t.variable=="object"&&Object.defineProperty(t.variable,t.property,{get:this.valueGetter.bind(this),set:this.valueSetter.bind(this)})}get boundedEventWithListeners(){return this._boundedEventWithListeners}get elementBindings(){return this._elementBindings}get property(){return this._property}dispose(){this.unbindAll(),this._boundedEventWithListeners=[],this._elementBindings=[]}valueGetter(){return this._value}valueSetter(t){if(this._value=t,Array.isArray(this._elementBindings))for(let e of this._elementBindings)e?.element&&e?.attribute&&(e.element[e.attribute]=t)}bind(t,e,i,r){return t&&t.forEach?t.forEach(s=>this.bindSingleElement(s,e,i,r)):t&&this.bindSingleElement(t,e,i,r),this}unbind(t,e,i,r,s){if(t){t.removeEventListener(e,i,r);let o=this._boundedEventWithListeners.findIndex(a=>a.uid===s);o>=0&&this._boundedEventWithListeners.splice(o,1)}}unbindAll(){let t=this._boundedEventWithListeners.pop();for(;t;){let{element:e,eventName:i,listener:r,uid:s}=t;this.unbind(e,i,r,void 0,s),t=this._boundedEventWithListeners.pop()}this._boundedEventWithListeners=[]}bindSingleElement(t,e,i,r){let s={element:t,attribute:e};if(t){if(i){let o=()=>{let a=t[e];if(this.hasData(a)&&t?.type==="number"&&(a=+a),this.valueSetter(a),(this._binding.variable.hasOwnProperty(this._binding.property)||this._binding.property in this._binding.variable)&&(this._binding.variable[this._binding.property]=this.valueGetter()),typeof r=="function")return r(this.valueGetter())};s.event=i,s.listener=o,t.addEventListener(i,o),this._boundedEventWithListeners.push({element:t,eventName:i,listener:o,uid:this.generateUuidV4()})}this._elementBindings.push(s),t[e]=this._value}}generateUuidV4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}hasData(t){return t!=null&&t!==""}};var Qd=class{constructor(){this._observers=[],this._querySelectorPrefix=""}get querySelectorPrefix(){return this._querySelectorPrefix||""}set querySelectorPrefix(t){this._querySelectorPrefix=t}get observers(){return this._observers}dispose(){let t=this._observers.pop();for(;t;)t.dispose(),t=this._observers.pop();this._observers=[]}addElementBinding(t,e,i,r,s,o){let a=document.querySelectorAll(`${this.querySelectorPrefix}${i}`),l=this._observers.find(c=>c.property===t);l||(l=new Wf({variable:t,property:e})),Array.isArray(s)?s.forEach(c=>l?.bind(a,r,c,o)):l?.bind(a,r,s,o),this._observers.push(l)}bindEventHandler(t,e,i,r){document.querySelectorAll(`${this.querySelectorPrefix}${t}`).forEach(o=>{o?.addEventListener&&o.addEventListener(e,i,r)})}setElementAttributeValue(t,e,i){document.querySelectorAll(`${this.querySelectorPrefix}${t}`).forEach(s=>{s.textContent="",s&&e in s&&(s[e]=i)})}};var Yt=class{constructor(){this._boundedEvents=[]}get boundedEvents(){return this._boundedEvents}dispose(){this.unbindAll(),this._boundedEvents=[]}bind(t,e,i,r,s=""){let o=Array.isArray(e)?e:[e];if(!(t instanceof HTMLElement||t instanceof DocumentFragment)&&t?.forEach)t.forEach(a=>{for(let l of o)a.addEventListener(l,i,r),this._boundedEvents.push({element:a,eventName:l,listener:i,groupName:s})});else if(t)for(let a of o)t.addEventListener(a,i,r),this._boundedEvents.push({element:t,eventName:a,listener:i,groupName:s})}unbind(t,e,i){let r=Array.isArray(t)?t:[t],s=Array.isArray(e)?e:[e];for(let o of s)for(let a of r)typeof a?.removeEventListener=="function"&&a.removeEventListener(o,i)}unbindByEventName(t,e){let i=this._boundedEvents.find(r=>r.element===t&&r.eventName===e);i&&this.unbind(i.element,i.eventName,i.listener)}unbindAll(t){if(t){let e=Array.isArray(t)?t:[t];for(let i=this._boundedEvents.length-1;i>=0;--i){let r=this._boundedEvents[i];if(e.some(s=>s===r.groupName)){let{element:s,eventName:o,listener:a}=r;this.unbind(s,o,a),this._boundedEvents.splice(i,1)}}}else for(;this._boundedEvents.length>0;){let e=this._boundedEvents.pop(),{element:i,eventName:r,listener:s}=e;this.unbind(i,r,s)}}};var KD=Object.prototype.hasOwnProperty;function ir(n,t){var e,i;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&ir(n[i],t[i]););return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(KD.call(n,e)&&++i&&!KD.call(t,e)||!(e in t)||!ir(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function a0(n,t){let e=t.fetch;e&&(t.fetch=(i,r,s,o)=>{n.classList.add("slick-autocomplete-loading");let a=r;e(i,c=>{a(c),n.classList.remove("slick-autocomplete-loading")},s,o)})}function l0(n){let t=new Date;n.settings.selected={dates:[],month:t.getMonth(),year:t.getFullYear()};let e=n.HTMLInputElement;e&&(e.value=""),n.update({dates:!0,month:!0,year:!0,time:!0})}function Gf(n,t,e,i){let{oldVal:r,newVal:s,columnDef:o,selectedSettings:a,updatePickerUI:l}=i;if(r!==s){let c=n.type||o.type,h=o.outputType||n.type||o.type||R.dateUtc,m=Array.isArray(s)?s:[s||""],f=[],v=En(R.dateIso),C=c?En(c):void 0;for(let E of m){let I=E instanceof Date?E:br(E,C);I&&f.push(I)}let x=a??{dates:[f.map(E=>un(E,v)).join(":")],month:f[0]?.getMonth(),year:f[0]?.getFullYear(),time:C==="ISO8601"||(C||"").toLowerCase().includes("h")?un(f[0],"HH:mm"):void 0};ir(e.settings.selected,x)||(e.settings.selected=x,l&&e?.update&&e.update({dates:!0,month:!0,year:!0,time:!0})),t.value=m.length?f.map(E=>Uo(E,void 0,h)).join(" \u2014 "):""}}function Zd(n,t){let e=T("select",{className:"form-control"});for(let i of n){let r=document.createElement("option");r.value=i.operator,t.applyHtmlCode(r,`${Gy(i.operatorAlt||i.operator,3)}${i.descAlt||i.desc}`),e.appendChild(r)}return e}function Dz(n,t,e){let i=t?.filter??{},r=i?.collectionOptions??{};if(r&&r.collectionInsideObjectProperty){let s=r.collectionInsideObjectProperty;n=Vi(n,s)}if(!Array.isArray(n))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');i.collection=n,e(n)}function $f(n,t,e,i,r){return Ze(this,null,function*(){let s=t?.filter??{},o=s?.collectionOptions??{},a=null;if(n){let l=i?.isObservable(n)??!1;l&&i&&(a=yield Eu(i,n));let c=yield n;if(Array.isArray(c)?a=c:c?.status>=200&&c.status<300&&typeof c.json=="function"?a=yield c.json():c&&c.content&&(a=c.content),!Array.isArray(a)&&o?.collectionInsideObjectProperty){let h=a||c,m=o.collectionInsideObjectProperty;a=Vi(h,m||"")}if(!Array.isArray(a))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');s.collection=a,e(a),l&&Tz(t,e,i,r)}return a})}function Tz(n,t,e,i){let r=n?.filter??{},s=e?.createSubject();r.collectionAsync=s,i&&s&&i.push(s.subscribe(o=>Dz(o,n,t)))}function fs(n,t,e,i,r){if(i?.enableTranslate&&r?.translate){let o=Sn(i);return r.translate(`${o}${n}`)}return(i.locales||se.locales)?.[t]??e}function QD(n,t){return[{operator:"",desc:fs("CONTAINS","TEXT_CONTAINS","Contains",n,t)},{operator:"<>",desc:fs("NOT_CONTAINS","TEXT_NOT_CONTAINS","Not Contains",n,t)},{operator:"=",desc:fs("EQUALS","TEXT_EQUALS","Equals",n,t)},{operator:"!=",desc:fs("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to",n,t)},{operator:"a*",desc:fs("STARTS_WITH","TEXT_STARTS_WITH","Starts with",n,t)},{operator:"*z",desc:fs("ENDS_WITH","TEXT_ENDS_WITH","Ends with",n,t)}]}function Jd(n,t){return[{operator:"",desc:""},{operator:"=",desc:fs("EQUAL_TO","TEXT_EQUAL_TO","Equal to",n,t)},{operator:"<",desc:fs("LESS_THAN","TEXT_LESS_THAN","Less than",n,t)},{operator:"<=",desc:fs("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to",n,t)},{operator:">",desc:fs("GREATER_THAN","TEXT_GREATER_THAN","Greater than",n,t)},{operator:">=",desc:fs("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to",n,t)},{operator:"<>",desc:fs("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to",n,t)}]}function ec(n,t,e){if(n.compoundOperatorAltTexts){for(let i of t)if(n.compoundOperatorAltTexts.hasOwnProperty(e)){let r=n.compoundOperatorAltTexts[e][i.operator];i.operatorAlt=r?.operatorAlt||"",i.descAlt=r?.descAlt||""}}}var Ct=class{get defaultPrevented(){return this._isDefaultPrevented}constructor(t,e){this.event=t,this.args=e,this._isPropagationStopped=!1,this._isImmediatePropagationStopped=!1,this._isDefaultPrevented=!1,this.returnValue=void 0,this.nativeEvent=t,this._arguments=e,t&&["altKey","ctrlKey","metaKey","shiftKey","key","keyCode","clientX","clientY","offsetX","offsetY","pageX","pageY","bubbles","target","type","which","x","y"].forEach(i=>this[i]=t[i]),this._eventTarget=this.nativeEvent?this.nativeEvent.target:void 0}stopPropagation(){this._isPropagationStopped=!0,this.nativeEvent?.stopPropagation()}isPropagationStopped(){return this._isPropagationStopped}stopImmediatePropagation(){this._isImmediatePropagationStopped=!0,this.nativeEvent&&this.nativeEvent.stopImmediatePropagation()}isImmediatePropagationStopped(){return this._isImmediatePropagationStopped}getNativeEvent(){return this.nativeEvent}preventDefault(){this.nativeEvent&&this.nativeEvent.preventDefault(),this._isDefaultPrevented=!0}isDefaultPrevented(){return this.nativeEvent?this.nativeEvent.defaultPrevented:this._isDefaultPrevented}addReturnValue(t){this.returnValue===void 0&&t!==void 0&&(this.returnValue=t)}getReturnValue(){return this.returnValue}getArguments(){return this._arguments}resetReturnValue(){this.returnValue=void 0}},re=class{get subscriberCount(){return this._handlers.length}constructor(t,e){this.eventName=t,this.pubSub=e,this._handlers=[],this._pubSubService=e}subscribe(t){this._handlers.push(t)}unsubscribe(t){for(let e=this._handlers.length-1;e>=0;e--)this._handlers[e]===t&&this._handlers.splice(e,1)}notify(t,e,i,r=!1){let s=e instanceof Ct?e:new Ct(e,t);r&&s.resetReturnValue(),i=i||this;for(let o=0;o<this._handlers.length&&!(s.isPropagationStopped()||s.isImmediatePropagationStopped());o++){let a=this._handlers[o].call(i,s,t);s.addReturnValue(a)}if(typeof this._pubSubService?.publish=="function"&&this.eventName){let o=this._pubSubService.publish(this.eventName,{args:t,eventData:s},void 0,a=>s.nativeEvent??=a);s.addReturnValue(o)}return s}setPubSubService(t){this._pubSubService=t}},tt=class{constructor(){this.handlers=[]}get subscriberCount(){return this.handlers.length}subscribe(t,e){return this.handlers.push({event:t,handler:e}),t.subscribe(e),this}unsubscribe(t,e){let i=this.handlers.length;for(;i--;)if(this.handlers[i].event===t&&this.handlers[i].handler===e){this.handlers.splice(i,1),t.unsubscribe(e);return}return this}unsubscribeAll(){let t=this.handlers.length;for(;t--;)this.handlers[t].event.unsubscribe(this.handlers[t].handler);return this.handlers=[],this}},mn=class{constructor(t,e,i,r){i===void 0&&r===void 0&&(i=t,r=e),this.fromRow=Math.min(t,i),this.fromCell=Math.min(e,r),this.toRow=Math.max(t,i),this.toCell=Math.max(e,r)}isSingleCell(){return this.fromRow===this.toRow&&this.fromCell===this.toCell}isSingleRow(){return this.fromRow===this.toRow}contains(t,e){return t>=this.fromRow&&t<=this.toRow&&e>=this.fromCell&&e<=this.toCell}toString(){return this.isSingleCell()?`(${this.fromRow}:${this.fromCell})`:`(${this.fromRow}:${this.fromCell} - ${this.toRow}:${this.toCell})`}},Yf=class{constructor(){this.__nonDataRow=!0}},Ba=class extends Yf{constructor(){super(),this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.selectChecked=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=""}equals(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed&&this.title===t.title}},qf=class extends Yf{constructor(){super(),this.__groupTotals=!0,this.group=null,this.initialized=!1}},d0=class{constructor(){this.activeEditController=null}isActive(t){return t?this.activeEditController===t:this.activeEditController!==null}activate(t){if(t!==this.activeEditController){if(this.activeEditController!==null)throw new Error("SlickEditorLock.activate: an editController is still active, can't activate another editController");if(!t.commitCurrentEdit)throw new Error("SlickEditorLock.activate: editController must implement .commitCurrentEdit()");if(!t.cancelCurrentEdit)throw new Error("SlickEditorLock.activate: editController must implement .cancelCurrentEdit()");this.activeEditController=t}}deactivate(t){if(this.activeEditController){if(this.activeEditController!==t)throw new Error("SlickEditorLock.deactivate: specified editController is not the currently active one");this.activeEditController=null}}commitCurrentEdit(){return this.activeEditController?this.activeEditController.commitCurrentEdit():!0}cancelCurrentEdit(){return this.activeEditController?this.activeEditController.cancelCurrentEdit():!0}},B=class n{static height(t,e){if(t){if(e===void 0)return t.getBoundingClientRect().height;n.setStyleSize(t,"height",e)}}static width(t,e){if(!(!t||!t.getBoundingClientRect)){if(e===void 0)return t.getBoundingClientRect().width;n.setStyleSize(t,"width",e)}}static setStyleSize(t,e,i){typeof i=="function"&&(i=i()),t.style[e]=typeof i=="string"?i:`${i}px`}static isHidden(t){return t.offsetWidth===0&&t.offsetHeight===0}static parents(t,e){let i=[],r=e===":visible",s=e===":hidden";for(;(t=t.parentNode)&&t!==document&&!(!t||!t.parentNode);)s?n.isHidden(t)&&i.push(t):r?n.isHidden(t)||i.push(t):(!e||t.matches(e))&&i.push(t);return i}static toFloat(t){let e=parseFloat(t);return isNaN(e)?0:e}static show(t,e=""){Array.isArray(t)?t.forEach(i=>i.style.display=e):t.style.display=e}static hide(t){Array.isArray(t)?t.forEach(e=>e.style.display="none"):t.style.display="none"}static applyDefaults(t,e){typeof e=="object"&&Object.keys(e).forEach(i=>{e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])})}static addSlickEventPubSubWhenDefined(t,e){if(t)for(let i in e)e[i]instanceof re&&typeof e[i].setPubSubService=="function"&&e[i].setPubSubService(t)}};B.storage={_storage:new WeakMap,put:function(n,t,e){this._storage.has(n)||this._storage.set(n,new Map),this._storage.get(n).set(t,e)},get:function(n,t){let e=this._storage.get(n);return e?e.get(t):null},remove:function(n,t){let e=this._storage.get(n).delete(t);return this._storage.get(n).size!==0&&this._storage.delete(n),e}};var Rl=new d0,ZD="slick-edit-preclick";var tc=class{constructor(t){this.pluginName="GroupItemMetadataProvider",this._defaults={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,indentation:15,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0,groupFormatter:this.defaultGroupCellFormatter.bind(this),totalsFormatter:this.defaultTotalsCellFormatter.bind(this),includeHeaderTotals:!1},this._eventHandler=new tt,this._options=oi(!0,{},this._defaults,t)}get eventHandler(){return this._eventHandler}get dataView(){return this._grid?.getData()??{}}get gridOptions(){return this._grid?.getOptions()||{}}init(t,e){this._grid=t,this._options=k(k({},this._defaults),e),this._eventHandler.subscribe(t.onClick,this.handleGridClick.bind(this)),this._eventHandler.subscribe(t.onKeyDown,this.handleGridKeyDown.bind(this))}destroy(){this.dispose()}dispose(){this._eventHandler?.unsubscribeAll()}getOptions(){return this._options}setOptions(t){this._options=k(k({},this._options),t)}getGroupRowMetadata(t,e){return{selectable:!1,focusable:this._options.groupFocusable,cssClasses:`${this._options.groupCssClass} slick-group-level-${t?.level||0}`,formatter:this._options.includeHeaderTotals&&this._options.totalsFormatter||void 0,columns:{0:{colspan:this._options.includeHeaderTotals?"1":"*",formatter:this._options.groupFormatter,editorClass:null}}}}getTotalsRowMetadata(t,e){return{selectable:!1,focusable:this._options.totalsFocusable,cssClasses:`${this._options.totalsCssClass} slick-group-level-${t?.group?.level||0}`,formatter:this._options.totalsFormatter,editorClass:null}}defaultGroupCellFormatter(t,e,i,r,s){if(!this._options.enableExpandCollapse)return s.title;let o=s.level||0,a=this._options?.indentation??15,l=`${o*a}px`,c=s.collapsed?this._options.toggleCollapsedCssClass:this._options.toggleExpandedCssClass,h=this.gridOptions?.preventDocumentFragmentUsage?document.createElement("span"):new DocumentFragment;h.appendChild(T("span",{className:`${this._options.toggleCssClass} ${c}`,ariaExpanded:String(!s.collapsed),style:{marginLeft:l}}));let m=T("span",{className:this._options.groupTitleCssClass||""});return m.setAttribute("level",o),s.title instanceof HTMLElement||s.title instanceof DocumentFragment?m.appendChild(s.title):this._grid.applyHtmlCode(m,s.title??""),h.appendChild(m),h}defaultTotalsCellFormatter(t,e,i,r,s,o){return r?.groupTotalsFormatter?.(s,r,o)??""}handleGridClick(t,e){let i=t.target,r=this._grid?.getDataItem(e.row);r instanceof Ba&&i.classList.contains(this._options.toggleCssClass||"")&&(this.handleDataViewExpandOrCollapse(r),t.stopImmediatePropagation(),t.preventDefault())}handleGridKeyDown(t){if(this._options.enableExpandCollapse&&t.key===" "){let e=this._grid?.getActiveCell();if(e){let i=this._grid.getDataItem(e.row);i instanceof Ba&&(this.handleDataViewExpandOrCollapse(i),t.stopImmediatePropagation(),t.preventDefault())}}}handleDataViewExpandOrCollapse(t){let e=this._grid?.getRenderedRange();this.dataView.setRefreshHints({ignoreDiffsBefore:e.top,ignoreDiffsAfter:e.bottom+1}),t.collapsed?this.dataView.expandGroup(t.groupingKey):this.dataView.collapseGroup(t.groupingKey)}};var Xf=class{constructor(t,e){this.externalPubSub=e,this.defaults={globalItemMetadataProvider:null,groupItemMetadataProvider:null,inlineFilters:!1,useCSPSafeFilter:!1},this.idProperty="id",this.items=[],this.rows=[],this.idxById=new Map,this.rowsById=void 0,this.filter=null,this.filterCSPSafe=null,this.updated=null,this.suspend=!1,this.isBulkSuspend=!1,this.bulkDeleteIds=new Map,this.sortAsc=!0,this.refreshHints={},this.prevRefreshHints={},this.filteredItems=[],this.filterCache=[],this.groupingInfoDefaults={getter:void 0,formatter:void 0,comparer:(i,r)=>i.value===r.value?0:i.value>r.value?1:-1,predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},this.groupingInfos=[],this.groups=[],this.toggledGroupsByLevel=[],this.groupingDelimiter=":|:",this.selectedRowIds=[],this.pagesize=0,this.pagenum=0,this.totalRows=0,this.onBeforePagingInfoChanged=new re("onBeforePagingInfoChanged",e),this.onGroupExpanded=new re("onGroupExpanded",e),this.onGroupCollapsed=new re("onGroupCollapsed",e),this.onPagingInfoChanged=new re("onPagingInfoChanged",e),this.onRowCountChanged=new re("onRowCountChanged",e),this.onRowsChanged=new re("onRowsChanged",e),this.onRowsOrCountChanged=new re("onRowsOrCountChanged",e),this.onSelectedRowIdsChanged=new re("onSelectedRowIdsChanged",e),this.onSetItemsCalled=new re("onSetItemsCalled",e),this._options=oi(!0,{},this.defaults,t)}beginUpdate(t){this.suspend=!0,this.isBulkSuspend=t===!0}endUpdate(){let t=this.isBulkSuspend;this.isBulkSuspend=!1,this.suspend=!1,t&&(this.processBulkDelete(),this.ensureIdUniqueness()),this.refresh()}destroy(){this.items=[],this.idProperty="id",this.idxById=null,this.rowsById=null,this.filter=null,this.filterCSPSafe=null,this.updated=null,this.sortComparer=null,this.filterCache=[],this.filteredItems=[],this.compiledFilter=null,this.compiledFilterCSPSafe=null,this.compiledFilterWithCaching=null,this.compiledFilterWithCachingCSPSafe=null,this._grid&&(this._grid.onSelectedRowsChanged?.unsubscribe(),this._grid.onCellCssStylesChanged?.unsubscribe()),this.onRowsOrCountChanged?.unsubscribe()}setRefreshHints(t){this.refreshHints=t}getFilterArgs(){return this.filterArgs}setFilterArgs(t){this.filterArgs=t}processBulkDelete(){if(!this.idxById)return;let t,e,i=0;for(let r=0,s=this.items.length;r<s;r++){if(e=this.items[r],t=e[this.idProperty],t===void 0)throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");this.bulkDeleteIds.has(t)?this.idxById.delete(t):(this.items[i]=e,this.idxById.set(t,i),++i)}this.items.length=i,this.bulkDeleteIds=new Map}updateIdxById(t){if(this.isBulkSuspend||!this.idxById)return;t=t||0;let e;for(let i=t,r=this.items.length;i<r;i++){if(e=this.items[i][this.idProperty],e===void 0)throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");this.idxById.set(e,i)}}ensureIdUniqueness(){if(this.isBulkSuspend||!this.idxById)return;let t;for(let e=0,i=this.items.length;e<i;e++)if(t=this.items[e][this.idProperty],t===void 0||this.idxById.get(t)!==e)throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property")}getItems(){return this.items}getIdPropertyName(){return this.idProperty}setItems(t,e){e!==void 0&&(this.idProperty=e),this.items=this.filteredItems=t,this.onSetItemsCalled.notify({idProperty:this.idProperty,itemCount:this.items.length},null,this),this.idxById=new Map,this.updateIdxById(),this.ensureIdUniqueness(),this.refresh()}setPagingOptions(t){this.onBeforePagingInfoChanged.notify(this.getPagingInfo(),null,this).getReturnValue()!==!1&&(mt(t.pageSize)&&(this.pagesize=t.pageSize,this.pagenum=this.pagesize?Math.min(this.pagenum,Math.max(0,Math.ceil(this.totalRows/this.pagesize)-1)):0),mt(t.pageNum)&&(this.pagenum=Math.min(t.pageNum,Math.max(0,Math.ceil(this.totalRows/this.pagesize)-1))),this.onPagingInfoChanged.notify(this.getPagingInfo(),null,this),this.refresh())}getPagingInfo(){let t=this.pagesize?Math.max(1,Math.ceil(this.totalRows/this.pagesize)):1;return{pageSize:this.pagesize,pageNum:this.pagenum,totalRows:this.totalRows,totalPages:t,dataView:this}}sort(t,e){this.sortAsc=e,this.sortComparer=t,e===!1&&this.items.reverse(),this.items.sort(t),e===!1&&this.items.reverse(),this.idxById=new Map,this.updateIdxById(),this.refresh()}reSort(){this.sortComparer&&this.sort(this.sortComparer,this.sortAsc)}getFilteredItems(){return this.filteredItems}getFilteredItemCount(){return this.filteredItems.length}getFilter(){return this._options.useCSPSafeFilter?this.filterCSPSafe:this.filter}setFilter(t){this.filterCSPSafe=t,this.filter=t,this._options.inlineFilters&&(this.compiledFilterCSPSafe=this.compileFilterCSPSafe,this.compiledFilterWithCachingCSPSafe=this.compileFilterWithCachingCSPSafe,this.compiledFilter=this.compileFilter(this._options.useCSPSafeFilter),this.compiledFilterWithCaching=this.compileFilterWithCaching(this._options.useCSPSafeFilter)),this.refresh()}getGrouping(){return this.groupingInfos}setGrouping(t){this._options.groupItemMetadataProvider||(this._options.groupItemMetadataProvider=new tc),this.groups=[],this.toggledGroupsByLevel=[],t=t||[],this.groupingInfos=t instanceof Array?t:[t];for(let e=0;e<this.groupingInfos.length;e++){let i=this.groupingInfos[e]=oi(!0,{},this.groupingInfoDefaults,this.groupingInfos[e]);i.getterIsAFn=typeof i.getter=="function",i.compiledAccumulators=[];let r=i.aggregators.length;for(;r--;)i.compiledAccumulators[r]=this.compileAccumulatorLoopCSPSafe(i.aggregators[r]);this.toggledGroupsByLevel[e]={}}this.refresh()}getItemByIdx(t){return this.items[t]}getIdxById(t){return this.idxById?.get(t)}ensureRowsByIdCache(){if(!this.rowsById){this.rowsById={};for(let t=0,e=this.rows.length;t<e;t++)this.rowsById[this.rows[t][this.idProperty]]=t}}getRowByItem(t){return this.ensureRowsByIdCache(),this.rowsById?.[t[this.idProperty]]}getRowById(t){return this.ensureRowsByIdCache(),this.rowsById?.[t]}getItemById(t){return this.items[this.idxById.get(t)]}mapItemsToRows(t){let e=[];this.ensureRowsByIdCache();for(let i=0,r=t.length;i<r;i++){let s=this.rowsById?.[t[i][this.idProperty]];mt(s)&&(e[e.length]=s)}return e}mapIdsToRows(t){let e=[];this.ensureRowsByIdCache();for(let i=0,r=t.length;i<r;i++){let s=this.rowsById?.[t[i]];mt(s)&&(e[e.length]=s)}return e}mapRowsToIds(t){let e=[];for(let i=0,r=t.length;i<r;i++)if(t[i]<this.rows.length){let s=this.rows[t[i]];e[e.length]=s[this.idProperty]}return e}updateSingleItem(t,e){if(this.idxById){if(!this.idxById.has(t))throw new Error("[SlickGrid DataView] Invalid id");if(t!==e[this.idProperty]){let i=e[this.idProperty];if(!mt(i))throw new Error("[SlickGrid DataView] Cannot update item to associate with a null id");if(this.idxById.has(i))throw new Error("[SlickGrid DataView] Cannot update item to associate with a non-unique id");this.idxById.set(i,this.idxById.get(t)),this.idxById.delete(t),this.updated?.[t]&&delete this.updated[t],t=i}this.items[this.idxById.get(t)]=e,this.updated||(this.updated={}),this.updated[t]=!0}}updateItem(t,e){this.updateSingleItem(t,e),this.refresh()}updateItems(t,e){if(t.length!==e.length)throw new Error("[SlickGrid DataView] Mismatch on the length of ids and items provided to update");for(let i=0,r=e.length;i<r;i++)this.updateSingleItem(t[i],e[i]);this.refresh()}insertItem(t,e){this.items.splice(t,0,e),this.updateIdxById(t),this.refresh()}insertItems(t,e){Array.prototype.splice.apply(this.items,[t,0].concat(e)),this.updateIdxById(t),this.refresh()}addItem(t){this.items.push(t),this.updateIdxById(this.items.length-1),this.refresh()}addItems(t){this.items=this.items.concat(t),this.updateIdxById(this.items.length-t.length),this.refresh()}deleteItem(t){if(this.idxById)if(this.isBulkSuspend)this.bulkDeleteIds.set(t,!0);else{let e=this.idxById.get(t);if(e===void 0)throw new Error("[SlickGrid DataView] Invalid id");this.idxById.delete(t),this.items.splice(e,1),this.updateIdxById(e),this.refresh()}}deleteItems(t){if(!(t.length===0||!this.idxById))if(this.isBulkSuspend)for(let e=0,i=t.length;e<i;e++){let r=t[e];if(this.idxById.get(r)===void 0)throw new Error("[SlickGrid DataView] Invalid id");this.bulkDeleteIds.set(r,!0)}else{let e=[];for(let i=0,r=t.length;i<r;i++){let s=t[i],o=this.idxById.get(s);if(o===void 0)throw new Error("[SlickGrid DataView] Invalid id");this.idxById.delete(s),e.push(o)}e.sort();for(let i=e.length-1;i>=0;--i)this.items.splice(e[i],1);this.updateIdxById(e[0]),this.refresh()}}sortedAddItem(t){if(!this.sortComparer)throw new Error("[SlickGrid DataView] sortedAddItem() requires a sort comparer, use sort()");this.insertItem(this.sortedIndex(t),t)}sortedUpdateItem(t,e){if(!this.idxById)return;if(!this.idxById.has(t)||t!==e[this.idProperty])throw new Error(`[SlickGrid DataView] Invalid or non-matching id ${t}`);if(!this.sortComparer)throw new Error("[SlickGrid DataView] sortedUpdateItem() requires a sort comparer, use sort()");let i=this.getItemById(t);this.sortComparer(i,e)!==0?(this.deleteItem(t),this.sortedAddItem(e)):this.updateItem(t,e)}sortedIndex(t){let e=0,i=this.items.length;for(;e<i;){let r=e+i>>>1;this.sortComparer(this.items[r],t)===-1?e=r+1:i=r}return e}getItemCount(){return this.items.length}getLength(){return this.rows.length}getItem(t){let e=this.rows[t];if(e?.__group&&e.totals&&!e.totals?.initialized){let i=this.groupingInfos[e.level];i.displayTotalsRow||(this.calculateTotals(e.totals),e.title=i.formatter?i.formatter(e):e.value)}else e?.__groupTotals&&!e.initialized&&this.calculateTotals(e);return e}getItemMetadata(t){let e=this.rows[t];return e===void 0?null:this._options.globalItemMetadataProvider?.getRowMetadata?this._options.globalItemMetadataProvider.getRowMetadata(e,t):e.__group&&this._options.groupItemMetadataProvider?.getGroupRowMetadata?this._options.groupItemMetadataProvider.getGroupRowMetadata(e,t):e.__groupTotals&&this._options.groupItemMetadataProvider?.getTotalsRowMetadata?this._options.groupItemMetadataProvider.getTotalsRowMetadata(e,t):null}expandCollapseAllGroups(t,e){if(mt(t))this.toggledGroupsByLevel[t]={},this.groupingInfos[t].collapsed=e,e===!0?this.onGroupCollapsed.notify({level:t,groupingKey:null}):this.onGroupExpanded.notify({level:t,groupingKey:null});else for(let i=0;i<this.groupingInfos.length;i++)this.toggledGroupsByLevel[i]={},this.groupingInfos[i].collapsed=e,e===!0?this.onGroupCollapsed.notify({level:i,groupingKey:null}):this.onGroupExpanded.notify({level:i,groupingKey:null});this.refresh()}collapseAllGroups(t){this.expandCollapseAllGroups(t,!0)}expandAllGroups(t){this.expandCollapseAllGroups(t,!1)}expandCollapseGroup(t,e,i){this.toggledGroupsByLevel[t]&&(this.toggledGroupsByLevel[t][e]=this.groupingInfos[t].collapsed^i),this.refresh()}collapseGroup(...t){let i=Array.prototype.slice.call(t)[0],r,s;t.length===1&&i.indexOf(this.groupingDelimiter)!==-1?(r=i,s=i.split(this.groupingDelimiter).length-1):(r=t.join(this.groupingDelimiter),s=t.length-1),this.expandCollapseGroup(s,r,!0),this.onGroupCollapsed.notify({level:s,groupingKey:r})}expandGroup(...t){let i=Array.prototype.slice.call(t)[0],r,s;t.length===1&&i.indexOf(this.groupingDelimiter)!==-1?(s=i.split(this.groupingDelimiter).length-1,r=i):(s=t.length-1,r=t.join(this.groupingDelimiter)),this.expandCollapseGroup(s,r,!1),this.onGroupExpanded.notify({level:s,groupingKey:r})}getGroups(){return this.groups}extractGroups(t,e){let i,r,s=[],o={},a,l=e?e.level+1:0,c=this.groupingInfos[l];for(let h=0,m=c.predefinedValues?.length??0;h<m;h++)r=c.predefinedValues?.[h],i=o[r],i||(i=new Ba,i.value=r,i.level=l,i.groupingKey=(e?e.groupingKey+this.groupingDelimiter:"")+r,s[s.length]=i,o[r]=i);for(let h=0,m=t.length;h<m;h++)a=t[h],r=c.getterIsAFn?c.getter(a):a[c.getter],i=o[r],i||(i=new Ba,i.value=r,i.level=l,i.groupingKey=(e?e.groupingKey+this.groupingDelimiter:"")+r,s[s.length]=i,o[r]=i),i.rows[i.count++]=a;if(l<this.groupingInfos.length-1)for(let h=0;h<s.length;h++)i=s[h],i.groups=this.extractGroups(i.rows,i);return s.length&&this.addTotals(s,l),s.sort(this.groupingInfos[l].comparer),s}calculateTotals(t){let e=t.group,i=this.groupingInfos[e?.level??0],r=e.level===this.groupingInfos.length,s,o=i.aggregators.length;if(!r&&i.aggregateChildGroups){let a=e.groups?.length??0;for(;a--;)e.groups[a].totals.initialized||this.calculateTotals(e.groups[a].totals)}for(;o--;)s=i.aggregators[o],s.init(),!r&&i.aggregateChildGroups?i.compiledAccumulators[o].call(s,e.groups):i.compiledAccumulators[o].call(s,e.rows),s.storeResult(t);t.initialized=!0}addGroupTotals(t){let e=this.groupingInfos[t.level],i=new qf;i.group=t,t.totals=i,e.lazyTotalsCalculation||this.calculateTotals(i)}addTotals(t,e){e=e||0;let i=this.groupingInfos[e],r=i.collapsed,s=this.toggledGroupsByLevel[e],o=t.length,a;for(;o--;)a=t[o],!(a.collapsed&&!i.aggregateCollapsed)&&(a.groups&&this.addTotals(a.groups,e+1),i.aggregators?.length&&(i.aggregateEmpty||a.rows.length||a.groups?.length)&&this.addGroupTotals(a),a.collapsed=r^s[a.groupingKey],a.title=i.formatter?i.formatter(a):a.value)}flattenGroupedRows(t,e){e=e||0;let i=this.groupingInfos[e],r=[],s,o=0,a;for(let l=0,c=t.length;l<c;l++){if(a=t[l],r[o++]=a,!a.collapsed){s=a.groups?this.flattenGroupedRows(a.groups,e+1):a.rows;for(let h=0,m=s.length;h<m;h++)r[o++]=s[h]}a.totals&&i.displayTotalsRow&&(!a.collapsed||i.aggregateCollapsed)&&(r[o++]=a.totals)}return r}compileAccumulatorLoopCSPSafe(t){return t.accumulate?function(e){let i;if(Array.isArray(e))for(let r=0;r<e.length;r++){let s=e[r];i=t.accumulate.call(t,s)}return i}:function(){}}compileFilterCSPSafe(t,e){if(typeof this.filterCSPSafe!="function")return[];let i=[],r=t.length;for(let s=0;s<r;s++)this.filterCSPSafe(t[s],e)&&i.push(t[s]);return i}compileFilter(t=!1){if(t)return null;let e=Tf(this.filter),i="{ continue _coreloop; }$1",r="{ _retval[_idx++] = $item$; continue _coreloop; }$1",s=e.body.replace(/return false\s*([;}]|\}|$)/gi,i).replace(/return!1([;}]|\}|$)/gi,i).replace(/return true\s*([;}]|\}|$)/gi,r).replace(/return!0([;}]|\}|$)/gi,r).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),o=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");o=o.replace(/\$filter\$/gi,s),o=o.replace(/\$item\$/gi,e.params[0]),o=o.replace(/\$args\$/gi,e.params[1]);let a=new Function("_items,_args",o),l="compiledFilter";return a.displayName=l,a.name=this.setFunctionName(a,l),a}compileFilterWithCaching(t=!1){if(t)return null;let e=Tf(this.filter),i="{ continue _coreloop; }$1",r="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",s=e.body.replace(/return false\s*([;}]|\}|$)/gi,i).replace(/return!1([;}]|\}|$)/gi,i).replace(/return true\s*([;}]|\}|$)/gi,r).replace(/return!0([;}]|\}|$)/gi,r).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),o=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");o=o.replace(/\$filter\$/gi,s),o=o.replace(/\$item\$/gi,e.params[0]),o=o.replace(/\$args\$/gi,e.params[1]);let a=new Function("_items,_args,_cache",o),l="compiledFilterWithCaching";return a.displayName=l,a.name=this.setFunctionName(a,l),a}compileFilterWithCachingCSPSafe(t,e,i){if(typeof this.filterCSPSafe!="function")return[];let r=[],s=t.length;for(let o=0;o<s;o++)(i[o]||this.filterCSPSafe(t[o],e))&&r.push(t[o]);return r}setFunctionName(t,e){try{Object.defineProperty(t,"name",{writable:!0,value:e})}catch{t.name=e}}uncompiledFilter(t,e){let i=[],r=0;for(let s=0,o=t.length;s<o;s++)this.filter?.(t[s],e)&&(i[r++]=t[s]);return i}uncompiledFilterWithCaching(t,e,i){let r=[],s=0,o;for(let a=0,l=t.length;a<l;a++)o=t[a],i[a]?r[s++]=o:this.filter?.(o,e)&&(r[s++]=o,i[a]=!0);return r}getFilteredAndPagedItems(t){if(this._options.useCSPSafeFilter?this.filterCSPSafe:this.filter){let i,r;this._options.useCSPSafeFilter?(i=this._options.inlineFilters?this.compiledFilterCSPSafe:this.uncompiledFilter,r=this._options.inlineFilters?this.compiledFilterWithCachingCSPSafe:this.uncompiledFilterWithCaching):(i=this._options.inlineFilters?this.compiledFilter:this.uncompiledFilter,r=this._options.inlineFilters?this.compiledFilterWithCaching:this.uncompiledFilterWithCaching),this.refreshHints.isFilterNarrowing?this.filteredItems=i.call(this,this.filteredItems,this.filterArgs):this.refreshHints.isFilterExpanding?this.filteredItems=r.call(this,t,this.filterArgs,this.filterCache):this.refreshHints.isFilterUnchanged||(this.filteredItems=i.call(this,t,this.filterArgs))}else this.filteredItems=this.pagesize?t:t.concat();let e;return this.pagesize?(this.filteredItems.length<=this.pagenum*this.pagesize&&(this.filteredItems.length===0?this.pagenum=0:this.pagenum=Math.floor((this.filteredItems.length-1)/this.pagesize)),e=this.filteredItems.slice(this.pagesize*this.pagenum,this.pagesize*this.pagenum+this.pagesize)):e=this.filteredItems,{totalRows:this.filteredItems.length,rows:e}}getRowDiffs(t,e){let i,r,s,o=[],a=0,l=Math.max(e.length,t.length);this.refreshHints?.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,this.refreshHints.ignoreDiffsBefore))),this.refreshHints?.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,this.refreshHints.ignoreDiffsAfter)));for(let c=a,h=t.length;c<l;c++)c>=h?o[o.length]=c:(i=e[c],r=t[c],(!i||this.groupingInfos.length&&(s=i.__nonDataRow||r.__nonDataRow)&&i.__group!==r.__group||i.__group&&!i.equals(r)||s&&(i.__groupTotals||r.__groupTotals)||i[this.idProperty]!==r[this.idProperty]||this.updated?.[i[this.idProperty]])&&(o[o.length]=c));return o}recalc(t){this.rowsById=void 0,(this.refreshHints.isFilterNarrowing!==this.prevRefreshHints.isFilterNarrowing||this.refreshHints.isFilterExpanding!==this.prevRefreshHints.isFilterExpanding)&&(this.filterCache=[]);let e=this.getFilteredAndPagedItems(t);this.totalRows=e.totalRows;let i=e.rows;this.groups=[],this.groupingInfos.length&&(this.groups=this.extractGroups(i),this.groups.length&&(i=this.flattenGroupedRows(this.groups)));let r=this.getRowDiffs(this.rows,i);return this.rows=i,r}refresh(){if(this.suspend)return;let t=oi(!0,{},this.getPagingInfo()),e=this.rows.length,i=this.totalRows,r=this.recalc(this.items);this.pagesize&&this.totalRows<this.pagenum*this.pagesize&&(this.pagenum=Math.max(0,Math.ceil(this.totalRows/this.pagesize)-1),r=this.recalc(this.items)),this.updated=null,this.prevRefreshHints=this.refreshHints,this.refreshHints={},i!==this.totalRows&&this.onBeforePagingInfoChanged.notify(t,null,this).getReturnValue()!==!1&&this.onPagingInfoChanged.notify(this.getPagingInfo(),null,this),e!==this.rows.length&&this.onRowCountChanged.notify({previous:e,current:this.rows.length,itemCount:this.items.length,dataView:this,changedRows:r,callingOnRowsChanged:r.length>0},null,this),r.length>0&&this.onRowsChanged.notify({rows:r,itemCount:this.items.length,dataView:this,calledOnRowCountChanged:e!==this.rows.length},null,this),(e!==this.rows.length||r.length>0)&&this.onRowsOrCountChanged.notify({rowsDiff:r,previousRowCount:e,currentRowCount:this.rows.length,itemCount:this.items.length,rowCountChanged:e!==this.rows.length,rowsChanged:r.length>0,dataView:this},null,this)}syncGridSelection(t,e,i){this._grid=t;let r;this.selectedRowIds=this.mapRowsToIds(t.getSelectedRows());let s=t.getOptions(),o=l=>{l===!1?this.selectedRowIds=[]:this.selectedRowIds.sort().join(",")!==l.sort().join(",")&&(this.selectedRowIds=l)},a=()=>{if((this.selectedRowIds||[]).length>0&&!r){r=!0;let l=this.mapIdsToRows(this.selectedRowIds||[]);if(!e){let c={grid:this._grid,ids:this.mapRowsToIds(l),rows:l,dataView:this};this.preSelectedRowIdsChangeFn(c),this.onSelectedRowIdsChanged.notify(Object.assign(c,{selectedRowIds:this.selectedRowIds,filteredIds:this.getAllSelectedFilteredIds()}),new Ct,this)}t.setSelectedRows(l),r=!1}};return t.onSelectedRowsChanged.subscribe((l,c)=>{if(!r){let h=this.mapRowsToIds(c.rows),m={grid:this._grid,ids:h,rows:c.rows,added:!0,dataView:this};this.preSelectedRowIdsChangeFn(m),this.onSelectedRowIdsChanged.notify(Object.assign(m,{selectedRowIds:this.selectedRowIds,filteredIds:this.getAllSelectedFilteredIds()}),new Ct,this)}}),this.preSelectedRowIdsChangeFn=l=>{if(!r){if(r=!0,typeof l.added>"u")o(l.ids);else{let h;if(l.added)i&&s.multiSelect?h=(this.selectedRowIds?.filter(f=>this.getRowById(f)===void 0)).concat(l.ids):h=l.ids;else if(i&&s.multiSelect){let m=new Set(l.ids);h=this.selectedRowIds?.filter(f=>!m.has(f))}else h=[];o(h)}r=!1}},this.onRowsOrCountChanged.subscribe(a.bind(this)),this.onSelectedRowIdsChanged}getAllSelectedIds(){return this.selectedRowIds}getAllSelectedFilteredIds(){return this.getAllSelectedFilteredItems().map(t=>t[this.idProperty])}setSelectedIds(t,e){let i=e?.isRowBeingAdded,r=e?.shouldTriggerEvent,s=e?.applyRowSelectionToGrid;i!==!1&&(i=!0);let o=this.mapIdsToRows(t),a={grid:this._grid,ids:t,rows:o,added:i,dataView:this};this.preSelectedRowIdsChangeFn?.(a),r!==!1&&this.onSelectedRowIdsChanged.notify(Object.assign(a,{selectedRowIds:this.selectedRowIds,filteredIds:this.getAllSelectedFilteredIds()}),new Ct,this),s!==!1&&this._grid&&this._grid.setSelectedRows(o)}getAllSelectedItems(){let t=[];return this.getAllSelectedIds().forEach(i=>{t.push(this.getItemById(i))}),t}getAllSelectedFilteredItems(){if(!Array.isArray(this.selectedRowIds))return[];let t=new Set(this.selectedRowIds);return this.filteredItems.filter(i=>t.has(i[this.idProperty]))||[]}syncGridCellCssStyles(t,e){let i,r,s=a=>{i={},typeof a=="object"&&Object.keys(a).forEach(l=>{if(a&&this.rows[l]){let c=this.rows[l][this.idProperty];i[c]=a[l]}})};s(t.getCellCssStyles(e));let o=()=>{if(typeof i=="object"){r=!0,this.ensureRowsByIdCache();let a={};Object.keys(i).forEach(l=>{let c=this.rowsById?.[l];mt(c)&&(a[c]=i[l])}),t.setCellCssStyles(e,a),r=!1}};t.onCellCssStylesChanged.subscribe((a,l)=>{r||e!==l.key||(l.hash?s(l.hash):(t.onCellCssStylesChanged.unsubscribe(),this.onRowsOrCountChanged.unsubscribe(o)))}),this.onRowsOrCountChanged.subscribe(o.bind(this))}};function JD(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function co(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(e),!0).forEach(function(i){Iz(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):JD(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function eg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eg=function(t){return typeof t}:eg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(n)}function Iz(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $o(){return $o=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$o.apply(this,arguments)}function Oz(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function Az(n,t){if(n==null)return{};var e=Oz(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}var Mz="1.15.6";function Go(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Yo=Go(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),zu=Go(/Edge/i),eT=Go(/firefox/i),Nu=Go(/safari/i)&&!Go(/chrome/i)&&!Go(/android/i),S0=Go(/iP(ad|od|hone)/i),lT=Go(/chrome/i)&&Go(/android/i),dT={capture:!1,passive:!1};function qt(n,t,e){n.addEventListener(t,e,!Yo&&dT)}function Wt(n,t,e){n.removeEventListener(t,e,!Yo&&dT)}function sg(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function cT(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Ps(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&sg(n,t):sg(n,t))||i&&n===e)return n;if(n===e)break}while(n=cT(n))}return null}var tT=/\s+/g;function Zr(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(tT," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(tT," ")}}function ot(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function oc(n,t){var e="";if(typeof n=="string")e=n;else do{var i=ot(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function hT(n,t,e){if(n){var i=n.getElementsByTagName(t),r=0,s=i.length;if(e)for(;r<s;r++)e(i[r],r);return i}return[]}function lo(){var n=document.scrollingElement;return n||document.documentElement}function fn(n,t,e,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var s,o,a,l,c,h,m;if(n!==window&&n.parentNode&&n!==lo()?(s=n.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,c=s.right,h=s.height,m=s.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,m=window.innerWidth),(t||e)&&n!==window&&(r=r||n.parentNode,!Yo))do if(r&&r.getBoundingClientRect&&(ot(r,"transform")!=="none"||e&&ot(r,"position")!=="static")){var f=r.getBoundingClientRect();o-=f.top+parseInt(ot(r,"border-top-width")),a-=f.left+parseInt(ot(r,"border-left-width")),l=o+s.height,c=a+s.width;break}while(r=r.parentNode);if(i&&n!==window){var v=oc(r||n),C=v&&v.a,x=v&&v.d;v&&(o/=x,a/=C,m/=C,h/=x,l=o+h,c=a+m)}return{top:o,left:a,bottom:l,right:c,width:m,height:h}}}function iT(n,t,e){for(var i=ja(n,!0),r=fn(n)[t];i;){var s=fn(i)[e],o=void 0;if(e==="top"||e==="left"?o=r>=s:o=r<=s,!o)return i;if(i===lo())break;i=ja(i,!1)}return!1}function ac(n,t,e,i){for(var r=0,s=0,o=n.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==at.ghost&&(i||o[s]!==at.dragged)&&Ps(o[s],e.draggable,n,!1)){if(r===t)return o[s];r++}s++}return null}function E0(n,t){for(var e=n.lastElementChild;e&&(e===at.ghost||ot(e,"display")==="none"||t&&!sg(e,t));)e=e.previousElementSibling;return e||null}function gs(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==at.clone&&(!t||sg(n,t))&&e++;return e}function nT(n){var t=0,e=0,i=lo();if(n)do{var r=oc(n),s=r.a,o=r.d;t+=n.scrollLeft*s,e+=n.scrollTop*o}while(n!==i&&(n=n.parentNode));return[t,e]}function Rz(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function ja(n,t){if(!n||!n.getBoundingClientRect)return lo();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=ot(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return lo();if(i||t)return e;i=!0}}while(e=e.parentNode);return lo()}function Fz(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function c0(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var Lu;function uT(n,t){return function(){if(!Lu){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),Lu=setTimeout(function(){Lu=void 0},t)}}}function Pz(){clearTimeout(Lu),Lu=void 0}function mT(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function pT(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}function fT(n,t,e){var i={};return Array.from(n.children).forEach(function(r){var s,o,a,l;if(!(!Ps(r,t.draggable,n,!1)||r.animated||r===e)){var c=fn(r);i.left=Math.min((s=i.left)!==null&&s!==void 0?s:1/0,c.left),i.top=Math.min((o=i.top)!==null&&o!==void 0?o:1/0,c.top),i.right=Math.max((a=i.right)!==null&&a!==void 0?a:-1/0,c.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Nr="Sortable"+new Date().getTime();function Nz(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(ot(r,"display")==="none"||r===at.ghost)){n.push({target:r,rect:fn(r)});var s=co({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=oc(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Rz(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var s=!1,o=0;n.forEach(function(a){var l=0,c=a.target,h=c.fromRect,m=fn(c),f=c.prevFromRect,v=c.prevToRect,C=a.rect,x=oc(c,!0);x&&(m.top-=x.f,m.left-=x.e),c.toRect=m,c.thisAnimationDuration&&c0(f,m)&&!c0(h,m)&&(C.top-m.top)/(C.left-m.left)===(h.top-m.top)/(h.left-m.left)&&(l=Vz(C,f,v,r.options)),c0(m,h)||(c.prevFromRect=h,c.prevToRect=m,l||(l=r.options.animation),r.animate(c,C,m,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),s?t=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),n=[]},animate:function(i,r,s,o){if(o){ot(i,"transition",""),ot(i,"transform","");var a=oc(this.el),l=a&&a.a,c=a&&a.d,h=(r.left-s.left)/(l||1),m=(r.top-s.top)/(c||1);i.animatingX=!!h,i.animatingY=!!m,ot(i,"transform","translate3d("+h+"px,"+m+"px,0)"),this.forRepaintDummy=Lz(i),ot(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ot(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){ot(i,"transition",""),ot(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function Lz(n){return n.offsetWidth}function Vz(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var ic=[],h0={initializeByDefault:!0},ju={mount:function(t){for(var e in h0)h0.hasOwnProperty(e)&&!(e in t)&&(t[e]=h0[e]);ic.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),ic.push(t)},pluginEvent:function(t,e,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=t+"Global";ic.forEach(function(o){e[o.pluginName]&&(e[o.pluginName][s]&&e[o.pluginName][s](co({sortable:e},i)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](co({sortable:e},i)))})},initializePlugins:function(t,e,i,r){ic.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,$o(i,c.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var o=this.modifyOption(t,s,t.options[s]);typeof o<"u"&&(t.options[s]=o)}},getEventProperties:function(t,e){var i={};return ic.forEach(function(r){typeof r.eventProperties=="function"&&$o(i,r.eventProperties.call(e[r.pluginName],t))}),i},modifyOption:function(t,e,i){var r;return ic.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[e]=="function"&&(r=s.optionListeners[e].call(t[s.pluginName],i))}),r}};function Bz(n){var t=n.sortable,e=n.rootEl,i=n.name,r=n.targetEl,s=n.cloneEl,o=n.toEl,a=n.fromEl,l=n.oldIndex,c=n.newIndex,h=n.oldDraggableIndex,m=n.newDraggableIndex,f=n.originalEvent,v=n.putSortable,C=n.extraEventProperties;if(t=t||e&&e[Nr],!!t){var x,E=t.options,I="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Yo&&!zu?x=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(i,!0,!0)),x.to=o||e,x.from=a||e,x.item=r||e,x.clone=s,x.oldIndex=l,x.newIndex=c,x.oldDraggableIndex=h,x.newDraggableIndex=m,x.originalEvent=f,x.pullMode=v?v.lastPutMode:void 0;var N=co(co({},C),ju.getEventProperties(i,t));for(var L in N)x[L]=N[L];e&&e.dispatchEvent(x),E[I]&&E[I].call(t,x)}}var Hz=["evt"],Pr=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,s=Az(i,Hz);ju.pluginEvent.bind(at)(t,e,co({dragEl:be,parentEl:Xi,ghostEl:bt,rootEl:Hi,nextEl:Nl,lastDownEl:tg,cloneEl:$i,cloneHidden:za,dragStarted:Ru,putSortable:Yn,activeSortable:at.active,originalEvent:r,oldIndex:sc,oldDraggableIndex:Vu,newIndex:Jr,newDraggableIndex:Ha,hideGhostForTarget:bT,unhideGhostForTarget:yT,cloneNowHidden:function(){za=!0},cloneNowShown:function(){za=!1},dispatchSortableEvent:function(a){wr({sortable:e,name:a,originalEvent:r})}},s))};function wr(n){Bz(co({putSortable:Yn,cloneEl:$i,targetEl:be,rootEl:Hi,oldIndex:sc,oldDraggableIndex:Vu,newIndex:Jr,newDraggableIndex:Ha},n))}var be,Xi,bt,Hi,Nl,tg,$i,za,sc,Jr,Vu,Ha,Kf,Yn,rc=!1,og=!1,ag=[],Fl,Fs,u0,m0,rT,sT,Ru,nc,Bu,Hu=!1,Qf=!1,ig,nr,p0=[],b0=!1,lg=[],cg=typeof document<"u",Zf=S0,oT=zu||Yo?"cssFloat":"float",zz=cg&&!lT&&!S0&&"draggable"in document.createElement("div"),gT=function(){if(cg){if(Yo)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),_T=function(t,e){var i=ot(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=ac(t,0,e),o=ac(t,1,e),a=s&&ot(s),l=o&&ot(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+fn(s).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+fn(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var m=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===m)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&i[oT]==="none"||o&&i[oT]==="none"&&c+h>r)?"vertical":"horizontal"},jz=function(t,e,i){var r=i?t.left:t.top,s=i?t.right:t.bottom,o=i?t.width:t.height,a=i?e.left:e.top,l=i?e.right:e.bottom,c=i?e.width:e.height;return r===a||s===l||r+o/2===a+c/2},Uz=function(t,e){var i;return ag.some(function(r){var s=r[Nr].options.emptyInsertThreshold;if(!(!s||E0(r))){var o=fn(r),a=t>=o.left-s&&t<=o.right+s,l=e>=o.top-s&&e<=o.bottom+s;if(a&&l)return i=r}}),i},vT=function(t){function e(s,o){return function(a,l,c,h){var m=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||m))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return e(s(a,l,c,h),o)(a,l,c,h);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var i={},r=t.group;(!r||eg(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=e(r.pull,!0),i.checkPut=e(r.put),i.revertClone=r.revertClone,t.group=i},bT=function(){!gT&&bt&&ot(bt,"display","none")},yT=function(){!gT&&bt&&ot(bt,"display","")};cg&&!lT&&document.addEventListener("click",function(n){if(og)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),og=!1,!1},!0);var Pl=function(t){if(be){t=t.touches?t.touches[0]:t;var e=Uz(t.clientX,t.clientY);if(e){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[Nr]._onDragOver(i)}}},Wz=function(t){be&&be.parentNode[Nr]._isOutsideThisEl(t.target)};function at(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=$o({},t),n[Nr]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _T(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:at.supportPointer!==!1&&"PointerEvent"in window&&(!Nu||S0),emptyInsertThreshold:5};ju.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);vT(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:zz,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?qt(n,"pointerdown",this._onTapStart):(qt(n,"mousedown",this._onTapStart),qt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(qt(n,"dragover",this),qt(n,"dragenter",this)),ag.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),$o(this,Nz())}at.prototype={constructor:at,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(nc=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,be):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,r=this.options,s=r.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,h=r.filter;if(Zz(i),!be&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Nu&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ps(l,r.draggable,i,!1),!(l&&l.animated)&&tg!==l)){if(sc=gs(l),Vu=gs(l,r.draggable),typeof h=="function"){if(h.call(this,t,l,this)){wr({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:i,fromEl:i}),Pr("filter",e,{evt:t}),s&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(m){if(m=Ps(c,m.trim(),i,!1),m)return wr({sortable:e,rootEl:m,name:"filter",targetEl:l,fromEl:i,toEl:i}),Pr("filter",e,{evt:t}),!0}),h)){s&&t.preventDefault();return}r.handle&&!Ps(c,r.handle,i,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,i){var r=this,s=r.el,o=r.options,a=s.ownerDocument,l;if(i&&!be&&i.parentNode===s){var c=fn(i);if(Hi=s,be=i,Xi=be.parentNode,Nl=be.nextSibling,tg=i,Kf=o.group,at.dragged=be,Fl={target:be,clientX:(e||t).clientX,clientY:(e||t).clientY},rT=Fl.clientX-c.left,sT=Fl.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,be.style["will-change"]="all",l=function(){if(Pr("delayEnded",r,{evt:t}),at.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!eT&&r.nativeDraggable&&(be.draggable=!0),r._triggerDragStart(t,e),wr({sortable:r,name:"choose",originalEvent:t}),Zr(be,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){hT(be,h.trim(),f0)}),qt(a,"dragover",Pl),qt(a,"mousemove",Pl),qt(a,"touchmove",Pl),o.supportPointer?(qt(a,"pointerup",r._onDrop),!this.nativeDraggable&&qt(a,"pointercancel",r._onDrop)):(qt(a,"mouseup",r._onDrop),qt(a,"touchend",r._onDrop),qt(a,"touchcancel",r._onDrop)),eT&&this.nativeDraggable&&(this.options.touchStartThreshold=4,be.draggable=!0),Pr("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(zu||Yo))){if(at.eventCanceled){this._onDrop();return}o.supportPointer?(qt(a,"pointerup",r._disableDelayedDrag),qt(a,"pointercancel",r._disableDelayedDrag)):(qt(a,"mouseup",r._disableDelayedDrag),qt(a,"touchend",r._disableDelayedDrag),qt(a,"touchcancel",r._disableDelayedDrag)),qt(a,"mousemove",r._delayedDragTouchMoveHandler),qt(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&qt(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){be&&f0(be),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Wt(t,"mouseup",this._disableDelayedDrag),Wt(t,"touchend",this._disableDelayedDrag),Wt(t,"touchcancel",this._disableDelayedDrag),Wt(t,"pointerup",this._disableDelayedDrag),Wt(t,"pointercancel",this._disableDelayedDrag),Wt(t,"mousemove",this._delayedDragTouchMoveHandler),Wt(t,"touchmove",this._delayedDragTouchMoveHandler),Wt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?qt(document,"pointermove",this._onTouchMove):e?qt(document,"touchmove",this._onTouchMove):qt(document,"mousemove",this._onTouchMove):(qt(be,"dragend",this),qt(Hi,"dragstart",this._onDragStart));try{document.selection?ng(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(rc=!1,Hi&&be){Pr("dragStarted",this,{evt:e}),this.nativeDraggable&&qt(document,"dragover",Wz);var i=this.options;!t&&Zr(be,i.dragClass,!1),Zr(be,i.ghostClass,!0),at.active=this,t&&this._appendGhost(),wr({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Fs){this._lastX=Fs.clientX,this._lastY=Fs.clientY,bT();for(var t=document.elementFromPoint(Fs.clientX,Fs.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Fs.clientX,Fs.clientY),t!==e);)e=t;if(be.parentNode[Nr]._isOutsideThisEl(t),e)do{if(e[Nr]){var i=void 0;if(i=e[Nr]._onDragOver({clientX:Fs.clientX,clientY:Fs.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=cT(e));yT()}},_onTouchMove:function(t){if(Fl){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,s=t.touches?t.touches[0]:t,o=bt&&oc(bt,!0),a=bt&&o&&o.a,l=bt&&o&&o.d,c=Zf&&nr&&nT(nr),h=(s.clientX-Fl.clientX+r.x)/(a||1)+(c?c[0]-p0[0]:0)/(a||1),m=(s.clientY-Fl.clientY+r.y)/(l||1)+(c?c[1]-p0[1]:0)/(l||1);if(!at.active&&!rc){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(bt){o?(o.e+=h-(u0||0),o.f+=m-(m0||0)):o={a:1,b:0,c:0,d:1,e:h,f:m};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ot(bt,"webkitTransform",f),ot(bt,"mozTransform",f),ot(bt,"msTransform",f),ot(bt,"transform",f),u0=h,m0=m,Fs=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!bt){var t=this.options.fallbackOnBody?document.body:Hi,e=fn(be,!0,Zf,!0,t),i=this.options;if(Zf){for(nr=t;ot(nr,"position")==="static"&&ot(nr,"transform")==="none"&&nr!==document;)nr=nr.parentNode;nr!==document.body&&nr!==document.documentElement?(nr===document&&(nr=lo()),e.top+=nr.scrollTop,e.left+=nr.scrollLeft):nr=lo(),p0=nT(nr)}bt=be.cloneNode(!0),Zr(bt,i.ghostClass,!1),Zr(bt,i.fallbackClass,!0),Zr(bt,i.dragClass,!0),ot(bt,"transition",""),ot(bt,"transform",""),ot(bt,"box-sizing","border-box"),ot(bt,"margin",0),ot(bt,"top",e.top),ot(bt,"left",e.left),ot(bt,"width",e.width),ot(bt,"height",e.height),ot(bt,"opacity","0.8"),ot(bt,"position",Zf?"absolute":"fixed"),ot(bt,"zIndex","100000"),ot(bt,"pointerEvents","none"),at.ghost=bt,t.appendChild(bt),ot(bt,"transform-origin",rT/parseInt(bt.style.width)*100+"% "+sT/parseInt(bt.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,r=t.dataTransfer,s=i.options;if(Pr("dragStart",this,{evt:t}),at.eventCanceled){this._onDrop();return}Pr("setupClone",this),at.eventCanceled||($i=pT(be),$i.removeAttribute("id"),$i.draggable=!1,$i.style["will-change"]="",this._hideClone(),Zr($i,this.options.chosenClass,!1),at.clone=$i),i.cloneId=ng(function(){Pr("clone",i),!at.eventCanceled&&(i.options.removeCloneOnHide||Hi.insertBefore($i,be),i._hideClone(),wr({sortable:i,name:"clone"}))}),!e&&Zr(be,s.dragClass,!0),e?(og=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Wt(document,"mouseup",i._onDrop),Wt(document,"touchend",i._onDrop),Wt(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,be)),qt(document,"drop",i),ot(be,"transform","translateZ(0)")),rc=!0,i._dragStartId=ng(i._dragStarted.bind(i,e,t)),qt(document,"selectstart",i),Ru=!0,window.getSelection().removeAllRanges(),Nu&&ot(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,r,s,o,a=this.options,l=a.group,c=at.active,h=Kf===l,m=a.sort,f=Yn||c,v,C=this,x=!1;if(b0)return;function E(Ft,Qi){Pr(Ft,C,co({evt:t,isOwner:h,axis:v?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:m,fromSortable:f,target:i,completed:N,onMove:function(H,ae){return Jf(Hi,e,be,r,H,fn(H),t,ae)},changed:L},Qi))}function I(){E("dragOverAnimationCapture"),C.captureAnimationState(),C!==f&&f.captureAnimationState()}function N(Ft){return E("dragOverCompleted",{insertion:Ft}),Ft&&(h?c._hideClone():c._showClone(C),C!==f&&(Zr(be,Yn?Yn.options.ghostClass:c.options.ghostClass,!1),Zr(be,a.ghostClass,!0)),Yn!==C&&C!==at.active?Yn=C:C===at.active&&Yn&&(Yn=null),f===C&&(C._ignoreWhileAnimating=i),C.animateAll(function(){E("dragOverAnimationComplete"),C._ignoreWhileAnimating=null}),C!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===be&&!be.animated||i===e&&!i.animated)&&(nc=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(be.parentNode[Nr]._isOutsideThisEl(t.target),!Ft&&Pl(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),x=!0}function L(){Jr=gs(be),Ha=gs(be,a.draggable),wr({sortable:C,name:"change",toEl:e,newIndex:Jr,newDraggableIndex:Ha,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Ps(i,a.draggable,e,!0),E("dragOver"),at.eventCanceled)return x;if(be.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||C._ignoreWhileAnimating===i)return N(!1);if(og=!1,c&&!a.disabled&&(h?m||(o=Xi!==Hi):Yn===this||(this.lastPutMode=Kf.checkPull(this,c,be,t))&&l.checkPut(this,c,be,t))){if(v=this._getDirection(t,i)==="vertical",r=fn(be),E("dragOverValid"),at.eventCanceled)return x;if(o)return Xi=Hi,I(),this._hideClone(),E("revert"),at.eventCanceled||(Nl?Hi.insertBefore(be,Nl):Hi.appendChild(be)),N(!0);var V=E0(e,a.draggable);if(!V||qz(t,v,this)&&!V.animated){if(V===be)return N(!1);if(V&&e===t.target&&(i=V),i&&(s=fn(i)),Jf(Hi,e,be,r,i,s,t,!!i)!==!1)return I(),V&&V.nextSibling?e.insertBefore(be,V.nextSibling):e.appendChild(be),Xi=e,L(),N(!0)}else if(V&&Yz(t,v,this)){var j=ac(e,0,a,!0);if(j===be)return N(!1);if(i=j,s=fn(i),Jf(Hi,e,be,r,i,s,t,!1)!==!1)return I(),e.insertBefore(be,j),Xi=e,L(),N(!0)}else if(i.parentNode===e){s=fn(i);var Y=0,me,Q=be.parentNode!==e,pe=!jz(be.animated&&be.toRect||r,i.animated&&i.toRect||s,v),Be=v?"top":"left",Ge=iT(i,"top","top")||iT(be,"top","top"),ct=Ge?Ge.scrollTop:void 0;nc!==i&&(me=s[Be],Hu=!1,Qf=!pe&&a.invertSwap||Q),Y=Xz(t,i,s,v,pe?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Qf,nc===i);var St;if(Y!==0){var Et=gs(be);do Et-=Y,St=Xi.children[Et];while(St&&(ot(St,"display")==="none"||St===bt))}if(Y===0||St===i)return N(!1);nc=i,Bu=Y;var xt=i.nextElementSibling,Rt=!1;Rt=Y===1;var kt=Jf(Hi,e,be,r,i,s,t,Rt);if(kt!==!1)return(kt===1||kt===-1)&&(Rt=kt===1),b0=!0,setTimeout($z,30),I(),Rt&&!xt?e.appendChild(be):i.parentNode.insertBefore(be,Rt?xt:i),Ge&&mT(Ge,0,ct-Ge.scrollTop),Xi=be.parentNode,me!==void 0&&!Qf&&(ig=Math.abs(me-fn(i)[Be])),L(),N(!0)}if(e.contains(be))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Wt(document,"mousemove",this._onTouchMove),Wt(document,"touchmove",this._onTouchMove),Wt(document,"pointermove",this._onTouchMove),Wt(document,"dragover",Pl),Wt(document,"mousemove",Pl),Wt(document,"touchmove",Pl)},_offUpEvents:function(){var t=this.el.ownerDocument;Wt(t,"mouseup",this._onDrop),Wt(t,"touchend",this._onDrop),Wt(t,"pointerup",this._onDrop),Wt(t,"pointercancel",this._onDrop),Wt(t,"touchcancel",this._onDrop),Wt(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(Jr=gs(be),Ha=gs(be,i.draggable),Pr("drop",this,{evt:t}),Xi=be&&be.parentNode,Jr=gs(be),Ha=gs(be,i.draggable),at.eventCanceled){this._nulling();return}rc=!1,Qf=!1,Hu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),y0(this.cloneId),y0(this._dragStartId),this.nativeDraggable&&(Wt(document,"drop",this),Wt(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nu&&ot(document.body,"user-select",""),ot(be,"transform",""),t&&(Ru&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),bt&&bt.parentNode&&bt.parentNode.removeChild(bt),(Hi===Xi||Yn&&Yn.lastPutMode!=="clone")&&$i&&$i.parentNode&&$i.parentNode.removeChild($i),be&&(this.nativeDraggable&&Wt(be,"dragend",this),f0(be),be.style["will-change"]="",Ru&&!rc&&Zr(be,Yn?Yn.options.ghostClass:this.options.ghostClass,!1),Zr(be,this.options.chosenClass,!1),wr({sortable:this,name:"unchoose",toEl:Xi,newIndex:null,newDraggableIndex:null,originalEvent:t}),Hi!==Xi?(Jr>=0&&(wr({rootEl:Xi,name:"add",toEl:Xi,fromEl:Hi,originalEvent:t}),wr({sortable:this,name:"remove",toEl:Xi,originalEvent:t}),wr({rootEl:Xi,name:"sort",toEl:Xi,fromEl:Hi,originalEvent:t}),wr({sortable:this,name:"sort",toEl:Xi,originalEvent:t})),Yn&&Yn.save()):Jr!==sc&&Jr>=0&&(wr({sortable:this,name:"update",toEl:Xi,originalEvent:t}),wr({sortable:this,name:"sort",toEl:Xi,originalEvent:t})),at.active&&((Jr==null||Jr===-1)&&(Jr=sc,Ha=Vu),wr({sortable:this,name:"end",toEl:Xi,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Pr("nulling",this),Hi=be=Xi=bt=Nl=$i=tg=za=Fl=Fs=Ru=Jr=Ha=sc=Vu=nc=Bu=Yn=Kf=at.dragged=at.ghost=at.clone=at.active=null,lg.forEach(function(t){t.checked=!0}),lg.length=u0=m0=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":be&&(this._onDragOver(t),Gz(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)e=i[r],Ps(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Qz(e));return t},sort:function(t,e){var i={},r=this.el;this.toArray().forEach(function(s,o){var a=r.children[o];Ps(a,this.options.draggable,r,!1)&&(i[s]=a)},this),e&&this.captureAnimationState(),t.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Ps(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var r=ju.modifyOption(this,t,e);typeof r<"u"?i[t]=r:i[t]=e,t==="group"&&vT(i)},destroy:function(){Pr("destroy",this);var t=this.el;t[Nr]=null,Wt(t,"mousedown",this._onTapStart),Wt(t,"touchstart",this._onTapStart),Wt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Wt(t,"dragover",this),Wt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ag.splice(ag.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!za){if(Pr("hideClone",this),at.eventCanceled)return;ot($i,"display","none"),this.options.removeCloneOnHide&&$i.parentNode&&$i.parentNode.removeChild($i),za=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(za){if(Pr("showClone",this),at.eventCanceled)return;be.parentNode==Hi&&!this.options.group.revertClone?Hi.insertBefore($i,be):Nl?Hi.insertBefore($i,Nl):Hi.appendChild($i),this.options.group.revertClone&&this.animate(be,$i),ot($i,"display",""),za=!1}}};function Gz(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Jf(n,t,e,i,r,s,o,a){var l,c=n[Nr],h=c.options.onMove,m;return window.CustomEvent&&!Yo&&!zu?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=n,l.dragged=e,l.draggedRect=i,l.related=r||t,l.relatedRect=s||fn(t),l.willInsertAfter=a,l.originalEvent=o,n.dispatchEvent(l),h&&(m=h.call(c,l,o)),m}function f0(n){n.draggable=!1}function $z(){b0=!1}function Yz(n,t,e){var i=fn(ac(e.el,0,e.options,!0)),r=fT(e.el,e.options,bt),s=10;return t?n.clientX<r.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<r.top-s||n.clientY<i.bottom&&n.clientX<i.left}function qz(n,t,e){var i=fn(E0(e.el,e.options.draggable)),r=fT(e.el,e.options,bt),s=10;return t?n.clientX>r.right+s||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>r.bottom+s||n.clientX>i.right&&n.clientY>i.top}function Xz(n,t,e,i,r,s,o,a){var l=i?n.clientY:n.clientX,c=i?e.height:e.width,h=i?e.top:e.left,m=i?e.bottom:e.right,f=!1;if(!o){if(a&&ig<c*r){if(!Hu&&(Bu===1?l>h+c*s/2:l<m-c*s/2)&&(Hu=!0),Hu)f=!0;else if(Bu===1?l<h+ig:l>m-ig)return-Bu}else if(l>h+c*(1-r)/2&&l<m-c*(1-r)/2)return Kz(t)}return f=f||o,f&&(l<h+c*s/2||l>m-c*s/2)?l>h+c/2?1:-1:0}function Kz(n){return gs(be)<gs(n)?1:-1}function Qz(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function Zz(n){lg.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&lg.push(i)}}function ng(n){return setTimeout(n,0)}function y0(n){return clearTimeout(n)}cg&&qt(document,"touchmove",function(n){(at.active||rc)&&n.cancelable&&n.preventDefault()});at.utils={on:qt,off:Wt,css:ot,find:hT,is:function(t,e){return!!Ps(t,e,t,!1)},extend:Fz,throttle:uT,closest:Ps,toggleClass:Zr,clone:pT,index:gs,nextTick:ng,cancelNextTick:y0,detectDirection:_T,getChild:ac,expando:Nr};at.get=function(n){return n[Nr]};at.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(at.utils=co(co({},at.utils),i.utils)),ju.mount(i)})};at.create=function(n,t){return new at(n,t)};at.version=Mz;var pn=[],Fu,w0,C0=!1,g0,_0,dg,Pu;function Jz(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?qt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?qt(document,"pointermove",this._handleFallbackAutoScroll):i.touches?qt(document,"touchmove",this._handleFallbackAutoScroll):qt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Wt(document,"dragover",this._handleAutoScroll):(Wt(document,"pointermove",this._handleFallbackAutoScroll),Wt(document,"touchmove",this._handleFallbackAutoScroll),Wt(document,"mousemove",this._handleFallbackAutoScroll)),aT(),rg(),Pz()},nulling:function(){dg=w0=Fu=C0=Pu=g0=_0=null,pn.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var r=this,s=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(s,o);if(dg=e,i||this.options.forceAutoScrollFallback||zu||Yo||Nu){v0(e,this.options,a,i);var l=ja(a,!0);C0&&(!Pu||s!==g0||o!==_0)&&(Pu&&aT(),Pu=setInterval(function(){var c=ja(document.elementFromPoint(s,o),!0);c!==l&&(l=c,rg()),v0(e,r.options,c,i)},10),g0=s,_0=o)}else{if(!this.options.bubbleScroll||ja(a,!0)===lo()){rg();return}v0(e,this.options,ja(a,!1),!1)}}},$o(n,{pluginName:"scroll",initializeByDefault:!0})}function rg(){pn.forEach(function(n){clearInterval(n.pid)}),pn=[]}function aT(){clearInterval(Pu)}var v0=uT(function(n,t,e,i){if(t.scroll){var r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=lo(),c=!1,h;w0!==e&&(w0=e,rg(),Fu=t.scroll,h=t.scrollFn,Fu===!0&&(Fu=ja(e,!0)));var m=0,f=Fu;do{var v=f,C=fn(v),x=C.top,E=C.bottom,I=C.left,N=C.right,L=C.width,V=C.height,j=void 0,Y=void 0,me=v.scrollWidth,Q=v.scrollHeight,pe=ot(v),Be=v.scrollLeft,Ge=v.scrollTop;v===l?(j=L<me&&(pe.overflowX==="auto"||pe.overflowX==="scroll"||pe.overflowX==="visible"),Y=V<Q&&(pe.overflowY==="auto"||pe.overflowY==="scroll"||pe.overflowY==="visible")):(j=L<me&&(pe.overflowX==="auto"||pe.overflowX==="scroll"),Y=V<Q&&(pe.overflowY==="auto"||pe.overflowY==="scroll"));var ct=j&&(Math.abs(N-r)<=o&&Be+L<me)-(Math.abs(I-r)<=o&&!!Be),St=Y&&(Math.abs(E-s)<=o&&Ge+V<Q)-(Math.abs(x-s)<=o&&!!Ge);if(!pn[m])for(var Et=0;Et<=m;Et++)pn[Et]||(pn[Et]={});(pn[m].vx!=ct||pn[m].vy!=St||pn[m].el!==v)&&(pn[m].el=v,pn[m].vx=ct,pn[m].vy=St,clearInterval(pn[m].pid),(ct!=0||St!=0)&&(c=!0,pn[m].pid=setInterval(function(){i&&this.layer===0&&at.active._onTouchMove(dg);var xt=pn[this.layer].vy?pn[this.layer].vy*a:0,Rt=pn[this.layer].vx?pn[this.layer].vx*a:0;typeof h=="function"&&h.call(at.dragged.parentNode[Nr],Rt,xt,n,dg,pn[this.layer].el)!=="continue"||mT(pn[this.layer].el,Rt,xt)}.bind({layer:m}),24))),m++}while(t.bubbleScroll&&f!==l&&(f=ja(f,!1)));C0=c}},30),wT=function(t){var e=t.originalEvent,i=t.putSortable,r=t.dragEl,s=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var c=i||s;a();var h=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,m=document.elementFromPoint(h.clientX,h.clientY);l(),c&&!c.el.contains(m)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function x0(){}x0.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=ac(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:wT};$o(x0,{pluginName:"revertOnSpill"});function k0(){}k0.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:wT};$o(k0,{pluginName:"removeOnSpill"});at.mount(new Jz);at.mount(k0,x0);var Ua=at;function D0(n){let{containerElement:t}=n,{onDragInit:e,onDragStart:i,onDrag:r,onDragEnd:s,preventDragFromKeys:o}=n,a,l,c,h,m,f;t||(t=document.body);let v={dragSource:t,dragHandle:null};function C(){t&&(t.addEventListener("mousedown",N),t.addEventListener("touchstart",N))}function x(j,Y,me){if(typeof j=="function")return j(Y,me)}function E(){t&&(t.removeEventListener("mousedown",N),t.removeEventListener("touchstart",N))}function I(j){let Y=!1;return o&&o.forEach(me=>{j[me]&&(Y=!0)}),Y}function N(j){if(a=j.target,!I(j)){let Y=j?.touches?.[0]??j,{target:me}=Y;if(!n.allowDragFrom||n.allowDragFrom&&a.matches(n.allowDragFrom)||n.allowDragFromClosest&&a.closest(n.allowDragFromClosest)){v.dragHandle=a;let Q=kf();l=Q.left+Y.clientX,c=Q.top+Y.clientY,h=Y.clientX-Y.clientX,m=Y.clientY-Y.clientY,v=Object.assign(v,{deltaX:h,deltaY:m,startX:l,startY:c,target:me}),x(e,j,v)!==!1&&(document.body.addEventListener("mousemove",L),document.body.addEventListener("touchmove",L),document.body.addEventListener("mouseup",V),document.body.addEventListener("touchend",V),document.body.addEventListener("touchcancel",V))}}}function L(j){let Y=j?.touches?.[0]??j;if(!I(j)){h=Y.clientX-l,m=Y.clientY-c;let{target:me}=Y;f||(v=Object.assign(v,{deltaX:h,deltaY:m,startX:l,startY:c,target:me}),x(i,j,v),f=!0),v=Object.assign(v,{deltaX:h,deltaY:m,startX:l,startY:c,target:me}),x(r,j,v)}}function V(j){if(document.body.removeEventListener("mousemove",L),document.body.removeEventListener("touchmove",L),document.body.removeEventListener("mouseup",V),document.body.removeEventListener("touchend",V),document.body.removeEventListener("touchcancel",V),f){let{target:Y}=j;v=Object.assign(v,{target:Y}),x(s,j,v),f=!1}}return C(),{destroy:E}}function T0(n){let{element:t,onMouseWheel:e}=n;function i(){t.removeEventListener("wheel",s),t.removeEventListener("mousewheel",s)}function r(){t.addEventListener("wheel",s),t.addEventListener("mousewheel",s)}function s(o){let a=o||window.event,l=0,c=0,h=0;a.wheelDelta&&(l=a.wheelDelta/120),a.detail&&(l=-a.detail/3),h=l,a.axis!==void 0&&a.axis===a.HORIZONTAL_AXIS&&(h=0,c=-1*l),a.wheelDeltaY!==void 0&&(h=a.wheelDeltaY/120),a.wheelDeltaX!==void 0&&(c=-1*a.wheelDeltaX/120),typeof e=="function"&&e(o,l,c,h)}return r(),{destroy:i}}function CT(n){let{resizeableElement:t,resizeableHandleElement:e,onResizeStart:i,onResize:r,onResizeEnd:s}=n;if(!e||typeof e.addEventListener!="function")throw new Error("[SlickResizable] You did not provide a valid html element that will be used for the handle to resize.");function o(){e.addEventListener("mousedown",c),e.addEventListener("touchstart",c)}function a(){typeof e?.removeEventListener=="function"&&(e.removeEventListener("mousedown",c),e.removeEventListener("touchstart",c))}function l(f,v){if(typeof f=="function")return f(v,{resizeableElement:t,resizeableHandleElement:e})}function c(f){f.preventDefault();let v=f.touches?f.changedTouches[0]:f;l(i,v)!==!1&&(document.body.addEventListener("mousemove",h),document.body.addEventListener("mouseup",m),document.body.addEventListener("touchmove",h),document.body.addEventListener("touchend",m))}function h(f){f.preventDefault&&f.type!=="touchmove"&&f.preventDefault();let v=f.touches?f.changedTouches[0]:f;typeof r=="function"&&r(v,{resizeableElement:t,resizeableHandleElement:e})}function m(f){let v=f.touches?f.changedTouches[0]:f;l(s,v),document.body.removeEventListener("mousemove",h),document.body.removeEventListener("mouseup",m),document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",m)}return o(),{destroy:a}}var hg=class{constructor(t,e,i,r,s){if(this.container=t,this.data=e,this.columns=i,this.externalPubSub=s,this.canvas=null,this.canvas_context=null,this._defaults={alwaysShowVerticalScroll:!1,alwaysAllowHorizontalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableHtmlRendering:!0,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,autoEditNewRow:!0,autoCommitEdit:!1,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,unorderableColumnCssClass:"unorderable",asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,columnResizingDelay:300,nonce:"",editorLock:Rl,showColumnHeader:!0,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,createTopHeaderPanel:!1,showPreHeaderPanel:!1,showTopHeaderPanel:!1,preHeaderPanelHeight:25,preHeaderPanelWidth:"auto",topHeaderPanelHeight:25,topHeaderPanelWidth:"auto",showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",rowHighlightCssClass:"highlight-animate",rowHighlightDuration:400,selectedCellCssClass:"selected",multiSelect:!0,enableCellRowSpan:!1,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,frozenRightViewportMinWidth:100,throwWhenFrozenNotAllViewable:!1,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter:this.defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,preventDragFromKeys:["ctrlKey","metaKey"],showCellSelection:!0,viewportClass:void 0,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1,enableMouseWheelScrollHandler:!0,doPaging:!0,rowTopOffsetRenderType:"top",scrollRenderThrottling:10,suppressCssChangesOnHiddenInit:!1,ffMaxSupportedCssHeight:6e6,maxSupportedCssHeight:1e9,maxPartialRowSpanRemap:5e3,sanitizer:void 0,mixinDefaults:!1,shadowRoot:void 0},this._columnDefaults={name:"",headerCssClass:null,defaultSortAsc:!0,focusable:!0,hidden:!1,minWidth:30,maxWidth:void 0,rerenderOnResize:!1,reorderable:!0,resizable:!0,sortable:!1,selectable:!0},this.page=0,this.offset=0,this.vScrollDir=1,this._bindingEventService=new Yt,this.initialized=!1,this.uid=`slickgrid_${Math.round(1e6*Math.random())}`,this._groupHeaders=[],this._headerScroller=[],this._headers=[],this._boundAncestors=[],this.viewportH=0,this.viewportW=0,this.canvasWidth=0,this.canvasWidthL=0,this.canvasWidthR=0,this.headersWidth=0,this.headersWidthL=0,this.headersWidthR=0,this.viewportHasHScroll=!1,this.viewportHasVScroll=!1,this.headerColumnWidthDiff=0,this.headerColumnHeightDiff=0,this.cellWidthDiff=0,this.cellHeightDiff=0,this.hasFrozenRows=!1,this.frozenRowsHeight=0,this.actualFrozenRow=-1,this.paneTopH=0,this.paneBottomH=0,this.viewportTopH=0,this.viewportBottomH=0,this.topPanelH=0,this.headerRowH=0,this.footerRowH=0,this.tabbingDirection=1,this.activeCellNode=null,this.currentEditor=null,this._prevDataLength=0,this._prevInvalidatedRowsCount=0,this._rowSpanIsCached=!1,this._colsWithRowSpanCache={},this.rowsCache={},this.renderedRows=0,this.numVisibleRows=0,this.prevScrollTop=0,this.scrollHeight=0,this.scrollTop=0,this.lastRenderedScrollTop=0,this.lastRenderedScrollLeft=0,this.prevScrollLeft=0,this.scrollLeft=0,this.selectedRows=[],this.plugins=[],this.cellCssClasses={},this.columnsById={},this.sortColumns=[],this.columnPosLeft=[],this.columnPosRight=[],this.pagingActive=!1,this.pagingIsLastPage=!1,this.postProcessedRows={},this.postProcessToRow=null,this.postProcessFromRow=null,this.postProcessedCleanupQueue=[],this.postProcessgroupId=0,this.counter_rows_rendered=0,this.counter_rows_removed=0,this.cssShow={position:"absolute",visibility:"hidden",display:"block"},this._hiddenParents=[],this.oldProps=[],this.enforceFrozenRowHeightRecalc=!1,this.columnResizeDragging=!1,this.slickDraggableInstance=null,this.slickMouseWheelInstances=[],this.slickResizableInstances=[],this._container=typeof this.container=="string"?document.querySelector(this.container):this.container,!this._container)throw new Error(`SlickGrid requires a valid container, ${this.container} does not exist in the DOM.`);this._pubSubService=s,this.onActiveCellChanged=new re("onActiveCellChanged",s),this.onActiveCellPositionChanged=new re("onActiveCellPositionChanged",s),this.onAddNewRow=new re("onAddNewRow",s),this.onAfterSetColumns=new re("onAfterSetColumns",s),this.onAutosizeColumns=new re("onAutosizeColumns",s),this.onBeforeAppendCell=new re("onBeforeAppendCell",s),this.onBeforeCellEditorDestroy=new re("onBeforeCellEditorDestroy",s),this.onBeforeColumnsResize=new re("onBeforeColumnsResize",s),this.onBeforeDestroy=new re("onBeforeDestroy",s),this.onBeforeEditCell=new re("onBeforeEditCell",s),this.onBeforeFooterRowCellDestroy=new re("onBeforeFooterRowCellDestroy",s),this.onBeforeHeaderCellDestroy=new re("onBeforeHeaderCellDestroy",s),this.onBeforeHeaderRowCellDestroy=new re("onBeforeHeaderRowCellDestroy",s),this.onBeforeRemoveCachedRow=new re("onRowRemovedFromCache",s),this.onBeforeSetColumns=new re("onBeforeSetColumns",s),this.onBeforeSort=new re("onBeforeSort",s),this.onBeforeUpdateColumns=new re("onBeforeUpdateColumns",s),this.onCellChange=new re("onCellChange",s),this.onCellCssStylesChanged=new re("onCellCssStylesChanged",s),this.onClick=new re("onClick",s),this.onColumnsReordered=new re("onColumnsReordered",s),this.onColumnsDrag=new re("onColumnsDrag",s),this.onColumnsResized=new re("onColumnsResized",s),this.onColumnsResizeDblClick=new re("onColumnsResizeDblClick",s),this.onCompositeEditorChange=new re("onCompositeEditorChange",s),this.onContextMenu=new re("onContextMenu",s),this.onDblClick=new re("onDblClick",s),this.onDrag=new re("onDrag",s),this.onDragInit=new re("onDragInit",s),this.onDragStart=new re("onDragStart",s),this.onDragEnd=new re("onDragEnd",s),this.onFooterClick=new re("onFooterClick",s),this.onFooterContextMenu=new re("onFooterContextMenu",s),this.onFooterRowCellRendered=new re("onFooterRowCellRendered",s),this.onHeaderCellRendered=new re("onHeaderCellRendered",s),this.onHeaderClick=new re("onHeaderClick",s),this.onHeaderContextMenu=new re("onHeaderContextMenu",s),this.onHeaderMouseEnter=new re("onHeaderMouseEnter",s),this.onHeaderMouseLeave=new re("onHeaderMouseLeave",s),this.onHeaderMouseOver=new re("onHeaderMouseOver",s),this.onHeaderMouseOut=new re("onHeaderMouseOut",s),this.onHeaderRowMouseOver=new re("onHeaderRowMouseOver",s),this.onHeaderRowMouseOut=new re("onHeaderRowMouseOut",s),this.onHeaderRowCellRendered=new re("onHeaderRowCellRendered",s),this.onHeaderRowMouseEnter=new re("onHeaderRowMouseEnter",s),this.onHeaderRowMouseLeave=new re("onHeaderRowMouseLeave",s),this.onKeyDown=new re("onKeyDown",s),this.onMouseEnter=new re("onMouseEnter",s),this.onMouseLeave=new re("onMouseLeave",s),this.onPreHeaderClick=new re("onPreHeaderClick",s),this.onPreHeaderContextMenu=new re("onPreHeaderContextMenu",s),this.onRendered=new re("onRendered",s),this.onScroll=new re("onScroll",s),this.onSelectedRowsChanged=new re("onSelectedRowsChanged",s),this.onSetOptions=new re("onSetOptions",s),this.onActivateChangedOptions=new re("onActivateChangedOptions",s),this.onSort=new re("onSort",s),this.onValidationError=new re("onValidationError",s),this.onViewportChanged=new re("onViewportChanged",s),this.initialize(r)}init(){!this._options.silenceWarnings&&document.body.style.zoom&&document.body.style.zoom!=="100%"&&console.warn("[Slickgrid] Zoom level other than 100% is not supported by the library and will give subpar experience. SlickGrid relies on the `rowHeight` grid option to do row positioning & calculation and when zoom is not 100% then calculation becomes all offset."),this.finishInitialization()}applyHtmlCode(t,e="",i){if(t)if(e instanceof HTMLElement||e instanceof DocumentFragment)i?.emptyTarget!==!1&&ut(t),t.appendChild(e);else{if(i?.skipEmptyReassignment!==!1&&!mt(e)&&!t.innerHTML)return;if(typeof e=="number"||typeof e=="boolean")t.textContent=String(e);else{let s=this.sanitizeHtmlString(e);this._options.enableHtmlRendering&&s?t.innerHTML=s:t.textContent=s}}}initialize(t){t?.mixinDefaults?(this._options||(this._options=t),B.applyDefaults(this._options,this._defaults)):this._options=oi(!0,{},this._defaults,t),this.scrollThrottle=this.actionThrottle(this.render.bind(this),this._options.scrollRenderThrottling),this.maxSupportedCssHeight=this.maxSupportedCssHeight||this.getMaxSupportedCssHeight(),this.validateAndEnforceOptions(),this._columnDefaults.width=this._options.defaultColumnWidth,this._options.suppressCssChangesOnHiddenInit||this.cacheCssForHiddenInit(),this.updateColumnProps(),this.editController={commitCurrentEdit:this.commitCurrentEdit.bind(this),cancelCurrentEdit:this.cancelCurrentEdit.bind(this)},ut(this._container),this._container.style.outline=String(0),this._container.classList.add(this.uid),this._container.classList.add("slick-widget"),this._container.setAttribute("role","grid");let e=window.getComputedStyle(this._container);/relative|absolute|fixed/.test(e.position)||(this._container.style.position="relative"),this._focusSink=T("div",{tabIndex:0,style:{position:"fixed",width:"0px",height:"0px",top:"0px",left:"0px",outline:"0px"}},this._container),this._options.createTopHeaderPanel&&(this._topHeaderPanelScroller=T("div",{className:"slick-topheader-panel slick-state-default",style:{overflow:"hidden",position:"relative"}},this._container),this._topHeaderPanelScroller.appendChild(document.createElement("div")),this._topHeaderPanel=T("div",null,this._topHeaderPanelScroller),this._topHeaderPanelSpacer=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._topHeaderPanelScroller),this._options.showTopHeaderPanel||B.hide(this._topHeaderPanelScroller)),this._paneHeaderL=T("div",{className:"slick-pane slick-pane-header slick-pane-left",tabIndex:0},this._container),this._paneHeaderR=T("div",{className:"slick-pane slick-pane-header slick-pane-right",tabIndex:0},this._container),this._paneTopL=T("div",{className:"slick-pane slick-pane-top slick-pane-left",tabIndex:0},this._container),this._paneTopR=T("div",{className:"slick-pane slick-pane-top slick-pane-right",tabIndex:0},this._container),this._paneBottomL=T("div",{className:"slick-pane slick-pane-bottom slick-pane-left",tabIndex:0},this._container),this._paneBottomR=T("div",{className:"slick-pane slick-pane-bottom slick-pane-right",tabIndex:0},this._container),this._options.createPreHeaderPanel&&(this._preHeaderPanelScroller=T("div",{className:"slick-preheader-panel slick-state-default",style:{overflow:"hidden",position:"relative"}},this._paneHeaderL),this._preHeaderPanelScroller.appendChild(document.createElement("div")),this._preHeaderPanel=T("div",null,this._preHeaderPanelScroller),this._preHeaderPanelSpacer=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._preHeaderPanelScroller),this._preHeaderPanelScrollerR=T("div",{className:"slick-preheader-panel slick-state-default",style:{overflow:"hidden",position:"relative"}},this._paneHeaderR),this._preHeaderPanelR=T("div",null,this._preHeaderPanelScrollerR),this._preHeaderPanelSpacerR=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._preHeaderPanelScrollerR),this._options.showPreHeaderPanel||(B.hide(this._preHeaderPanelScroller),B.hide(this._preHeaderPanelScrollerR))),this._headerScrollerL=T("div",{className:"slick-header slick-state-default slick-header-left"},this._paneHeaderL),this._headerScrollerR=T("div",{className:"slick-header slick-state-default slick-header-right"},this._paneHeaderR),this._headerScroller.push(this._headerScrollerL),this._headerScroller.push(this._headerScrollerR),this._headerL=T("div",{className:"slick-header-columns slick-header-columns-left",style:{left:"-1000px"}},this._headerScrollerL),this._headerR=T("div",{className:"slick-header-columns slick-header-columns-right",style:{left:"-1000px"}},this._headerScrollerR),this._headers=[this._headerL,this._headerR],this._headerRowScrollerL=T("div",{className:"slick-headerrow slick-state-default"},this._paneTopL),this._headerRowScrollerR=T("div",{className:"slick-headerrow slick-state-default"},this._paneTopR),this._headerRowScroller=[this._headerRowScrollerL,this._headerRowScrollerR],this._headerRowSpacerL=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._headerRowScrollerL),this._headerRowSpacerR=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._headerRowScrollerR),this._headerRowL=T("div",{className:"slick-headerrow-columns slick-headerrow-columns-left"},this._headerRowScrollerL),this._headerRowR=T("div",{className:"slick-headerrow-columns slick-headerrow-columns-right"},this._headerRowScrollerR),this._headerRows=[this._headerRowL,this._headerRowR],this._topPanelScrollerL=T("div",{className:"slick-top-panel-scroller slick-state-default"},this._paneTopL),this._topPanelScrollerR=T("div",{className:"slick-top-panel-scroller slick-state-default"},this._paneTopR),this._topPanelScrollers=[this._topPanelScrollerL,this._topPanelScrollerR],this._topPanelL=T("div",{className:"slick-top-panel",style:{width:"10000px"}},this._topPanelScrollerL),this._topPanelR=T("div",{className:"slick-top-panel",style:{width:"10000px"}},this._topPanelScrollerR),this._topPanels=[this._topPanelL,this._topPanelR],this._options.showColumnHeader||this._headerScroller.forEach(i=>{B.hide(i)}),this._options.showTopPanel||this._topPanelScrollers.forEach(i=>{B.hide(i)}),this._options.showHeaderRow||this._headerRowScroller.forEach(i=>{B.hide(i)}),this._viewportTopL=T("div",{className:"slick-viewport slick-viewport-top slick-viewport-left",tabIndex:0},this._paneTopL),this._viewportTopR=T("div",{className:"slick-viewport slick-viewport-top slick-viewport-right",tabIndex:0},this._paneTopR),this._viewportBottomL=T("div",{className:"slick-viewport slick-viewport-bottom slick-viewport-left",tabIndex:0},this._paneBottomL),this._viewportBottomR=T("div",{className:"slick-viewport slick-viewport-bottom slick-viewport-right",tabIndex:0},this._paneBottomR),this._viewport=[this._viewportTopL,this._viewportTopR,this._viewportBottomL,this._viewportBottomR],this._options.viewportClass&&this._viewport.forEach(i=>{i.classList.add(...Ut(this._options.viewportClass))}),this._activeViewportNode=this._viewportTopL,this._canvasTopL=T("div",{className:"grid-canvas grid-canvas-top grid-canvas-left",tabIndex:0},this._viewportTopL),this._canvasTopR=T("div",{className:"grid-canvas grid-canvas-top grid-canvas-right",tabIndex:0},this._viewportTopR),this._canvasBottomL=T("div",{className:"grid-canvas grid-canvas-bottom grid-canvas-left",tabIndex:0},this._viewportBottomL),this._canvasBottomR=T("div",{className:"grid-canvas grid-canvas-bottom grid-canvas-right",tabIndex:0},this._viewportBottomR),this._canvas=[this._canvasTopL,this._canvasTopR,this._canvasBottomL,this._canvasBottomR],this.scrollbarDimensions=this.scrollbarDimensions||this.measureScrollbar(),this._activeCanvasNode=this._canvasTopL,this._topHeaderPanelSpacer&&B.width(this._topHeaderPanelSpacer,this.getCanvasWidth()+this.scrollbarDimensions.width),this._preHeaderPanelSpacer&&B.width(this._preHeaderPanelSpacer,this.getCanvasWidth()+this.scrollbarDimensions.width),this._headers.forEach(i=>{B.width(i,this.getHeadersWidth())}),B.width(this._headerRowSpacerL,this.getCanvasWidth()+this.scrollbarDimensions.width),B.width(this._headerRowSpacerR,this.getCanvasWidth()+this.scrollbarDimensions.width),this._options.createFooterRow&&(this._footerRowScrollerR=T("div",{className:"slick-footerrow slick-state-default"},this._paneTopR),this._footerRowScrollerL=T("div",{className:"slick-footerrow slick-state-default"},this._paneTopL),this._footerRowScroller=[this._footerRowScrollerL,this._footerRowScrollerR],this._footerRowSpacerL=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._footerRowScrollerL),B.width(this._footerRowSpacerL,this.getCanvasWidth()+this.scrollbarDimensions.width),this._footerRowSpacerR=T("div",{style:{display:"block",height:"1px",position:"absolute",top:"0px",left:"0px"}},this._footerRowScrollerR),B.width(this._footerRowSpacerR,this.getCanvasWidth()+this.scrollbarDimensions.width),this._footerRowL=T("div",{className:"slick-footerrow-columns slick-footerrow-columns-left"},this._footerRowScrollerL),this._footerRowR=T("div",{className:"slick-footerrow-columns slick-footerrow-columns-right"},this._footerRowScrollerR),this._footerRow=[this._footerRowL,this._footerRowR],this._options.showFooterRow||this._footerRowScroller.forEach(i=>{B.hide(i)})),this._focusSink2=this._focusSink.cloneNode(!0),this._container.appendChild(this._focusSink2),this._options.explicitInitialization||this.finishInitialization()}finishInitialization(){this.initialized||(this.initialized=!0,this.getViewportWidth(),this.getViewportHeight(),this.measureCellPaddingAndBorder(),this.disableSelection(this._headers),this._options.enableTextSelectionOnCells||this._viewport.forEach(t=>{this._bindingEventService.bind(t,"selectstart",e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement})}),this.setFrozenOptions(),this.setPaneFrozenClasses(),this.setPaneVisibility(),this.setScroller(),this.setOverflow(),this.updateColumnCaches(),this.createColumnHeaders(),this.createColumnFooter(),this.setupColumnSort(),this.createCssRules(),this.resizeCanvas(),this.bindAncestorScrollEvents(),this._bindingEventService.bind(this._container,"resize",this.resizeCanvas.bind(this)),this._viewport.forEach(t=>{this._bindingEventService.bind(t,"scroll",this.handleScroll.bind(this))}),this._options.enableMouseWheelScrollHandler&&this._viewport.forEach(t=>{this.slickMouseWheelInstances.push(T0({element:t,onMouseWheel:this.handleMouseWheel.bind(this)}))}),this._headerScroller.forEach(t=>{this._bindingEventService.bind(t,"contextmenu",this.handleHeaderContextMenu.bind(this)),this._bindingEventService.bind(t,"click",this.handleHeaderClick.bind(this))}),this._headerRowScroller.forEach(t=>{this._bindingEventService.bind(t,"scroll",this.handleHeaderRowScroll.bind(this))}),this._options.createFooterRow&&(this._footerRow.forEach(t=>{this._bindingEventService.bind(t,"contextmenu",this.handleFooterContextMenu.bind(this)),this._bindingEventService.bind(t,"click",this.handleFooterClick.bind(this))}),this._footerRowScroller.forEach(t=>{this._bindingEventService.bind(t,"scroll",this.handleFooterRowScroll.bind(this))})),this._options.createTopHeaderPanel&&this._bindingEventService.bind(this._topHeaderPanelScroller,"scroll",this.handleTopHeaderPanelScroll.bind(this)),this._options.createPreHeaderPanel&&(this._bindingEventService.bind(this._preHeaderPanelScroller,"scroll",this.handlePreHeaderPanelScroll.bind(this)),this._bindingEventService.bind([this._preHeaderPanelScroller,this._preHeaderPanelScrollerR],"contextmenu",this.handlePreHeaderContextMenu.bind(this)),this._bindingEventService.bind([this._preHeaderPanelScroller,this._preHeaderPanelScrollerR],"click",this.handlePreHeaderClick.bind(this))),this._bindingEventService.bind(this._focusSink,"keydown",this.handleKeyDown.bind(this)),this._bindingEventService.bind(this._focusSink2,"keydown",this.handleKeyDown.bind(this)),this._canvas.forEach(t=>{this._bindingEventService.bind(t,"keydown",this.handleKeyDown.bind(this)),this._bindingEventService.bind(t,"click",this.handleClick.bind(this)),this._bindingEventService.bind(t,"dblclick",this.handleDblClick.bind(this)),this._bindingEventService.bind(t,"contextmenu",this.handleContextMenu.bind(this)),this._bindingEventService.bind(t,"mouseover",this.handleCellMouseOver.bind(this)),this._bindingEventService.bind(t,"mouseout",this.handleCellMouseOut.bind(this))}),D0&&(this.slickDraggableInstance=D0({containerElement:this._container,allowDragFrom:"div.slick-cell",allowDragFromClosest:"div.slick-cell.dnd, div.slick-cell.cell-reorder",preventDragFromKeys:this._options.preventDragFromKeys,onDragInit:this.handleDragInit.bind(this),onDragStart:this.handleDragStart.bind(this),onDrag:this.handleDrag.bind(this),onDragEnd:this.handleDragEnd.bind(this)})),this._options.suppressCssChangesOnHiddenInit||this.restoreCssFromHiddenInit())}cacheCssForHiddenInit(){this._hiddenParents=B.parents(this._container,":hidden"),this.oldProps=[],this._hiddenParents.forEach(t=>{let e={};Object.keys(this.cssShow).forEach(i=>{this.cssShow&&(e[i]=t.style[i],t.style[i]=this.cssShow[i])}),this.oldProps.push(e)})}restoreCssFromHiddenInit(){let t=0;this._hiddenParents&&(this._hiddenParents.forEach(e=>{let i=this.oldProps[t++];Object.keys(this.cssShow).forEach(r=>{this.cssShow&&(e.style[r]=i[r])})}),this._hiddenParents=[])}hasFrozenColumns(){return this._options.frozenColumn>-1}registerPlugin(t){this.plugins.unshift(t),t.init(this)}unregisterPlugin(t){for(let e=this.plugins.length;e>=0;e--)if(this.plugins[e]===t){this.plugins[e]?.destroy(),this.plugins.splice(e,1);break}}getPluginByName(t){for(let e=this.plugins.length-1;e>=0;e--)if(this.plugins[e]?.pluginName===t)return this.plugins[e]}getPubSubService(){return this._pubSubService}setSelectionModel(t){this.selectionModel&&(this.selectionModel.onSelectedRangesChanged.unsubscribe(this.handleSelectedRangesChanged.bind(this)),this.selectionModel.destroy&&this.selectionModel.destroy()),this.selectionModel=t,this.selectionModel&&(this.selectionModel.init(this),this.selectionModel.onSelectedRangesChanged.subscribe(this.handleSelectedRangesChanged.bind(this)))}getSelectionModel(){return this.selectionModel}getCanvasNode(t,e){return this._getContainerElement(this.getCanvases(),t,e)}getActiveCanvasNode(t){return t===void 0?this._activeCanvasNode:(t instanceof Ct&&(t=t.getNativeEvent()),this._activeCanvasNode=t?.target?.closest(".grid-canvas"),this._activeCanvasNode)}getCanvases(){return this._canvas}getViewportNode(t,e){return this._getContainerElement(this.getViewports(),t,e)}getViewports(){return this._viewport}getActiveViewportNode(t){return this.setActiveViewportNode(t),this._activeViewportNode}setActiveViewportNode(t){return t instanceof Ct&&(t=t.getNativeEvent()),this._activeViewportNode=t?.target?.closest(".slick-viewport"),this._activeViewportNode}_getContainerElement(t,e,i){if(!t)return;e||(e=0),i||(i=0);let r=typeof e=="number"?e:this.getColumnIndex(e),s=this.hasFrozenRows&&i>=this.actualFrozenRow+(this._options.frozenBottom?0:1),o=this.hasFrozenColumns()&&r>this._options.frozenColumn;return t[(s?2:0)+(o?1:0)]}measureScrollbar(){let t="";this._viewport.forEach(s=>t+=s.className);let e=T("div",{className:t,style:{position:"absolute",top:"-10000px",left:"-10000px",overflow:"auto",width:"100px",height:"100px"}},document.body),i=T("div",{style:{width:"200px",height:"200px",overflow:"auto"}},e),r={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return i.remove(),e.remove(),r}getHeadersWidth(){this.headersWidth=this.headersWidthL=this.headersWidthR=0;let t=!this._options.autoHeight,e=0,i=this.columns.length;for(e=0;e<i;e++){if(!this.columns[e]||this.columns[e].hidden)continue;let r=this.columns[e].width;this._options.frozenColumn>-1&&e>this._options.frozenColumn?this.headersWidthR+=r||0:this.headersWidthL+=r||0}return t&&(this._options.frozenColumn>-1&&e>this._options.frozenColumn?this.headersWidthR+=this.scrollbarDimensions?.width||0:this.headersWidthL+=this.scrollbarDimensions?.width||0),this.hasFrozenColumns()?(this.headersWidthL=this.headersWidthL+1e3,this.headersWidthR=Math.max(this.headersWidthR,this.viewportW)+this.headersWidthL,this.headersWidthR+=this.scrollbarDimensions?.width||0):(this.headersWidthL+=this.scrollbarDimensions?.width||0,this.headersWidthL=Math.max(this.headersWidthL,this.viewportW)+1e3),this.headersWidth=this.headersWidthL+this.headersWidthR,Math.max(this.headersWidth,this.viewportW)+1e3}getCanvasWidth(){let t=this.getViewportInnerWidth(),e=this.columns.length;for(this.canvasWidthL=this.canvasWidthR=0;e--;)!this.columns[e]||this.columns[e].hidden||(this.hasFrozenColumns()&&e>this._options.frozenColumn?this.canvasWidthR+=this.columns[e].width||0:this.canvasWidthL+=this.columns[e].width||0);let i=this.canvasWidthL+this.canvasWidthR;if(this._options.fullWidthRows){let r=Math.max(i,t)-i;r>0&&(i+=r,this.hasFrozenColumns()?this.canvasWidthR+=r:this.canvasWidthL+=r)}return i}updateCanvasWidth(t){let e=this.canvasWidth,i=this.canvasWidthL,r=this.canvasWidthR;this.canvasWidth=this.getCanvasWidth(),this._options.createTopHeaderPanel&&B.width(this._topHeaderPanel,this._options.topHeaderPanelWidth??this.canvasWidth);let s=this.canvasWidth!==e||this.canvasWidthL!==i||this.canvasWidthR!==r;if(s||this.hasFrozenColumns()||this.hasFrozenRows)if(B.width(this._canvasTopL,this.canvasWidthL),this.getHeadersWidth(),B.width(this._headerL,this.headersWidthL),B.width(this._headerR,this.headersWidthR),this.hasFrozenColumns()){let o=B.width(this._container)||0;if(o>0&&this.canvasWidthL>o&&this._options.throwWhenFrozenNotAllViewable)throw new Error("[SlickGrid] Frozen columns cannot be wider than the actual grid container width. Make sure to have less columns freezed or make your grid container wider");B.width(this._canvasTopR,this.canvasWidthR),B.width(this._paneHeaderL,this.canvasWidthL),B.setStyleSize(this._paneHeaderR,"left",this.canvasWidthL),B.setStyleSize(this._paneHeaderR,"width",this.viewportW-this.canvasWidthL),B.width(this._paneTopL,this.canvasWidthL),B.setStyleSize(this._paneTopR,"left",this.canvasWidthL),B.width(this._paneTopR,this.viewportW-this.canvasWidthL),B.width(this._headerRowScrollerL,this.canvasWidthL),B.width(this._headerRowScrollerR,this.viewportW-this.canvasWidthL),B.width(this._headerRowL,this.canvasWidthL),B.width(this._headerRowR,this.canvasWidthR),this._options.createFooterRow&&(B.width(this._footerRowScrollerL,this.canvasWidthL),B.width(this._footerRowScrollerR,this.viewportW-this.canvasWidthL),B.width(this._footerRowL,this.canvasWidthL),B.width(this._footerRowR,this.canvasWidthR)),this._options.createPreHeaderPanel&&B.width(this._preHeaderPanel,this._options.preHeaderPanelWidth??this.canvasWidth),B.width(this._viewportTopL,this.canvasWidthL),B.width(this._viewportTopR,this.viewportW-this.canvasWidthL),this.hasFrozenRows&&(B.width(this._paneBottomL,this.canvasWidthL),B.setStyleSize(this._paneBottomR,"left",this.canvasWidthL),B.width(this._viewportBottomL,this.canvasWidthL),B.width(this._viewportBottomR,this.viewportW-this.canvasWidthL),B.width(this._canvasBottomL,this.canvasWidthL),B.width(this._canvasBottomR,this.canvasWidthR))}else B.width(this._paneHeaderL,"100%"),B.width(this._paneTopL,"100%"),B.width(this._headerRowScrollerL,"100%"),B.width(this._headerRowL,this.canvasWidth),this._options.createFooterRow&&(B.width(this._footerRowScrollerL,"100%"),B.width(this._footerRowL,this.canvasWidth)),this._options.createPreHeaderPanel&&B.width(this._preHeaderPanel,this._options.preHeaderPanelWidth??this.canvasWidth),B.width(this._viewportTopL,"100%"),this.hasFrozenRows&&(B.width(this._viewportBottomL,"100%"),B.width(this._canvasBottomL,this.canvasWidthL));this.viewportHasHScroll=this.canvasWidth>=this.viewportW-(this.scrollbarDimensions?.width||0),B.width(this._headerRowSpacerL,this.canvasWidth+(this.viewportHasVScroll&&this.scrollbarDimensions?.width||0)),B.width(this._headerRowSpacerR,this.canvasWidth+(this.viewportHasVScroll&&this.scrollbarDimensions?.width||0)),this._options.createFooterRow&&(B.width(this._footerRowSpacerL,this.canvasWidth+(this.viewportHasVScroll&&this.scrollbarDimensions?.width||0)),B.width(this._footerRowSpacerR,this.canvasWidth+(this.viewportHasVScroll&&this.scrollbarDimensions?.width||0))),(s||t)&&this.applyColumnWidths()}disableSelection(t){t.forEach(e=>{e.setAttribute("unselectable","on"),e.style.mozUserSelect="none",this._bindingEventService.bind(e,"selectstart",()=>!1)})}getMaxSupportedCssHeight(){let t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?this._options.ffMaxSupportedCssHeight:this._options.maxSupportedCssHeight,i=T("div",{style:{display:"hidden"}},document.body),r=!0;for(;r;){let s=t*2;B.height(i,s);let o=B.height(i);if(s>e||o!==s){r=!1;break}else t=s}return i.remove(),t}getUID(){return this.uid}getHeaderColumnWidthDiff(){return this.headerColumnWidthDiff}getScrollbarDimensions(){return this.scrollbarDimensions}getDisplayedScrollbarDimensions(){return{width:this.viewportHasVScroll&&this.scrollbarDimensions?.width?this.scrollbarDimensions.width:0,height:this.viewportHasHScroll&&this.scrollbarDimensions?.height?this.scrollbarDimensions.height:0}}getAbsoluteColumnMinWidth(){return this.absoluteColumnMinWidth}bindAncestorScrollEvents(){let t=this.hasFrozenRows&&!this._options.frozenBottom?this._canvasBottomL:this._canvasTopL;for(;(t=t.parentNode)!==document.body&&t;)(t===this._viewportTopL||t.scrollWidth!==t.clientWidth||t.scrollHeight!==t.clientHeight)&&(this._boundAncestors.push(t),this._bindingEventService.bind(t,"scroll",this.handleActiveCellPositionChange.bind(this)))}unbindAncestorScrollEvents(){this._boundAncestors.forEach(t=>{this._bindingEventService.unbindByEventName(t,"scroll")}),this._boundAncestors=[]}updateColumnHeader(t,e,i){if(this.initialized){let r=this.getColumnIndex(t);if(!mt(r))return;let s=this.columns[r],o=this.getColumnByIndex(r);return o&&(e!==void 0&&(this.columns[r].name=e),i!==void 0&&(this.columns[r].toolTip=i),this.triggerEvent(this.onBeforeHeaderCellDestroy,{node:o,column:s,grid:this}),o.setAttribute("title",i||""),e!==void 0&&this.applyHtmlCode(o.children[0],e),this.triggerEvent(this.onHeaderCellRendered,{node:o,column:s,grid:this})),o}}getHeader(t){if(!t)return this.hasFrozenColumns()?this._headers:this._headerL;let e=this.getColumnIndex(t.id);return this.hasFrozenColumns()?e<=this._options.frozenColumn?this._headerL:this._headerR:this._headerL}getHeaderColumn(t){let e=typeof t=="number"?t:this.getColumnIndex(t),i=this.hasFrozenColumns()?e<=this._options.frozenColumn?this._headerL:this._headerR:this._headerL,r=this.hasFrozenColumns()?e<=this._options.frozenColumn?e:e-this._options.frozenColumn-1:e;return i.children[r]}getHeaderRow(){return this.hasFrozenColumns()?this._headerRows:this._headerRows?.[0]}getFooterRow(){return this.hasFrozenColumns()?this._footerRow:this._footerRow?.[0]}getPreHeaderPanel(){return this._preHeaderPanel}getPreHeaderPanelLeft(){return this._preHeaderPanel}getPreHeaderPanelRight(){return this._preHeaderPanelR}getTopHeaderPanel(){return this._topHeaderPanel}getHeaderRowColumn(t){let e=typeof t=="number"?t:this.getColumnIndex(t),i;return this.hasFrozenColumns()?e<=this._options.frozenColumn?i=this._headerRowL:(i=this._headerRowR,e-=this._options.frozenColumn+1):i=this._headerRowL,i.children[e]}getFooterRowColumn(t){let e=typeof t=="number"?t:this.getColumnIndex(t),i;return this.hasFrozenColumns()?e<=this._options.frozenColumn?i=this._footerRowL:(i=this._footerRowR,e-=this._options.frozenColumn+1):i=this._footerRowL,i?.children[e]}createColumnFooter(){if(this._options.createFooterRow){this._footerRow.forEach(t=>{t.querySelectorAll(".slick-footerrow-column").forEach(i=>{let r=B.storage.get(i,"column");this.triggerEvent(this.onBeforeFooterRowCellDestroy,{node:i,column:r,grid:this})})}),ut(this._footerRowL),ut(this._footerRowR);for(let t=0;t<this.columns.length;t++){let e=this.columns[t];if(!e||e.hidden)continue;let i=T("div",{className:`slick-state-default slick-footerrow-column l${t} r${t}`},this.hasFrozenColumns()&&t>this._options.frozenColumn?this._footerRowR:this._footerRowL),r=this.hasFrozenColumns()&&t<=this._options.frozenColumn?"frozen":null;r&&i.classList.add(r),B.storage.put(i,"column",e),this.triggerEvent(this.onFooterRowCellRendered,{node:i,column:e,grid:this})}}}handleHeaderMouseHoverOn(t){t?.target.classList.add("slick-state-hover")}handleHeaderMouseHoverOff(t){t?.target.classList.remove("slick-state-hover")}createColumnHeaders(){this._headers.forEach(t=>{t.querySelectorAll(".slick-header-column").forEach(i=>{let r=B.storage.get(i,"column");r&&this.triggerEvent(this.onBeforeHeaderCellDestroy,{node:i,column:r,grid:this})})}),ut(this._headerL),ut(this._headerR),this.getHeadersWidth(),B.width(this._headerL,this.headersWidthL),B.width(this._headerR,this.headersWidthR),this._headerRows.forEach(t=>{t.querySelectorAll(".slick-headerrow-column").forEach(i=>{let r=B.storage.get(i,"column");r&&this.triggerEvent(this.onBeforeHeaderRowCellDestroy,{node:this,column:r,grid:this})})}),ut(this._headerRowL),ut(this._headerRowR),this._options.createFooterRow&&(this._footerRowL.querySelectorAll(".slick-footerrow-column").forEach(e=>{let i=B.storage.get(e,"column");i&&this.triggerEvent(this.onBeforeFooterRowCellDestroy,{node:this,column:i,grid:this})}),ut(this._footerRowL),this.hasFrozenColumns()&&(this._footerRowR.querySelectorAll(".slick-footerrow-column").forEach(i=>{let r=B.storage.get(i,"column");r&&this.triggerEvent(this.onBeforeFooterRowCellDestroy,{node:this,column:r,grid:this})}),ut(this._footerRowR)));for(let t=0;t<this.columns.length;t++){let e=this.columns[t];if(!e||e.hidden)continue;let i=this.hasFrozenColumns()?t<=this._options.frozenColumn?this._headerL:this._headerR:this._headerL,r=this.hasFrozenColumns()?t<=this._options.frozenColumn?this._headerRowL:this._headerRowR:this._headerRowL,s=T("div",{id:`${this.uid+e.id}`,dataset:{id:String(e.id)},role:"columnheader",className:"slick-state-default slick-header-column"},i);e.toolTip&&(s.title=e.toolTip),e.reorderable||s.classList.add(this._options.unorderableColumnCssClass);let o=T("span",{className:"slick-column-name"},s);this.applyHtmlCode(o,e.name),B.width(s,e.width-this.headerColumnWidthDiff);let a=e.headerCssClass||null;if(a&&s.classList.add(...Ut(a)),a=this.hasFrozenColumns()&&t<=this._options.frozenColumn?"frozen":null,a&&s.classList.add(a),this._bindingEventService.bind(s,"mouseenter",this.handleHeaderMouseEnter.bind(this)),this._bindingEventService.bind(s,"mouseleave",this.handleHeaderMouseLeave.bind(this)),this._bindingEventService.bind(s,"mouseover",this.handleHeaderMouseOver.bind(this)),this._bindingEventService.bind(s,"mouseout",this.handleHeaderMouseOut.bind(this)),B.storage.put(s,"column",e),(this._options.enableColumnReorder||e.sortable)&&(this._bindingEventService.bind(s,"mouseenter",this.handleHeaderMouseHoverOn.bind(this)),this._bindingEventService.bind(s,"mouseleave",this.handleHeaderMouseHoverOff.bind(this))),e.hasOwnProperty("headerCellAttrs")&&e.headerCellAttrs instanceof Object&&Object.keys(e.headerCellAttrs).forEach(l=>{e.headerCellAttrs.hasOwnProperty(l)&&s.setAttribute(l,e.headerCellAttrs[l])}),e.sortable&&(s.classList.add("slick-header-sortable"),T("div",{className:`slick-sort-indicator ${this._options.numberedMultiColumnSort&&!this._options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":""}`},s),this._options.numberedMultiColumnSort&&this._options.sortColNumberInSeparateSpan&&T("div",{className:"slick-sort-indicator-numbered"},s)),this.triggerEvent(this.onHeaderCellRendered,{node:s,column:e,grid:this}),this._options.showHeaderRow){let l=T("div",{className:`slick-state-default slick-headerrow-column l${t} r${t}`},r),c=this.hasFrozenColumns()&&t<=this._options.frozenColumn?"frozen":null;c&&l.classList.add(c),this._bindingEventService.bind(l,"mouseenter",this.handleHeaderRowMouseEnter.bind(this)),this._bindingEventService.bind(l,"mouseleave",this.handleHeaderRowMouseLeave.bind(this)),this._bindingEventService.bind(l,"mouseover",this.handleHeaderRowMouseOver.bind(this)),this._bindingEventService.bind(l,"mouseout",this.handleHeaderRowMouseOut.bind(this)),B.storage.put(l,"column",e),this.triggerEvent(this.onHeaderRowCellRendered,{node:l,column:e,grid:this})}if(this._options.createFooterRow&&this._options.showFooterRow){let l=this.hasFrozenColumns()?t<=this._options.frozenColumn?this._footerRow[0]:this._footerRow[1]:this._footerRow[0],c=T("div",{className:`slick-state-default slick-footerrow-column l${t} r${t}`},l);B.storage.put(c,"column",e),this.triggerEvent(this.onFooterRowCellRendered,{node:c,column:e,grid:this})}}this.setSortColumns(this.sortColumns),this.setupColumnResize(),this._options.enableColumnReorder&&(typeof this._options.enableColumnReorder=="function"?this._options.enableColumnReorder(this,this._headers,this.headerColumnWidthDiff,this.setColumns,this.setupColumnResize,this.columns,this.getColumnIndex,this.uid,this.triggerEvent):this.setupColumnReorder())}setupColumnSort(){this._headers.forEach(t=>{this._bindingEventService.bind(t,"click",e=>{if(this.columnResizeDragging||e.target.classList.contains("slick-resizable-handle"))return;let i=e.target.closest(".slick-header-column");if(!i)return;let r=B.storage.get(i,"column");if(r?.sortable){if(!this.getEditorLock()?.commitCurrentEdit())return;let s=this.sortColumns.slice(),o=null,a=0;for(;a<this.sortColumns.length;a++)if(this.sortColumns[a].columnId===r.id){o=this.sortColumns[a],o.sortAsc=!o.sortAsc;break}let l=!!o;this._options.tristateMultiColumnSort?(o||(o={columnId:r.id,sortAsc:r.defaultSortAsc,sortCol:r}),l&&o.sortAsc&&(this.sortColumns.splice(a,1),o=null),this._options.multiColumnSort||(this.sortColumns=[]),o&&(!l||!this._options.multiColumnSort)&&this.sortColumns.push(o)):e.metaKey&&this._options.multiColumnSort?o&&this.sortColumns.splice(a,1):((!e.shiftKey&&!e.metaKey||!this._options.multiColumnSort)&&(this.sortColumns=[]),o?this.sortColumns.length===0&&this.sortColumns.push(o):(o={columnId:r.id,sortAsc:r.defaultSortAsc,sortCol:r},this.sortColumns.push(o)));let c;this._options.multiColumnSort?c={multiColumnSort:!0,previousSortColumns:s,sortCols:this.sortColumns.map(h=>{let m=this.columns[this.getColumnIndex(h.columnId)];return m&&!m.hidden?{columnId:m.id,sortCol:m,sortAsc:h.sortAsc}:null}).filter(h=>h)}:c={multiColumnSort:!1,previousSortColumns:s,columnId:this.sortColumns.length>0?r.id:null,sortCol:this.sortColumns.length>0?r:null,sortAsc:this.sortColumns.length>0?this.sortColumns[0].sortAsc:!0},this.triggerEvent(this.onBeforeSort,c,e).getReturnValue()!==!1&&(this.setSortColumns(this.sortColumns),this.triggerEvent(this.onSort,c,e))}})})}setupColumnReorder(){this.sortableSideLeftInstance?.destroy(),this.sortableSideRightInstance?.destroy();let t,e=()=>this._viewportScrollContainerX.scrollLeft+=10,i=()=>this._viewportScrollContainerX.scrollLeft-=10,r=!1,s={animation:50,direction:"horizontal",ghostClass:"slick-sortable-placeholder",draggable:".slick-header-column",dragoverBubble:!1,revertClone:!0,scroll:!this.hasFrozenColumns(),filter:`.${this._options.unorderableColumnCssClass}`,onMove:o=>!o.related.classList.contains(this._options.unorderableColumnCssClass),onStart:o=>{o.item.classList.add("slick-header-column-active"),r=!this.hasFrozenColumns()||pi(o.item).left>pi(this._viewportScrollContainerX).left,r&&o.originalEvent.pageX>this._container.clientWidth?t||(t=window.setInterval(e,100)):r&&o.originalEvent.pageX<pi(this._viewportScrollContainerX).left?t||(t=window.setInterval(i,100)):window.clearInterval(t)},onEnd:o=>{if(o.item.classList.remove("slick-header-column-active"),window.clearInterval(t),!this.getEditorLock()?.commitCurrentEdit())return;let a=this.sortableSideLeftInstance?.toArray()??[];a=a.concat(this.sortableSideRightInstance?.toArray()??[]);let l=[];for(let c=0;c<a.length;c++)l.push(this.columns[this.getColumnIndex(a[c])]);this.setColumns(l),this.triggerEvent(this.onColumnsReordered,{impactedColumns:this.columns}),o.stopPropagation(),this.setupColumnResize(),this.activeCellNode&&this.setFocus()}};this.sortableSideLeftInstance=Ua.create(this._headerL,s),this.sortableSideRightInstance=Ua.create(this._headerR,s)}getHeaderChildren(){let t=Array.from(this._headers[0].children),e=Array.from(this._headers[1].children);return t.concat(e)}handleResizeableDoubleClick(t){let e=t.target.parentElement.id.replace(this.uid,"");this.triggerEvent(this.onColumnsResizeDblClick,{triggeredByColumn:e})}setupColumnResize(){let t,e,i,r,s,o,a,l=-1,c=0,h=this.getHeaderChildren(),m=this.getVisibleColumns();for(let f=0;f<h.length;f++)h[f].querySelectorAll(".slick-resizable-handle").forEach(x=>x.remove()),f<m.length&&m[f]?.resizable&&(a===void 0&&(a=f),l=f);if(a!==void 0)for(let f=0;f<h.length;f++){let v=h[f];if(f>=m.length||!m[f]||f<a||this._options.forceFitColumns&&f>=l)continue;let C=T("div",{className:"slick-resizable-handle",role:"separator",ariaOrientation:"horizontal"},v);this._bindingEventService.bind(C,"dblclick",this.handleResizeableDoubleClick.bind(this)),this.slickResizableInstances.push(CT({resizeableElement:v,resizeableHandleElement:C,onResizeStart:(x,E)=>{let I=x.touches?x.changedTouches[0]:x;if(!this.getEditorLock()?.commitCurrentEdit())return!1;r=I.pageX,c=0,E.resizeableElement.classList.add("slick-header-column-active");let N=null,L=null;for(let Y=0;Y<h.length;Y++)Y<m.length&&m[Y]&&(m[Y].previousWidth=h[Y].offsetWidth);if(this._options.forceFitColumns)for(N=0,L=0,t=f+1;t<m.length;t++)i=m[t],i?.resizable&&(L!==null&&(i.maxWidth?L+=i.maxWidth-(i.previousWidth||0):L=null),N+=(i.previousWidth||0)-Math.max(i.minWidth||0,this.absoluteColumnMinWidth));let V=0,j=0;for(t=0;t<=f;t++)i=m[t],i?.resizable&&(j!==null&&(i.maxWidth?j+=i.maxWidth-(i.previousWidth||0):j=null),V+=(i.previousWidth||0)-Math.max(i.minWidth||0,this.absoluteColumnMinWidth));o=r+Math.min(N??1e5,j??1e5),s=r-Math.min(V??1e5,L??1e5)},onResize:(x,E)=>{let I=x.touches?x.changedTouches[0]:x;this.columnResizeDragging=!0;let N,L=I.pageX,V=Math.min(o,Math.max(s,L))-r,j,Y=0,me=0,Q=this.getViewportInnerWidth();if(V<0){for(j=V,t=f;t>=0;t--)i=m[t],i&&i.resizable&&!i.hidden&&(N=Math.max(i.minWidth||0,this.absoluteColumnMinWidth),j&&(i.previousWidth||0)+j<N?(j+=(i.previousWidth||0)-N,i.width=N):(i.width=(i.previousWidth||0)+j,j=0));for(e=0;e<=f;e++)i=m[e],i&&!i.hidden&&(this.hasFrozenColumns()&&e>this._options.frozenColumn?me+=i.width||0:Y+=i.width||0);if(this._options.forceFitColumns)for(j=-V,t=f+1;t<m.length;t++)i=m[t],i&&!i.hidden&&i.resizable&&(j&&i.maxWidth&&i.maxWidth-(i.previousWidth||0)<j?(j-=i.maxWidth-(i.previousWidth||0),i.width=i.maxWidth):(i.width=(i.previousWidth||0)+j,j=0),this.hasFrozenColumns()&&t>this._options.frozenColumn?me+=i.width||0:Y+=i.width||0);else for(t=f+1;t<m.length;t++)i=m[t],i&&!i.hidden&&(this.hasFrozenColumns()&&t>this._options.frozenColumn?me+=i.width||0:Y+=i.width||0);if(this._options.forceFitColumns)for(j=-V,t=f+1;t<m.length;t++)i=m[t],i&&!i.hidden&&i.resizable&&(j&&i.maxWidth&&i.maxWidth-(i.previousWidth||0)<j?(j-=i.maxWidth-(i.previousWidth||0),i.width=i.maxWidth):(i.width=(i.previousWidth||0)+j,j=0))}else{for(j=V,Y=0,me=0,t=f;t>=0;t--)if(i=m[t],i&&!i.hidden&&i.resizable)if(j&&i.maxWidth&&i.maxWidth-(i.previousWidth||0)<j)j-=i.maxWidth-(i.previousWidth||0),i.width=i.maxWidth;else{let pe=(i.previousWidth||0)+j,Be=this.canvasWidthL+j;this.hasFrozenColumns()&&t<=this._options.frozenColumn?(pe>c&&Be<Q-this._options.frozenRightViewportMinWidth&&(c=pe),i.width=Be+this._options.frozenRightViewportMinWidth>Q?c:pe):i.width=pe,j=0}for(e=0;e<=f;e++)i=m[e],i&&!i.hidden&&(this.hasFrozenColumns()&&e>this._options.frozenColumn?me+=i.width||0:Y+=i.width||0);if(this._options.forceFitColumns)for(j=-V,t=f+1;t<m.length;t++)i=m[t],i&&!i.hidden&&i.resizable&&(N=Math.max(i.minWidth||0,this.absoluteColumnMinWidth),j&&(i.previousWidth||0)+j<N?(j+=(i.previousWidth||0)-N,i.width=N):(i.width=(i.previousWidth||0)+j,j=0),this.hasFrozenColumns()&&t>this._options.frozenColumn?me+=i.width||0:Y+=i.width||0);else for(t=f+1;t<m.length;t++)i=m[t],i&&!i.hidden&&(this.hasFrozenColumns()&&t>this._options.frozenColumn?me+=i.width||0:Y+=i.width||0)}this.hasFrozenColumns()&&Y!==this.canvasWidthL&&(B.width(this._headerL,Y+1e3),B.setStyleSize(this._paneHeaderR,"left",Y)),this.applyColumnHeaderWidths(),this._options.syncColumnCellResize&&this.applyColumnWidths(),this.triggerEvent(this.onColumnsDrag,{triggeredByColumn:E.resizeableElement,resizeHandle:E.resizeableHandleElement})},onResizeEnd:(x,E)=>{E.resizeableElement.classList.remove("slick-header-column-active");let I=E.resizeableElement.id.replace(this.uid,"");this.triggerEvent(this.onBeforeColumnsResize,{triggeredByColumn:I}).getReturnValue()===!0&&this.applyColumnHeaderWidths();let N;for(t=0;t<m.length;t++)i=m[t],i&&!i.hidden&&h[t]&&(N=h[t].offsetWidth,i.previousWidth!==N&&i.rerenderOnResize&&this.invalidateAllRows());this.updateCanvasWidth(!0),this.render(),this.triggerEvent(this.onColumnsResized,{triggeredByColumn:I}),window.clearTimeout(this._columnResizeTimer),this._columnResizeTimer=window.setTimeout(()=>this.columnResizeDragging=!1,this._options.columnResizingDelay)}}))}}getVBoxDelta(t){let e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=getComputedStyle(t),r=0;return e.forEach(s=>r+=B.toFloat(i[s])),r}setFrozenOptions(){if(this._options.frozenColumn=this._options.frozenColumn>=0&&this._options.frozenColumn<this.columns.length?parseInt(this._options.frozenColumn,10):-1,this._options.frozenRow>-1){this.hasFrozenRows=!0,this.frozenRowsHeight=this._options.frozenRow*this._options.rowHeight;let t=this.getDataLength();this.actualFrozenRow=this._options.frozenBottom?t-this._options.frozenRow:this._options.frozenRow}else this.hasFrozenRows=!1}setPaneFrozenClasses(){let t=this.hasFrozenColumns()?"add":"remove";for(let e of[this._paneHeaderL,this._paneTopL,this._paneBottomL])e.classList[t]("frozen")}setPaneVisibility(){this.hasFrozenColumns()?(B.show(this._paneHeaderR),B.show(this._paneTopR),this.hasFrozenRows?(B.show(this._paneBottomL),B.show(this._paneBottomR)):(B.hide(this._paneBottomR),B.hide(this._paneBottomL))):(B.hide(this._paneHeaderR),B.hide(this._paneTopR),B.hide(this._paneBottomR),this.hasFrozenRows?B.show(this._paneBottomL):(B.hide(this._paneBottomR),B.hide(this._paneBottomL)))}setOverflow(){if(this._viewportTopL.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"scroll":this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"auto",this._viewportTopL.style.overflowY=!this.hasFrozenColumns()&&this._options.alwaysShowVerticalScroll?"scroll":this.hasFrozenColumns()?(this.hasFrozenRows,"hidden"):this.hasFrozenRows?"scroll":"auto",this._viewportTopR.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"scroll":this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"hidden":"auto",this._viewportTopR.style.overflowY=this._options.alwaysShowVerticalScroll?"scroll":this.hasFrozenColumns()?this.hasFrozenRows?"scroll":"auto":this.hasFrozenRows?"scroll":"auto",this._viewportBottomL.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"scroll":"auto":(this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll,"auto"),this._viewportBottomL.style.overflowY=!this.hasFrozenColumns()&&this._options.alwaysShowVerticalScroll?"scroll":this.hasFrozenColumns()?(this.hasFrozenRows,"hidden"):this.hasFrozenRows?"scroll":"auto",this._viewportBottomR.style.overflowX=this.hasFrozenColumns()?this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll?"scroll":"auto":(this.hasFrozenRows&&!this._options.alwaysAllowHorizontalScroll,"auto"),this._viewportBottomR.style.overflowY=this._options.alwaysShowVerticalScroll?"scroll":this.hasFrozenColumns()?(this.hasFrozenRows,"auto"):(this.hasFrozenRows,"auto"),this._options.viewportClass){let t=Ut(this._options.viewportClass);this._viewportTopL.classList.add(...t),this._viewportTopR.classList.add(...t),this._viewportBottomL.classList.add(...t),this._viewportBottomR.classList.add(...t)}}setScroller(){this.hasFrozenColumns()?(this._headerScrollContainer=this._headerScrollerR,this._headerRowScrollContainer=this._headerRowScrollerR,this._footerRowScrollContainer=this._footerRowScrollerR,this.hasFrozenRows?this._options.frozenBottom?(this._viewportScrollContainerX=this._viewportBottomR,this._viewportScrollContainerY=this._viewportTopR):this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportBottomR:this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportTopR):(this._headerScrollContainer=this._headerScrollerL,this._headerRowScrollContainer=this._headerRowScrollerL,this._footerRowScrollContainer=this._footerRowScrollerL,this.hasFrozenRows?this._options.frozenBottom?(this._viewportScrollContainerX=this._viewportBottomL,this._viewportScrollContainerY=this._viewportTopL):this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportBottomL:this._viewportScrollContainerX=this._viewportScrollContainerY=this._viewportTopL)}measureCellPaddingAndBorder(){let t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=this._headers[0];this.headerColumnWidthDiff=this.headerColumnHeightDiff=0,this.cellWidthDiff=this.cellHeightDiff=0;let r=T("div",{className:"slick-state-default slick-header-column",style:{visibility:"hidden"},textContent:"-"},i),s=getComputedStyle(r);s.boxSizing!=="border-box"&&(t.forEach(a=>this.headerColumnWidthDiff+=B.toFloat(s[a])),e.forEach(a=>this.headerColumnHeightDiff+=B.toFloat(s[a]))),r.remove();let o=T("div",{className:"slick-row"},this._canvas[0]);r=T("div",{className:"slick-cell",id:"",style:{visibility:"hidden"},textContent:"-"},o),s=getComputedStyle(r),s.boxSizing!=="border-box"&&(t.forEach(a=>this.cellWidthDiff+=B.toFloat(s[a])),e.forEach(a=>this.cellHeightDiff+=B.toFloat(s[a]))),o.remove(),this.absoluteColumnMinWidth=Math.max(this.headerColumnWidthDiff,this.cellWidthDiff)}createCssRules(){this._style=document.createElement("style"),this._style.nonce=this._options.nonce||"",(this._options.shadowRoot||document.head).appendChild(this._style);let t=this._options.rowHeight-this.cellHeightDiff,e=[`.${this.uid} .slick-group-header-column { left: 1000px; }`,`.${this.uid} .slick-header-column { left: 1000px; }`,`.${this.uid} .slick-top-panel { height: ${this._options.topPanelHeight}px; }`,`.${this.uid} .slick-preheader-panel { height: ${this._options.preHeaderPanelHeight}px; }`,`.${this.uid} .slick-topheader-panel { height: ${this._options.topHeaderPanelHeight}px; }`,`.${this.uid} .slick-headerrow-columns { height: ${this._options.headerRowHeight}px; }`,`.${this.uid} .slick-footerrow-columns { height: ${this._options.footerRowHeight}px; }`,`.${this.uid} .slick-cell { height: ${t}px; }`,`.${this.uid} .slick-row { height: ${this._options.rowHeight}px; }`],i=this._style.sheet;if(i){e.forEach(r=>i.insertRule(r));for(let r=0;r<this.columns.length;r++)this.columns[r]&&!this.columns[r].hidden&&(i.insertRule(`.${this.uid} .l${r} { }`),i.insertRule(`.${this.uid} .r${r} { }`))}else this.createCssRulesAlternative(e)}createCssRulesAlternative(t){let e=document.createElement("template");e.innerHTML='<style type="text/css" rel="stylesheet" />',this._style=e.content.firstChild,(this._options.shadowRoot||document.head).appendChild(this._style);for(let i=0;i<this.columns.length;i++)this.columns[i]&&!this.columns[i].hidden&&(t.push(`.${this.uid} .l${i} { }`),t.push(`.${this.uid} .r${i} { }`));this._style.styleSheet?this._style.styleSheet.cssText=t.join(" "):this._style.appendChild(document.createTextNode(t.join(" ")))}getColumnCssRules(t){let e;if(!this.stylesheet){let i=(this._options.shadowRoot||document).styleSheets;for(this._options.devMode&&typeof this._options.devMode.ownerNodeIndex=="number"&&this._options.devMode.ownerNodeIndex>=0&&(i[this._options.devMode.ownerNodeIndex].ownerNode=this._style),e=0;e<i.length;e++){let a=i[e];if((a.ownerNode||a.owningElement)===this._style){this.stylesheet=a;break}}if(!this.stylesheet)throw new Error("SlickGrid Cannot find stylesheet.");this.columnCssRulesL=[],this.columnCssRulesR=[];let r=this.stylesheet.cssRules||this.stylesheet.rules,s,o;for(e=0;e<r.length;e++){let a=r[e].selectorText;(s=/\.l\d+/.exec(a))?(o=parseInt(s[0].substr(2,s[0].length-2),10),this.columnCssRulesL[o]=r[e]):(s=/\.r\d+/.exec(a))&&(o=parseInt(s[0].substr(2,s[0].length-2),10),this.columnCssRulesR[o]=r[e])}}return{left:this.columnCssRulesL[t],right:this.columnCssRulesR[t]}}removeCssRules(){this._style?.remove(),this.stylesheet=null}clearAllTimers(){window.clearTimeout(this._columnResizeTimer),window.clearTimeout(this._executionBlockTimer),window.clearTimeout(this._flashCellTimer),window.clearTimeout(this._highlightRowTimer),window.clearTimeout(this.h_editorLoader)}destroy(t){this._bindingEventService.unbindAll(),this.slickDraggableInstance=this.destroyAllInstances(this.slickDraggableInstance),this.slickMouseWheelInstances=this.destroyAllInstances(this.slickMouseWheelInstances),this.slickResizableInstances=this.destroyAllInstances(this.slickResizableInstances),this.getEditorLock()?.cancelCurrentEdit(),this.triggerEvent(this.onBeforeDestroy,{});let e=this.plugins.length;for(;e--;)this.unregisterPlugin(this.plugins[e]);this._options.enableColumnReorder&&typeof this.sortableSideLeftInstance?.destroy=="function"&&typeof this.sortableSideRightInstance?.destroy=="function"&&(this.sortableSideLeftInstance.destroy(),this.sortableSideRightInstance.destroy()),this.unbindAncestorScrollEvents(),this._bindingEventService.unbindByEventName(this._container,"resize"),this.removeCssRules(),this._canvas.forEach(s=>{this._bindingEventService.unbindByEventName(s,"keydown"),this._bindingEventService.unbindByEventName(s,"click"),this._bindingEventService.unbindByEventName(s,"dblclick"),this._bindingEventService.unbindByEventName(s,"contextmenu"),this._bindingEventService.unbindByEventName(s,"mouseover"),this._bindingEventService.unbindByEventName(s,"mouseout")}),this._viewport.forEach(s=>{this._bindingEventService.unbindByEventName(s,"scroll")}),this._headerScroller.forEach(s=>{this._bindingEventService.unbindByEventName(s,"contextmenu"),this._bindingEventService.unbindByEventName(s,"click")}),this._headerRowScroller.forEach(s=>{this._bindingEventService.unbindByEventName(s,"scroll")}),this._footerRow&&this._footerRow.forEach(s=>{this._bindingEventService.unbindByEventName(s,"contextmenu"),this._bindingEventService.unbindByEventName(s,"click")}),this._footerRowScroller&&this._footerRowScroller.forEach(s=>{this._bindingEventService.unbindByEventName(s,"scroll")}),this._preHeaderPanelScroller&&this._bindingEventService.unbindByEventName(this._preHeaderPanelScroller,"scroll"),this._topHeaderPanelScroller&&this._bindingEventService.unbindByEventName(this._topHeaderPanelScroller,"scroll"),this._bindingEventService.unbindByEventName(this._focusSink,"keydown"),this._bindingEventService.unbindByEventName(this._focusSink2,"keydown");let i=this._container.querySelectorAll(".slick-resizable-handle");[].forEach.call(i,s=>{this._bindingEventService.unbindByEventName(s,"dblclick")});let r=this._container.querySelectorAll(".slick-header-column");[].forEach.call(r,s=>{this._bindingEventService.unbindByEventName(s,"mouseenter"),this._bindingEventService.unbindByEventName(s,"mouseleave"),this._bindingEventService.unbindByEventName(s,"mouseover"),this._bindingEventService.unbindByEventName(s,"mouseout")}),ut(this._container),this._container.classList.remove(this.uid),this.clearAllTimers(),t&&xf(this)}destroyAllInstances(t){if(t){let e=Array.isArray(t)?t:[t],i;for(;mt(i=e.pop());)i&&typeof i.destroy=="function"&&i.destroy()}return t=Array.isArray(t)?[]:null,t}autosizeColumns(){this.legacyAutosizeColumns()}legacyAutosizeColumns(){let t,e,i=0,r=0,s=0,o=[],a=this.getViewportInnerWidth();for(t=0;t<this.columns.length;t++){if(e=this.columns[t],!e||e.hidden){o.push(0);continue}o.push(e.width||0),r+=e.width||0,e.resizable&&(i+=(e.width||0)-Math.max(e.minWidth||0,this.absoluteColumnMinWidth))}for(s=r;r>a&&i;){let c=(r-a)/i;for(t=0;t<this.columns.length&&r>a;t++)if(e=this.columns[t],e&&!e.hidden){let h=o[t];if(!e.resizable||h<=e.minWidth||h<=this.absoluteColumnMinWidth)continue;let m=Math.max(e.minWidth,this.absoluteColumnMinWidth),f=Math.floor(c*(h-m))||1;f=Math.min(f,h-m),r-=f,i-=f,o[t]-=f}if(s<=r)break;s=r}for(s=r;r<a;){let c=a/r;for(t=0;t<this.columns.length&&r<a;t++)if(e=this.columns[t],e&&!e.hidden){let h=o[t],m;!e.resizable||e.maxWidth<=h?m=0:m=Math.min(Math.floor(c*h)-h,e.maxWidth-h||1e6)||1,r+=m,o[t]+=r<=a?m:0}if(s>=r)break;s=r}let l=!1;for(t=0;t<this.columns.length;t++)e&&!e.hidden&&(this.columns[t].rerenderOnResize&&this.columns[t].width!==o[t]&&(l=!0),this.columns[t].width=o[t]);this.reRenderColumns(l)}reRenderColumns(t){this.applyColumnHeaderWidths(),this.updateCanvasWidth(!0),this.triggerEvent(this.onAutosizeColumns,{columns:this.columns}),t&&(this.invalidateAllRows(),this.render())}getVisibleColumns(){return this.columns.filter(t=>!t.hidden)}triggerEvent(t,e,i){let r=i||new Ct(i,e),s=e||{};return s.grid=this,t.notify(s,r,this)}getEditorLock(){return this._options.editorLock}getEditController(){return this.editController}getColumnIndex(t){return this.columnsById[t]}applyColumnHeaderWidths(){if(this.initialized){let t=0,e=this.getVisibleColumns();this._headers.forEach(i=>{for(let r=0;r<i.children.length;r++,t++){let s=i.children[r],a=((e[t]||{}).width||0)-this.headerColumnWidthDiff;B.width(s)!==a&&B.width(s,a)}}),this.updateColumnCaches()}}applyColumnWidths(){let t=0,e=0,i;for(let r=0;r<this.columns.length;r++)this.columns[r]?.hidden||(e=this.columns[r].width||0,i=this.getColumnCssRules(r),i.left&&(i.left.style.left=`${t}px`),i.right&&(i.right.style.right=(this._options.frozenColumn!==-1&&r>this._options.frozenColumn?this.canvasWidthR:this.canvasWidthL)-t-e+"px"),this._options.frozenColumn!==r&&(t+=this.columns[r].width)),this._options.frozenColumn===r&&(t=0)}setSortColumn(t,e){this.setSortColumns([{columnId:t,sortAsc:e}])}getColumnByIndex(t){let e;return this._headers.every(i=>{let r=i.children.length;return t<r?(e=i.children[t],!1):(t-=r,!0)}),e}setSortColumns(t){this.sortColumns=t;let e=this._options.numberedMultiColumnSort&&this.sortColumns.length>1;this._headers.forEach(r=>{let s=r.querySelectorAll(".slick-header-column-sorted");s.forEach(o=>o.classList.remove("slick-header-column-sorted")),s=r.querySelectorAll(".slick-sort-indicator"),s.forEach(o=>o.classList.remove("slick-sort-indicator-asc","slick-sort-indicator-desc")),s=r.querySelectorAll(".slick-sort-indicator-numbered"),s.forEach(o=>o.textContent="")});let i=1;this.sortColumns.forEach(r=>{mt(r.sortAsc)||(r.sortAsc=!0);let s=this.getColumnIndex(r.columnId);if(mt(s)){let o=this.getColumnByIndex(s);if(o){o.classList.add("slick-header-column-sorted");let a=o.querySelector(".slick-sort-indicator");a?.classList.add(r.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),e&&(a=o.querySelector(".slick-sort-indicator-numbered"),a&&(a.textContent=String(i)))}}i++})}getSortColumns(){return this.sortColumns}handleSelectedRangesChanged(t,e){let i=t.getNativeEvent(),r=this.selectedRows.slice(0);this.selectedRows=[];let s={};for(let o=0;o<e.length;o++)for(let a=e[o].fromRow;a<=e[o].toRow;a++){s[a]||(this.selectedRows.push(a),s[a]={});for(let l=e[o].fromCell;l<=e[o].toCell;l++)this.canCellBeSelected(a,l)&&(s[a][this.columns[l].id]=this._options.selectedCellCssClass)}if(this.setCellCssStyles(this._options.selectedCellCssClass||"",s),this.simpleArrayEquals(r,this.selectedRows)){let o=i?.detail?.caller??"click",a=new Set(this.getSelectedRows()),l=new Set(r),c=Array.from(a).filter(m=>!l.has(m)),h=Array.from(l).filter(m=>!a.has(m));this.triggerEvent(this.onSelectedRowsChanged,{rows:this.getSelectedRows(),previousSelectedRows:r,caller:o,changedSelectedRows:c,changedUnselectedRows:h},t)}}simpleArrayEquals(t,e){return Array.isArray(t)&&Array.isArray(e)&&e.sort().toString()!==t.sort().toString()}getColumns(){return this.columns}updateColumnCaches(){this.columnPosLeft=[],this.columnPosRight=[];let t=0;for(let e=0,i=this.columns.length;e<i;e++)this.columns[e]&&!this.columns[e].hidden&&(this.columnPosLeft[e]=t,this.columnPosRight[e]=t+(this.columns[e].width||0),this._options.frozenColumn===e?t=0:t+=this.columns[e].width||0)}updateColumnProps(){this.columnsById={};for(let t=0;t<this.columns.length;t++){let e=this.columns[t]||{};e.width&&(e.widthRequest=e.width),this._options.mixinDefaults?B.applyDefaults(e,this._columnDefaults):e=this.columns[t]=oi({},this._columnDefaults,e),this.columnsById[e.id]=t,e.minWidth&&(e.width||0)<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&(e.width||0)>e.maxWidth&&(e.width=e.maxWidth)}}setColumns(t){this.triggerEvent(this.onBeforeSetColumns,{previousColumns:this.columns,newColumns:t,grid:this}),this.columns=t,this.updateColumnsInternal(),this.triggerEvent(this.onAfterSetColumns,{newColumns:t,grid:this})}updateColumns(){this.triggerEvent(this.onBeforeUpdateColumns,{columns:this.columns,grid:this}),this.updateColumnsInternal()}updateColumnsInternal(){this.updateColumnProps(),this.updateColumnCaches(),this.initialized&&(this.setPaneFrozenClasses(),this.setPaneVisibility(),this.setOverflow(),this.invalidateAllRows(),this.createColumnHeaders(),this.createColumnFooter(),this.removeCssRules(),this.createCssRules(),this.resizeCanvas(),this.updateCanvasWidth(),this.applyColumnWidths(),this.handleScroll(),this.getSelectionModel()?.refreshSelections())}getOptions(){return this._options}setOptions(t,e,i,r){this.prepareForOptionsChange(),this._options.enableAddRow!==t.enableAddRow&&this.invalidateRow(this.getDataLength()),t.frozenColumn!==void 0&&t.frozenColumn>=0&&(this.getViewports().forEach(o=>o.scrollLeft=0),this.handleScroll());let s=oi(!0,{},this._options);this._options=oi(!0,this._options,t),this.triggerEvent(this.onSetOptions,{optionsBefore:s,optionsAfter:this._options}),this.internal_setOptions(e,i,r)}activateChangedOptions(t,e,i){this.prepareForOptionsChange(),this.invalidateRow(this.getDataLength()),this.triggerEvent(this.onActivateChangedOptions,{options:this._options}),this.internal_setOptions(t,e,i)}prepareForOptionsChange(){this.getEditorLock()?.commitCurrentEdit()&&this.makeActiveCellNormal()}internal_setOptions(t,e,i){this._options.showColumnHeader!==void 0&&this.setColumnHeaderVisibility(this._options.showColumnHeader),this.validateAndEnforceOptions(),this.setFrozenOptions(),this._options.frozenBottom!==void 0&&(this.enforceFrozenRowHeightRecalc=!0),this._viewport.forEach(r=>{r.style.overflowY=this._options.autoHeight?"hidden":"auto"}),t||this.render(),this.setScroller(),i||this.setOverflow(),e||this.setColumns(this.columns),this._options.enableMouseWheelScrollHandler&&this._viewport&&(!this.slickMouseWheelInstances||this.slickMouseWheelInstances.length===0)?this._viewport.forEach(r=>{this.slickMouseWheelInstances.push(T0({element:r,onMouseWheel:this.handleMouseWheel.bind(this)}))}):this._options.enableMouseWheelScrollHandler===!1&&this.destroyAllInstances(this.slickMouseWheelInstances)}validateAndEnforceOptions(){this._options.autoHeight&&(this._options.leaveSpaceForNewRows=!1)}setData(t,e){this.data=t,this.invalidateAllRows(),this.updateRowCount(),e&&this.scrollTo(0)}getData(){return this.data}getDataLength(){return this.data.getLength?this.data.getLength():this.data?.length||0}getDataLengthIncludingAddNew(){return this.getDataLength()+(this._options.enableAddRow&&(!this.pagingActive||this.pagingIsLastPage)?1:0)}getDataItem(t){return this.data.getItem?this.data.getItem(t):this.data[t]}getItemMetadaWhenExists(t){return"getItemMetadata"in this.data?this.data.getItemMetadata(t):null}getTopPanel(){return this._topPanels[0]}getTopPanels(){return this._topPanels}hasDataView(){return!Array.isArray(this.data)}togglePanelVisibility(t,e,i){this._options[t]!==i&&(this._options[t]=i,i?B.show(e):B.hide(e),this.resizeCanvas())}setTopPanelVisibility(t){this.togglePanelVisibility("showTopPanel",this._topPanelScrollers,t)}setHeaderRowVisibility(t){this.togglePanelVisibility("showHeaderRow",this._headerRowScroller,t)}setColumnHeaderVisibility(t){this.togglePanelVisibility("showColumnHeader",this._headerScroller,t)}setFooterRowVisibility(t){this.togglePanelVisibility("showFooterRow",this._footerRowScroller,t)}setPreHeaderPanelVisibility(t){this.togglePanelVisibility("showPreHeaderPanel",[this._preHeaderPanelScroller,this._preHeaderPanelScrollerR],t)}setTopHeaderPanelVisibility(t){this.togglePanelVisibility("showTopHeaderPanel",this._topHeaderPanelScroller,t)}getContainerNode(){return this._container}getRowHeight(){return this._options.rowHeight}getRowTop(t){return Math.round(this._options.rowHeight*t-this.offset)}getRowBottom(t){return this.getRowTop(t)+this._options.rowHeight}getRowFromPosition(t){return Math.floor((t+this.offset)/this._options.rowHeight)}scrollTo(t){t=Math.max(t,0),t=Math.min(t,(this.th||0)-B.height(this._viewportScrollContainerY)+((this.viewportHasHScroll||this.hasFrozenColumns())&&this.scrollbarDimensions?.height||0));let e=this.offset;this.offset=Math.round(this.page*(this.cj||0)),this.page=Math.min((this.n||0)-1,Math.floor(t/(this.ph||0)));let i=t-this.offset;if(this.offset!==e){let r=this.getVisibleRange(i);this.cleanupRows(r),this.updateRowPositions()}this.prevScrollTop!==i&&(this.vScrollDir=this.prevScrollTop+e<i+this.offset?1:-1,this.lastRenderedScrollTop=this.scrollTop=this.prevScrollTop=i,this.hasFrozenColumns()&&(this._viewportTopL.scrollTop=i),this.hasFrozenRows&&(this._viewportBottomL.scrollTop=this._viewportBottomR.scrollTop=i),this._viewportScrollContainerY&&(this._viewportScrollContainerY.scrollTop=i),this.triggerEvent(this.onViewportChanged,{}))}defaultFormatter(t,e,i){return mt(i)?(i+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}getFormatter(t,e){let i=this.data?.getItemMetadata?.(t);return(i?.columns&&(i.columns[e.id]||i.columns[this.getColumnIndex(e.id)]))?.formatter||i?.formatter||e.formatter||this._options.formatterFactory?.getFormatter(e)||this._options.defaultFormatter}getEditor(t,e){let i=this.columns[e],s=this.getItemMetadaWhenExists(t)?.columns;return s?.[i.id]?.editorClass!==void 0?s[i.id].editorClass:s?.[e]?.editorClass!==void 0?s[e].editorClass:i.editorClass||this._options?.editorFactory?.getEditor(i)}getDataItemValueForColumn(t,e){return this._options.dataItemColumnValueExtractor?this._options.dataItemColumnValueExtractor(t,e):t[e.field]}appendRowHtml(t,e,i,r,s){let o=this.getDataItem(i),a=i<s&&!o,l="slick-row"+(this.hasFrozenRows&&i<=this._options.frozenRow?" frozen":"")+(a?" loading":"")+(i===this.activeRow&&this._options.showCellSelection?" active":"")+(i%2===1?" odd":" even");o||(l+=` ${this._options.addNewRowCssClass}`);let c=this.getItemMetadaWhenExists(i);c?.cssClasses&&(l+=` ${c.cssClasses}`);let h=T("div",{className:`ui-widget-content ${l}`,role:"row",dataset:{row:`${i}`}}),m=this.getFrozenRowOffset(i),f=this.getRowTop(i)-m;this._options.rowTopOffsetRenderType==="transform"?h.style.transform=`translateY(${f}px)`:h.style.top=`${f}px`;let v;t.push(h),this.hasFrozenColumns()&&(v=h.cloneNode(!0),e.push(v));let C=this.columns.length,x,E,I,N,L=!0;for(let V=0,j=C;V<j;V++)if(L=!0,N=this.columns[V],N&&!N.hidden){E=1,I=1,x=null,c?.columns&&(x=c.columns[N.id]||c.columns[V],E=x?.colspan||1,I=x?.rowspan||1,E==="*"&&(E=j-V),I>s-i&&(I=s-i)),!this._options.enableCellRowSpan&&I>1&&console.warn('[SlickGrid] Cell "rowspan" is an opt-in grid option because of its small perf hit, you must enable it via the "enableCellRowSpan" grid option.');let Y=E;if(this.getParentRowSpanByCell(i,V))continue;if(this.columnPosRight[Math.min(j-1,V+Y-1)]>r.leftPx){if(!N.alwaysRenderColumn&&this.columnPosLeft[V]>r.rightPx&&(L=!1),L){let me=this.hasFrozenColumns()&&V>this._options.frozenColumn?v:h;this.appendCellHtml(me,i,V,Y,I,x,o)}}else(N.alwaysRenderColumn||this.hasFrozenColumns()&&V<=this._options.frozenColumn)&&this.appendCellHtml(h,i,V,Y,I,x,o);Y>1&&(V+=Y-1)}}appendCellHtml(t,e,i,r,s,o,a){let l=this.columns[i],c=`slick-cell l${i} r${Math.min(this.columns.length-1,i+r-1)}`+(l.cssClass?` ${l.cssClass}`:"")+(s>1?" rowspan":"")+(o?.cssClass?` ${o.cssClass}`:"");this.hasFrozenColumns()&&i<=this._options.frozenColumn&&(c+=" frozen"),e===this.activeRow&&i===this.activeCell&&this._options.showCellSelection&&(c+=" active"),Object.keys(this.cellCssClasses).forEach(N=>{this.cellCssClasses[N][e]?.[l.id]&&(c+=` ${this.cellCssClasses[N][e][l.id]}`)});let h=null,m="";a&&(h=this.getDataItemValueForColumn(a,l),m=this.getFormatter(e,l)(e,i,h,l,a,this),m==null&&(m=""));let v=this.triggerEvent(this.onBeforeAppendCell,{row:e,cell:i,value:h,dataContext:a}).getReturnValue(),C=typeof v=="string"?v:"";m?.addClasses&&(C+=Ut((C?" ":"")+m.addClasses).join(" "));let x=m?.toolTip?`${m.toolTip}`:"",E=T("div",{className:Ut(`${c} ${C||""}`).join(" "),role:"gridcell",tabIndex:-1});E.setAttribute("aria-describedby",this.uid+l.id),x&&E.setAttribute("title",x);let I=this.getCellHeight(e,s);if(s>1&&I!==this._options.rowHeight-this.cellHeightDiff&&(E.style.height=`${I||0}px`),l.hasOwnProperty("cellAttrs")&&l.cellAttrs instanceof Object&&Object.keys(l.cellAttrs).forEach(N=>{l.cellAttrs.hasOwnProperty(N)&&E.setAttribute(N,l.cellAttrs[N])}),a){let N=ro(m)?m:m.html||m.text;this.applyHtmlCode(E,N)}t.appendChild(E),m.insertElementAfterTarget&&$y(E,m.insertElementAfterTarget),this.rowsCache[e].cellRenderQueue.push(i),this.rowsCache[e].cellColSpans[i]=r}cleanupRows(t){let e=new Set;if(this._options.enableCellRowSpan)for(let i=t.top,r=t.bottom;i<=r;i++){let s=this.getRowSpanIntersect(i);s!==null&&e.add(s)}Object.keys(this.rowsCache).forEach(i=>{if(this.rowsCache){let r=+i,s=!0;this.hasFrozenRows&&(this._options.frozenBottom&&r>=this.actualFrozenRow||!this._options.frozenBottom&&r<=this.actualFrozenRow)&&(s=!1),(r=parseInt(i,10))!==this.activeRow&&(r<t.top||r>t.bottom)&&s&&!e.has(r)&&this.removeRowFromCache(r)}}),this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}getRowSpanColumnIntersects(t){return this.getRowSpanIntersection(t,"columns")}getRowSpanIntersect(t){return this.getRowSpanIntersection(t)}getRowSpanIntersection(t,e){let i=[],r=null;for(let s=0,o=this.columns.length;s<o;s++){let a=this._colsWithRowSpanCache[s];if(a)for(let l of Array.from(a)){let[c,h]=l.split(":").map(Number);if(t>=c&&t<=h)if(e==="columns")i.push(s);else{r=c;break}}}return e==="columns"?i:r}getParentRowSpanByCell(t,e,i=!0){let r=null,s=this._colsWithRowSpanCache[e]||new Set;for(let o of Array.from(s)){let[a,l]=o.split(":").map(Number);if((i?t>a:t>=a)&&t<=l){r={start:a,end:l,range:o};break}}return r}remapAllColumnsRowSpan(){let t=this.getDataLength();if(t>0){this._colsWithRowSpanCache={};for(let e=0;e<t;e++)this.remapRowSpanMetadataByRow(e);this._rowSpanIsCached=!0}}remapRowSpanMetadataByRow(t){let e=this.getItemMetadaWhenExists(t);e?.columns&&Object.keys(e.columns).forEach(i=>{let r=+i,s=e.columns[r],o=+(s?.colspan||1),a=+(s?.rowspan||1);this.remapRowSpanMetadata(t,r,o,a)})}remapRowSpanMetadata(t,e,i,r){if(r>1){let s=`${t}:${t+r-1}`;if(this._colsWithRowSpanCache[e]??=new Set,this._colsWithRowSpanCache[e].add(s),i>1)for(let o=1;o<i;o++)this._colsWithRowSpanCache[e+o]??=new Set,this._colsWithRowSpanCache[e+o].add(s)}}invalidate(){this.updateRowCount(),this.invalidateAllRows(),this.render()}invalidateAllRows(){this.currentEditor&&this.makeActiveCellNormal(),typeof this.rowsCache=="object"&&Object.keys(this.rowsCache).forEach(t=>{this.rowsCache&&this.removeRowFromCache(+t)}),this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}invalidateRows(t){if(!t||!t.length)return;let e;this.vScrollDir=0;let i=t.length,r=new Set,s=new Set,o=t.length>this._options.maxPartialRowSpanRemap||t.length===this.getDataLength()||this._prevInvalidatedRowsCount+t.length===this.getDataLength();for(let a=0;a<i;a++)if(e=t[a],this.currentEditor&&this.activeRow===e&&this.makeActiveCellNormal(),this.rowsCache[e]&&this.removeRowFromCache(e),this._options.enableCellRowSpan&&!o){r.add(e);let l=this.getRowSpanIntersect(e);l!==null&&r.add(l)}if(this._options.enableCellRowSpan&&!o){for(let a of Array.from(r)){let l=this.getRowSpanColumnIntersects(a);for(let c of l){let h=this.getParentRowSpanByCell(a,c);h&&this._colsWithRowSpanCache[c]&&(this._colsWithRowSpanCache[c].delete(h.range),s.add(h.range.split(":").map(Number)[0]))}}for(let a of Array.from(s))this.remapRowSpanMetadataByRow(a)}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup(),this._prevInvalidatedRowsCount=t.length}invalidateRow(t){if(t>=0){let e=[t];if(this._options.enableCellRowSpan){let i=this.getRowSpanIntersect(t);i!==null&&e.push(i)}this.invalidateRows(e)}}queuePostProcessedRowForCleanup(t,e,i){this.postProcessgroupId++,typeof e=="object"&&Object.keys(e).forEach(r=>{e.hasOwnProperty(r)&&this.postProcessedCleanupQueue.push({actionType:"C",groupId:this.postProcessgroupId,node:t.cellNodesByColumnIdx[+r],columnIdx:+r,rowIdx:i})}),t.rowNode||(t.rowNode=[]),this.postProcessedCleanupQueue.push({actionType:"R",groupId:this.postProcessgroupId,node:t.rowNode}),t.rowNode?.forEach(r=>r.remove())}queuePostProcessedCellForCleanup(t,e,i){this.postProcessedCleanupQueue.push({actionType:"C",groupId:this.postProcessgroupId,node:t,columnIdx:e,rowIdx:i}),t.remove()}removeRowFromCache(t){let e=this.rowsCache[t];e?.rowNode&&(this.triggerEvent(this.onBeforeRemoveCachedRow,{row:t}),this._options.enableAsyncPostRenderCleanup&&this.postProcessedRows[t]?this.queuePostProcessedRowForCleanup(e,this.postProcessedRows[t],t):e.rowNode?.forEach(i=>i.parentElement?.removeChild(i)),delete this.rowsCache[t],delete this.postProcessedRows[t],this.renderedRows--,this.counter_rows_removed++)}applyFormatResultToCellNode(t,e,i){if(t==null&&(t=""),ro(t)){this.applyHtmlCode(e,t);return}let r=t.html||t.text;this.applyHtmlCode(e,r),t.removeClasses&&!i&&e.classList.remove(...Ut(t.removeClasses)),t.addClasses&&e.classList.add(...Ut(t.addClasses)),t.toolTip&&e.setAttribute("title",t.toolTip)}updateCell(t,e){let i=this.getCellNode(t,e);if(i){let r=this.columns[e],s=this.getDataItem(t);if(this.currentEditor&&this.activeRow===t&&this.activeCell===e)this.currentEditor.loadValue(s);else{let o=s?this.getFormatter(t,r)(t,e,this.getDataItemValueForColumn(s,r),r,s,this):"";this.applyFormatResultToCellNode(o,i),this.invalidatePostProcessingResults(t)}}}updateRow(t){let e=this.rowsCache[t];if(!e)return;this.ensureCellNodesInRowsCache(t);let i,r=this.getDataItem(t);Object.keys(e.cellNodesByColumnIdx).forEach(s=>{if(e.cellNodesByColumnIdx.hasOwnProperty(s)){let o=+s,a=this.columns[o],l=e.cellNodesByColumnIdx[o];this.currentEditor&&t===this.activeRow&&o===this.activeCell?this.currentEditor.loadValue(r):r?(i=this.getFormatter(t,a)(t,o,this.getDataItemValueForColumn(r,a),a,r,this),this.applyFormatResultToCellNode(i,l)):ut(l)}}),this.invalidatePostProcessingResults(t)}getCellHeight(t,e){let i=this._options.rowHeight||0;if(e>1){let r=t+e-1;i=this.getRowBottom(r)-this.getRowTop(t)}else{let r=this.getRowHeight();r!==i-this.cellHeightDiff&&(i=r)}return i-=this.cellHeightDiff,Math.ceil(i)}getViewportRowCount(){let t=this.getViewportHeight(),e=this.getScrollbarDimensions()?.height||0;return Math.floor((t-e)/this._options.rowHeight)}getViewportHeight(){if((!this._options.autoHeight||this._options.frozenColumn!==-1)&&(this.topPanelH=this._options.showTopPanel?this._options.topPanelHeight+this.getVBoxDelta(this._topPanelScrollers[0]):0,this.headerRowH=this._options.showHeaderRow?this._options.headerRowHeight+this.getVBoxDelta(this._headerRowScroller[0]):0,this.footerRowH=this._options.showFooterRow?this._options.footerRowHeight+this.getVBoxDelta(this._footerRowScroller[0]):0),this._options.autoHeight){let t=this._paneHeaderL.offsetHeight;t+=this._options.showHeaderRow?this._options.headerRowHeight+this.getVBoxDelta(this._headerRowScroller[0]):0,t+=this._options.showFooterRow?this._options.footerRowHeight+this.getVBoxDelta(this._footerRowScroller[0]):0,t+=this.getCanvasWidth()>this.viewportW&&this.scrollbarDimensions?.height||0,this.viewportH=this._options.rowHeight*this.getDataLengthIncludingAddNew()+(this._options.frozenColumn===-1?t:0)}else{let t=this._options.showColumnHeader?B.toFloat(B.height(this._headerScroller[0]))+this.getVBoxDelta(this._headerScroller[0]):0,e=this._options.createPreHeaderPanel&&this._options.showPreHeaderPanel?this._options.preHeaderPanelHeight+this.getVBoxDelta(this._preHeaderPanelScroller):0,i=this._options.createTopHeaderPanel&&this._options.showTopHeaderPanel?this._options.topHeaderPanelHeight+this.getVBoxDelta(this._topHeaderPanelScroller):0,r=getComputedStyle(this._container);this.viewportH=B.toFloat(r.height)-B.toFloat(r.paddingTop)-B.toFloat(r.paddingBottom)-t-this.topPanelH-this.headerRowH-this.footerRowH-e-i}return this.numVisibleRows=Math.ceil(this.viewportH/this._options.rowHeight),this.viewportH}getViewportInnerWidth(){return this.viewportHasVScroll?this.viewportW-(this.scrollbarDimensions?.width||0):this.viewportW}getViewportWidth(){return this.viewportW=parseFloat(Xd(this._container,"width"))||this._options.devMode&&this._options.devMode.containerClientWidth||0,this.viewportW}resizeCanvas(){if(this.initialized){if(this.paneTopH=0,this.paneBottomH=0,this.viewportTopH=0,this.viewportBottomH=0,this.getViewportWidth(),this.getViewportHeight(),this.hasFrozenRows?this._options.frozenBottom?(this.paneTopH=this.viewportH-this.frozenRowsHeight-(this.scrollbarDimensions?.height||0),this.paneBottomH=this.frozenRowsHeight+(this.scrollbarDimensions?.height||0)):(this.paneTopH=this.frozenRowsHeight,this.paneBottomH=this.viewportH-this.frozenRowsHeight):this.paneTopH=this.viewportH,this.paneTopH+=this.topPanelH+this.headerRowH+this.footerRowH,this.hasFrozenColumns()&&this._options.autoHeight&&(this.paneTopH+=this.scrollbarDimensions?.height||0),this.viewportTopH=this.paneTopH-this.topPanelH-this.headerRowH-this.footerRowH,this._options.autoHeight){if(this.hasFrozenColumns()){let i=getComputedStyle(this._headerScrollerL);B.height(this._container,this.paneTopH+B.toFloat(i.height))}this._paneTopL.style.position="relative"}let t=B.height(this._paneHeaderL);t?t+=this._options.showTopHeaderPanel?this._options.topHeaderPanelHeight:0:t=(this._options.showHeaderRow?this._options.headerRowHeight:0)+(this._options.showPreHeaderPanel?this._options.preHeaderPanelHeight:0),B.setStyleSize(this._paneTopL,"top",t||t),B.height(this._paneTopL,this.paneTopH);let e=this._paneTopL.offsetTop+this.paneTopH;if(this._options.autoHeight||B.height(this._viewportTopL,this.viewportTopH),this.hasFrozenColumns()){let i=B.height(this._paneHeaderL);i&&(i+=this._options.showTopHeaderPanel?this._options.topHeaderPanelHeight:0),B.setStyleSize(this._paneTopR,"top",i),B.height(this._paneTopR,this.paneTopH),B.height(this._viewportTopR,this.viewportTopH),this.hasFrozenRows&&(B.setStyleSize(this._paneBottomL,"top",e),B.height(this._paneBottomL,this.paneBottomH),B.setStyleSize(this._paneBottomR,"top",e),B.height(this._paneBottomR,this.paneBottomH),B.height(this._viewportBottomR,this.paneBottomH))}else this.hasFrozenRows&&(B.width(this._paneBottomL,"100%"),B.height(this._paneBottomL,this.paneBottomH),B.setStyleSize(this._paneBottomL,"top",e));this.hasFrozenRows?(B.height(this._viewportBottomL,this.paneBottomH),this._options.frozenBottom?(B.height(this._canvasBottomL,this.frozenRowsHeight),this.hasFrozenColumns()&&B.height(this._canvasBottomR,this.frozenRowsHeight)):(B.height(this._canvasTopL,this.frozenRowsHeight),this.hasFrozenColumns()&&B.height(this._canvasTopR,this.frozenRowsHeight))):B.height(this._viewportTopR,this.viewportTopH),(!this.scrollbarDimensions||!this.scrollbarDimensions.width)&&(this.scrollbarDimensions=this.measureScrollbar()),this._options.forceFitColumns&&this.legacyAutosizeColumns(),this.updateRowCount(),this.handleScroll(),this.lastRenderedScrollLeft=-1,this.render()}}updatePagingStatusFromView(t){this.pagingActive=t.pageSize!==0,this.pagingIsLastPage=t.pageNum===t.totalPages-1}updateRowCount(){if(this.initialized){let t=this.getDataLength();t>0&&t!==this._prevDataLength&&(this._rowSpanIsCached=!1),this._options.enableCellRowSpan&&!this._rowSpanIsCached&&this.remapAllColumnsRowSpan(),this._prevDataLength=t;let e=this.getDataLengthIncludingAddNew(),i=0,r=this.hasFrozenRows&&!this._options.frozenBottom?B.height(this._canvasBottomL):B.height(this._canvasTopL);this.hasFrozenRows?i=this.getDataLength()-this._options.frozenRow:i=e+(this._options.leaveSpaceForNewRows?this.numVisibleRows-1:0);let s=B.height(this._viewportScrollContainerY),o=this.viewportHasVScroll;this.viewportHasVScroll=this._options.alwaysShowVerticalScroll||!this._options.autoHeight&&i*this._options.rowHeight>s,this.makeActiveCellNormal();let a=t-1;typeof this.rowsCache=="object"&&Object.keys(this.rowsCache).forEach(c=>{let h=+c;h>a&&this.removeRowFromCache(h)}),this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup(),this.activeCellNode&&this.activeRow>a&&this.resetActiveCell(),r=this.h,this._options.autoHeight?this.h=this._options.rowHeight*i:(this.th=Math.max(this._options.rowHeight*i,s-(this.scrollbarDimensions?.height||0)),this.th<this.maxSupportedCssHeight?(this.h=this.ph=this.th,this.n=1,this.cj=0):(this.h=this.maxSupportedCssHeight,this.ph=this.h/100,this.n=Math.floor(this.th/this.ph),this.cj=(this.th-this.h)/(this.n-1))),(this.h!==r||this.enforceFrozenRowHeightRecalc)&&(this.hasFrozenRows&&!this._options.frozenBottom?(B.height(this._canvasBottomL,this.h),this.hasFrozenColumns()&&B.height(this._canvasBottomR,this.h)):(B.height(this._canvasTopL,this.h),B.height(this._canvasTopR,this.h)),this.scrollTop=this._viewportScrollContainerY.scrollTop,this.scrollHeight=this._viewportScrollContainerY.scrollHeight,this.enforceFrozenRowHeightRecalc=!1);let l=this.scrollTop+this.offset<=this.th-s;this.th===0||this.scrollTop===0?this.page=this.offset=0:l?this.scrollTo(this.scrollTop+this.offset):this.scrollTo(this.th-s+(this.scrollbarDimensions?.height||0)),this.h!==r&&this._options.autoHeight&&this.resizeCanvas(),this._options.forceFitColumns&&o!==this.viewportHasVScroll&&this.legacyAutosizeColumns(),this.updateCanvasWidth(!1)}}getViewport(t,e){return this.getVisibleRange(t,e)}getVisibleRange(t,e){return t??=this.scrollTop,e??=this.scrollLeft,{top:this.getRowFromPosition(t),bottom:this.getRowFromPosition(t+this.viewportH)+1,leftPx:e,rightPx:e+this.viewportW}}getRenderedRange(t,e){let i=this.getVisibleRange(t,e),r=Math.round(this.viewportH/this._options.rowHeight),s=this._options.minRowBuffer;return this.vScrollDir===-1?(i.top-=r,i.bottom+=s):this.vScrollDir===1?(i.top-=s,i.bottom+=r):(i.top-=s,i.bottom+=s),i.top=Math.max(0,i.top),i.bottom=Math.min(this.getDataLengthIncludingAddNew()-1,i.bottom),i.leftPx-=this.viewportW,i.rightPx+=this.viewportW,i.leftPx=Math.max(0,i.leftPx),i.rightPx=Math.min(this.canvasWidth,i.rightPx),i}ensureCellNodesInRowsCache(t){let e=this.rowsCache[t];if(e?.cellRenderQueue.length&&e.rowNode?.length){let i=e.rowNode,r=Array.from(i[0].children);i.length>1&&(r=r.concat(Array.from(i[1].children)));let s=r.length-1;for(;e.cellRenderQueue.length;){let o=e.cellRenderQueue.pop();e.cellNodesByColumnIdx[o]=r[s--]}}}cleanUpCells(t,e){if(this.hasFrozenRows&&(this._options.frozenBottom&&e>this.actualFrozenRow||e<=this.actualFrozenRow))return;let i=0,r=this.rowsCache[e],s=[];Object.keys(r.cellNodesByColumnIdx).forEach(l=>{if(!r.cellNodesByColumnIdx.hasOwnProperty(l))return;let c=+l;if(c<=this._options.frozenColumn||Array.isArray(this.columns)&&this.columns[c]?.alwaysRenderColumn)return;let h=r.cellColSpans[c];(this.columnPosLeft[c]>t.rightPx||this.columnPosRight[Math.min(this.columns.length-1,(c||0)+h-1)]<t.leftPx)&&(e===this.activeRow&&Number(c)===this.activeCell||s.push(c))});let o,a;for(;mt(o=s.pop());)a=r.cellNodesByColumnIdx[o],this._options.enableAsyncPostRenderCleanup&&this.postProcessedRows[e]?.[o]?this.queuePostProcessedCellForCleanup(a,o,e):a.parentElement?.removeChild(a),delete r.cellColSpans[o],delete r.cellNodesByColumnIdx[o],this.postProcessedRows[e]&&delete this.postProcessedRows[e][o],i++}cleanUpAndRenderCells(t){let e,i=document.createElement("div"),r=[],s,o=0,a,l,c=this.columns.length;for(let f=t.top,v=t.bottom;f<=v;f++)if(e=this.rowsCache[f],e){this.ensureCellNodesInRowsCache(f),(!this._options.enableCellRowSpan||this.getRowSpanIntersect(f)===null)&&this.cleanUpCells(t,f),s=0;let C=this.getItemMetadaWhenExists(f);C=C?.columns;let x=this.getDataItem(f);for(let E=0,I=c;E<I;E++)if(this.columns[E]&&!this.columns[E].hidden){if(this.columnPosLeft[E]>t.rightPx)break;if(mt(a=e.cellColSpans[E])){E+=a>1?a-1:0;continue}a=1,l=null,C&&(l=C[this.columns[E].id]||C[E],a=l?.colspan??1,a==="*"&&(a=I-E));let N=a;if(this.getParentRowSpanByCell(f,E))continue;if(this.columnPosRight[Math.min(I-1,E+N-1)]>t.leftPx){let L=this.getRowspan(f,E);this.appendCellHtml(i,f,E,N,L,l,x),s++}E+=N>1?N-1:0}s&&(o+=s,r.push(f))}if(!i.children.length)return;let h,m;for(;mt(h=r.pop());){e=this.rowsCache[h];let f;for(;mt(f=e.cellRenderQueue.pop());)m=i.lastChild,m&&(this.hasFrozenColumns()&&f>this._options.frozenColumn?e.rowNode[1].appendChild(m):e.rowNode[0].appendChild(m),e.cellNodesByColumnIdx[f]=m)}}createEmptyCachingRow(){return{rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]}}renderRows(t){let e=[],i=[],r=[],s=!1,o=this.getDataLength(),a=new Set,l=new Set;for(let h=t.top,m=t.bottom;h<=m;h++)if(!(this.rowsCache[h]||this.hasFrozenRows&&this._options.frozenBottom&&h===this.getDataLength())){if(this.renderedRows++,r.push(h),l.add(h),this.rowsCache[h]=this.createEmptyCachingRow(),this._options.enableCellRowSpan){let f=this.getRowSpanIntersect(h);f!==null&&l.add(f)}this.appendRowHtml(e,i,h,t,o),a.add(h),this.activeCellNode&&this.activeRow===h&&(s=!0),this.counter_rows_rendered++}let c=this.setDifference(l,a);if(c.size>0&&c.forEach(h=>{this.removeRowFromCache(h),r.push(h),this.rowsCache[h]=this.createEmptyCachingRow(),this.appendRowHtml(e,i,h,t,o)}),r.length){let h=document.createElement("div"),m=document.createElement("div");e.forEach(f=>h.appendChild(f)),i.forEach(f=>m.appendChild(f));for(let f=0,v=r.length;f<v;f++)this.hasFrozenRows&&r[f]>=this.actualFrozenRow?this.hasFrozenColumns()?this.rowsCache?.hasOwnProperty(r[f])&&h.firstChild&&m.firstChild&&(this.rowsCache[r[f]].rowNode=[h.firstChild,m.firstChild],this._canvasBottomL.appendChild(h.firstChild),this._canvasBottomR.appendChild(m.firstChild)):this.rowsCache?.hasOwnProperty(r[f])&&h.firstChild&&(this.rowsCache[r[f]].rowNode=[h.firstChild],this._canvasBottomL.appendChild(h.firstChild)):this.hasFrozenColumns()?this.rowsCache?.hasOwnProperty(r[f])&&h.firstChild&&m.firstChild&&(this.rowsCache[r[f]].rowNode=[h.firstChild,m.firstChild],this._canvasTopL.appendChild(h.firstChild),this._canvasTopR.appendChild(m.firstChild)):this.rowsCache?.hasOwnProperty(r[f])&&h.firstChild&&(this.rowsCache[r[f]].rowNode=[h.firstChild],this._canvasTopL.appendChild(h.firstChild));s&&(this.activeCellNode=this.getCellNode(this.activeRow,this.activeCell))}}setDifference(t,e){return new Set(Array.from(t).filter(i=>!e.has(i)))}startPostProcessing(){this._options.enableAsyncPostRender&&(window.clearTimeout(this.h_postrender),this.h_postrender=window.setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay))}startPostProcessingCleanup(){this._options.enableAsyncPostRenderCleanup&&(window.clearTimeout(this.h_postrenderCleanup),this.h_postrenderCleanup=window.setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostRenderCleanupDelay))}invalidatePostProcessingResults(t){typeof this.postProcessedRows[t]=="object"&&Object.keys(this.postProcessedRows[t]).forEach(e=>{this.postProcessedRows[t].hasOwnProperty(e)&&(this.postProcessedRows[t][e]="C")}),this.postProcessFromRow=Math.min(this.postProcessFromRow,t),this.postProcessToRow=Math.max(this.postProcessToRow,t),this.startPostProcessing()}updateRowPositions(){this.rowsCache&&typeof this.rowsCache=="object"&&Object.keys(this.rowsCache).forEach(t=>{let e=t?parseInt(t,10):0,i=this.rowsCache[e].rowNode[0];this._options.rowTopOffsetRenderType==="transform"?i.style.transform=`translateY(${this.getRowTop(e)}px)`:i.style.top=`${this.getRowTop(e)}px`})}render(){if(this.initialized){this.scrollThrottle.dequeue();let t=this.getVisibleRange(),e=this.getRenderedRange();if(this.cleanupRows(e),this.lastRenderedScrollLeft!==this.scrollLeft){if(this.hasFrozenRows){let i=oi(!0,{},e);this._options.frozenBottom?(i.top=this.actualFrozenRow,i.bottom=this.getDataLength()):(i.top=0,i.bottom=this._options.frozenRow),this.cleanUpAndRenderCells(i)}this.cleanUpAndRenderCells(e)}this.renderRows(e),this.hasFrozenRows&&(this._options.frozenBottom?this.renderRows({top:this.actualFrozenRow,bottom:this.getDataLength()-1,leftPx:e.leftPx,rightPx:e.rightPx}):this.renderRows({top:0,bottom:this._options.frozenRow-1,leftPx:e.leftPx,rightPx:e.rightPx})),this.postProcessFromRow=t.top,this.postProcessToRow=Math.min(this.getDataLengthIncludingAddNew()-1,t.bottom),this.startPostProcessing(),this.lastRenderedScrollTop=this.scrollTop,this.lastRenderedScrollLeft=this.scrollLeft,this.triggerEvent(this.onRendered,{startRow:t.top,endRow:t.bottom,grid:this})}}handleHeaderRowScroll(){let t=this._headerRowScrollContainer.scrollLeft;t!==this._viewportScrollContainerX.scrollLeft&&(this._viewportScrollContainerX.scrollLeft=t)}handleFooterRowScroll(){let t=this._footerRowScrollContainer.scrollLeft;t!==this._viewportScrollContainerX.scrollLeft&&(this._viewportScrollContainerX.scrollLeft=t)}handlePreHeaderPanelScroll(){this.handleElementScroll(this._preHeaderPanelScroller)}handleTopHeaderPanelScroll(){this.handleElementScroll(this._topHeaderPanelScroller)}handleElementScroll(t){let e=t.scrollLeft;e!==this._viewportScrollContainerX.scrollLeft&&(this._viewportScrollContainerX.scrollLeft=e)}handleScroll(t){return this.scrollHeight=this._viewportScrollContainerY.scrollHeight,this.scrollTop=this._viewportScrollContainerY.scrollTop,this.scrollLeft=this._viewportScrollContainerX.scrollLeft,this._handleScroll(t?"scroll":"system")}_handleScroll(t="system"){let e=this._viewportScrollContainerY.scrollHeight-this._viewportScrollContainerY.clientHeight,i=this._viewportScrollContainerY.scrollWidth-this._viewportScrollContainerY.clientWidth;e=Math.max(0,e),i=Math.max(0,i),this.scrollTop>e&&(this.scrollTop=e,this.scrollHeight=e),this.scrollLeft>i&&(this.scrollLeft=i);let r=Math.abs(this.scrollTop-this.prevScrollTop),s=Math.abs(this.scrollLeft-this.prevScrollLeft);if(s&&(this.prevScrollLeft=this.scrollLeft,this._viewportScrollContainerX.scrollLeft=this.scrollLeft,this._headerScrollContainer.scrollLeft=this.scrollLeft,this._topPanelScrollers[0].scrollLeft=this.scrollLeft,this._options.createFooterRow&&(this._footerRowScrollContainer.scrollLeft=this.scrollLeft),this._options.createPreHeaderPanel&&(this.hasFrozenColumns()?this._preHeaderPanelScrollerR.scrollLeft=this.scrollLeft:this._preHeaderPanelScroller.scrollLeft=this.scrollLeft),this._options.createTopHeaderPanel&&(this._topHeaderPanelScroller.scrollLeft=this.scrollLeft),this.hasFrozenColumns()?(this.hasFrozenRows&&(this._viewportTopR.scrollLeft=this.scrollLeft),this._headerRowScrollerR.scrollLeft=this.scrollLeft):(this.hasFrozenRows&&(this._viewportTopL.scrollLeft=this.scrollLeft),this._headerRowScrollerL.scrollLeft=this.scrollLeft)),r&&!this._options.autoHeight&&(this.vScrollDir=this.prevScrollTop<this.scrollTop?1:-1,this.prevScrollTop=this.scrollTop,t==="mousewheel"&&(this._viewportScrollContainerY.scrollTop=this.scrollTop),this.hasFrozenColumns()&&(this.hasFrozenRows&&!this._options.frozenBottom?this._viewportBottomL.scrollTop=this.scrollTop:this._viewportTopL.scrollTop=this.scrollTop),r<this.viewportH?this.scrollTo(this.scrollTop+this.offset):(this.h===this.viewportH?this.page=0:this.page=Math.min(this.n-1,Math.floor(this.scrollTop*((this.th-this.viewportH)/(this.h-this.viewportH))*(1/this.ph))),this.offset=Math.round(this.page*this.cj))),s||r){let o=Math.abs(this.lastRenderedScrollLeft-this.scrollLeft),a=Math.abs(this.lastRenderedScrollTop-this.scrollTop);(o>20||a>20)&&(this._options.forceSyncScrolling||a<this.viewportH&&o<this.viewportW?this.render():this.scrollThrottle.enqueue(),this.triggerEvent(this.onViewportChanged,{}))}return this.triggerEvent(this.onScroll,{triggeredBy:t,scrollHeight:this.scrollHeight,scrollLeft:this.scrollLeft,scrollTop:this.scrollTop}),!!(s||r)}actionThrottle(t,e){let i=!1,r=!1,s=()=>{i?r=!0:a()},o=()=>{r=!1},a=()=>{i=!0,window.clearTimeout(this._executionBlockTimer),this._executionBlockTimer=window.setTimeout(l,e),t.call(this)},l=()=>{r?(o(),a()):i=!1};return{enqueue:s.bind(this),dequeue:o.bind(this)}}asyncPostProcessRows(){let t=this.getDataLength();for(;this.postProcessFromRow<=this.postProcessToRow;){let e=this.vScrollDir>=0?this.postProcessFromRow++:this.postProcessToRow--,i=this.rowsCache[e];if(!(!i||e>=t)){this.postProcessedRows[e]||(this.postProcessedRows[e]={}),this.ensureCellNodesInRowsCache(e),Object.keys(i.cellNodesByColumnIdx).forEach(r=>{if(i.cellNodesByColumnIdx.hasOwnProperty(r)){let s=+r,o=this.columns[s],a=this.postProcessedRows[e][s];if(o.asyncPostRender&&a!=="R"){let l=i.cellNodesByColumnIdx[s];l&&o.asyncPostRender(l,e,this.getDataItem(e),o,a==="C"),this.postProcessedRows[e][s]="R"}}}),this.h_postrender=window.setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay);return}}}asyncPostProcessCleanupRows(){if(this.postProcessedCleanupQueue.length>0){let t=this.postProcessedCleanupQueue[0].groupId;for(;this.postProcessedCleanupQueue.length>0&&this.postProcessedCleanupQueue[0].groupId===t;){let e=this.postProcessedCleanupQueue.shift();if(e?.actionType==="R"&&e.node.forEach(i=>{i.remove()}),e?.actionType==="C"){let i=this.columns[e.columnIdx];i.asyncPostRenderCleanup&&e.node&&i.asyncPostRenderCleanup(e.node,e.rowIdx,i)}}this.h_postrenderCleanup=window.setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostRenderCleanupDelay)}}updateCellCssStylesOnRenderedRows(t,e){let i,r,s;typeof this.rowsCache=="object"&&Object.keys(this.rowsCache).forEach(o=>{this.rowsCache&&(s=e?.[o],r=t?.[o],s&&Object.keys(s).forEach(a=>{(!r||s[a]!==r[a])&&(i=this.getCellNode(+o,this.getColumnIndex(a)),i&&i.classList.remove(s[a]))}),r&&Object.keys(r).forEach(a=>{(!s||s[a]!==r[a])&&(i=this.getCellNode(+o,this.getColumnIndex(a)),i&&i.classList.add(r[a]))}))})}addCellCssStyles(t,e){if(this.cellCssClasses[t])throw new Error(`SlickGrid addCellCssStyles: cell CSS hash with key "${t}" already exists.`);this.cellCssClasses[t]=e,this.updateCellCssStylesOnRenderedRows(e,null),this.triggerEvent(this.onCellCssStylesChanged,{key:t,hash:e,grid:this})}removeCellCssStyles(t){this.cellCssClasses[t]&&(this.updateCellCssStylesOnRenderedRows(null,this.cellCssClasses[t]),delete this.cellCssClasses[t],this.triggerEvent(this.onCellCssStylesChanged,{key:t,hash:null,grid:this}))}setCellCssStyles(t,e){let i=this.cellCssClasses[t];this.cellCssClasses[t]=e,this.updateCellCssStylesOnRenderedRows(e,i),this.triggerEvent(this.onCellCssStylesChanged,{key:t,hash:e,grid:this})}getCellCssStyles(t){return this.cellCssClasses[t]}flashCell(t,e,i=250){let r=(s,o)=>{o>0&&(window.clearTimeout(this._flashCellTimer),this._flashCellTimer=window.setTimeout(()=>{o%2===0?s.classList.add(this._options.cellFlashingCssClass||""):s.classList.remove(this._options.cellFlashingCssClass||""),r(s,o-1)},i))};if(this.rowsCache[t]){let s=this.getCellNode(t,e);s&&r(s,5)}}highlightRow(t,e){let i=this.rowsCache[t];e||=this._options.rowHighlightDuration,Array.isArray(i?.rowNode)&&this._options.rowHighlightCssClass&&(i.rowNode.forEach(r=>r.classList.add(...Ut(this._options.rowHighlightCssClass))),window.clearTimeout(this._highlightRowTimer),this._highlightRowTimer=window.setTimeout(()=>{i.rowNode?.forEach(r=>r.classList.remove(...Ut(this._options.rowHighlightCssClass)))},e))}handleMouseWheel(t,e,i,r){this.scrollHeight=this._viewportScrollContainerY.scrollHeight,t.shiftKey?this.scrollLeft=this._viewportScrollContainerX.scrollLeft+i*10:(this.scrollTop=Math.max(0,this._viewportScrollContainerY.scrollTop-r*this._options.rowHeight),this.scrollLeft=this._viewportScrollContainerX.scrollLeft+i*10),this._handleScroll("mousewheel")&&t.preventDefault()}handleDragInit(t,e){let i=this.getCellFromEvent(t);if(!i||!this.cellExists(i.row,i.cell))return!1;let r=this.triggerEvent(this.onDragInit,e,t);return r.isImmediatePropagationStopped()?r.getReturnValue():!1}handleDragStart(t,e){let i=this.getCellFromEvent(t);if(!i||!this.cellExists(i.row,i.cell))return!1;let r=this.triggerEvent(this.onDragStart,e,t);return r.isImmediatePropagationStopped()?r.getReturnValue():!1}handleDrag(t,e){return this.triggerEvent(this.onDrag,e,t).getReturnValue()}handleDragEnd(t,e){this.triggerEvent(this.onDragEnd,e,t)}handleKeyDown(t){let i=this.triggerEvent(this.onKeyDown,{row:this.activeRow,cell:this.activeCell},t).isImmediatePropagationStopped();if(!i&&!t.shiftKey&&!t.altKey){if(this._options.editable&&this.currentEditor?.keyCaptureList&&this.currentEditor.keyCaptureList.indexOf(t.which)>-1)return;t.ctrlKey&&t.key==="Home"?this.navigateTopStart():t.ctrlKey&&t.key==="End"?this.navigateBottomEnd():t.ctrlKey&&t.key==="ArrowUp"?this.navigateTop():t.ctrlKey&&t.key==="ArrowDown"?this.navigateBottom():t.ctrlKey&&t.key==="ArrowLeft"||!t.ctrlKey&&t.key==="Home"?this.navigateRowStart():(t.ctrlKey&&t.key==="ArrowRight"||!t.ctrlKey&&t.key==="End")&&this.navigateRowEnd()}if(!i)if(!t.shiftKey&&!t.altKey&&!t.ctrlKey)if(t.key==="Escape"){if(!this.getEditorLock()?.isActive())return;this.cancelEditAndSetFocus()}else t.key==="PageDown"?(this.navigatePageDown(),i=!0):t.key==="PageUp"?(this.navigatePageUp(),i=!0):t.key==="ArrowLeft"?i=this.navigateLeft():t.key==="ArrowRight"?i=this.navigateRight():t.key==="ArrowUp"?i=this.navigateUp():t.key==="ArrowDown"?i=this.navigateDown():t.key==="Tab"?i=this.navigateNext():t.key==="Enter"&&(this._options.editable&&(this.currentEditor?this.activeRow===this.getDataLength()?this.navigateDown():this.commitEditAndSetFocus():this.getEditorLock()?.commitCurrentEdit()&&this.makeActiveCellEditable(void 0,void 0,t)),i=!0);else t.key==="Tab"&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&(i=this.navigatePrev());i&&(t.stopPropagation(),t.preventDefault())}handleClick(t){let e=t instanceof Ct?t.getNativeEvent():t;if(!this.currentEditor&&(e.target!==document.activeElement||e.target.classList.contains("slick-cell"))){let r=this.getTextSelection();this.setFocus(),this.setTextSelection(r)}let i=this.getCellFromEvent(e);if(!(!i||this.currentEditor!==null&&this.activeRow===i.row&&this.activeCell===i.cell)&&(t=this.triggerEvent(this.onClick,{row:i.row,cell:i.cell},t||e),!(t.isImmediatePropagationStopped()||e.defaultPrevented)&&this.canCellBeActive(i.row,i.cell)&&(!this.getEditorLock()?.isActive()||this.getEditorLock()?.commitCurrentEdit()))){this.scrollRowIntoView(i.row,!1);let r=e.target?.className===ZD,s=this.columns[i.cell],o=!!(this._options.editable&&s?.editorClass&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(this.getCellNode(i.row,i.cell),null,r,o,e)}}handleContextMenu(t){let e=t.target.closest(".slick-cell");e&&(this.activeCellNode===e&&this.currentEditor!==null||this.triggerEvent(this.onContextMenu,{},t))}handleDblClick(t){let e=this.getCellFromEvent(t);!e||this.currentEditor!==null&&this.activeRow===e.row&&this.activeCell===e.cell||(this.triggerEvent(this.onDblClick,{row:e.row,cell:e.cell},t),!t.defaultPrevented&&this._options.editable&&this.gotoCell(e.row,e.cell,!0,t))}handleHeaderMouseEnter(t){let e=B.storage.get(t.target.closest(".slick-header-column"),"column");e&&this.triggerEvent(this.onHeaderMouseEnter,{column:e,grid:this},t)}handleHeaderMouseOver(t){let e=B.storage.get(t.target.closest(".slick-header-column"),"column");e&&this.triggerEvent(this.onHeaderMouseOver,{column:e,grid:this},t)}handleHeaderMouseLeave(t){let e=B.storage.get(t.target.closest(".slick-header-column"),"column");e&&this.triggerEvent(this.onHeaderMouseLeave,{column:e,grid:this},t)}handleHeaderMouseOut(t){let e=B.storage.get(t.target.closest(".slick-header-column"),"column");e&&this.triggerEvent(this.onHeaderMouseOut,{column:e,grid:this},t)}handleHeaderRowMouseEnter(t){let e=B.storage.get(t.target.closest(".slick-headerrow-column"),"column");e&&this.triggerEvent(this.onHeaderRowMouseEnter,{column:e,grid:this},t)}handleHeaderRowMouseOver(t){let e=B.storage.get(t.target.closest(".slick-headerrow-column"),"column");e&&this.triggerEvent(this.onHeaderRowMouseOver,{column:e,grid:this},t)}handleHeaderRowMouseLeave(t){let e=B.storage.get(t.target.closest(".slick-headerrow-column"),"column");e&&this.triggerEvent(this.onHeaderRowMouseLeave,{column:e,grid:this},t)}handleHeaderRowMouseOut(t){let e=B.storage.get(t.target.closest(".slick-headerrow-column"),"column");e&&this.triggerEvent(this.onHeaderRowMouseOut,{column:e,grid:this},t)}handleHeaderContextMenu(t){let e=t.target.closest(".slick-header-column"),i=e&&B.storage.get(e,"column");this.triggerEvent(this.onHeaderContextMenu,{column:i},t)}handleHeaderClick(t){if(!this.columnResizeDragging){let e=t.target.closest(".slick-header-column"),i=e&&B.storage.get(e,"column");i&&this.triggerEvent(this.onHeaderClick,{column:i},t)}}handlePreHeaderContextMenu(t){this.triggerEvent(this.onPreHeaderContextMenu,{node:t.target},t)}handlePreHeaderClick(t){this.columnResizeDragging||this.triggerEvent(this.onPreHeaderClick,{node:t.target},t)}handleFooterContextMenu(t){let e=t.target.closest(".slick-footerrow-column"),i=e&&B.storage.get(e,"column");this.triggerEvent(this.onFooterContextMenu,{column:i},t)}handleFooterClick(t){let e=t.target.closest(".slick-footerrow-column"),i=e&&B.storage.get(e,"column");this.triggerEvent(this.onFooterClick,{column:i},t)}handleCellMouseOver(t){this.triggerEvent(this.onMouseEnter,{},t)}handleCellMouseOut(t){this.triggerEvent(this.onMouseLeave,{},t)}cellExists(t,e){return!(t<0||t>=this.getDataLength()||e<0||e>=this.columns.length)}getCellFromPoint(t,e){let i=this.getRowFromPosition(e),r=0,s=0;for(let o=0;o<this.columns.length&&s<=t;o++)this.columns[o]&&(s+=this.columns[o].width,r++);return r-=1,i<-1&&(i=-1),{row:i,cell:r}}getCellFromNode(t){let e=/l\d+/.exec(t.className);if(!e)throw new Error(`SlickGrid getCellFromNode: cannot get cell - ${t.className}`);return parseInt(e[0].substr(1,e[0].length-1),10)}getRowFromNode(t){for(let e in this.rowsCache)if(this.rowsCache){for(let i in this.rowsCache[e].rowNode)if(this.rowsCache[e].rowNode?.[+i]===t)return e?parseInt(e,10):0}return null}getFrozenRowOffset(t){let e=0;return this.hasFrozenRows?this._options.frozenBottom?t>=this.actualFrozenRow?this.h<this.viewportTopH?e=this.actualFrozenRow*this._options.rowHeight:e=this.h:e=0:t>=this.actualFrozenRow?e=this.frozenRowsHeight:e=0:e=0,e}getCellFromEvent(t){let e=t instanceof Ct?t.getNativeEvent():t;if(!e)return null;let i=e.touches?e.touches[0]:e,r=e.target.closest(".slick-cell");if(!r)return null;let s=this.getRowFromNode(r.parentNode);if(this.hasFrozenRows){let a=0,l=pi(B.parents(r,".grid-canvas")[0]);B.parents(r,".grid-canvas-bottom").length&&(a=this._options.frozenBottom?B.height(this._canvasTopL):this.frozenRowsHeight);let h=i.clientX-l.left,m=i.clientY-l.top+a+document.documentElement.scrollTop;s=this.getCellFromPoint(h,m).row}let o=this.getCellFromNode(r);return!La(s)||!La(o)?null:{row:s,cell:o}}getCellNodeBox(t,e){if(!this.cellExists(t,e))return null;let i=this.getFrozenRowOffset(t),r=this.getRowTop(t)-i,s=r+this._options.rowHeight-1,o=0;for(let l=0;l<e;l++)this.columns[l]&&!this.columns[l].hidden&&(o+=this.columns[l].width||0,this._options.frozenColumn===l&&(o=0));let a=o+(this.columns[e]?.width||0);return{top:r,left:o,bottom:s,right:a}}resetActiveCell(){this.setActiveCellInternal(null,!1)}unsetActiveCell(){mt(this.activeCellNode)&&(this.makeActiveCellNormal(),this.activeCellNode.classList.remove("active"),this.rowsCache[this.activeRow]?.rowNode?.forEach(t=>t.classList.remove("active")))}focus(){this.setFocus()}setFocus(){this.tabbingDirection===-1?this._focusSink.focus():this._focusSink2.focus()}scrollCellIntoView(t,e,i){if(this.scrollRowIntoView(t,i),e>this._options.frozenColumn){let r=this.getColspan(t,e);this.internalScrollColumnIntoView(this.columnPosLeft[e],this.columnPosRight[e+(r>1?r-1:0)])}}internalScrollColumnIntoView(t,e){let i=this.scrollLeft+B.width(this._viewportScrollContainerX)-(this.viewportHasVScroll&&this.scrollbarDimensions?.width||0);t<this.scrollLeft?(this._viewportScrollContainerX.scrollLeft=t,this.handleScroll(),this.render()):e>i&&(this._viewportScrollContainerX.scrollLeft=Math.min(t,e-this._viewportScrollContainerX.clientWidth),this.handleScroll(),this.render())}scrollColumnIntoView(t){this.internalScrollColumnIntoView(this.columnPosLeft[t],this.columnPosRight[t])}setActiveCellInternal(t,e,i,r,s){if(this.unsetActiveCell(),this.activeCellNode=t,mt(this.activeCellNode)){let o=pi(this.activeCellNode),a=Math.floor(pi(B.parents(this.activeCellNode,".grid-canvas")[0]).top),l=B.parents(this.activeCellNode,".grid-canvas-bottom").length;this.hasFrozenRows&&l&&(a-=this._options.frozenBottom?B.height(this._canvasTopL):this.frozenRowsHeight);let c=this.getCellFromPoint(o.left,Math.ceil(o.top)-a);this.activeRow=this.activePosY=c.row,this.activeCell=this.activePosX=this.getCellFromNode(this.activeCellNode),!mt(e)&&this._options.autoEditNewRow&&(e=this.activeRow===this.getDataLength()||this._options.autoEdit),this._options.showCellSelection&&(document.querySelectorAll(".slick-cell.active").forEach(h=>h.classList.remove("active")),this.activeCellNode.classList.add("active"),this.rowsCache[this.activeRow]?.rowNode?.forEach(h=>h.classList.add("active"))),this._options.editable&&e&&this.isCellPotentiallyEditable(this.activeRow,this.activeCell)&&(this._options.asyncEditorLoading?(window.clearTimeout(this.h_editorLoader),this.h_editorLoader=window.setTimeout(()=>{this.makeActiveCellEditable(void 0,i,s)},this._options.asyncEditorLoadDelay)):this.makeActiveCellEditable(void 0,i,s))}else this.activeRow=this.activeCell=null;r||this.triggerEvent(this.onActiveCellChanged,this.getActiveCell())}clearTextSelection(){if(document.selection?.empty)try{document.selection.empty()}catch{}else if(window.getSelection){let t=window.getSelection();t?.removeAllRanges&&t.removeAllRanges()}}isCellPotentiallyEditable(t,e){let i=this.getDataLength();return!(t<i&&!this.getDataItem(t)||this.columns[e].cannotTriggerInsert&&t>=i||!this.columns[e]||this.columns[e].hidden||!this.getEditor(t,e))}makeActiveCellNormal(t=!1){if(this.currentEditor){if(this.triggerEvent(this.onBeforeCellEditorDestroy,{editor:this.currentEditor}),this.currentEditor.destroy(),this.currentEditor=null,this.activeCellNode){let e=this.getDataItem(this.activeRow);if(this.activeCellNode.classList.remove("editable"),this.activeCellNode.classList.remove("invalid"),e){let i=this.columns[this.activeCell],s=this.getFormatter(this.activeRow,i)(this.activeRow,this.activeCell,this.getDataItemValueForColumn(e,i),i,e,this);this.applyFormatResultToCellNode(s,this.activeCellNode),this.invalidatePostProcessingResults(this.activeRow)}t&&this.setFocus()}navigator.userAgent.toLowerCase().match(/msie/)&&this.clearTextSelection(),this.getEditorLock()?.deactivate(this.editController)}}editActiveCell(t,e,i){this.makeActiveCellEditable(t,e,i)}makeActiveCellEditable(t,e,i){if(!this.activeCellNode)return;if(!this._options.editable)throw new Error("SlickGrid makeActiveCellEditable : should never get called when grid options.editable is false");if(window.clearTimeout(this.h_editorLoader),!this.isCellPotentiallyEditable(this.activeRow,this.activeCell))return;let r=this.columns[this.activeCell],s=this.getDataItem(this.activeRow);if(this.triggerEvent(this.onBeforeEditCell,{row:this.activeRow,cell:this.activeCell,item:s,column:r,target:"grid"}).getReturnValue()===!1){this.setFocus();return}this.getEditorLock()?.activate(this.editController),this.activeCellNode.classList.add("editable");let o=t||this.getEditor(this.activeRow,this.activeCell);if(typeof o=="function"){!t&&!o.suppressClearOnEdit&&ut(this.activeCellNode);let a=this.getItemMetadaWhenExists(this.activeRow);a=a?.columns;let l=a&&(a[r.id]||a[this.activeCell]),c={grid:this,gridPosition:this.absBox(this._container),position:this.absBox(this.activeCellNode),container:this.activeCellNode,column:r,columnMetaData:l,item:s||{},event:i,commitChanges:this.commitEditAndSetFocus.bind(this),cancelChanges:this.cancelEditAndSetFocus.bind(this)};this.currentEditor=new o(c),s&&this.currentEditor&&(this.currentEditor.loadValue(s),e&&typeof this.currentEditor?.preClick=="function"&&this.currentEditor.preClick()),this.serializedEditorValue=this.currentEditor?.serializeValue(),this.currentEditor?.position&&this.handleActiveCellPositionChange()}}commitEditAndSetFocus(t=!0){this.getEditorLock()?.commitCurrentEdit()&&(this.setFocus(),this._options.autoEdit&&!this._options.autoCommitEdit&&t&&this.navigateDown())}cancelEditAndSetFocus(){this.getEditorLock()?.cancelCurrentEdit()&&this.setFocus()}absBox(t){let e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:t.offsetWidth,height:t.offsetWidth,visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;let i=t.offsetParent;for(;(t=t.parentNode)!==document.body&&!(!t||!t.parentNode);){let r=getComputedStyle(t);e.visible&&t.scrollHeight!==t.offsetHeight&&r.overflowY!=="visible"&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!==t.offsetWidth&&r.overflowX!=="visible"&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===i&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,i=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width}return e}getActiveCellPosition(){return this.absBox(this.activeCellNode)}getGridPosition(){return this.absBox(this._container)}handleActiveCellPositionChange(){if(this.activeCellNode&&(this.triggerEvent(this.onActiveCellPositionChanged,{}),this.currentEditor)){let t=this.getActiveCellPosition();this.currentEditor.show&&this.currentEditor.hide&&(t.visible?this.currentEditor.show():this.currentEditor.hide()),this.currentEditor.position&&this.currentEditor.position(t)}}getCellEditor(){return this.currentEditor}getActiveCell(){return this.activeCellNode?{row:this.activeRow,cell:this.activeCell}:null}getActiveCellNode(){return this.activeCellNode}getTextSelection(){let t=null;if(window.getSelection){let e=window.getSelection();(e?.rangeCount||0)>0&&(t=e.getRangeAt(0))}return t}setTextSelection(t){if(window.getSelection&&t){let e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(t))}}scrollRowIntoView(t,e){if(!this.hasFrozenRows||!this._options.frozenBottom&&t>this.actualFrozenRow-1||this._options.frozenBottom&&t<this.actualFrozenRow-1){let i=B.height(this._viewportScrollContainerY),r=this.hasFrozenRows&&!this._options.frozenBottom?t-this._options.frozenRow:t,s=r*this._options.rowHeight,o=(r+1)*this._options.rowHeight-i+(this.viewportHasHScroll&&this.scrollbarDimensions?.height||0);(r+1)*this._options.rowHeight>this.scrollTop+i+this.offset?(this.scrollTo(e?s:o),this.render()):r*this._options.rowHeight<this.scrollTop+this.offset&&(this.scrollTo(e?o:s),this.render())}}scrollRowToTop(t){this.scrollTo(t*this._options.rowHeight),this.render()}scrollPage(t){let e=t*this.numVisibleRows,i=this.scrollTop+this._options.rowHeight-1;if(this.scrollTo((this.getRowFromPosition(i)+e)*this._options.rowHeight),this.render(),this._options.enableCellNavigation&&mt(this.activeRow)){let r=this.activeRow+e,s=this.getDataLengthIncludingAddNew();r>=s&&(r=s-1),r<0&&(r=0);let o=t===1?this.gotoDown(r-1||0,this.activeCell,this.activePosY,this.activePosX):this.gotoUp(r+1,this.activeCell,this.activePosY,this.activePosX);this.navigateToPos(o)}}navigatePageDown(){this.unsetActiveCell(),this.scrollPage(1)}navigatePageUp(){this.unsetActiveCell(),this.scrollPage(-1)}navigateTop(){this.unsetActiveCell(),this.navigateToRow(0)}navigateBottom(){let t=this.getDataLength()-1,e=this.getParentRowSpanByCell(t,this.activeCell)?.start??t;do if(this._options.enableCellRowSpan&&this.setActiveRow(e),this.navigateToRow(e)&&this.activeCell===this.activePosX||!mt(this.activeCell))break;while(--e>0)}navigateToRow(t){let e=this.getDataLength();if(!e)return!1;t<0?t=0:t>=e&&(t=e-1),this.scrollCellIntoView(t,0,!0);let i=!mt(this.activeCell)||!mt(this.activeRow);if(this._options.enableCellNavigation&&mt(this.activeRow)){let r=0,s=null,o=this.activePosX;for(;r<=this.activePosX;)this.canCellBeActive(t,r)&&(s=r,(!mt(this.activeCell)||r===this.activeCell)&&(i=!0)),r+=this.getColspan(t,r);s!==null?(this.setActiveCellInternal(this.getCellNode(t,s)),this.activePosX=o):this.resetActiveCell()}return i}getColspan(t,e){let i=this.getItemMetadaWhenExists(t);if(!i||!i.columns)return 1;e>=this.columns.length&&(e=this.columns.length-1);let s=(i.columns[this.columns[e].id]||i.columns[e])?.colspan;return s==="*"?s=this.columns.length-e:s=s||1,s}getRowspan(t,e){let i=1,r=this.getItemMetadaWhenExists(t);return r?.columns&&Object.keys(r.columns).forEach(s=>{let o=Number(s);if(o===e){let a=r.columns[o];i=Number(a?.rowspan||1)}}),i}findFocusableRow(t,e,i){let r=t,s=this._colsWithRowSpanCache[e]||new Set,o=!1;return Array.from(s).forEach(a=>{let[l,c]=a.split(":").map(Number);!o&&t>=l&&t<=c&&(r=i==="up"?l:c,this.canCellBeActive(r,e)&&(o=!0))}),r}findFirstFocusableCell(t){let e=0,i=t,r=-1;for(;e<this.columns.length;){let s=this.getParentRowSpanByCell(t,e);if(i=s!==null&&s.start!==t?s.start:t,this.canCellBeActive(i,e)){r=e;break}e+=this.getColspan(i,e)}return{cell:r,row:i}}findLastFocusableCell(t){let e=0,i=t,r=-1;for(;e<this.columns.length;){let s=this.getParentRowSpanByCell(t,e);i=s!==null&&s.start!==t?s.start:t,this.canCellBeActive(i,e)&&(r=e),e+=this.getColspan(i,e)}return{cell:r,row:i}}findSpanStartingCell(t,e){let i=this.getParentRowSpanByCell(t,e),r=i!==null&&i.start!==t?i.start:t,s=0,o=0;for(;s<this.columns.length;){if(s+=this.getColspan(r,s),s>e)return s=o,{cell:s,row:r};o=s}return{cell:s,row:r}}gotoRight(t,e,i,r){if(e<this.columns.length){let s=e+1,o=i;do{let a=this.findSpanStartingCell(i,s);if(o=a.row,s=a.cell,this.canCellBeActive(o,s)&&s>e)break;s+=this.getColspan(o,a.cell)}while(s<this.columns.length);if(s<this.columns.length)return{row:o,cell:s,posX:s,posY:i}}return null}gotoLeft(t,e,i,r){let s=this.findFirstFocusableCell(t);if(e<=0||s.cell>=e)return null;let o,a={row:t,cell:s.cell,posX:s.cell,posY:i};for(;;){if(o=this.gotoRight(a.row,a.cell,a.posY,a.posX),!o)return null;if(o.cell>=e){let l=this.findFocusableRow(i,a.cell,"up");return l!==a.row&&(a.row=l),a}a=o}}gotoDown(t,e,i,r){let s,o=this.getDataLengthIncludingAddNew();do for(t+=this.getRowspan(t,r),s=e=0;e<=r;)s=e,e+=this.getColspan(t,e);while(t<=o&&!this.canCellBeActive(t,s));return t<=o?{row:t,cell:s,posX:r,posY:t}:null}gotoUp(t,e,i,r){let s;if(t>0){do for(t=this.findFocusableRow(t-1,r,"up"),s=e=0;e<=r;)s=e,e+=this.getColspan(t,e);while(t>=0&&!this.canCellBeActive(t,s));if(e<=this.columns.length)return{row:t,cell:s,posX:r,posY:t}}return null}gotoNext(t,e,i,r){if(!La(t)&&!La(e)&&(t=e=i=r=0,this.canCellBeActive(t,e)))return{row:t,cell:e,posX:e,posY:i};let s=this.gotoRight(t,e,i,r);if(!s){let o;for(;!s&&++i<this.getDataLength()+(this._options.enableAddRow?1:0);)o=this.findFirstFocusableCell(i),t=this.getParentRowSpanByCell(i,o.cell)?.start??i,s={row:t,cell:o.cell,posX:o.cell,posY:i}}return s}gotoPrev(t,e,i,r){if(!La(t)&&!La(e)&&(t=i=this.getDataLengthIncludingAddNew()-1,e=r=this.columns.length-1,this.canCellBeActive(t,e)))return{row:t,cell:e,posX:e,posY:i};let s=this.gotoLeft(t,e,i,r);if(!s){let o;for(;!s&&--i>=0;)o=this.findLastFocusableCell(i),o.cell>-1&&(t=this.getParentRowSpanByCell(i,o.cell)?.start??i,s={row:t,cell:o.cell,posX:o.cell,posY:i})}return s}gotoRowStart(t,e,i,r){let s=this.findFirstFocusableCell(t);return{row:s.row,cell:s.cell,posX:s.cell,posY:t}}gotoRowEnd(t,e,i,r){let s=this.findLastFocusableCell(t);return s.cell===-1?null:{row:s.row,cell:s.cell,posX:s.cell,posY:t}}navigateRight(){return this.navigate("right")}navigateLeft(){return this.navigate("left")}navigateDown(){return this.navigate("down")}navigateUp(){return this.navigate("up")}navigateNext(){return this.navigate("next")}navigatePrev(){return this.navigate("prev")}navigateRowStart(){return this.navigate("home")}navigateRowEnd(){return this.navigate("end")}navigateTopStart(){return this.unsetActiveCell(),this.navigateToRow(0),this.navigate("home")}navigateBottomEnd(){return this.navigateBottom(),this.navigate("end")}navigate(t){if(!this._options.enableCellNavigation||!this.activeCellNode&&t!=="prev"&&t!=="next")return!1;if(!this.getEditorLock()?.commitCurrentEdit())return!0;this.setFocus(),this.unsetActiveCell();let e={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1};this.tabbingDirection=e[t];let s={up:this.gotoUp,down:this.gotoDown,left:this.gotoLeft,right:this.gotoRight,prev:this.gotoPrev,next:this.gotoNext,home:this.gotoRowStart,end:this.gotoRowEnd}[t].call(this,this.activeRow,this.activeCell,this.activePosY,this.activePosX);return this.navigateToPos(s)}navigateToPos(t){if(t){if(this.hasFrozenRows&&this._options.frozenBottom&&t.row===this.getDataLength())return;let e=t.row===this.getDataLength();return(!this._options.frozenBottom&&t.row>=this.actualFrozenRow||this._options.frozenBottom&&t.row<this.actualFrozenRow)&&this.scrollCellIntoView(t.row,t.cell,!e&&this._options.emulatePagingWhenScrolling),this.setActiveCellInternal(this.getCellNode(t.row,t.cell)),this.activePosX=t.posX,this.activePosY=t.posY,!0}else return this.setActiveCellInternal(this.getCellNode(this.activeRow,this.activeCell)),!1}getCellNode(t,e){if(this.rowsCache[t]){this.ensureCellNodesInRowsCache(t);try{return this.rowsCache[t].cellNodesByColumnIdx.length>e?this.rowsCache[t].cellNodesByColumnIdx[e]:null}catch{return this.rowsCache[t].cellNodesByColumnIdx[e]}}return null}getRowCache(){return this.rowsCache}setActiveCell(t,e,i,r,s){!this.initialized||!this._options.enableCellNavigation||t>this.getDataLength()||t<0||e>=this.columns.length||e<0||(this.scrollCellIntoView(t,e,!1),this.setActiveCellInternal(this.getCellNode(t,e),i,r,s))}setActiveRow(t,e,i){e??=0,!(!this.initialized||t>this.getDataLength()||t<0||e>=this.columns.length||e<0)&&(this.activeRow=t,i||this.scrollCellIntoView(t,e,!1))}canCellBeActive(t,e){if(!this._options.enableCellNavigation||t>=this.getDataLengthIncludingAddNew()||t<0||e>=this.columns.length||e<0||!this.columns[e]||this.columns[e].hidden||(this.getParentRowSpanByCell(t,e)?.start??t)!==t)return!1;let r=this.getItemMetadaWhenExists(t);if(r?.focusable!==void 0)return!!r.focusable;let s=r?.columns;return s?.[this.columns[e].id]?.focusable!==void 0?!!s[this.columns[e].id].focusable:s?.[e]?.focusable!==void 0?!!s[e].focusable:!!this.columns[e].focusable}canCellBeSelected(t,e){if(t>=this.getDataLength()||t<0||e>=this.columns.length||e<0||!this.columns[e]||this.columns[e].hidden)return!1;let i=this.getItemMetadaWhenExists(t);if(i?.selectable!==void 0)return!!i.selectable;let r=i?.columns&&(i.columns[this.columns[e].id]||i.columns[e]);return r?.selectable!==void 0?!!r.selectable:!!this.columns[e].selectable}gotoCell(t,e,i,r){if(this.initialized&&this.canCellBeActive(t,e)&&this.getEditorLock()?.commitCurrentEdit()){this.scrollCellIntoView(t,e,!1);let s=this.getCellNode(t,e),o=this.columns[e],a=!!(this._options.editable&&o?.editorClass&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(s,i||t===this.getDataLength()||this._options.autoEdit,null,a,r),this.currentEditor||this.setFocus()}}commitCurrentEdit(){let t=this,e=t.getDataItem(t.activeRow),i=t.columns[t.activeCell];if(t.currentEditor){if(t.currentEditor.isValueChanged()){let r=t.currentEditor.validate();if(r.valid){let s=t.activeRow,o=t.activeCell,a=t.currentEditor,l=t.currentEditor.serializeValue(),c=t.serializedEditorValue;if(t.activeRow<t.getDataLength()){let h={row:s,cell:o,editor:a,serializedValue:l,prevSerializedValue:c,execute:()=>{a.applyValue(e,l),t.updateRow(s),t.triggerEvent(t.onCellChange,{command:"execute",row:s,cell:o,item:e,column:i})},undo:()=>{a.applyValue(e,c),t.updateRow(s),t.triggerEvent(t.onCellChange,{command:"undo",row:s,cell:o,item:e,column:i})}};t._options.editCommandHandler?(t.makeActiveCellNormal(!0),t._options.editCommandHandler(e,i,h)):(h.execute(),t.makeActiveCellNormal(!0))}else{let h={};t.currentEditor.applyValue(h,t.currentEditor.serializeValue()),t.makeActiveCellNormal(!0),t.triggerEvent(t.onAddNewRow,{item:h,column:i})}return!t.getEditorLock()?.isActive()}else return t.activeCellNode&&(t.activeCellNode.classList.remove("invalid"),B.width(t.activeCellNode),t.activeCellNode.classList.add("invalid")),t.triggerEvent(t.onValidationError,{editor:t.currentEditor,cellNode:t.activeCellNode,validationResults:r,row:t.activeRow,cell:t.activeCell,column:i}),t.currentEditor.focus(),!1}t.makeActiveCellNormal(!0)}return!0}cancelCurrentEdit(){return this.makeActiveCellNormal(),!0}rowsToRanges(t){let e=[],i=this.columns.length-1;for(let r=0;r<t.length;r++)e.push(new mn(t[r],0,t[r],i));return e}getSelectedRows(){if(!this.selectionModel)throw new Error("SlickGrid Selection model is not set");return this.selectedRows.slice(0)}setSelectedRows(t,e){if(!this.selectionModel)throw new Error("SlickGrid Selection model is not set");let i=this.getEditorLock();typeof i?.isActive=="function"&&!i.isActive()&&this.selectionModel.setSelectedRanges(this.rowsToRanges(t),e||"SlickGrid.setSelectedRows")}sanitizeHtmlString(t){return typeof this._options?.sanitizer!="function"||!t||typeof t!="string"?t:this._options.sanitizer(t)}};var ug=class{constructor(t,e,i){this.translaterService=t,this.collectionService=e,this.rxjs=i,this._clearFilterTriggered=!1,this._collectionObservers=[],this._shouldTriggerQuery=!0,this.searchTerms=[],this.isFilled=!1,this.isItemSelected=!1,this.valueName="label",this.enableTranslateLabel=!1,this.subscriptions=[],this._bindEventService=new Yt}get autocompleterOptions(){return this._autocompleterOptions||{}}get collectionOptions(){return this.columnDef?.filter?.collectionOptions??{}}get collection(){return this._collection}get columnFilter(){return this.columnDef?.filter||{}}get filterDomElement(){return this._filterElm}get filterOptions(){return k(k({},this.gridOptions.defaultFilterOptions?.autocompleter),this.columnFilter?.filterOptions)}get customStructure(){let t=this.columnFilter?.customStructure,e=this.columnFilter?.type??this.columnDef?.type;return!t&&e===R.object&&this.columnDef?.dataKey&&this.columnDef?.labelKey&&(t={label:this.columnDef.labelKey,value:this.columnDef.dataKey}),t}get defaultOperator(){return Le.equal}get gridOptions(){return this.grid?.getOptions()??{}}get instance(){return this._instance}get operator(){return this.columnFilter?.operator??this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync&&!this.columnFilter.filterOptions)throw new Error(`[Slickgrid-Universal] You need to pass a "collection" (or "collectionAsync") for the AutoComplete Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.autocompleter, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);this.enableTranslateLabel=this.columnFilter?.enableTranslateLabel??!1,this.labelName=this.customStructure?.label??"label",this.valueName=this.customStructure?.value??"value",this.labelPrefixName=this.customStructure?.labelPrefix??"labelPrefix",this.labelSuffixName=this.customStructure?.labelSuffix??"labelSuffix",this._locales=this.gridOptions?.locales??se.locales;let e=this.columnFilter.collection;return this._collection=e,this.renderDomElement(e),new Promise((i,r)=>Ze(this,null,function*(){try{let s=this.columnFilter.collectionAsync,o;s&&!this.columnFilter.collection?(o=$f(s,this.columnDef,this.renderDomElement.bind(this),this.rxjs,this.subscriptions),i(o)):(o=e,i(e)),(s||this.columnFilter.enableCollectionWatch)&&(yield o??s,this.watchCollectionChanges())}catch(s){r(s)}}))}clear(t=!0){this._filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this._filterElm.value="",this._filterElm.dispatchEvent(new CustomEvent("input")),this.updateFilterStyle(!1))}destroy(){typeof this._instance?.destroy=="function"&&this._instance.destroy(),this._filterElm,this._filterElm?.remove?.(),this._collection=void 0,this._bindEventService.unbindAll(),this._collectionObservers.forEach(t=>t?.disconnect()),Pa(this.subscriptions)}getValues(){return this._filterElm?.value||""}setValues(t,e,i=!1){t&&this._filterElm&&(this._filterElm.value=t),this.updateFilterStyle(this.getValues()!==""),this.operator=e||this.defaultOperator,i&&this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:[this.getValues()],shouldTriggerQuery:!0})}filterCollection(t){let e=t;if(this.columnFilter&&this.columnFilter.collectionFilterBy){let i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;e=this.collectionService?.filterCollection(e,i,r)||[]}return e}sortCollection(t){let e=t;if(this.columnFilter&&this.columnFilter.collectionSortBy){let i=this.columnFilter.collectionSortBy;e=this.collectionService?.sortCollection(this.columnDef,e,i,this.enableTranslateLabel)||[]}return e}watchCollectionChanges(){this.columnFilter?.collection&&(this._collectionObservers.push(Sl(this.columnFilter.collection,t=>{this.renderDomElement(this.columnFilter.collection||t||[])})),El(this.columnFilter,"collection",t=>{this.renderDomElement(t||[]),this.columnFilter.collection&&this._collectionObservers.push(Sl(this.columnFilter.collection,e=>{this.renderDomElement(this.columnFilter.collection||e||[])}))}))}renderDomElement(t){if(!Array.isArray(t)&&this.collectionOptions?.collectionInsideObjectProperty){let r=this.collectionOptions.collectionInsideObjectProperty;t=Vi(t,r||"")}let e=t;e&&(e=this.filterCollection(e),e=this.sortCollection(e));let i=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._collection=e,this._filterElm=this.createFilterElement(e,i),this._bindEventService.bind(this._filterElm,"input",this.handleOnInputChange.bind(this)),this._bindEventService.bind(this._filterElm,"blur",()=>{this.isItemSelected||this.clear()})}createFilterElement(t,e){this._collection=t;let i=this.columnDef?.id??"";ut(this.filterContainerElm);let r=this.gridOptions?.defaultFilterPlaceholder??"";this.columnFilter?.placeholder&&(r=this.columnFilter.placeholder),this._filterElm=T("input",{type:"text",ariaLabel:this.columnFilter?.ariaLabel??`${Qr(i+"")} Search Filter`,autocomplete:"off",ariaAutoComplete:"none",placeholder:r,className:`form-control search-filter slick-filter filter-${i} slick-autocomplete-container`,value:e??"",dataset:{columnid:`${i}`}});let s=e;Array.isArray(t)&&(t.every(a=>Tl(a))?t=t.map(a=>({label:a,value:a})):t=t.map(a=>({label:a?.[this.labelName],value:a?.[this.valueName],labelPrefix:a?.[this.labelPrefixName]??"",labelSuffix:a?.[this.labelSuffixName]??""}))),this._autocompleterOptions=k({input:this._filterElm,debounceWaitMs:200,className:`slick-autocomplete ${this.filterOptions?.className??""}`.trim(),emptyMsg:this.gridOptions.enableTranslate&&this.translaterService?.translate?this.translaterService.translate("NO_ELEMENTS_FOUND"):this._locales?.TEXT_NO_ELEMENTS_FOUND??"No elements found",customize:(a,l,c)=>{c.style.width=""},onSelect:a=>{this.isItemSelected=!0,this.handleSelect(a)}},this.filterOptions),this.gridOptions?.darkMode&&(this._autocompleterOptions.className+=" slick-dark-mode"),this.autocompleterOptions.className=Ut(this.autocompleterOptions.className).join(" "),this._autocompleterOptions.renderItem?.layout?(this._autocompleterOptions.className+=` autocomplete-custom-${zo(this._autocompleterOptions.renderItem.layout)}`,this._autocompleterOptions.render=this.renderCustomItem.bind(this)):Array.isArray(t)?this._autocompleterOptions.render=this._autocompleterOptions.render?.bind(this)??this.renderCollectionItem.bind(this):this._autocompleterOptions.render||(this._autocompleterOptions.render=this.renderRegularItem.bind(this)),this.filterOptions?.fetch?(a0(this._filterElm,this._autocompleterOptions),this._instance=Uf(this._autocompleterOptions)):this._instance=Uf(Ce(k({},this._autocompleterOptions),{fetch:(a,l)=>{t&&l(t.filter(c=>((typeof c=="string"?c:c?.label)||"").toLowerCase().includes(a.toLowerCase())))}})),this._filterElm.value=s??"";let o=T("div",{className:"autocomplete-filter-container"});return o.appendChild(this._filterElm),o.appendChild(T("span")),e&&this._filterElm.classList.add("filled"),this.filterContainerElm.appendChild(o),this.filterContainerElm.appendChild(document.createElement("span")),this._filterElm}handleSelect(t){if(t!==void 0){let i=this.filterOptions?.renderItem??!1,r=typeof t=="string"?t:i?t[this.labelName]:t.label,s=typeof t=="string"?t:i?t[this.valueName]:t.value;s=this.trimWhitespaceWhenEnabled(s),this.updateFilterStyle(s!==""),this.setValues(r),this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:[s],shouldTriggerQuery:this._shouldTriggerQuery}),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return!1}handleOnInputChange(t){let e=t?.target?.value??"",i=this.filterOptions.triggerOnEveryKeyStroke??!1;if(e=this.trimWhitespaceWhenEnabled(e),this._clearFilterTriggered||e===""||i){let r={columnDef:this.columnDef,shouldTriggerQuery:this._shouldTriggerQuery};this._clearFilterTriggered?r.clearFilterTriggered=this._clearFilterTriggered:(r.operator=this.operator,r.searchTerms=[e]),this.updateFilterStyle(e!==""),this.callback(t,r)}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}renderRegularItem(t){let e=typeof t=="string"?t:t?.label??"";return T("div",{textContent:e||""})}renderCustomItem(t){let e=this._autocompleterOptions?.renderItem?.templateCallback(t)??"",i=document.createElement("div");return this.grid.applyHtmlCode(i,e),i}renderCollectionItem(t){let e=this.columnFilter?.enableRenderHtml??!1,i=t.labelPrefix||"",r=t.label||"",s=t.labelSuffix||"",o=i+r+s,a=this.grid.sanitizeHtmlString(o)||"",l=document.createElement("div");return l[e?"innerHTML":"textContent"]=a,l}trimWhitespaceWhenEnabled(t){let e=t,i=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;return typeof t=="string"&&i&&(e=t.trim()),e}updateFilterStyle(t){this.isItemSelected=t,t?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled")}};var ej=Object.defineProperty,ST=Object.getOwnPropertySymbols,tj=Object.prototype.hasOwnProperty,ij=Object.prototype.propertyIsEnumerable,I0=(n,t,e)=>t in n?ej(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,LT=(n,t)=>{for(var e in t||(t={}))tj.call(t,e)&&I0(n,e,t[e]);if(ST)for(var e of ST(t))ij.call(t,e)&&I0(n,e,t[e]);return n},Mt=(n,t,e)=>(I0(n,typeof t!="symbol"?t+"":t,e),e),nj={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};var rj=n=>`<div class="${n.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${n.grid}"><#Multiple><div class="${n.column}"><div class="${n.header}"><div class="${n.headerContent}"><#Month /><#Year /></div></div><div class="${n.wrapper}"><#WeekNumbers /><div class="${n.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,sj=n=>`<div class="${n.header}"><div class="${n.headerContent}"><#Month /><#Year /></div></div><div class="${n.wrapper}"><div class="${n.content}"><#Months /></div></div>`,oj=n=>`<div class="${n.header}"><#ArrowPrev /><div class="${n.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${n.wrapper}"><div class="${n.content}"><#Years /></div></div>`,O0=class{constructor(){var t;Mt(this,"isInit",!1),Mt(this,"isInputInit",!1),Mt(this,"input",!1),Mt(this,"type","default"),Mt(this,"months",2),Mt(this,"jumpMonths",1),Mt(this,"jumpToSelectedDate",!1),Mt(this,"toggleSelected",!0),Mt(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),Mt(this,"settings",{lang:"en",iso8601:!0,range:{min:void 0,max:void 0,disablePast:!1,disableGaps:!1,edgesOnly:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),Mt(this,"locale",{months:[],weekday:[]}),Mt(this,"sanitizer",e=>e),Mt(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),Mt(this,"popups",{}),Mt(this,"CSSClasses",LT({},nj)),Mt(this,"DOMTemplates",{default:(t=this.CSSClasses,`<div class="${t.header}"><#ArrowPrev /><div class="${t.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${t.wrapper}"><#WeekNumbers /><div class="${t.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:rj(this.CSSClasses),month:sj(this.CSSClasses),year:oj(this.CSSClasses)}),Mt(this,"HTMLElement"),Mt(this,"HTMLOriginalElement"),Mt(this,"HTMLInputElement"),Mt(this,"rangeMin"),Mt(this,"rangeMax"),Mt(this,"rangeDisabled"),Mt(this,"rangeEnabled"),Mt(this,"selectedDates"),Mt(this,"selectedHolidays"),Mt(this,"selectedMonth"),Mt(this,"selectedYear"),Mt(this,"selectedHours"),Mt(this,"selectedMinutes"),Mt(this,"selectedKeeping"),Mt(this,"selectedTime"),Mt(this,"currentType"),Mt(this,"correctMonths"),Mt(this,"viewYear"),Mt(this,"dateMin"),Mt(this,"dateMax")}},ho=n=>`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,Ti=n=>new Date(`${n}T00:00:00`),lc=n=>n.reduce((t,e)=>{if(e instanceof Date||typeof e=="number"){let i=e instanceof Date?e:new Date(e);t.push(i.toISOString().substring(0,10))}else e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(i,r,s)=>{let o=Ti(r),a=Ti(s),l=new Date(o.getTime());for(;l<=a;l.setDate(l.getDate()+1))t.push(ho(l));return i});return t},[]),mg=()=>{let n=new Date;return new Date(n.getTime()-6e4*n.getTimezoneOffset()).toISOString().substring(0,10)},Wu=n=>n?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(n)]||String(n):"",dc={notFoundSelector:n=>`${n} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},aj=n=>{var t;if(n.jumpToSelectedDate&&((t=n.settings.selected.dates)!=null&&t.length)&&n.settings.selected.month===void 0&&n.settings.selected.year===void 0){let r=Ti(lc(n.settings.selected.dates)[0]);n.settings.selected.month=r.getMonth(),n.settings.selected.year=r.getFullYear()}let e=n.settings.selected.month!==void 0&&Number(n.settings.selected.month)>=0&&Number(n.settings.selected.month)<12,i=n.settings.selected.year!==void 0&&Number(n.settings.selected.year)>=0&&Number(n.settings.selected.year)<=9999;n.selectedMonth=e?Number(n.settings.selected.month):n.date.today.getMonth(),n.selectedYear=i?Number(n.settings.selected.year):n.date.today.getFullYear(),n.viewYear=n.selectedYear},lj=n=>{var t,e,i;n.date.min==="today"&&(n.date.min=mg()),n.date.max==="today"&&(n.date.max=mg()),n.settings.range.min==="today"&&(n.settings.range.min=mg()),n.settings.range.max==="today"&&(n.settings.range.max=mg()),n.settings.range.min=n.settings.range.min?Ti(n.date.min)>=Ti(n.settings.range.min)?n.date.min:n.settings.range.min:n.date.min,n.settings.range.max=n.settings.range.max?Ti(n.date.max)<=Ti(n.settings.range.max)?n.date.max:n.settings.range.max:n.date.max;let r=n.settings.range.disablePast&&!n.settings.range.disableAllDays&&Ti(n.settings.range.min)<n.date.today;n.rangeMin=r||n.settings.range.disableAllDays?ho(n.date.today):n.settings.range.min,n.rangeMax=n.settings.range.disableAllDays?ho(n.date.today):n.settings.range.max,n.rangeDisabled=n.settings.range.disabled&&!n.settings.range.disableAllDays?lc(n.settings.range.disabled):n.settings.range.disableAllDays?[n.rangeMin]:[],n.rangeDisabled.length>1&&n.rangeDisabled.sort((s,o)=>+new Date(s)-+new Date(o)),n.rangeEnabled=n.settings.range.enabled?lc(n.settings.range.enabled):[],(t=n.rangeEnabled)!=null&&t[0]&&((e=n.rangeDisabled)!=null&&e[0])&&(n.rangeDisabled=n.rangeDisabled.filter(s=>!n.rangeEnabled.includes(s))),n.rangeEnabled.length>1&&n.rangeEnabled.sort((s,o)=>+new Date(s)-+new Date(o)),(i=n.rangeEnabled)!=null&&i[0]&&n.settings.range.disableAllDays&&(n.rangeMin=n.rangeEnabled[0],n.rangeMax=n.rangeEnabled[n.rangeEnabled.length-1])},dj=n=>{var t,e;n.selectedDates=(t=n.settings.selected.dates)!=null&&t[0]?lc(n.settings.selected.dates):[],n.selectedHolidays=(e=n.settings.selected.holidays)!=null&&e[0]?lc(n.settings.selected.holidays):[]},cj=n=>{n.dateMin=n.settings.visibility.disabled?Ti(n.date.min):Ti(n.rangeMin),n.dateMax=n.settings.visibility.disabled?Ti(n.date.max):Ti(n.rangeMax)},hj=n=>{let t=n.settings.selection.time===!0||n.settings.selection.time===12;if(t||n.settings.selection.time===24){let e=!1;if(typeof n.settings.selected.time=="string"){let i=t?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;n.settings.selected.time.replace(i,(r,s,o,a)=>(s&&o&&(e=!0,n.selectedHours=s,n.selectedMinutes=o),a&&t?n.selectedKeeping=a:t&&(n.selectedKeeping="AM"),""))}!e&&t?(n.selectedHours=Wu(String(n.date.today.getHours())),n.selectedMinutes=String(n.date.today.getMinutes()),n.selectedKeeping=Number(n.date.today.getHours())>=12?"PM":"AM"):e||(n.selectedHours=String(n.date.today.getHours()),n.selectedMinutes=String(n.date.today.getMinutes())),n.selectedHours=Number(n.selectedHours)<10?`0${Number(n.selectedHours)}`:`${n.selectedHours}`,n.selectedMinutes=Number(n.selectedMinutes)<10?`0${Number(n.selectedMinutes)}`:`${n.selectedMinutes}`,n.selectedTime=`${n.selectedHours}:${n.selectedMinutes}${n.selectedKeeping?` ${n.selectedKeeping}`:""}`}else if(n.settings.selection.time)throw new Error(dc.incorrectTime)},uj=n=>{n.correctMonths=n.type==="multiple"?n.months===1?2:n.months>12?12:n.months:1},VT=n=>{n.currentType=n.type,aj(n),lj(n),dj(n),cj(n),hj(n),uj(n)},ET=({arrowPrev:n,arrowNext:t,isPrevHidden:e,isNextHidden:i})=>{n.style.visibility=e?"hidden":"",t.style.visibility=i?"hidden":""},P0=n=>{var t,e;if(n.currentType==="month")return;let i=(t=n.HTMLElement)==null?void 0:t.querySelector(`.${n.CSSClasses.arrowPrev}`),r=(e=n.HTMLElement)==null?void 0:e.querySelector(`.${n.CSSClasses.arrowNext}`);!i||!r||{default:()=>{let s=Ti(ho(new Date(n.selectedYear,n.selectedMonth,1))),o=new Date(s.getTime()),a=new Date(s.getTime());o.setMonth(o.getMonth()-n.jumpMonths),a.setMonth(a.getMonth()+n.jumpMonths),n.settings.selection.year||(n.dateMin.setFullYear(s.getFullYear()),n.dateMax.setFullYear(s.getFullYear()));let l=!n.settings.selection.month||o.getFullYear()<n.dateMin.getFullYear()||o.getFullYear()===n.dateMin.getFullYear()&&o.getMonth()<n.dateMin.getMonth(),c=!n.settings.selection.month||a.getFullYear()>n.dateMax.getFullYear()||a.getFullYear()===n.dateMax.getFullYear()&&a.getMonth()>n.dateMax.getMonth();ET({arrowPrev:i,arrowNext:r,isPrevHidden:l,isNextHidden:c})},year:()=>{ET({arrowPrev:i,arrowNext:r,isPrevHidden:n.dateMin.getFullYear()&&n.viewYear-7<=n.dateMin.getFullYear(),isNextHidden:n.dateMax.getFullYear()&&n.viewYear+7>=n.dateMax.getFullYear()})}}[n.currentType==="multiple"?"default":n.currentType]()},BT=(n,t)=>{if(!n)return null;let e=Ti(n),i=t?e.getDay()||7:e.getDay();e.setDate(e.getDate()+4-i);let r=new Date(e.getFullYear(),0,1),s=Math.ceil(((+e-+r)/864e5+1)/7);return{year:e.getFullYear(),week:s}};function N0(n){if(!n||!n.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};let t=n.getBoundingClientRect(),e=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-e.clientTop,left:t.left+window.scrollX-e.clientLeft}}function mj(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function L0(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function pj(n){let{top:t,left:e}=mj(),{top:i,left:r}=N0(n),{vh:s,vw:o}=L0(),a=i-t,l=r-e;return{top:a,bottom:s-(a+n.clientHeight),left:l,right:o-(l+n.clientWidth)}}function HT(n,t,e=5){let i={top:!0,bottom:!0,left:!0,right:!0},r=[];if(!t||!n)return{canShow:i,parentPositions:r};let{bottom:s,top:o}=pj(n),{top:a,left:l}=N0(n),{height:c,width:h}=t.getBoundingClientRect(),{vh:m,vw:f}=L0(),v=f/2,C=m/2;return[{condition:a<C,position:"top"},{condition:a>C,position:"bottom"},{condition:l<v,position:"left"},{condition:l>v,position:"right"}].forEach(({condition:x,position:E})=>{x&&r.push(E)}),Object.assign(i,{top:c<=o-e,bottom:c<=s-e,left:h<=l,right:h<=f-l}),{canShow:i,parentPositions:r}}function fj(n,t){let e="left";if(!t||!n)return e;let{canShow:i,parentPositions:r}=HT(n,t),s=i.left&&i.right;return(s&&i.bottom?"center":s&&i.top?["top","center"]:Array.isArray(r)?[r[0]==="bottom"?"top":"bottom",...r.slice(1)]:r)||e}var A0=(n,t,e,i)=>{if(n){let r=e==="auto"?fj(n,t):e,s={top:-t.offsetHeight,bottom:n.offsetHeight,left:0,center:n.offsetWidth/2-t.offsetWidth/2,right:n.offsetWidth-t.offsetWidth},o=Array.isArray(r)?r[0]:"bottom",a=Array.isArray(r)?r[1]:r;o==="bottom"?(t.classList.remove(i.calendarToInputTop),t.classList.add(i.calendarToInputBottom)):(t.classList.remove(i.calendarToInputBottom),t.classList.add(i.calendarToInputTop));let{top:l,left:c}=N0(n),h=l+s[o],m=c+s[a],{vw:f}=L0();if(m+t.clientWidth>f){let v=window.innerWidth-document.body.clientWidth;m=f-t.clientWidth-v}else m<0&&(m=0);Object.assign(t.style,{left:`${m}px`,top:`${h}px`})}},gj=(n,t,e,i)=>{let r=n.CSSClasses.dayPopup,s=i.querySelector(`[data-calendar-day="${t}"]`);if(s&&(e?.modifier&&s.classList.add(...e.modifier.trim().split(" ")),e?.html)){let o=s.parentElement,a=document.createElement("div");a.className=r,a.innerHTML=n.sanitizer(e.html),o.appendChild(a),setTimeout(()=>{if(a){let{canShow:l}=HT(o,a),c=5,h=o.offsetHeight,m=0;l.bottom||(h=-a.offsetHeight-c),l.left&&!l.right&&(m=o.offsetWidth-a.offsetWidth/2),!l.left&&l.right&&(m=a.offsetWidth/2),Object.assign(a.style,{left:`${m}px`,top:`${h}px`})}})}},_j=(n,t)=>{var e;n.popups&&((e=Object.entries(n.popups))==null||e.forEach(([i,r])=>gj(n,i,r,t)))},vj=(n,t,e,i,r)=>{let s=t[e].querySelector(`.${n.CSSClasses.dayBtn}`),o=BT(s?.dataset.calendarDay,n.settings.iso8601);if(!o)return;let a=i.cloneNode(!0);a.innerText=String(o.week),a.dataset.calendarYearWeek=String(o.year),r.appendChild(a)},bj=(n,t,e,i,r)=>{if(!n.settings.visibility.weekNumbers)return;i.textContent="";let s=document.createElement("b");s.className=n.CSSClasses.weekNumbersTitle,s.innerText="#",i.appendChild(s);let o=document.createElement("div");o.className=n.CSSClasses.weekNumbersContent,i.appendChild(o);let a=document.createElement("button");a.type="button",a.className=n.CSSClasses.weekNumber;let l=r.querySelectorAll(`.${n.CSSClasses.day}`),c=Math.ceil((t+e)/7);for(let h=0;h<c;h++)vj(n,l,h===0?6:7*h,a,o)},yj=(n,t,e)=>{var i,r,s,o,a;let l=(i=n.settings.range.disableWeekday)==null?void 0:i.includes(e),c=n.settings.range.disableAllDays&&!!((r=n.rangeEnabled)!=null&&r[0]);!l&&!c||(s=n.rangeEnabled)!=null&&s.includes(t)||(o=n.rangeDisabled)!=null&&o.includes(t)||(n.rangeDisabled.push(t),(a=n.rangeDisabled)==null||a.sort((h,m)=>+new Date(h)-+new Date(m)))},wj=(n,t,e,i,r,s,o)=>{var a,l,c;if((Ti(n.rangeMin)>Ti(s)||Ti(n.rangeMax)<Ti(s)||(a=n.rangeDisabled)!=null&&a.includes(s)||!n.settings.selection.month&&o||!n.settings.selection.year&&Ti(s).getFullYear()!==t)&&(i.classList.add(n.CSSClasses.dayBtnDisabled),i.tabIndex=-1),n.settings.visibility.today&&ho(n.date.today)===s&&i.classList.add(n.CSSClasses.dayBtnToday),!n.settings.visibility.weekend||r!==0&&r!==6||i.classList.add(n.CSSClasses.dayBtnWeekend),(l=n.selectedHolidays)!=null&&l.includes(s)&&i.classList.add(n.CSSClasses.dayBtnHoliday),(c=n.selectedDates)!=null&&c.includes(s)&&(i.classList.add(n.CSSClasses.dayBtnSelected),n.selectedDates.length>1&&n.settings.selection.day==="multiple-ranged"&&(n.selectedDates[0]===s&&e.classList.add(n.CSSClasses.daySelectedFirst),n.selectedDates[n.selectedDates.length-1]===s&&e.classList.add(n.CSSClasses.daySelectedLast),n.selectedDates[0]!==s&&n.selectedDates[n.selectedDates.length-1]!==s&&e.classList.add(n.CSSClasses.daySelectedIntermediate))),n.settings.range.edgesOnly&&n.selectedDates.length>1&&n.settings.selection.day==="multiple-ranged"){let h=+new Date(n.selectedDates[0]),m=+new Date(n.selectedDates[n.selectedDates.length-1]),f=+new Date(s);f>h&&f<m&&(i.classList.add(n.CSSClasses.dayBtnSelected),e.classList.add(n.CSSClasses.daySelectedIntermediate))}},V0=(n,t,e,i,r,s,o,a)=>{let l=document.createElement("div");l.className=n.CSSClasses.day;let c=document.createElement("button");c.className=`${n.CSSClasses.dayBtn}${a?` ${a}`:""}`,c.type="button",c.innerText=String(i),c.dataset.calendarDay=s,n.settings.visibility.weekNumbers&&(()=>{let h=BT(s,n.settings.iso8601);h&&(c.dataset.calendarWeekNumber=String(h.week))})(),o?n.settings.visibility.daysOutside&&l.appendChild(c):l.appendChild(c),yj(n,s,r),wj(n,t,l,c,r,s,o),e.appendChild(l),n.actions.getDays&&n.actions.getDays(i,s,l,c,n)},Cj=(n,t,e,i,r)=>{let s=new Date(e,i,0).getDate()-(r-1),o=i===0?e-1:e,a=i===0?12:i<10?`0${i}`:i;for(let l=r;l>0;l--,s++){let c=`${o}-${a}-${s}`,h=Ti(c).getDay();V0(n,e,t,s,h,c,!0,n.CSSClasses.dayBtnPrev)}},Sj=(n,t,e,i,r)=>{for(let s=1;s<=e;s++){let o=new Date(i,r,s),a=ho(o),l=o.getDay();V0(n,i,t,s,l,a,!1,null)}},Ej=(n,t,e,i,r,s)=>{let o=s+e,a=7*Math.ceil(o/7)-o,l=r+1===12?i+1:i,c=r+1===12?"01":r+2<10?`0${r+2}`:r+2;for(let h=1;h<=a;h++){let m=`${l}-${c}-${h<10?`0${h}`:String(h)}`,f=Ti(m).getDay();V0(n,i,t,h,f,m,!0,n.CSSClasses.dayBtnNext)}},fg=n=>{let t=n.HTMLElement.querySelectorAll(`.${n.CSSClasses.days}`),e=n.HTMLElement.querySelectorAll(`.${n.CSSClasses.weekNumbers}`),i=new Date(n.selectedYear,n.selectedMonth,1);t.forEach((r,s)=>{let o=new Date(i);o.setMonth(o.getMonth()+s);let a=o.getMonth(),l=o.getFullYear(),c=new Date(l,a,1),h=new Date(l,a+1,0).getDate(),m=n.settings.iso8601?(c.getDay()!==0?c.getDay():7)-1:c.getDay();n.settings.selection.day&&r.classList.add(n.CSSClasses.daysSelecting),r.textContent="",Cj(n,r,l,a,m),Sj(n,r,h,l,a),Ej(n,r,h,l,a,m),bj(n,m,h,e[s],r),_j(n,r)})},xj=(n,t,e,i)=>{let r=new Date(i.setMonth(n.selectedMonth+e)).getMonth(),s=n.settings.selection.month===!1||n.settings.selection.month==="only-arrows";t.tabIndex=s?-1:0,t.classList.toggle(n.CSSClasses.monthDisabled,s),t.setAttribute("data-calendar-selected-month",String(r)),t.innerText=n.locale.months[r]},kj=(n,t,e,i)=>{let r=new Date(i.setFullYear(n.selectedYear,n.selectedMonth+e)).getFullYear(),s=n.settings.selection.year===!1||n.settings.selection.year==="only-arrows";t.tabIndex=s?-1:0,t.classList.toggle(n.CSSClasses.yearDisabled,s),t.setAttribute("data-calendar-selected-year",String(r)),t.innerText=String(r)},_g=n=>{var t,e;let i=(t=n.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-selected-month]"),r=(e=n.HTMLElement)==null?void 0:e.querySelectorAll("[data-calendar-selected-year]");if(!i?.[0]&&r?.[0])return;let s=new Date(n.selectedYear,n.selectedMonth,1);i?.forEach((o,a)=>xj(n,o,a,s)),r?.forEach((o,a)=>kj(n,o,a,s))},M0=(n,t)=>{let e=Ti(ho(new Date(n.selectedYear,n.selectedMonth,1)));({prev:()=>e.setMonth(e.getMonth()-n.jumpMonths),next:()=>e.setMonth(e.getMonth()+n.jumpMonths)})[t](),[n.selectedMonth,n.selectedYear]=[e.getMonth(),e.getFullYear()],_g(n),P0(n),fg(n)},Dj=n=>`<button type="button"class="${n.CSSClasses.arrow} ${n.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,Tj=n=>`<button type="button"class="${n.CSSClasses.arrow} ${n.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,Ij=n=>`<button type="button"class="${n.CSSClasses.month}"data-calendar-selected-month></button>`,Oj=n=>`<button type="button"class="${n.CSSClasses.year}"data-calendar-selected-year></button>`,Aj=n=>`<div class="${n.CSSClasses.week}"></div>`,Mj=n=>`<div class="${n.CSSClasses.days}"></div>`,Rj=n=>`<div class="${n.CSSClasses.months}"></div>`,Fj=n=>`<div class="${n.CSSClasses.years}"></div>`,Pj=n=>n.settings.visibility.weekNumbers?`<div class="${n.CSSClasses.weekNumbers}"></div>`:"",Nj=n=>n.settings.selection.time?`<div class="${n.CSSClasses.time}"></div>`:"",Lj=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:Tj,ArrowPrev:Dj,ControlTime:Nj,Days:Mj,Month:Ij,Months:Rj,Week:Aj,WeekNumbers:Pj,Year:Oj,Years:Fj},Symbol.toStringTag,{value:"Module"}));var Uu=(n,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(e,i)=>{let r=(s=i.replace(/[/\s\n\t]/g,""),Lj[s]);var s;let o=r?r(n):"";return n.sanitizer(o)}).replace(/[\n\t]/g,""),Vj=(n,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(e,i)=>{let r="";for(let s=0;s<n.correctMonths;s++)r+=i;return n.sanitizer(r)}).replace(/[\n\t]/g,""),B0=(n,t)=>{let{HTMLElement:e,CSSClasses:i,DOMTemplates:r,type:s,currentType:o,correctMonths:a}=n,l=(h,m)=>{if(!t)return;let f=e.querySelector(`.${i.controls}`);f&&e.removeChild(f),e.querySelector(`.${i.grid}`).classList.add(i.gridDisabled);let v=t.closest(`.${i.column}`);v.classList.add(h),v.innerHTML=Uu(n,m)},c={default:()=>{e.classList.add(i.calendarDefault),e.classList.remove(i.calendarMonth,i.calendarYear),e.innerHTML=Uu(n,r.default)},multiple:()=>{a&&(e.classList.add(i.calendarMultiple),e.classList.remove(i.calendarMonth,i.calendarYear),e.innerHTML=Vj(n,Uu(n,r.multiple)))},month:()=>{s!=="multiple"?(e.classList.add(i.calendarMonth),e.classList.remove(i.calendarDefault,i.calendarYear),e.innerHTML=Uu(n,r.month)):l(i.columnMonth,r.month)},year:()=>{s!=="multiple"?(e.classList.add(i.calendarYear),e.classList.remove(i.calendarDefault,i.calendarMonth),e.innerHTML=Uu(n,r.year)):l(i.columnYear,r.year)}};e.classList.add(i.calendar),c[o]()},Bj=(n,t,e,i,r)=>{let s=t.cloneNode(!1);return s.className=`${n.CSSClasses.yearsYear}${e===r?` ${n.CSSClasses.yearsYearSelected}`:i?` ${n.CSSClasses.yearsYearDisabled}`:""}`,s.dataset.calendarYear=String(r),s.title=String(r),s.innerText=String(r),i&&(s.tabIndex=-1),s},H0=(n,t)=>{let e=t?.dataset.calendarSelectedYear?Number(t?.dataset.calendarSelectedYear):n.selectedYear;n.currentType="year",B0(n,t),_g(n),P0(n);let i=n.HTMLElement.querySelector(`.${n.CSSClasses.years}`);if(!n.settings.selection.year||!i)return;i.classList.add(n.CSSClasses.yearsSelecting);let r=n.type!=="multiple"||n.selectedYear===e?0:1,s=document.createElement("button");s.type="button";for(let o=n.viewYear-7;o<n.viewYear+8;o++){let a=o<n.dateMin.getFullYear()+r||o>n.dateMax.getFullYear(),l=Bj(n,s,e,a,o);i.appendChild(l),n.actions.getYears&&n.actions.getYears(o,l,n)}},Hj=(n,t)=>{let e=t.target.closest(`.${n.CSSClasses.arrow}`);e&&(["default","multiple"].includes(n.currentType)?M0(n,e.dataset.calendarArrow):n.currentType==="year"&&n.viewYear!==void 0&&(n.viewYear+={prev:-15,next:15}[e.dataset.calendarArrow],H0(n,t.target)),n.actions.clickArrow&&n.actions.clickArrow(t,n))},zj=(n,t)=>{var e;if(!n.settings.visibility.weekNumbers||!n.actions.clickWeekNumber)return;let i=t.target.closest(`.${n.CSSClasses.weekNumber}`),r=(e=n.HTMLElement)==null?void 0:e.querySelectorAll("[data-calendar-week-number]");if(!i||!r)return;let s=Number(i.innerText),o=Number(i.dataset.calendarYearWeek),a=Array.from(r).filter(l=>Number(l.dataset.calendarWeekNumber)===s);n.actions.clickWeekNumber(t,s,a,o,n)},zT=n=>`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`.replace(/\./,""),jj=(n,t)=>{let e=new Date(`1978-01-0${t+1}T00:00:00.000Z`).toLocaleString(n.settings.lang,{weekday:"short",timeZone:"UTC"});n.locale.weekday.push(zT(e))},Uj=(n,t)=>{let e=new Date(`1978-${t+1<=9?`0${t+1}`:t+1}-01T00:00:00.000Z`).toLocaleString(n.settings.lang,{month:"long",timeZone:"UTC"});n.locale.months.push(zT(e))},Wj=n=>{if(n.settings.lang!=="define"||!n.locale.weekday[6]||!n.locale.months[11]){if(n.settings.lang==="define")throw new Error(dc.notLocale);n.locale.weekday=[],n.locale.months=[];for(let t=0;t<7;t++)jj(n,t);for(let t=0;t<12;t++)Uj(n,t)}},xT=n=>{if(n.type!=="multiple")return 0;let t=n.HTMLElement.querySelectorAll(`.${n.CSSClasses.column}`),e=Array.from(t).findIndex(i=>i.classList.contains(`${n.CSSClasses.columnMonth}`));return e>0?e:0},Gj=(n,t,e,i,r,s)=>{let o=t.cloneNode(!1);return o.className=`${n.CSSClasses.monthsMonth}${e===s?` ${n.CSSClasses.monthsMonthSelected}`:r?` ${n.CSSClasses.monthsMonthDisabled}`:""}`,o.title=i,o.innerText=`${n.settings.visibility.monthShort?i.substring(0,3):i}`,o.dataset.calendarMonth=String(s),r&&(o.tabIndex=-1),o},jT=(n,t)=>{var e,i;let r=t?.dataset.calendarSelectedMonth?Number(t.dataset.calendarSelectedMonth):n.selectedMonth,s=(e=t?.closest(`.${n.CSSClasses.column}`))==null?void 0:e.querySelector(`.${n.CSSClasses.year}`),o=s?Number(s.dataset.calendarSelectedYear):n.selectedYear;n.currentType="month",B0(n,t),_g(n);let a=(i=n.HTMLElement)==null?void 0:i.querySelector(`.${n.CSSClasses.months}`);if(!n.settings.selection.month||!a)return;a.classList.add(n.CSSClasses.monthsSelecting);let l=n.jumpMonths>1?n.locale.months.map((h,m)=>r-n.jumpMonths*m).concat(n.locale.months.map((h,m)=>r+n.jumpMonths*m)).filter(h=>h>=0&&h<=12):Array.from(Array(12).keys()),c=document.createElement("button");c.type="button";for(let h=0;h<12;h++){let m=n.locale.months[h],f=h<n.dateMin.getMonth()+xT(n)&&o<=n.dateMin.getFullYear()||h>n.dateMax.getMonth()+xT(n)&&o>=n.dateMax.getFullYear()||h!==r&&!l.includes(h),v=Gj(n,c,r,m,f,h);a.appendChild(v),n.actions.getMonths&&n.actions.getMonths(h,v,n)}},z0=(n,t)=>n&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(n)][t]:"",pg=(n,t,e)=>n.querySelector(`.${t}${e?` input[name="${e}"]`:""}`),kT=(n,t,e)=>{n.addEventListener("mouseover",()=>t.classList.add(e)),n.addEventListener("mouseout",()=>t.classList.remove(e))},Ll=(n,t,e,i)=>{({hours:()=>{n.selectedHours=e},minutes:()=>{n.selectedMinutes=e}})[i](),n.selectedTime=`${n.selectedHours}:${n.selectedMinutes}${n.selectedKeeping?` ${n.selectedKeeping}`:""}`,n.actions.changeTime&&n.actions.changeTime(t,n),n.input&&n.HTMLInputElement&&n.actions.changeToInput&&n.actions.changeToInput(t,n)},DT=(n,t,e,i,r,s)=>{t.addEventListener("input",o=>{let a=o.target,l=Number(a.value),c=l<10?`0${l}`:`${l}`;if(r!=="hours"||s!==12)return e.value=c,void Ll(n,o,c,r);l<s&&l>0?(e.value=c,n.selectedKeeping="AM",i.innerText=n.selectedKeeping,Ll(n,o,c,r)):(l===0?(n.selectedKeeping="AM",i.innerText="AM"):(n.selectedKeeping="PM",i.innerText="PM"),e.value=Wu(a.value),Ll(n,o,Wu(a.value),r))})},TT=(n,t,e,i,r,s)=>{e.addEventListener("change",o=>{let a=o.target,l=Number(a.value),c=l<10?`0${l}`:`${l}`;r==="hours"&&s===12?a.value&&l<=s&&l>0?(a.value=c,t.value=z0(c,n.selectedKeeping),Ll(n,o,c,r)):a.value&&l<24&&(l>s||l===0)?(l===0?(n.selectedKeeping="AM",i.innerText="AM"):(n.selectedKeeping="PM",i.innerText="PM"),a.value=Wu(a.value),t.value=c,Ll(n,o,Wu(a.value),r)):a.value=n.selectedHours:a.value&&l<=s&&l>=0?(a.value=c,t.value=c,Ll(n,o,c,r)):r==="hours"?a.value=n.selectedHours:r==="minutes"&&(a.value=n.selectedMinutes)})},$j=(n,t,e)=>{t.addEventListener("click",i=>{n.selectedKeeping=t.innerText.includes("AM")?"PM":"AM",t.innerText=n.selectedKeeping,e.value=z0(n.selectedHours,n.selectedKeeping),Ll(n,i,n.selectedHours,"hours")})},Yj=(n,t,e)=>{let i=e===24?23:e||12,r=pg(t,n.CSSClasses.timeRange,"hours"),s=pg(t,n.CSSClasses.timeRange,"minutes"),o=pg(t,n.CSSClasses.timeHours,"hours"),a=pg(t,n.CSSClasses.timeMinutes,"minutes"),l=t.querySelector(`.${n.CSSClasses.timeKeeping}`);kT(r,o,n.CSSClasses.isFocus),kT(s,a,n.CSSClasses.isFocus),DT(n,r,o,l,"hours",i),DT(n,s,a,l,"minutes",0),TT(n,r,o,l,"hours",i),TT(n,s,a,l,"minutes",59),l&&$j(n,l,r)},IT=(n,t,e,i)=>`<label class="${t}"><input type="text"name="${n}"maxlength="2"value="${e}"${i?"disabled":""}></label>`,OT=(n,t,e,i,r,s)=>`<label class="${t}"><input type="range"name="${n}"min="${e}"max="${i}"step="${r}"value="${s}"></label>`,qj=n=>{let t=n.HTMLElement.querySelector(`.${n.CSSClasses.time}`);if(!t)return;let e=n.settings.selection.time===!0?12:n.settings.selection.time,i=n.settings.selection.controlTime==="range",[r,s]=[0,23],[o,a]=[0,59];t.innerHTML=n.sanitizer(`<div class="${n.CSSClasses.timeContent}">${IT("hours",n.CSSClasses.timeHours,n.selectedHours,i)}${IT("minutes",n.CSSClasses.timeMinutes,n.selectedMinutes,i)}${e===12?`<button type="button" class="${n.CSSClasses.timeKeeping}"${i?"disabled":""}>${n.selectedKeeping}</button>`:""}</div><div class="${n.CSSClasses.timeRanges}">${OT("hours",n.CSSClasses.timeRange,r,s,n.settings.selection.stepHours,n.selectedKeeping?z0(n.selectedHours,n.selectedKeeping):n.selectedHours)}${OT("minutes",n.CSSClasses.timeRange,o,a,n.settings.selection.stepMinutes,n.selectedMinutes)}</div>`),Yj(n,t,e)},Xj=(n,t,e)=>{let i=document.createElement("b");t.textContent="";for(let r=0;r<e.length;r++){let s=e[r],o=i.cloneNode(!0);o.className=`${n.CSSClasses.weekDay}`,o.className=`${n.CSSClasses.weekDay}${n.settings.visibility.weekend&&n.settings.iso8601?r===5||r===6?` ${n.CSSClasses.weekDayWeekend}`:"":n.settings.visibility.weekend&&!n.settings.iso8601&&(r===0||r===6)?` ${n.CSSClasses.weekDayWeekend}`:""}`,o.innerText=`${s}`,t.appendChild(o)}},AT=n=>{let t=[...n.locale.weekday];t[0]&&(n.settings.iso8601&&t.push(t.shift()),n.HTMLElement.querySelectorAll(`.${n.CSSClasses.week}`).forEach(e=>Xj(n,e,t)))},UT=["light","dark","system"],gg={value:!1,set:()=>{gg.value=!0},check:()=>gg.value},WT=(n,t)=>UT.find(e=>{var i;return e!=="system"&&((i=n.getAttribute(t))==null?void 0:i.includes(e))}),Vl=(n,t)=>{n.dataset.calendarTheme=t},MT=(n,t)=>{var e;if(e=t,Vl(n.HTMLElement,e.matches?"dark":"light"),n.settings.visibility.theme!=="system"||gg.check())return;let i=r=>{let s=document.querySelectorAll(`.${n.CSSClasses.calendar}`);s?.forEach(o=>Vl(o,r.matches?"dark":"light"))};t.addEventListener?t.addEventListener("change",i):t.addListener(i),gg.set()},Kj=(n,t,e)=>{new MutationObserver(i=>{for(let r=0;r<i.length;r++)if(i[r].attributeName===e){let s=WT(t,e);s&&Vl(n.HTMLElement,s);break}}).observe(t,{attributes:!0})},Qj=(n,t)=>{let e=n.settings.visibility.themeDetect?document.querySelector(n.settings.visibility.themeDetect):null;if(!e)return void MT(n,t);let i=n.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(s,o)=>o),r=WT(e,i);r?(Vl(n.HTMLElement,r),Kj(n,e,i)):MT(n,t)},Zj=n=>{if(!UT.includes(n.settings.visibility.theme))throw new Error(dc.incorrectTheme);if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void Vl(n.HTMLElement,"light");({light:()=>Vl(n.HTMLElement,"light"),dark:()=>Vl(n.HTMLElement,"dark"),system:()=>Qj(n,window.matchMedia("(prefers-color-scheme: dark)"))})[n.settings.visibility.theme]()},$u=n=>{let t={default:()=>{AT(n),fg(n)},multiple:()=>{AT(n),fg(n)},month:()=>jT(n),year:()=>H0(n)};Zj(n),Wj(n),B0(n),_g(n),P0(n),qj(n),t[n.currentType]()},Ht={self:null,rangeMin:void 0,rangeMax:void 0},RT=()=>{var n;if(!((n=Ht.self)!=null&&n.HTMLElement))return;let{CSSClasses:t}=Ht.self;Ht.self.HTMLElement.querySelectorAll(`.${Ht.self.CSSClasses.dayBtnHover}`).forEach(e=>{var i;e.classList.remove(Ht.self.CSSClasses.dayBtnHover),(i=e.parentElement)==null||i.classList.remove(t.dayHoverIntermediate,t.dayHoverFirst,t.dayHoverLast)})},Jj=(n,t,e)=>{var i,r,s;if(!((i=Ht.self)!=null&&i.selectedDates))return;let o=ho(n),{CSSClasses:a}=Ht.self;if((r=Ht.self.rangeDisabled)!=null&&r.includes(o))return;let l=(s=Ht.self.HTMLElement)==null?void 0:s.querySelectorAll(`[data-calendar-day="${o}"]`);l?.forEach(c=>{var h;c.classList.add(a.dayBtnHover),(h=c.parentElement)==null||h.classList.add(a.dayHoverIntermediate)}),t?.forEach(c=>{var h;return(h=c.parentElement)==null?void 0:h.classList.add(a.dayHoverFirst)}),e?.forEach(c=>{var h;return(h=c.parentElement)==null?void 0:h.classList.add(a.dayHoverLast)})},R0=n=>{var t;if(!n.target||!((t=Ht.self)!=null&&t.selectedDates))return;if(!n.target.closest(`.${Ht.self.CSSClasses.days}`))return void RT();let e=n.target.closest("[data-calendar-day]");if(!e)return;let i=e.dataset.calendarDay,r=Ti(Ht.self.selectedDates[0]),s=Ti(i),o=Ht.self.HTMLElement.querySelectorAll(`[data-calendar-day="${Ht.self.selectedDates[0]}"]`),a=Ht.self.HTMLElement.querySelectorAll(`[data-calendar-day="${i}"]`),[l,c]=r<s?[o,a]:[a,o],[h,m]=r<s?[r,s]:[s,r];RT();for(let f=new Date(h);f<=m;f.setDate(f.getDate()+1))Jj(f,l,c)},F0=n=>{Ht.self&&n.key==="Escape"&&(Ht.self.selectedDates=[],Ht.self.HTMLElement.removeEventListener("mousemove",R0),document.removeEventListener("keydown",F0),$u(Ht.self))},eU=()=>{var n,t,e;if(!((t=(n=Ht.self)==null?void 0:n.selectedDates)!=null&&t[0])||!((e=Ht.self.rangeDisabled)!=null&&e[0]))return;let i=Ti(Ht.self.selectedDates[0]),[r,s]=Ht.self.rangeDisabled.map(o=>Ti(o)).reduce(([o,a],l)=>[i>=l?l:o,i<l&&a===null?l:a],[null,null]);r&&(Ht.self.rangeMin=ho(new Date(r.setDate(r.getDate()+1)))),s&&(Ht.self.rangeMax=ho(new Date(s.setDate(s.getDate()-1))))};var GT=(n,t)=>{var e;if(t){let i=n.selectedDates.length===1&&n.selectedDates[0].includes(t);n.selectedDates=i&&!n.settings.selection.cancelableDay?[t,t]:i&&n.settings.selection.cancelableDay?[]:n.selectedDates.length>1?[t]:[...n.selectedDates,t],(e=n.selectedDates)==null||e.sort((r,s)=>+new Date(r)-+new Date(s))}n.settings.range.disableGaps&&(Ht.rangeMin=Ht.rangeMin?Ht.rangeMin:n.rangeMin,Ht.rangeMax=Ht.rangeMax?Ht.rangeMax:n.rangeMax),Ht.self=n,{set:()=>{n.HTMLElement.addEventListener("mousemove",R0),document.addEventListener("keydown",F0),n.settings.range.disableGaps&&eU()},reset:()=>{let[i,r]=[n.selectedDates[0],n.selectedDates[n.selectedDates.length-1]];n.selectedDates=n.selectedDates[0]!==n.selectedDates[n.selectedDates.length-1]?n.settings.range.edgesOnly?[i,r]:lc([`${i}:${r}`]):[n.selectedDates[0],n.selectedDates[0]],n.HTMLElement.removeEventListener("mousemove",R0),document.removeEventListener("keydown",F0),n.settings.range.disableGaps&&Ht.self&&(Ht.self.rangeMin=Ht.rangeMin,Ht.self.rangeMax=Ht.rangeMax)}}[n.selectedDates.length===1?"set":"reset"]()},FT=(n,t,e)=>{if(!t.dataset.calendarDay)return;let i=t.dataset.calendarDay,r=t.classList.contains(n.CSSClasses.dayBtnSelected);if(r&&!n.settings.selection.cancelableDay)return;let s=!0;n.toggleSelected!==void 0&&(s=typeof n.toggleSelected=="function"?n.toggleSelected(n):n.toggleSelected),r&&!s||(n.selectedDates=r?n.selectedDates.filter(o=>o!==i):e?[...n.selectedDates,i]:[i])},tU=(n,t)=>{var e;let i=t.target,r=l=>i.closest(`.${l}`),s=r(n.CSSClasses.dayBtn);if(!n.settings.selection.day||!["single","multiple","multiple-ranged"].includes(n.settings.selection.day)||!s)return;({single:()=>FT(n,s,!1),multiple:()=>FT(n,s,!0),"multiple-ranged":()=>GT(n,s.dataset.calendarDay)})[n.settings.selection.day](),(e=n.selectedDates)==null||e.sort((l,c)=>+new Date(l)-+new Date(c)),n.actions.clickDay&&n.actions.clickDay(t,n),n.input&&n.HTMLInputElement&&n.HTMLElement&&n.actions.changeToInput&&n.actions.changeToInput(t,n);let o=r(n.CSSClasses.dayBtnPrev),a=r(n.CSSClasses.dayBtnNext);({prev:()=>M0(n,"prev"),next:()=>M0(n,"next"),default:()=>fg(n)})[o?"prev":a?"next":"default"]()},PT=(n,t,e,i,r)=>{let s=n.HTMLElement.querySelectorAll(`.${n.CSSClasses.column}`),o=Array.from(s).findIndex(l=>l.classList.contains(t)),a=Number(s[o].querySelector(`.${e}`).getAttribute(r));return n.currentType==="month"&&o>=0?i-o:n.currentType==="year"&&n.selectedYear!==a?i-1:i},iU=(n,t,e,i,r)=>{let s={year:()=>{var o,a;return(a=(o=n.actions).clickYear)==null?void 0:a.call(o,t,n)},month:()=>{var o,a;return(a=(o=n.actions).clickMonth)==null?void 0:a.call(o,t,n)}};({year:()=>{if(n.type==="multiple"){let o=PT(n,n.CSSClasses.columnYear,n.CSSClasses.year,Number(r.dataset.calendarYear),"data-calendar-selected-year"),a=n.selectedMonth<n.dateMin.getMonth()&&o<=n.dateMin.getFullYear(),l=n.selectedMonth>n.dateMax.getMonth()&&o>=n.dateMax.getFullYear(),c=o<n.dateMin.getFullYear(),h=o>n.dateMax.getFullYear();a||c?(n.selectedYear=n.dateMin.getFullYear(),n.selectedMonth=n.dateMin.getMonth()):l||h?(n.selectedYear=n.dateMax.getFullYear(),n.selectedMonth=n.dateMax.getMonth()):n.selectedYear=o}else n.selectedYear=Number(r.dataset.calendarYear)},month:()=>{if(n.type==="multiple"){let o=PT(n,n.CSSClasses.columnMonth,n.CSSClasses.month,Number(r.dataset.calendarMonth),"data-calendar-selected-month"),a=r.closest(`.${i.column}`).querySelector(`.${n.CSSClasses.year}`);n.selectedYear=Number(a.dataset.calendarSelectedYear);let l=o<n.dateMin.getMonth()&&n.selectedYear<=n.dateMin.getFullYear(),c=o>n.dateMax.getMonth()&&n.selectedYear>=n.dateMax.getFullYear();n.selectedMonth=l?n.dateMin.getMonth():c?n.dateMax.getMonth():o}else n.selectedMonth=Number(r.dataset.calendarMonth)}})[e](),s[e](),n.currentType=n.type,$u(n)},NT=(n,t,e,i)=>{if(!n.settings.selection[e])return;let r=t.target,s=h=>r.closest(`.${h}`),o=s(i.header),a=s(i.item),l=s(n.CSSClasses.grid),c=s(n.CSSClasses.column);n.currentType!==e&&o?{year:()=>H0(n,r),month:()=>jT(n,r)}[e]():a?iU(n,t,e,i,a):(n.currentType===e&&o||n.type==="multiple"&&n.currentType===e&&l&&!c)&&(n.currentType=n.type,$u(n))},$T=n=>{let t=e=>{Hj(n,e),zj(n,e),tU(n,e),NT(n,e,"month",{header:n.CSSClasses.month,item:n.CSSClasses.monthsMonth,column:n.CSSClasses.columnMonth}),NT(n,e,"year",{header:n.CSSClasses.year,item:n.CSSClasses.yearsYear,column:n.CSSClasses.columnYear})};return n.HTMLElement.addEventListener("click",t),()=>n.HTMLElement.removeEventListener("click",t)},YT=(n,{year:t,month:e,dates:i,holidays:r,time:s}={})=>{var o;let a=LT({},n.settings.selected);n.settings.selected.year=t?a.year:n.selectedYear,n.settings.selected.month=e?a.month:n.selectedMonth,n.settings.selected.holidays=r?a.holidays:n.selectedHolidays,n.settings.selected.time=s?a.time:n.selectedTime,n.settings.selected.dates=i==="only-first"&&((o=n.selectedDates)!=null&&o[0])?[n.selectedDates[0]]:i===!0?a.dates:n.selectedDates,VT(n),$u(n),n.settings.selected=a,n.settings.selection.day==="multiple-ranged"&&i&&GT(n)},qT=(n,t=!0)=>{n.isInputInit=!0;let e=document.createElement("div");return e.className=`${n.CSSClasses.calendar} ${n.CSSClasses.calendarToInput} ${n.CSSClasses.calendarHidden}`,n.HTMLElement=e,document.body.appendChild(n.HTMLElement),n.HTMLElement.style.visibility="hidden",t&&queueMicrotask(()=>{A0(n.HTMLInputElement,e,n.settings.visibility.positionToInput,n.CSSClasses),n.HTMLElement.style.visibility="visible",n.show()}),YT(n,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),n.actions.initCalendar&&n.actions.initCalendar(n),$T(n)},nU=n=>{let t=[];n.HTMLInputElement=n.HTMLElement;let e=()=>A0(n.HTMLInputElement,n.HTMLElement,n.settings.visibility.positionToInput,n.CSSClasses),i=o=>{o.key==="Escape"&&(n?.HTMLInputElement&&n?.HTMLElement&&n.hide(),document.removeEventListener("keydown",i))},r=o=>{var a;n&&o.target!==n.HTMLInputElement&&!((a=n.HTMLElement)!=null&&a.contains(o.target))&&(n.HTMLInputElement&&n.HTMLElement&&n.hide(),window.removeEventListener("resize",e),document.removeEventListener("click",r,{capture:!0}))},s=()=>{n.isInputInit?(A0(n.HTMLInputElement,n.HTMLElement,n.settings.visibility.positionToInput,n.CSSClasses),n.HTMLElement.style.visibility="visible",n.show()):t.push(qT(n)),window.addEventListener("resize",e),document.addEventListener("click",r,{capture:!0}),document.addEventListener("keydown",i)};return n.HTMLInputElement.addEventListener("click",s),n.HTMLInputElement.addEventListener("focus",s),()=>{t.forEach(o=>o())}};var rU=(n,{year:t,month:e,dates:i,holidays:r,time:s}={})=>{if(!n.isInit)throw new Error(dc.notInit);n.input&&!n.isInputInit&&qT(n,!1),YT(n,{year:t,month:e,dates:i,holidays:r,time:s}),n.actions.updateCalendar&&n.actions.updateCalendar(n)},sU=n=>{var t,e,i,r,s,o;if(!n.isInit)throw new Error(dc.notInit);n.input?((e=(t=n.HTMLElement)==null?void 0:t.parentElement)==null||e.removeChild(n.HTMLElement),(r=(i=n.HTMLInputElement)==null?void 0:i.replaceWith)==null||r.call(i,n.HTMLOriginalElement),n.HTMLInputElement=void 0):(o=(s=n.HTMLElement)==null?void 0:s.replaceWith)==null||o.call(s,n.HTMLOriginalElement),n.HTMLElement=n.HTMLOriginalElement,n.actions.destroyCalendar&&n.actions.destroyCalendar(n)};var Gu=class extends O0{constructor(t,e){if(super(),Mt(this,"init",()=>{return(r=this).HTMLOriginalElement=r.HTMLElement.cloneNode(!0),r.isInit=!0,r.input?nU(r):(VT(r),$u(r),r.actions.initCalendar&&r.actions.initCalendar(r),$T(r));var r}),Mt(this,"update",r=>rU(this,r)),Mt(this,"destroy",()=>sU(this)),Mt(this,"show",()=>{var r;(r=this).currentType?(r.HTMLElement.classList.remove(r.CSSClasses.calendarHidden),r.actions.showCalendar&&r.actions.showCalendar(r)):r.HTMLElement.click()}),Mt(this,"hide",()=>{var r;(r=this).currentType&&(r.HTMLElement.classList.add(r.CSSClasses.calendarHidden),r.actions.hideCalendar&&r.actions.hideCalendar(r))}),this.HTMLElement=typeof t=="string"?document.querySelector(t):t,!this.HTMLElement)throw new Error(dc.notFoundSelector(t));if(!e)return;let i=(r,s)=>{Object.keys(s).forEach(o=>{typeof r[o]!="object"||typeof s[o]!="object"||s[o]instanceof Date?r[o]=s[o]:i(r[o],s[o])})};i(this,e)}};var cc=class{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._lastClickIsDate=!1,this._shouldTriggerQuery=!0,this.hasTimePicker=!1,this.inputFilterType="range",this.searchTerms=[],this._bindEventService=new Yt}get gridOptions(){return this.grid?.getOptions()??{}}get columnFilter(){return this.columnDef?.filter||{}}get currentDateOrDates(){return this._currentDateOrDates}get defaultOperator(){return this.inputFilterType==="compound"?Le.empty:this.gridOptions.defaultFilterRangeOperator||Le.rangeInclusive}get pickerOptions(){return this._pickerOptions||{}}get filterOptions(){return k(k({},this.gridOptions.defaultFilterOptions?.date),this.columnFilter?.filterOptions)}get operator(){return this.inputFilterType==="compound"?this._operator||this.columnFilter.operator||this.defaultOperator:this.columnFilter?.operator??this.defaultOperator}set operator(t){this.inputFilterType==="compound"?this._operator=t:this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.inputFilterType==="compound"&&(this.operator=t.operator||""),this.searchTerms=t?.searchTerms??[],this.filterContainerElm=t.filterContainerElm;let e=this.inputFilterType==="compound"?Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"":this.searchTerms;this._filterElm=this.createDomFilterElement(e),this.updateFilterStyle(this.searchTerms.length>0),this._selectOperatorElm&&this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this)),this._bindEventService.bind(document.body,"keydown",i=>{(i.key==="Escape"||i.key==="Tab")&&this.hide()}),this._bindEventService.bind(this._dateInputElm,"keydown",i=>{i.key==="Backspace"&&this.clear(!0,!1)})}clear(t=!0,e=!0){this.calendarInstance&&(this._clearFilterTriggered=e,this._shouldTriggerQuery=t,this._currentValue="",this.searchTerms=[],this._currentDateStrings=[],this._selectOperatorElm&&(this._selectOperatorElm.selectedIndex=0),this.calendarInstance&&l0(this.calendarInstance)),this.onTriggerEvent(new Event("keyup")),this.updateFilterStyle(!1)}destroy(){this._bindEventService.unbindAll(),this.calendarInstance?.destroy(),ut(this.filterContainerElm),this.filterContainerElm?.remove(),this._selectOperatorElm?.remove(),this._filterElm?.remove()}hide(){typeof this.calendarInstance?.hide=="function"&&this.calendarInstance.hide()}show(){typeof this.calendarInstance?.show=="function"&&this.calendarInstance.show()}getValues(){return this._currentDateOrDates}setValues(t,e,i=!1){let r;this.inputFilterType==="compound"?r=Array.isArray(t)?t[0]:t:typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"&&t[0].indexOf("..")>0?r=typeof t=="string"?[t]:t[0].split(".."):Array.isArray(t)&&(r=t),this.calendarInstance&&r!==void 0&&(Gf(this.columnFilter,this._dateInputElm,this.calendarInstance,{columnDef:this.columnDef,newVal:r,updatePickerUI:!0}),this._currentDateOrDates=t&&r?r:void 0);let s=this.getValues()||[],o=Array.isArray(s)?s:[s];if(this.updateFilterStyle(o.length>0),this.operator=e||this.defaultOperator,e&&this._selectOperatorElm){let a=Bo(this.operator);this._selectOperatorElm.value=a}i&&this.callback(void 0,{columnDef:this.columnDef,searchTerms:o,operator:this.operator,shouldTriggerQuery:!0})}buildDatePickerInput(t){let e=this.columnDef?.id??"",i=this.columnFilter.type||this.columnDef.type||R.dateIso,r=this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||R.dateUtc,s=En(r),o=this.columnFilter.type||this.columnDef.type||R.dateIso;s&&this.inputFilterType!=="range"&&(s==="ISO8601"||s.toLowerCase().includes("h"))&&(this.hasTimePicker=!0);let a=En(this.hasTimePicker?R.dateTimeIsoAM_PM:R.dateIso),l=(this.filterOptions?.locale??this.translaterService?.getCurrentLanguage?.())||this.gridOptions.locale||"en",c;this.inputFilterType==="compound"?t&&(c=t,this._currentDateOrDates=t):(typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"&&t[0].indexOf("..")>0?c=typeof t=="string"?[t]:t[0].split(".."):Array.isArray(t)&&(c=t),Array.isArray(c)&&(this._currentDateOrDates=c,this._currentDateStrings=c.map(f=>Uo(f,void 0,o))));let h={input:!0,jumpToSelectedDate:!0,type:this.inputFilterType==="range"?"multiple":"default",sanitizer:f=>this.grid.sanitizeHtmlString(f),toggleSelected:!1,actions:{clickDay:f=>{this._lastClickIsDate=!0},changeToInput:(f,v)=>{if(v.HTMLInputElement){let C=[],x="",E="";if(v.selectedDates[1]){v.selectedDates.sort((L,V)=>+new Date(L)-+new Date(V)),x=v.selectedDates[0],E=v.selectedDates[v.selectedDates.length-1];let I=un(v.selectedDates[0],s,"en-US"),N=un(E,s,"en-US");v.HTMLInputElement.value=`${I} \u2014 ${N}`,C=[x,E]}else v.selectedDates[0]?(x=v.selectedDates[0],v.HTMLInputElement.value=Uo(x,R.dateIso,r),C=v.selectedDates):v.HTMLInputElement.value="";if(this.hasTimePicker&&x){let I=Ml(x,a);I.setHours(+(v.selectedHours||0)),I.setMinutes(+(v.selectedMinutes||0)),v.HTMLInputElement.value=Uo(I,void 0,r),C=[I]}if(this.inputFilterType==="compound"?this._currentValue=Uo(C[0],void 0,i):Array.isArray(C)&&(this._currentDateStrings=C.map(I=>Uo(I,void 0,i)),this._currentValue=this._currentDateStrings.join("..")),this._currentDateOrDates=C.map(I=>I instanceof Date?I:Ml(I,a)),this._currentValue){let I=this.hasTimePicker?new Event("keyup"):void 0;this.onTriggerEvent(I)}this.inputFilterType==="range"&&v.selectedDates.length<2&&(this._lastClickIsDate=!1),this._lastClickIsDate&&(v.hide(),this._lastClickIsDate=!1)}}},settings:{lang:l,iso8601:!1,visibility:{theme:this.gridOptions?.darkMode?"dark":"light",positionToInput:"auto",weekend:!1}}};this.inputFilterType==="range"&&(h.type="multiple",h.months=2,h.jumpMonths=2,h.settings=Ce(k({},h.settings),{range:{edgesOnly:!0},selection:{day:"multiple-ranged"},visibility:Ce(k({},h.settings?.visibility),{daysOutside:!1})})),this.hasTimePicker&&(h.settings.selection??={},h.settings.selection.time=24),this._pickerOptions=oi(!0,{},h,{settings:this.filterOptions});let m=this.gridOptions?.defaultFilterPlaceholder??"";this.columnFilter?.placeholder&&(m=this.columnFilter.placeholder),this._dateInputElm=T("input",{type:"text",className:"form-control date-picker",placeholder:m,readOnly:!0,dataset:{input:"",columnid:`${e}`}}),this.calendarInstance=new Gu(this._dateInputElm,this._pickerOptions),this.calendarInstance.init(),this._pickerOptions.settings?.selected?.dates&&(c=this._pickerOptions.settings.selected.dates),c&&Gf(this.columnFilter,this._dateInputElm,this.calendarInstance,{columnDef:this.columnDef,oldVal:void 0,newVal:c,updatePickerUI:!1})}getOperatorOptionValues(){let t;return this.columnFilter?.compoundOperatorList?t=this.columnFilter.compoundOperatorList:t=Jd(this.gridOptions,this.translaterService),ec(this.gridOptions,t,"numeric"),t}createDomFilterElement(t){let e=this.columnDef?.id??"";if(ut(this.filterContainerElm),this.buildDatePickerInput(t),this.inputFilterType==="range"){let i=T("div",{className:`date-picker form-group search-filter slick-filter filter-${e}`});return Array.isArray(t)&&t.length>0&&t[0]!==""&&(this._currentDateOrDates=t,this._currentValue=t[0]),i.appendChild(this._dateInputElm),i&&this.filterContainerElm.appendChild(i),i}else{this._selectOperatorElm=Zd(this.getOperatorOptionValues(),this.grid);let i=T("div",{className:`date-picker form-group search-filter slick-filter filter-${e}`}),r=T("div",{className:"input-group date-picker"},i);if(T("div",{className:"input-group-addon input-group-prepend operator"},r).appendChild(this._selectOperatorElm),r.appendChild(this._dateInputElm),this.operator){let o=Bo(this.operator);this._selectOperatorElm.value=o}return this._currentDateOrDates=t,this._currentValue=t,i&&this.filterContainerElm.appendChild(i),i}}onTriggerEvent(t){if(this._clearFilterTriggered)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.updateFilterStyle(!1);else if(this.inputFilterType==="range"){let e=this._currentDateStrings?this._currentDateStrings:[this._currentValue];this.updateFilterStyle(e.length>0),this.callback(t,{columnDef:this.columnDef,searchTerms:e,operator:this.operator||"",shouldTriggerQuery:this._shouldTriggerQuery})}else if(this.inputFilterType==="compound"&&this._selectOperatorElm){let e=this._selectOperatorElm.value;this.updateFilterStyle(!!this._currentValue);let i=this.columnFilter.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput===void 0,r=i&&mt(this._currentDateOrDates)||this._currentDateOrDates===""&&mt(this._lastSearchValue);(!i||!i||r)&&this.callback(t,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:e||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._lastSearchValue=this._currentValue}updateFilterStyle(t){t?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled")}};var vg=class extends cc{constructor(t){super(t),this.translaterService=t,this.inputFilterType="compound"}};var Yu=class{constructor(t){this.translaterService=t}filterCollection(t,e,i=Su.chain){let r=[];return Array.isArray(e)?(r=i===Su.merge?[]:[...t],e.forEach(s=>{if(i===Su.merge){let o=this.singleFilterCollection(t,s);r=Ky([...r,...o])}else r=this.singleFilterCollection(r,s)})):r=this.singleFilterCollection(t,e),r}preParseByMutationDateItems(t,e,i){let r=[];e.getColumns().forEach(s=>{let o=this.getParseDateInfo(s,i);o&&r.push(o)}),t.forEach(s=>{r.forEach(({columnId:o,dateFormat:a,queryFieldName:l})=>{this.reassignDateWhenValid(s,o,a,l)})})}parseSingleDateItem(t,e,i){i&&e.getColumns().forEach(r=>{let s=this.getParseDateInfo(r,i);s&&this.reassignDateWhenValid(t,r.id,s.dateFormat,s.queryFieldName)})}singleFilterCollection(t,e){let i=[];if(e){let r=e.property,s=e.operator||Le.equal,o=typeof e.value>"u"?"":e.value;switch(s){case Le.equal:r?i=t.filter(a=>a[r]===o):i=t.filter(a=>a===o);break;case Le.contains:r?i=t.filter(a=>a[r]?.toString().indexOf(o.toString())!==-1):i=t.filter(a=>a!=null&&a.toString().indexOf(o.toString())!==-1);break;case Le.notContains:r?i=t.filter(a=>a[r]?.toString().indexOf(o.toString())===-1):i=t.filter(a=>a!=null&&a.toString().indexOf(o.toString())===-1);break;case Le.notEqual:default:r?i=t.filter(a=>a[r]!==o):i=t.filter(a=>a!==o)}}return i}sortCollection(t,e,i,r){if(r&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let s=[];if(i){if(Array.isArray(i))s=e.sort((o,a)=>{for(let l=0,c=i.length;l<c;l++){let h=i[l];if(h?.property){let m=h.sortDesc?ri.desc:ri.asc,f=h.property,v=h?.fieldType??t?.type??R.string,C=r?this.translaterService?.translate?.(o[f]||" "):o[f],x=r?this.translaterService?.translate?.(a[f]||" "):a[f],E=Wo(v,C,x,m,t);if(E!==ri.neutral)return E}}return ri.neutral});else if(i?.property){let o=i.property,a=i.sortDesc?ri.desc:ri.asc,l=i?.fieldType??t?.type??R.string;s=e.sort((c,h)=>{let m=r?this.translaterService?.translate&&this.translaterService.translate(c[o]||" "):c[o],f=r?this.translaterService?.translate&&this.translaterService.translate(h[o]||" "):h[o],v=Wo(l,m,f,a,t);return v!==ri.neutral?v:ri.neutral})}else if(i&&!i.property){let o=i.sortDesc?ri.desc:ri.asc,a=i?.fieldType??t?.type??R.string;s=e.sort((l,c)=>{let h=r?this.translaterService?.translate&&this.translaterService.translate(l||" "):l,m=r?this.translaterService?.translate&&this.translaterService.translate(c||" "):c,f=Wo(a,h,m,o,t);return f!==ri.neutral?f:ri.neutral})}}return s}getParseDateInfo(t,e){let i=t.type||R.string,r=En(i);if(vr(i)&&e){let s=typeof e=="string"?`${e}${t.id}`:`${t.id}`;return{columnId:t.id,dateFormat:r,queryFieldName:s}}}reassignDateWhenValid(t,e,i,r){let s=br(t[e],i,!1);s&&(t[r]=s)}};var bg=class{init(t){this._grid=t,t.hasDataView()&&(this._dataView=t.getData())}getDataItem(t){return this._dataView?this._dataView.getItem(t):this._grid.getDataItem(t)}getDataItems(){return this._dataView?this._dataView.getItems():this._grid.getData()}getDataLength(){return this._dataView?this._dataView.getItemCount():this._grid.getDataLength()}setDataItems(t){this._dataView?this._dataView.setItems(t):this._grid.setData(t)}};function j0(n,t,e,i,r=!1,s,o){let a=e?.id??"",l=i.getOptions(),c=(n==="editor"?e?.editor:e?.filter)??{},m=(c?.collectionOptions??{})?.separatorBetweenTextLabels??"",f=c?.enableTranslateLabel??!1,v=l?.enableTranslate??!1,C=c?.enableRenderHtml??!1,x=c?.customStructure?.label??"label",E=c?.customStructure?.labelPrefix??"labelPrefix",I=c?.customStructure?.labelSuffix??"labelSuffix",N=c?.customStructure?.optionLabel??"value",L=c?.customStructure?.value??"value",V=T("select",{className:"ms-filter search-filter"}),j=n==="filter"?["search-filter",`filter-${a}`]:["select-editor",`editor-${a}`];V.classList.add(...j),V.multiple=r;let Y=[],me=!1;return Array.isArray(t)&&(t.every(Q=>typeof Q=="number"||typeof Q=="string")?t.forEach(Q=>{let pe={text:String(Q),value:Q};n==="filter"&&Array.isArray(o)&&(pe.selected=o.findIndex(Be=>Be===Q)>=0),Y.push(pe),(pe.selected&&r||pe.selected&&!r&&Q!=="")&&(me=!0)}):t.forEach(Q=>{if(Q===void 0||typeof Q=="object"&&Q[x]===void 0&&Q.labelKey===void 0)throw new Error("[Slickgrid-Universal] Select Filter/Editor collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");let pe=Q.labelKey||Q[x],Be=(Q.labelKey||f&&s)&&pe&&v?s?.translate(pe||" "):pe,Ge=Q[E]||"",ct=Q[I]||"",St=Q.hasOwnProperty(N)?Q[N]:"";St?.toString&&(St=St.toString().replace(/"/g,"'")),Ge=f&&s&&Ge&&typeof Ge=="string"?s.translate(Ge||" "):Ge,ct=f&&s&&ct&&typeof ct=="string"?s.translate(ct||" "):ct,St=f&&s&&St&&typeof St=="string"?s.translate(St||" "):St;let xt=[Ge,typeof Be=="string"||typeof Be=="number"?Be.toString():Be,ct].filter(Ft=>Ft).join(m),Rt={text:"",value:""};C&&(xt=i.sanitizeHtmlString(xt)),Rt.text=xt;let kt=Q[L];kt==null&&(kt=""),n==="filter"&&Array.isArray(o)&&(Rt.selected=o.findIndex(Ft=>`${Ft}`==`${Q[L]}`)>=0),Rt.value=`${kt??""}`,Y.push(Rt),(Rt.selected&&r||Rt.selected&&!r&&Q[L]!=="")&&(me=!0)})),{selectElement:V,dataCollection:Y,hasFoundSearchTerm:me}}var yg=class{constructor(t,e,i){this.sharedService=t,this.backendUtilities=e,this.translaterService=i}getPickerTitleOutputString(t,e){if(this.sharedService.gridOptions?.enableTranslate&&!this.translaterService?.translate)throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let i="",r=this.sharedService.gridOptions?.[e]??{},s=this.sharedService.gridOptions?.enableTranslate??!1,o=this.sharedService.gridOptions?.locales??se.locales,a=r?.[t],l=r?.[`${t}Key`],c=this.sharedService.gridOptions,h=Sn(c);if(l&&this.translaterService?.translate)i=this.translaterService.translate(l||" ");else switch(t){case"commandTitle":i=a||s&&this.translaterService?.getCurrentLanguage&&this.translaterService?.translate(`${h}COMMANDS`)||o?.TEXT_COMMANDS;break;case"columnTitle":i=a||s&&this.translaterService?.getCurrentLanguage&&this.translaterService?.translate(`${h}COLUMNS`)||o?.TEXT_COLUMNS;break;case"forceFitTitle":i=a||s&&this.translaterService?.getCurrentLanguage&&this.translaterService?.translate(`${h}FORCE_FIT_COLUMNS`)||o?.TEXT_FORCE_FIT_COLUMNS;break;case"syncResizeTitle":i=a||s&&this.translaterService?.getCurrentLanguage&&this.translaterService?.translate(`${h}SYNCHRONOUS_RESIZE`)||o?.TEXT_SYNCHRONOUS_RESIZE;break;default:i=a;break}return i}readjustFrozenColumnIndexWhenNeeded(t,e,i){if(t>=0){let r=i.findIndex(s=>s.id===this.sharedService.frozenVisibleColumnId);r>=0&&r!==t&&(this.sharedService.gridOptions.frozenColumn=r,this.sharedService.slickGrid.setOptions({frozenColumn:r})),Array.isArray(i)&&Array.isArray(e)&&i.length!==e.length&&this.sharedService.slickGrid.setColumns(i)}}refreshBackendDataset(t){let e=this.sharedService.gridOptions;t&&(e=k(k({},this.sharedService.gridOptions),t),this.sharedService.gridOptions=e),this.backendUtilities?.refreshBackendDataset(e)}runOverrideFunctionWhenExists(t,e){return typeof t=="function"?!!t.call(this,e):!0}sortItems(t,e){Array.isArray(t)&&t.sort((i,r)=>i&&r&&i.hasOwnProperty(e)&&r.hasOwnProperty(e)?i[e]-r[e]:0)}translateItems(t,e,i){if(Array.isArray(t))for(let r of t)r.hasOwnProperty(e)&&(r[i]=this.translaterService?.translate?.(r[e]))}translateMenuItemsFromTitleKey(t,e="commandItems"){for(let i of t)typeof i=="object"&&(i.titleKey&&(i.title=this.translateWhenEnabledAndServiceExist(`${i.titleKey}`,`TEXT_${i.titleKey}`)),i.subMenuTitleKey&&(i.subMenuTitle=this.translateWhenEnabledAndServiceExist(`${i.subMenuTitleKey}`,`TEXT_${i.subMenuTitleKey}`))),Array.isArray(i?.[e])&&this.translateMenuItemsFromTitleKey(i?.[e])}translateWhenEnabledAndServiceExist(t,e,i){let r="",s=this.sharedService?.gridOptions,o=s?.locales??se.locales;return i?r=i:s.enableTranslate&&this.translaterService?.translate?r=this.translaterService.translate(t||" "):e in o?r=o[e]:r=e,r}};var wg=class{constructor(t){this.pluginName="AutoTooltips",this._defaults={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:void 0,replaceExisting:!0},this._eventHandler=new tt,this._addonOptions=t}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}init(t){this._addonOptions=k(k({},this._defaults),this.addonOptions),this._grid=t,this._addonOptions.enableForCells&&this._eventHandler.subscribe(this._grid.onMouseEnter,this.handleMouseEnter.bind(this)),this._addonOptions.enableForHeaderCells&&this._eventHandler.subscribe(this._grid.onHeaderMouseEnter,this.handleHeaderMouseEnter.bind(this))}destroy(){this.dispose()}dispose(){this._eventHandler?.unsubscribeAll()}handleMouseEnter(t){let e=this._grid.getCellFromEvent(t);if(e){let i=this._grid.getCellNode(e.row,e.cell),r;this._addonOptions&&i&&(!i.title||this._addonOptions?.replaceExisting)&&(i.clientWidth<i.scrollWidth?(r=i.textContent?.trim()??"",this._addonOptions?.maxToolTipLength&&r.length>this._addonOptions?.maxToolTipLength&&(r=r.substring(0,this._addonOptions.maxToolTipLength-3)+"...")):r="",i.title=r),i=null}}handleHeaderMouseEnter(t,e){let i=e.column,r,s=t.target;if(s&&(r=s.closest(".slick-header-column"),r&&!i?.toolTip)){let o=s.clientWidth<r.clientWidth?i?.name??"":"";r.title=yi(Fr(o,"innerHTML"))}r=null}};var Cg=class{constructor(){this.pluginName="CellExcelCopyManager",this._eventHandler=new tt,this._bindingEventService=new Yt}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get commandQueue(){return this._commandQueue}get gridOptions(){return this._grid?.getOptions()??{}}get undoRedoBuffer(){return this._undoRedoBuffer}init(t,e){this._grid=t,this.createUndoRedoBuffer(),this._cellSelectionModel=new Eg,this._grid.setSelectionModel(this._cellSelectionModel),this._bindingEventService.bind(document.body,"keydown",this.handleBodyKeyDown.bind(this)),this._addonOptions=k(k({},this.getDefaultOptions()),e),this._cellExternalCopyManagerPlugin=new Sg,this._cellExternalCopyManagerPlugin.init(this._grid,this._addonOptions),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onCopyCells,(i,r)=>{this._addonOptions&&typeof this._addonOptions.onCopyCells=="function"&&this._addonOptions.onCopyCells(i,r)}),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onCopyCancelled,(i,r)=>{this._addonOptions&&typeof this._addonOptions.onCopyCancelled=="function"&&this._addonOptions.onCopyCancelled(i,r)}),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onPasteCells,(i,r)=>{this._addonOptions&&typeof this._addonOptions.onPasteCells=="function"&&this._addonOptions.onPasteCells(i,r)})}dispose(){this._eventHandler.unsubscribeAll(),this._bindingEventService.unbindAll(),this._cellSelectionModel?.dispose(),this._cellExternalCopyManagerPlugin?.dispose()}createUndoRedoBuffer(){let t=0;this._commandQueue=[],this._undoRedoBuffer={queueAndExecuteCommand:e=>{this._commandQueue[t]=e,t++,e.execute()},undo:()=>{if(t===0)return;t--;let e=this._commandQueue[t];e&&Rl.cancelCurrentEdit()&&e.undo()},redo:()=>{if(t>=this._commandQueue.length)return;let e=this._commandQueue[t];t++,e&&Rl.cancelCurrentEdit()&&e.execute()}}}getDefaultOptions(){let t=0;return{clipboardCommandHandler:e=>{this._undoRedoBuffer.queueAndExecuteCommand.call(this._undoRedoBuffer,e)},dataItemColumnValueExtractor:(e,i,r=0,s=0)=>{let o=this._grid.getActiveCell(),a=this._grid.getCellEditor()&&o?.row===r&&o?.cell===s,l=this.addonOptions?.copyActiveEditorCell||!1;if(!this.gridOptions.editable||!i.editor||!a||l){let c=i.exportWithFormatter!==void 0?i.exportWithFormatter:this.gridOptions.textExportOptions?.exportWithFormatter;if(i.formatter&&c){let h=i.formatter(r,s,e[i.field],i,e,this._grid),m=ro(h)?h:h.html||h.text;if(i.sanitizeDataExport||this.gridOptions.textExportOptions?.sanitizeDataExport){let f=m instanceof HTMLElement?m.innerHTML:m;return yi(f??"")}return h}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:e=>{for(let i=0;i<e;i++)this._grid.getData().addItem({[this.gridOptions.datasetIdPropertyName||"id"]:`newRow_${t++}`})},replaceNewlinesWith:!1,removeDoubleQuotesOnPaste:!1}}handleBodyKeyDown(t){t.key==="Z"&&(t.ctrlKey||t.metaKey)&&(t.shiftKey?this._undoRedoBuffer.redo():this._undoRedoBuffer.undo())}};var oU=2e3,XT=100,xg=()=>{},Sg=class{constructor(){this.pluginName="CellExternalCopyManager",this._bodyElement=document.body,this._copiedCellStyle="copied",this._copiedCellStyleLayerKey="copy-manager",this._copiedRanges=null,this._dataWrapper=new bg,this.onCopyCells=new re("onCopyCells"),this.onCopyCancelled=new re("onCopyCancelled"),this.onPasteCells=new re("onPasteCells"),this.onBeforePasteCell=new re("onBeforePasteCell"),this._eventHandler=new tt}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}init(t,e){this._grid=t,this._dataWrapper.init(t),this._addonOptions=k(k({},this._addonOptions),e),this._copiedCellStyleLayerKey=this._addonOptions.copiedCellStyleLayerKey||"copy-manager",this._copiedCellStyle=this._addonOptions.copiedCellStyle||"copied",this._bodyElement=this._addonOptions.bodyElement||document.body,this._onCopyInit=this._addonOptions.onCopyInit||void 0,this._onCopySuccess=this._addonOptions.onCopySuccess||void 0;let i=t.getPubSubService();i&&B.addSlickEventPubSubWhenDefined(i,this),this._eventHandler.subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this));let r=t.getSelectionModel();if(!r)throw new Error("Selection model is mandatory for this plugin. Please set a selection model on the grid before adding this plugin: grid.setSelectionModel(new SlickCellSelectionModel())");this._eventHandler.subscribe(r.onSelectedRangesChanged,()=>{!this._grid.getEditorLock().isActive()&&!document.activeElement?.classList.contains("slick-filter")&&this._grid.focus()}),t&&typeof this._addonOptions?.onBeforePasteCell=="function"&&this._eventHandler.subscribe(this.onBeforePasteCell,(s,o)=>{let a=t.getColumns()[o.cell],l={row:o.row,cell:o.cell,dataView:t.getData(),grid:t,columnDef:a,dataContext:t.getDataItem(o.row)};return this._addonOptions.onBeforePasteCell?.(s,l)})}dispose(){this._eventHandler.unsubscribeAll()}clearCopySelection(){this._grid.removeCellCssStyles(this._copiedCellStyleLayerKey)}getHeaderValueForColumn(t){if(typeof this._addonOptions.headerColumnValueExtractor=="function"){let e=Fr(this._addonOptions.headerColumnValueExtractor(t),"innerHTML");if(e)return yi(e)}return Fr(t.name||"","innerHTML")}getDataItemValueForColumn(t,e,i,r,s){if(typeof this._addonOptions.dataItemColumnValueExtractor=="function"){let a=this._addonOptions.dataItemColumnValueExtractor(t,e,i,r);if(a)return a instanceof HTMLElement?yi(a.innerHTML):a}let o="";if(e)if(e.editorClass){let a=document.createElement("p"),l=new e.editorClass({container:a,column:e,event:s,position:{top:0,left:0},gridPosition:{top:0,left:0},grid:this._grid,cancelChanges:xg,commitChanges:xg});l.loadValue(t),o=l.serializeValue(),l.destroy(),a.remove()}else o=t[e.field||""];return o}setDataItemValueForColumn(t,e,i){if(!e?.denyPaste){if(this._addonOptions.dataItemColumnValueSetter){let r=this._addonOptions.dataItemColumnValueSetter(t,e,i);if(r!==!0)return r}if(e.editorClass){let r=document.createElement("div"),s=new e.editorClass({container:r,column:e,event:null,position:{top:0,left:0},gridPosition:{top:0,left:0},grid:this._grid,cancelChanges:xg,commitChanges:xg});s.loadValue(t);let o=s.validate(void 0,i);if(!o.valid){let a=this._grid.getActiveCell();this._grid.onValidationError.notify({editor:s,cellNode:this._grid.getActiveCellNode(),validationResults:o,row:a?.row,cell:a?.cell,column:e,grid:this._grid})}s.applyValue(t,i),s.destroy(),r.remove()}else t[e.field]=i}}setIncludeHeaderWhenCopying(t){this._addonOptions.includeHeaderWhenCopying=t}createTextBox(t){let e=document.documentElement.scrollTop||document.body.scrollTop,i=T("textarea",{value:t,style:{position:"absolute",opacity:"0",top:`${e}px`}},this._bodyElement);return i.select(),i}decodeTabularData(t,e){let i=t.getColumns(),s=e.value.split(/[\n\f\r](?=(?:[^"]*"[^"]*")*[^"]*$)/);s[s.length-1]===""&&s.pop();let o=0,a=[];this._bodyElement.removeChild(e);for(let L of s)L.startsWith('"')&&L.endsWith('"')?a[o++]=[L.replaceAll(`
`,this._addonOptions.replaceNewlinesWith||`
`).replaceAll("\r","").replaceAll('"',this._addonOptions.removeDoubleQuotesOnPaste?"":'"')]:a[o++]=L.split("	");let l=this._grid.getActiveCell(),c=this._grid.getSelectionModel()?.getSelectedRanges(),h=c?.length?c[0]:null,m,f;if(h)m=h.fromRow,f=h.fromCell;else if(l)m=l.row,f=l.cell;else return;let v=!1,C=a.length,x=a.length?a[0].length:0;a.length===1&&a[0].length===1&&h&&(v=!0,C=h.toRow-h.fromRow+1,x=h.toCell-h.fromCell+1);let E=this._dataWrapper.getDataLength()-m;if(E<C&&typeof this._addonOptions.newRowCreator=="function"){let L=C-E,V=this._dataWrapper.getDataLength();this._addonOptions.newRowCreator(L);let j=this._dataWrapper.getDataLength();j!==V+L&&console.warn(`[Slickgrid-Universal] The "newRowCreator" did not add the correct amount of rows, it should add "${L}" rows but it added "${j-V}" rows`),this._grid.render()}if(m+C>this._dataWrapper.getDataLength()&&typeof this._addonOptions.newRowCreator=="function"){let L=m+C-this._dataWrapper.getDataLength();this._addonOptions.newRowCreator(L)}let N={isClipboardCommand:!0,clippedRange:a,oldValues:[],cellExternalCopyManager:this,_options:this._addonOptions,setDataItemValueForColumn:this.setDataItemValueForColumn,markCopySelection:this.markCopySelection,oneCellToMultiple:v,activeRow:m,activeCell:f,destH:C,destW:x,maxDestY:this._dataWrapper.getDataLength(),maxDestX:this._grid.getColumns().length,h:0,w:0,execute:()=>{N.h=0;for(let V=0;V<N.destH;V++){N.oldValues[V]=[],N.w=0,N.h++;let j=0;for(let Y=0;Y<N.destW;Y++){let me=m+V,Q=f+Y,pe=i[Q];if(pe.hidden){N.destW++,j++;continue}if(N.w++,me<N.maxDestY&&Q<N.maxDestX){let Be=this._dataWrapper.getDataItem(me);if(this._grid.triggerEvent(this.onBeforePasteCell,{row:me,cell:Q,dt:Be,column:pe,target:"grid"}).getReturnValue()===!1)continue;N.oldValues[V][Y-j]=Be[pe.field],v?this.setDataItemValueForColumn(Be,pe,a[0][0]):this.setDataItemValueForColumn(Be,pe,a[V]?a[V][Y-j]:""),this._grid.updateCell(me,Q),this._grid.onCellChange.notify({row:me,cell:Q,item:Be,grid:this._grid,column:{}})}}}let L=new mn(m,f,m+N.h-1,f+N.w-1);this.markCopySelection([L]),this._grid.getSelectionModel()?.setSelectedRanges([L]),this.onPasteCells.notify({ranges:[L]})},undo:()=>{for(let V=0;V<N.destH;V++)for(let j=0;j<N.destW;j++){let Y=m+V,me=f+j;if(Y<N.maxDestY&&me<N.maxDestX){let Q=this._dataWrapper.getDataItem(Y);v?this.setDataItemValueForColumn(Q,i[me],N.oldValues[0][0]):this.setDataItemValueForColumn(Q,i[me],N.oldValues[V][j]),this._grid.updateCell(Y,me),this._grid.onCellChange.notify({row:Y,cell:me,item:Q,grid:this._grid,column:{}})}}let L=new mn(m,f,m+N.h-1,f+N.w-1);this.markCopySelection([L]),this._grid.getSelectionModel()?.setSelectedRanges([L]),this.onPasteCells.notify({ranges:[L]}),typeof this._addonOptions.onPasteCells=="function"&&this._addonOptions.onPasteCells(new Ct,{ranges:[L]})}};this._addonOptions.clipboardCommandHandler?this._addonOptions.clipboardCommandHandler(N):N.execute()}handleKeyDown(t){let e;if(!this._grid.getEditorLock().isActive()||this._grid.getOptions().autoEdit){if(t.key==="Escape"&&this._copiedRanges&&(t.preventDefault(),this.clearCopySelection(),this.onCopyCancelled.notify({ranges:this._copiedRanges}),typeof this._addonOptions.onCopyCancelled=="function"&&this._addonOptions.onCopyCancelled(t,{ranges:this._copiedRanges}),this._copiedRanges=null),(t.key==="c"||t.key==="Insert")&&(t.ctrlKey||t.metaKey)&&!t.shiftKey&&(typeof this._onCopyInit=="function"&&this._onCopyInit.call(this),e=this._grid.getSelectionModel()?.getSelectedRanges()??[],e.length!==0)){this._copiedRanges=e,this.markCopySelection(e),this.onCopyCells.notify({ranges:e}),typeof this._addonOptions.onCopyCells=="function"&&this._addonOptions.onCopyCells(t,{ranges:e});let i=this._grid.getColumns(),r="";for(let s=0;s<e.length;s++){let o=e[s],a=[];for(let l=o.fromRow;l<o.toRow+1;l++){let c=[],h=this._dataWrapper.getDataItem(l);if(a.length===0&&this._addonOptions.includeHeaderWhenCopying){let m=[];for(let f=o.fromCell;f<o.toCell+1;f++)i[f]&&(i[f].name instanceof HTMLElement?yi(i[f].name.innerHTML):i[f].name).length>0&&!i[f].hidden&&m.push(this.getHeaderValueForColumn(i[f]));a.push(m.join("	"))}for(let m=o.fromCell;m<o.toCell+1;m++)i[m]&&(i[m].name instanceof HTMLElement?yi(i[m].name.innerHTML):i[m].name).length>0&&!i[m].hidden&&c.push(this.getDataItemValueForColumn(h,i[m],l,m,t));a.push(c.join("	"))}r+=a.join(`\r
`)+`\r
`}if(window.clipboardData)return window.clipboardData.setData("Text",r),!0;{let s=document.activeElement,o=this.createTextBox(r);if(o.focus(),window.setTimeout(()=>{this._bodyElement.removeChild(o),s?s.focus():console.log("No element to restore focus to after copy?")},this.addonOptions?.clipboardPasteDelay??XT),typeof this._onCopySuccess=="function"){let a=e.length===1?e[0].toRow+1-e[0].fromRow:e.length;this._onCopySuccess(a)}return!1}}if(!this._addonOptions.readOnlyMode&&(t.key==="v"&&(t.ctrlKey||t.metaKey)&&!t.shiftKey||t.key==="Insert"&&t.shiftKey&&!t.ctrlKey)){let i=this.createTextBox("");return window.setTimeout(()=>this.decodeTabularData(this._grid,i),this.addonOptions?.clipboardPasteDelay??XT),!1}}}markCopySelection(t){this.clearCopySelection();let e=this._grid.getColumns(),i={};for(let r of t)for(let s=r.fromRow;s<=r.toRow;s++){i[s]={};for(let o=r.fromCell;o<=r.toCell&&o<e.length;o++)i[s][e[o].id]=this._copiedCellStyle}this._grid.setCellCssStyles(this._copiedCellStyleLayerKey,i),window.clearTimeout(this._clearCopyTI),this._clearCopyTI=window.setTimeout(()=>this.clearCopySelection(),this.addonOptions?.clearCopySelectionDelay||oU)}};var uo=class{constructor(t,e,i){this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this._addonOptions={},this._camelPluginName="",this._gridUid="",this._menuCssPrefix="",this._menuPluginCssPrefix="",this._bindEventService=new Yt,this._eventHandler=new tt}get addonOptions(){return this._addonOptions}set addonOptions(t){this._addonOptions=t}get eventHandler(){return this._eventHandler}get grid(){return this.sharedService.slickGrid}get gridOptions(){return this.sharedService.gridOptions??{}}get gridUid(){return this._gridUid||(this.grid?.getUID()??"")}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get menuCssClass(){return this._menuPluginCssPrefix||this._menuCssPrefix}get menuElement(){return this._menuElm||document.querySelector(`.${this.menuCssClass}${this.gridUidSelector}`)}dispose(){this._eventHandler?.unsubscribeAll(),this._bindEventService.unbindAll(),this.pubSubService.unsubscribeAll(),this._commandTitleElm?.remove(),this._optionTitleElm?.remove(),this.disposeAllMenus(),ut(this._menuElm),this.menuElement?.remove(),this._menuElm?.remove()}disposeAllMenus(){this.disposeSubMenus(),this._bindEventService.unbindAll("parent-menu"),document.querySelectorAll(`.${this.menuCssClass}${this.gridUidSelector}`).forEach(t=>t.remove())}disposeSubMenus(){this._bindEventService.unbindAll("sub-menu"),document.querySelectorAll(`.${this.menuCssClass}.slick-submenu${this.gridUidSelector}`).forEach(t=>t.remove())}setOptions(t){this._addonOptions=k(k({},this._addonOptions),t)}addSubMenuTitleWhenExists(t,e){if(t!=="divider"&&t?.subMenuTitle){let i=document.createElement("div");i.className="slick-menu-title",i.textContent=t.subMenuTitle;let r=t.subMenuTitleCssClass;r&&i.classList.add(...Ut(r)),e.appendChild(i)}}populateCommandOrOptionItems(t,e,i,r,s,o,a){if(s&&r&&e)for(let l of r)this.populateSingleCommandOrOptionItem(t,e,i,l,s,o,a)}populateCommandOrOptionTitle(t,e,i,r){if(e){let s=r>0,o=this._menuElm?.querySelector(`.slick-${t}-header`)??T("div",{className:`slick-${t}-header`}),a=`${t}Title`;s||(e?.[a]?(ut(o),this[`_${t}TitleElm`]=T("span",{className:"slick-menu-title",textContent:e[a]}),o.appendChild(this[`_${t}TitleElm`]),o.classList.add("with-title")):o.classList.add("no-title"),i.appendChild(o))}}populateSingleCommandOrOptionItem(t,e,i,r,s,o,a){let l=null;if(s&&r&&e){let c=s?.level||0,h=this._camelPluginName==="headerButtons"?"":"-item",m=`${this._menuCssPrefix}${h}`,f=!0,v=!0;if(typeof r=="object"&&(f=this.extensionUtility.runOverrideFunctionWhenExists(r.itemVisibilityOverride,s),v=this.extensionUtility.runOverrideFunctionWhenExists(r.itemUsabilityOverride,s)),!f)return null;if(typeof r=="object"&&r.itemUsabilityOverride&&(r.disabled=!v),l=T("li",{className:m,role:"menuitem"}),typeof r=="object"&&mt(r[t])&&(l.dataset[t]=r?.[t]),i&&i.appendChild(l),typeof r=="object"&&r.divider||r==="divider")return l.classList.add(`${m}-divider`),l;if(r.disabled&&l.classList.add(`${m}-disabled`),(r.hidden||r.showOnHover)&&l.classList.add(`${m}-hidden`),r.cssClass&&l.classList.add(...Ut(r.cssClass)),r.tooltip&&(l.title=r.tooltip),this._camelPluginName!=="headerButtons"){let x=T("div",{className:`${this._menuCssPrefix}-icon`});l.appendChild(x),r.iconCssClass?x.classList.add(...Ut(r.iconCssClass)):!r.commandItems&&!r.optionItems&&(x.textContent="\u25E6");let E=T("span",{className:`${this._menuCssPrefix}-content`,textContent:typeof r=="object"&&r.title||""},l);r.textCssClass&&E.classList.add(...Ut(r.textCssClass))}let C=c>0?"sub-menu":"parent-menu";if(this._bindEventService.bind(l,"click",x=>o.call(this,x,t,r,c,s?.column),void 0,C),this._addonOptions?.subMenuOpenByEvent==="mouseover"&&typeof a=="function"&&this._bindEventService.bind(l,"mouseover",x=>a.call(this,x,t,r,c,s?.column),void 0,C),r.commandItems||r.optionItems){let x=document.createElement("span");x.className="sub-item-chevron",this._addonOptions.subItemChevronClass?x.classList.add(...Ut(this._addonOptions.subItemChevronClass)):x.textContent="\u2B9E",l.classList.add("slick-submenu-item"),l.appendChild(x)}}return l}};var hc=class extends uo{constructor(t,e,i){super(t,e,i),this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this._currentCell=-1,this._currentRow=-1,this._lastMenuTypeClicked="",this._subMenuParentId=""}createParentMenu(t){this.menuElement?.remove(),this._menuElm=void 0;let e=this.grid.getCellFromEvent(t);if(e){this._currentCell=e.cell??0,this._currentRow=e.row??0;let i=this._addonOptions?.commandItems||[],r=this._addonOptions?.optionItems||[],s={cell:this._currentCell,row:this._currentRow,grid:this.grid};if(this.closeMenu(t,s),typeof t.stopPropagation=="function"&&(this.pubSubService.publish(`on${oo(this._camelPluginName)}BeforeMenuShow`,s),typeof this.addonOptions?.onBeforeMenuShow=="function"&&this.addonOptions.onBeforeMenuShow(t,s)===!1)||(this._menuElm=this.createMenu(i,r),this._menuElm&&(this._menuElm.style.top=`${(t.pageY||0)+5}px`,this._menuElm.style.left=`${t.pageX}px`,this._menuElm.style.display="block",document.body.appendChild(this._menuElm)),this.pubSubService.publish(`on${oo(this._camelPluginName)}AfterMenuShow`,s),typeof this.addonOptions?.onAfterMenuShow=="function"&&this.addonOptions.onAfterMenuShow(t,s)===!1))return}return this._menuElm}createMenu(t,e,i=0,r){let s=this.grid.getColumns()[this._currentCell],o=this.grid.getDataItem(this._currentRow),a=r?.command||r?.option,l=i===1&&a?String(a).replace(/\s/g,""):"";l&&(this._subMenuParentId=l),i>1&&(l=this._subMenuParentId);let c=!0,h=!0;if(this._camelPluginName==="contextMenu"){if(c=this.checkIsColumnAllowed(this._addonOptions?.optionShownOverColumnIds??[],s.id),h=this.checkIsColumnAllowed(this._addonOptions?.commandShownOverColumnIds??[],s.id),!s||(!h||!t.length)&&(!c||!e.length)){this.hideMenu();return}}else if(!s||!s.cellMenu||!t.length&&!e.length)return;let m=`${this.menuCssClass} slick-menu-level-${i} ${this.gridUid}`,f=document.body.querySelector(`.${this.menuCssClass}.slick-menu-level-${i}${this.gridUidSelector}`);if(f){if(f.dataset.subMenuParent===l)return f;this.disposeSubMenus()}let v=document.createElement("div");v.className=m,i>0&&(v.classList.add("slick-submenu"),this.gridOptions?.darkMode&&v.classList.add("slick-dark-mode"),l&&(v.dataset.subMenuParent=l));let C=isNaN(this.addonOptions.maxHeight)?this.addonOptions.maxHeight:`${this.addonOptions.maxHeight??0}px`,x=isNaN(this.addonOptions.maxWidth)?this.addonOptions.maxWidth:`${this.addonOptions.maxWidth??0}px`;C&&(v.style.maxHeight=C),x&&(v.style.maxWidth=x),this.addonOptions?.width&&(v.style.width=Kr(this.addonOptions?.width));let E=T("button",{ariaLabel:"Close",className:"close",type:"button",textContent:"\xD7",dataset:{dismiss:this._menuCssPrefix}});if(!this.addonOptions.hideOptionSection&&c&&e.length>0){let I=T("div",{className:`${this._menuCssPrefix}-option-list`,role:"menu"},v);this.populateCommandOrOptionTitle("option",this.addonOptions,I,i),!this.addonOptions.hideCloseButton&&i<1&&this.populateCommandOrOptionCloseBtn("option",E,I),r&&i>0&&this.addSubMenuTitleWhenExists(r,I),this.populateCommandOrOptionItems("option",this.addonOptions,I,e,{cell:this._currentCell,row:this._currentRow,column:s,dataContext:o,grid:this.grid,level:i},this.handleMenuItemCommandClick,this.handleMenuItemMouseOver)}if(!this.addonOptions.hideCommandSection&&h&&t.length>0){let I=T("div",{className:`${this._menuCssPrefix}-command-list`,role:"menu"},v);this.populateCommandOrOptionTitle("command",this.addonOptions,I,i),!this.addonOptions.hideCloseButton&&i<1&&(!c||e.length===0||this.addonOptions.hideOptionSection)&&this.populateCommandOrOptionCloseBtn("command",E,I),r&&i>0&&this.addSubMenuTitleWhenExists(r,I),this.populateCommandOrOptionItems("command",this.addonOptions,I,t,{cell:this._currentCell,row:this._currentRow,column:s,dataContext:o,grid:this.grid,level:i},this.handleMenuItemCommandClick,this.handleMenuItemMouseOver)}return i++,v}closeMenu(t,e){if(this.menuElement){if(typeof this.addonOptions?.onBeforeMenuClose=="function"&&this.addonOptions.onBeforeMenuClose(t,e)===!1)return;this.hideMenu()}}hideMenu(){this.menuElement?.remove(),this._menuElm=null,this.disposeSubMenus()}checkIsColumnAllowed(t,e){return t?.length>0?t.findIndex(i=>i===e)>=0:!0}handleBodyMouseDown(t){if(this.menuElement){let e=!1,i=t.target.closest(`.${this.menuCssClass}`);(this.menuElement.contains(t.target)||i)&&(e=!0),(this.menuElement!==t.target&&!e&&!t.defaultPrevented||t.target.className==="close"&&i)&&this.closeMenu(t,{cell:this._currentCell,row:this._currentRow,grid:this.grid})}}handleCloseButtonClicked(t){t.defaultPrevented||this.closeMenu(t,{cell:0,row:0,grid:this.grid})}handleMenuItemMouseOver(t,e,i,r=0){i?.[e]!==void 0&&i!=="divider"&&!i.disabled&&!i.divider&&(i.commandItems||i.optionItems?(this.repositionSubMenu(i,e,r,t),this._lastMenuTypeClicked=e):r===0&&this.disposeSubMenus())}handleMenuItemCommandClick(t,e,i,r=0){if(i?.[e]!==void 0&&i!=="divider"&&!i.disabled&&!i.divider&&this._currentCell!==void 0&&this._currentRow!==void 0){if(e==="option"&&!this.grid.getEditorLock().commitCurrentEdit())return;let s=this._currentCell,o=this._currentRow,a=this.grid.getColumns()[this._currentCell],l=this.grid.getDataItem(this._currentRow),c=i[e]!==void 0?i[e]:"";if(c!==void 0&&!i[`${e}Items`]){let h={cell:this._currentCell,row:this._currentRow,grid:this.grid,[e]:c,item:i,column:a,dataContext:l},m=e==="command"?"onCommand":"onOptionSelected",f=`${this._camelPluginName}:${m}`;this.pubSubService.publish(f,h),typeof this._addonOptions?.[m]=="function"&&this._addonOptions[m](t,h),typeof i.action=="function"&&i.action.call(this,t,h),t.defaultPrevented||this.closeMenu(t,{cell:s,row:o,grid:this.grid})}else(i.commandItems||i.optionItems)&&this.repositionSubMenu(i,e,r,t);this._lastMenuTypeClicked=e}}populateCommandOrOptionCloseBtn(t,e,i){this._bindEventService.bind(e,"click",s=>this.handleCloseButtonClicked(s),void 0,"parent-menu");let r=i.querySelector(`.slick-${t}-header`)??T("div",{className:`slick-${t}-header`});r?.appendChild(e),i.appendChild(r),r.classList.add("with-close")}repositionSubMenu(t,e,i,r){(r.target.classList.contains("slick-cell")||this._lastMenuTypeClicked!==e)&&this.disposeSubMenus();let s=this.createMenu(t?.commandItems||[],t?.optionItems||[],i+1,t);s&&(s.style.display="block",document.body.appendChild(s),this.repositionMenu(r,s))}repositionMenu(t,e){let i=e?.classList.contains("slick-submenu"),r=i?t.target.closest(`.${this._menuCssPrefix}-item`):t.target.closest(".slick-cell");if(e&&r){e.style.top="0px",e.style.left="0px";let s=t?.touches?.[0]??t,o=pi(r),a=r&&this._camelPluginName==="cellMenu"?o.left:s.pageX,l=r&&this._camelPluginName==="cellMenu"?o.top:s.pageY;i&&this._camelPluginName==="contextMenu"&&(a=o.left,l=o.top);let c=r.offsetWidth||0,h=e?.offsetHeight||0,m=e?.offsetWidth||this._addonOptions.width||0,f=this.gridOptions.rowHeight||0,v=Number(this._addonOptions.autoAdjustDropOffset||0),C=Number(this._addonOptions.autoAlignSideOffset||0);if(this._addonOptions.autoAdjustDrop||this._addonOptions.dropDirection){let{bottom:x,top:E}=Dl(r),I=x+v-f,N=E-v+f;(I<h&&N>I?"top":"bottom")==="top"||this._addonOptions.dropDirection==="top"?(e.classList.remove("dropdown"),e.classList.add("dropup"),i?l-=h-v-r.clientHeight:l-=h-v):(e.classList.remove("dropup"),e.classList.add("dropdown"),l=l+v,this._camelPluginName==="cellMenu"&&(i?l+=v:l+=f+v))}if(this._addonOptions.autoAlignSide||this._addonOptions.dropSide==="left"){let x=this.grid.getGridPosition(),E=a+Number(m);i&&(E+=r.clientWidth);let I=document.documentElement.clientWidth;(E>=x.width||E>=I?"left":"right")==="left"||!i&&this._addonOptions.dropSide==="left"?(e.classList.remove("dropright"),e.classList.add("dropleft"),this._camelPluginName==="cellMenu"&&!i?a-=Number(m)-c-C:a-=Number(m)-C):(e.classList.remove("dropleft"),e.classList.add("dropright"),i?a+=C+r.offsetWidth:a+=C)}e.style.top=`${l}px`,e.style.left=`${a}px`}}};var kg=class extends hc{constructor(t,e,i){super(t,e,i),this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this.pluginName="CellMenu",this._defaults={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!0,subMenuOpenByEvent:"mouseover"},this._camelPluginName="cellMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-cell-menu",this.init(i.gridOptions.cellMenu)}init(t){this._addonOptions=k(k({},this._defaults),t),this.sortMenuItems(this.sharedService.allColumns),this._eventHandler.subscribe(this.grid.onClick,this.handleCellClick.bind(this)),this._addonOptions.hideMenuOnScroll&&this._eventHandler.subscribe(this.grid.onScroll,this.closeMenu.bind(this))}translateCellMenu(){let t=this.sharedService?.gridOptions,e=this.sharedService.allColumns;t?.enableTranslate&&Array.isArray(e)&&e.forEach(i=>{if(i?.cellMenu&&(Array.isArray(i.cellMenu.commandItems)||Array.isArray(i.cellMenu.optionItems))){let r=i.cellMenu.commandItems||[],s=i.cellMenu.optionItems||[];i.cellMenu.commandTitleKey&&(i.cellMenu.commandTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(i.cellMenu.commandTitleKey,"TEXT_COMMANDS")||i.cellMenu.commandTitle),i.cellMenu.optionTitleKey&&(i.cellMenu.optionTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(i.cellMenu.optionTitleKey,"TEXT_COMMANDS")||i.cellMenu.optionTitle),this.extensionUtility.translateMenuItemsFromTitleKey(r,"commandItems"),this.extensionUtility.translateMenuItemsFromTitleKey(s,"optionItems")}})}handleCellClick(t,e){this.disposeAllMenus();let i=this.grid.getCellFromEvent(t);if(i){let r=this.grid.getDataItem(i.row),s=this.grid.getColumns()[i.cell];s?.cellMenu&&!this.gridOptions.cellMenu?.activateCellOnMenuClick&&t.preventDefault(),this._addonOptions=k(k({},this._addonOptions),s.cellMenu);let o=e||{};if(o.column=s,o.dataContext=r,o.grid=this.grid,!this.extensionUtility.runOverrideFunctionWhenExists(this._addonOptions.menuUsabilityOverride,o))return;this._menuElm=this.createParentMenu(t),this._menuElm&&(this.repositionMenu(t,this._menuElm),this._menuElm.ariaExpanded="true",this._menuElm.style.display="block",this.gridOptions.darkMode&&this._menuElm.classList.add("slick-dark-mode")),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}}sortMenuItems(t){t.forEach(e=>{e?.cellMenu?.commandItems&&this.extensionUtility.sortItems(e.cellMenu.commandItems||[],"positionOrder"),e?.cellMenu?.optionItems&&this.extensionUtility.sortItems(e.cellMenu.optionItems||[],"positionOrder")})}};var Dg=class{constructor(t,e){this.grid=t,this.pluginName="CellRangeDecorator",this._defaults={selectionCssClass:"slick-range-decorator",selectionCss:{border:"2px dashed red",zIndex:"9999"},offset:{top:-1,left:-1,height:-2,width:-2}},this._options=Ho(this._defaults,e)}get addonOptions(){return this._options}get addonElement(){return this._elem}destroy(){this.hide()}init(){}hide(){this._elem?.remove(),this._elem=null}show(t){this._elem||(this._elem=T("div",{className:this._options.selectionCssClass}),Object.keys(this._options.selectionCss).forEach(r=>{this._elem.style[r]=this._options.selectionCss[r]}),this._elem.style.position="absolute",this.grid.getActiveCanvasNode()?.appendChild(this._elem));let e=this.grid.getCellNodeBox(t.fromRow,t.fromCell),i=this.grid.getCellNodeBox(t.toRow,t.toCell);return e&&i&&this._options?.offset&&(this._elem.style.top=`${e.top+this._options.offset.top}px`,this._elem.style.left=`${e.left+this._options.offset.left}px`,this._elem.style.height=`${i.bottom-e.top+this._options.offset.height}px`,this._elem.style.width=`${i.right-e.left+this._options.offset.width}px`),this._elem}};var Bl=class{constructor(t){this.pluginName="CellRangeSelector",this._currentlySelectedRange=null,this._canvas=null,this._dragging=!1,this._gridUid="",this._columnOffset=0,this._rowOffset=0,this._isRightCanvas=!1,this._isBottomCanvas=!1,this._xDelayForNextCell=0,this._yDelayForNextCell=0,this._viewportHeight=0,this._viewportWidth=0,this._isRowMoveRegistered=!1,this._scrollLeft=0,this._scrollTop=0,this._defaults={autoScroll:!0,minIntervalToShowNextCell:30,maxIntervalToShowNextCell:600,accelerateInterval:5,selectionCss:{border:"2px dashed blue"}},this.onBeforeCellRangeSelected=new re("onBeforeCellRangeSelected"),this.onCellRangeSelecting=new re("onCellRangeSelecting"),this.onCellRangeSelected=new re("onCellRangeSelected"),this._eventHandler=new tt,this._options=Ho(this._defaults,t)}get addonOptions(){return this._options}get eventHandler(){return this._eventHandler}get gridUid(){return this._gridUid||(this._grid?.getUID()??"")}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}init(t){this._grid=t,this._decorator=this._options.cellDecorator||new Dg(t,this._options),this._canvas=t.getCanvasNode(),this._gridOptions=t.getOptions(),this._gridUid=t.getUID();let e=t.getPubSubService();e&&B.addSlickEventPubSubWhenDefined(e,this),this._eventHandler.subscribe(this._grid.onDrag,this.handleDrag.bind(this)).subscribe(this._grid.onDragInit,this.handleDragInit.bind(this)).subscribe(this._grid.onDragStart,this.handleDragStart.bind(this)).subscribe(this._grid.onDragEnd,this.handleDragEnd.bind(this)).subscribe(this._grid.onScroll,this.handleScroll.bind(this))}destroy(){this.dispose()}dispose(){this._eventHandler?.unsubscribeAll(),ut(this._activeCanvas),ut(this._canvas),this._decorator?.destroy(),this.stopIntervalTimer()}getCellDecorator(){return this._decorator}getCurrentRange(){return this._currentlySelectedRange}getMouseOffsetViewport(t,e){let i=t?.touches?.[0]??t,r=this._activeViewport.scrollLeft,s=this._activeViewport.scrollTop,o=r+this._viewportWidth,a=s+this._viewportHeight,l=pi(this._activeViewport),c=l.left,h=l.top,m=c+this._viewportWidth,f=h+this._viewportHeight,v={e:t,dd:e,viewport:{left:r,top:s,right:o,bottom:a,offset:{left:c,top:h,right:m,bottom:f}},offset:{x:0,y:0},isOutsideViewport:!1};return i.pageX<c?v.offset.x=i.pageX-c:i.pageX>m&&(v.offset.x=i.pageX-m),i.pageY<h?v.offset.y=h-i.pageY:i.pageY>f&&(v.offset.y=f-i.pageY),v.isOutsideViewport=!!v.offset.x||!!v.offset.y,v}stopIntervalTimer(){this._autoScrollTimerId&&(window.clearInterval(this._autoScrollTimerId),this._autoScrollTimerId=void 0)}handleDrag(t,e){if(!this._dragging&&!this._gridOptions.enableRowMoveManager)return;this._gridOptions.enableRowMoveManager||t.stopImmediatePropagation();let i=t.getNativeEvent();if(this.addonOptions.autoScroll&&(this._draggingMouseOffset=this.getMouseOffsetViewport(i,e),this._draggingMouseOffset.isOutsideViewport))return this.handleDragOutsideViewport();this.stopIntervalTimer(),this.handleDragTo(i,e)}handleDragOutsideViewport(){if(this._xDelayForNextCell=this.addonOptions.maxIntervalToShowNextCell-Math.abs(this._draggingMouseOffset.offset.x)*this.addonOptions.accelerateInterval,this._yDelayForNextCell=this.addonOptions.maxIntervalToShowNextCell-Math.abs(this._draggingMouseOffset.offset.y)*this.addonOptions.accelerateInterval,!this._autoScrollTimerId){let t=0,e=0;this._autoScrollTimerId=window.setInterval(()=>{let i=!1,r=!1;this._draggingMouseOffset.offset.x?(t+=this.addonOptions.minIntervalToShowNextCell,i=t>=this._xDelayForNextCell):t=0,this._draggingMouseOffset.offset.y?(e+=this.addonOptions.minIntervalToShowNextCell,r=e>=this._yDelayForNextCell):e=0,(i||r)&&(i&&(t=0),r&&(e=0),this.handleDragToNewPosition(i,r))},this.addonOptions.minIntervalToShowNextCell)}}handleDragToNewPosition(t,e){let i=this._draggingMouseOffset.e.pageX,r=this._draggingMouseOffset.e.pageY,s=this._draggingMouseOffset.offset.x,o=this._draggingMouseOffset.offset.y,a=this._draggingMouseOffset.viewport.offset;t&&s&&(s>0?i=a.right+this._moveDistanceForOneCell.x:i=a.left-this._moveDistanceForOneCell.x),e&&o&&(o>0?r=a.top-this._moveDistanceForOneCell.y:r=a.bottom+this._moveDistanceForOneCell.y),this.handleDragTo({pageX:i,pageY:r},this._draggingMouseOffset.dd)}handleDragTo(t,e){let i=t?.touches?.[0]??t,r=this._grid.getCellFromPoint(i.pageX-pi(this._activeCanvas).left+this._columnOffset,i.pageY-pi(this._activeCanvas).top+this._rowOffset);if(r!==void 0){if(this._gridOptions.frozenColumn>=0&&(!this._isRightCanvas&&r.cell>this._gridOptions.frozenColumn||this._isRightCanvas&&r.cell<=this._gridOptions.frozenColumn)||this._gridOptions.frozenRow>=0&&(!this._isBottomCanvas&&r.row>=this._gridOptions.frozenRow||this._isBottomCanvas&&r.row<this._gridOptions.frozenRow))return;if(this.addonOptions.autoScroll&&this._draggingMouseOffset){let s=this._grid.getCellNodeBox(r.row,r.cell);if(s){let o=this._draggingMouseOffset.viewport;(s.left<o.left||s.right>o.right||s.top<o.top||s.bottom>o.bottom)&&this._grid.scrollCellIntoView(r.row,r.cell)}}if(!this._grid.canCellBeSelected(r.row,r.cell))return;if(e?.range){e.range.end=r;let s=new mn(e.range.start.row??0,e.range.start.cell??0,r.row,r.cell);this._decorator.show(s),this.onCellRangeSelecting.notify({range:s})}}}handleDragEnd(t,e){this._decorator.hide(),this._dragging&&(this._dragging=!1,t.stopImmediatePropagation(),this.stopIntervalTimer(),this.onCellRangeSelected.notify({range:new mn(e.range.start.row??0,e.range.start.cell??0,e.range.end.row,e.range.end.cell)}))}handleDragInit(t){this._activeCanvas=this._grid.getActiveCanvasNode(t),this._activeViewport=this._grid.getActiveViewportNode(t);let e=this._grid.getDisplayedScrollbarDimensions();if(this._viewportWidth=this._activeViewport.offsetWidth-e.width,this._viewportHeight=this._activeViewport.offsetHeight-e.height,this._moveDistanceForOneCell={x:this._grid.getAbsoluteColumnMinWidth()/2,y:this._gridOptions.rowHeight/2},this._rowOffset=0,this._columnOffset=0,this._isBottomCanvas=this._activeCanvas.classList.contains("grid-canvas-bottom"),this._gridOptions.frozenRow>-1&&this._isBottomCanvas){let s=`${this.gridUidSelector} .grid-canvas-${this._gridOptions.frozenBottom?"bottom":"top"}`;this._rowOffset=document.querySelector(s)?.clientHeight??0}this._isRightCanvas=this._activeCanvas.classList.contains("grid-canvas-right"),this._gridOptions.frozenColumn>-1&&this._isRightCanvas&&(this._columnOffset=document.querySelector(`${this.gridUidSelector} .grid-canvas-left`)?.clientWidth??0);let i=this._grid.getCellFromEvent(t),r=this._grid.getActiveCell();(!this._grid.getEditorLock().isActive()||!(r&&i&&r.row===i.row&&r.cell===i.cell))&&(t.stopImmediatePropagation(),t.preventDefault())}handleDragStart(t,e){let i=this._grid.getCellFromEvent(t);if(i&&this.onBeforeCellRangeSelected.notify(i).getReturnValue()!==!1&&this._grid.canCellBeSelected(i.row,i.cell)&&(this._dragging=!0,t.stopImmediatePropagation()),!this._dragging)return;this._grid.focus();let r=pi(this._canvas),s=e.startX-r.left;this._gridOptions.frozenColumn>=0&&this._isRightCanvas&&(s+=this._scrollLeft);let o=e.startY-r.top;this._gridOptions.frozenRow>=0&&this._isBottomCanvas&&(o+=this._scrollTop);let a=this._grid.getCellFromPoint(s,o);return e.range={start:a,end:{}},this._currentlySelectedRange=e.range,this._decorator.show(new mn(a.row,a.cell))}handleScroll(t,e){this._scrollTop=e.scrollTop,this._scrollLeft=e.scrollLeft}};var Eg=class{constructor(t){this.pluginName="CellSelectionModel",this._cachedPageRowCount=0,this._prevKeyDown="",this._ranges=[],this._defaults={selectActiveCell:!0},this.onSelectedRangesChanged=new re("onSelectedRangesChanged"),this._eventHandler=new tt,this._selector=t===void 0||t.cellRangeSelector===void 0?new Bl({selectionCss:{border:"2px solid black"}}):t.cellRangeSelector,this._addonOptions=t}get addonOptions(){return this._addonOptions}get cellRangeSelector(){return this._selector}get eventHandler(){return this._eventHandler}init(t){this._grid=t,(this._addonOptions===void 0||this._addonOptions.cellRangeSelector===void 0)&&(this._selector=new Bl({selectionCss:{border:`2px solid ${this._grid.getOptions().darkMode?"white":"black"}`}})),t.hasDataView()&&(this._dataView=t.getData()),this._addonOptions=k(k({},this._defaults),this._addonOptions);let e=t.getPubSubService();e&&this.onSelectedRangesChanged.setPubSubService(e),this._eventHandler.subscribe(this._grid.onActiveCellChanged,this.handleActiveCellChange.bind(this)).subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this)).subscribe(this._selector.onBeforeCellRangeSelected,this.handleBeforeCellRangeSelected.bind(this)).subscribe(this._selector.onCellRangeSelected,this.handleCellRangeSelected.bind(this)),t.registerPlugin(this._selector)}destroy(){this.dispose()}dispose(){this._selector&&(this._selector.onBeforeCellRangeSelected.unsubscribe(this.handleBeforeCellRangeSelected.bind(this)),this._selector.onCellRangeSelected.unsubscribe(this.handleCellRangeSelected.bind(this))),this._eventHandler.unsubscribeAll(),this._grid?.unregisterPlugin(this._selector),this._selector?.dispose()}getSelectedRanges(){return this._ranges}rangesAreEqual(t,e){let i=t.length!==e.length;if(!i){for(let r=0;r<t.length;r++)if(t[r].fromCell!==e[r].fromCell||t[r].fromRow!==e[r].fromRow||t[r].toCell!==e[r].toCell||t[r].toRow!==e[r].toRow){i=!0;break}}return!i}refreshSelections(){this.setSelectedRanges(this.getSelectedRanges())}removeInvalidRanges(t){let e=[];for(let i=0;i<t.length;i++){let r=t[i];this._grid.canCellBeSelected(r.fromRow,r.fromCell)&&this._grid.canCellBeSelected(r.toRow,r.toCell)&&e.push(r)}return e}resetPageRowCount(){this._cachedPageRowCount=0}setSelectedRanges(t,e="SlickCellSelectionModel.setSelectedRanges"){if((!this._ranges||this._ranges.length===0)&&(!t||t.length===0))return;let i=!this.rangesAreEqual(this._ranges,t);if(this._ranges=this.removeInvalidRanges(t),i){let r=new Ct(new CustomEvent("click",{detail:{caller:e}}),this._ranges);this.onSelectedRangesChanged.notify(this._ranges,r)}}handleActiveCellChange(t,e){this._prevSelectedRow=void 0;let i=mt(e.cell),r=mt(e.row);this._addonOptions?.selectActiveCell&&r&&i?this.setSelectedRanges([new mn(e.row,e.cell)]):(!this._addonOptions?.selectActiveCell||!r&&!i)&&this.setSelectedRanges([])}handleBeforeCellRangeSelected(t){let e=this._grid.getCellFromEvent(t),i=this._grid.getActiveCell();if(this._grid.getEditorLock().isActive()&&i&&e&&i.row===e.row&&i.cell===e.cell)return t.stopPropagation(),!1}handleCellRangeSelected(t,e){this._grid.setActiveCell(e.range.fromRow,e.range.fromCell,!1,!1,!0),this.setSelectedRanges([e.range])}isKeyAllowed(t){return["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageDown","PageUp","Home","End","a","A"].some(e=>e===t)}handleKeyDown(t){let e,i,r=this._grid.getColumns().length,s=this._grid.getActiveCell(),o=0;if(this._dataView&&"getPagingInfo"in this._dataView?o=this._dataView?.getPagingInfo().pageSize||this._dataView.getLength():o=this._grid.getDataLength(),s&&(t.shiftKey||t.ctrlKey)&&!t.altKey&&this.isKeyAllowed(t.key)&&(e=this.getSelectedRanges().slice(),e.length||e.push(new mn(s.row,s.cell)),i=e.pop(),typeof i?.contains=="function")){i.contains(s.row,s.cell)||(i=new mn(s.row,s.cell));let a=i.toRow-i.fromRow,l=i.toCell-i.fromCell,c,h=0;t.ctrlKey&&t.key?.toLowerCase()==="a"&&(this._grid.setActiveCell(0,0,!1,!1,!0),s.row=0,s.cell=0,c=r-1,h=o-1);let m=s.row===i.fromRow?1:-1,f=s.cell===i.fromCell?1:-1,v=t.key.startsWith("Arrow");v&&!t.ctrlKey?(t.key==="ArrowLeft"?l-=f:t.key==="ArrowRight"?l+=f:t.key==="ArrowUp"?a-=m:t.key==="ArrowDown"&&(a+=m),h=s.row+m*a):(this._cachedPageRowCount<1&&(this._cachedPageRowCount=this._grid.getViewportRowCount()),this._prevSelectedRow===void 0&&(this._prevSelectedRow=s.row),!t.ctrlKey&&t.shiftKey&&t.key==="Home"||t.ctrlKey&&t.shiftKey&&t.key==="ArrowLeft"?(c=0,h=s.row):!t.ctrlKey&&t.shiftKey&&t.key==="End"||t.ctrlKey&&t.shiftKey&&t.key==="ArrowRight"?(c=r-1,h=s.row):t.ctrlKey&&t.shiftKey&&t.key==="ArrowUp"?h=0:t.ctrlKey&&t.shiftKey&&t.key==="ArrowDown"?h=o-1:t.ctrlKey&&t.shiftKey&&t.key==="Home"?(c=0,h=0):t.ctrlKey&&t.shiftKey&&t.key==="End"?(c=r-1,h=o-1):t.key==="PageUp"?(this._prevSelectedRow>=0&&(h=this._prevSelectedRow-this._cachedPageRowCount),h<0&&(h=0)):t.key==="PageDown"&&(this._prevSelectedRow<=o-1&&(h=this._prevSelectedRow+this._cachedPageRowCount),h>o-1&&(h=o-1)),this._prevSelectedRow=h),c??=s.cell+f*l;let C=new mn(s.row,s.cell,h,c);if(this.removeInvalidRanges([C]).length){e.push(C);let x=m>0?C.toRow:C.fromRow,E=f>0?C.toCell:C.fromCell;v?(this._grid.scrollRowIntoView(x),this._grid.scrollCellIntoView(x,E,!1)):(this._grid.scrollRowIntoView(h),this._grid.scrollCellIntoView(h,E,!1))}else e.push(i);this.setSelectedRanges(e),t.preventDefault(),t.stopPropagation(),this._prevKeyDown=t.key}}};var mo=class{constructor(t){this.pluginName="RowSelectionModel",this._inHandler=!1,this._ranges=[],this._defaults={autoScrollWhenDrag:!0,cellRangeSelector:void 0,dragToSelect:!1,selectActiveRow:!0},this.onSelectedRangesChanged=new re("onSelectedRangesChanged"),this._eventHandler=new tt,this._options=k(k({},this._defaults),t)}get addonOptions(){return this._options}get eventHandler(){return this._eventHandler}get gridOptions(){return this._grid?.getOptions()}init(t){this._grid=t,this._options=k(k({},this._defaults),this._options),this._selector=this.addonOptions.cellRangeSelector;let e=t.getPubSubService();e&&this.onSelectedRangesChanged.setPubSubService(e),!this._selector&&this._options.dragToSelect&&(this._selector=new Bl({selectionCss:{border:"none"},autoScroll:this._options.autoScrollWhenDrag}),this.addonOptions.cellRangeSelector=this._selector),this._eventHandler.subscribe(this._grid.onActiveCellChanged,this.handleActiveCellChange.bind(this)).subscribe(this._grid.onClick,this.handleClick.bind(this)).subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this)),this._selector&&(this._grid.registerPlugin(this._selector),this._selector.onCellRangeSelecting.subscribe(this.handleCellRangeSelected.bind(this)),this._selector.onCellRangeSelected.subscribe(this.handleCellRangeSelected.bind(this)),this._selector.onBeforeCellRangeSelected.subscribe(this.handleBeforeCellRangeSelected.bind(this)))}destroy(){this.dispose()}dispose(){this._eventHandler.unsubscribeAll(),this.disposeSelector()}disposeSelector(){this._selector&&(this._selector.onCellRangeSelecting.unsubscribe(this.handleCellRangeSelected.bind(this)),this._selector.onCellRangeSelected.unsubscribe(this.handleCellRangeSelected.bind(this)),this._selector.onBeforeCellRangeSelected.unsubscribe(this.handleBeforeCellRangeSelected.bind(this)),this._grid.unregisterPlugin(this._selector),this._selector?.destroy(),this._selector?.dispose())}getCellRangeSelector(){return this._selector}getSelectedRanges(){return this._ranges}getSelectedRows(){return this.rangesToRows(this._ranges)}refreshSelections(){this.setSelectedRows(this.getSelectedRows())}setSelectedRows(t){this.setSelectedRanges(this.rowsToRanges(t),"SlickRowSelectionModel.setSelectedRows")}setSelectedRanges(t,e="SlickRowSelectionModel.setSelectedRanges"){if((!this._ranges||this._ranges.length===0)&&(!t||t.length===0))return;this._ranges=t;let i=new Ct(new CustomEvent("click",{detail:{caller:e}}),this._ranges);this.onSelectedRangesChanged.notify(this._ranges,i)}getRowsRange(t,e){let i,r=[];for(i=t;i<=e;i++)r.push(i);for(i=e;i<t;i++)r.push(i);return r}handleBeforeCellRangeSelected(t,e){let i=!1;if(this.gridOptions.enableRowMoveManager&&(i=this.isHandlerColumn(e.cell)??!1),this._grid.getEditorLock().isActive()||i)return t.stopPropagation(),!1;this._grid.setActiveCell(e.row,e.cell)}handleCellRangeSelected(t,e){if(!this.gridOptions.multiSelect||!this.addonOptions.selectActiveRow)return!1;this.setSelectedRanges([new mn(e.range.fromRow,0,e.range.toRow,this._grid.getColumns().length-1)])}handleActiveCellChange(t,e){this._options.selectActiveRow&&e.row!==null&&this.setSelectedRanges([new mn(e.row,0,e.row,this._grid.getColumns().length-1)])}handleClick(t){let e=this._grid.getCellFromEvent(t);if(!e||!this._grid.canCellBeActive(e.row,e.cell)||!this.gridOptions.multiSelect||!t.ctrlKey&&!t.shiftKey&&!t.metaKey)return!1;let i=this.rangesToRows(this._ranges),r=i.indexOf(e.row);if(r===-1&&(t.ctrlKey||t.metaKey))i.push(e.row),this._grid.setActiveCell(e.row,e.cell);else if(r!==-1&&(t.ctrlKey||t.metaKey))i=i.filter(o=>o!==e.row),this._grid.setActiveCell(e.row,e.cell);else if(i.length&&t.shiftKey){let o=i.pop(),a=Math.min(e.row,o),l=Math.max(e.row,o);i=[];for(let c=a;c<=l;c++)c!==o&&i.push(c);i.push(o),this._grid.setActiveCell(e.row,e.cell)}let s=this.rowsToRanges(i);return this.setSelectedRanges(s),t.stopImmediatePropagation(),!0}handleKeyDown(t){let e=this._grid.getActiveCell();if(this.gridOptions.multiSelect&&e&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(t.key==="ArrowUp"||t.key==="ArrowDown")){let i=this.getSelectedRows();i.sort((a,l)=>a-l),i.length||(i=[e.row]);let r,s=i[0],o=i[i.length-1];if(t.key==="ArrowDown"?r=e.row<o||s===o?++o:++s:r=e.row<o?--o:--s,r>=0&&r<this._grid.getDataLength()){this._grid.scrollRowIntoView(r);let a=this.rowsToRanges(this.getRowsRange(s,o));this.setSelectedRanges(a)}t.preventDefault(),t.stopPropagation()}}isHandlerColumn(t){let i=this._grid.getColumns()[t].behavior||"";return/move|selectAndMove/.test(i)}rangesToRows(t){let e=[];for(let i=0;i<t.length;i++)for(let r=t[i].fromRow;r<=t[i].toRow;r++)e.push(r);return e}rowsToRanges(t){let e=[],i=this._grid.getColumns().length-1;return t.forEach(r=>e.push(new mn(r,0,r,i))),e}};var KT="mdi-icon-check",QT="mdi-icon-uncheck",qu=class{constructor(t,e){this.pubSubService=t,this.pluginName="CheckboxSelectColumn",this._defaults={columnId:"_checkbox_selector",cssClass:null,field:"_checkbox_selector",hideSelectAllCheckbox:!1,name:"",toolTip:"Select/Deselect All",width:30,reorderable:!1,applySelectOnAllPages:!0,hideInColumnTitleRow:!1,hideInFilterHeaderRow:!0},this._addonOptions=this._defaults,this._checkboxColumnCellIndex=null,this._isSelectAllChecked=!1,this._isUsingDataView=!1,this._selectedRowsLookup={},this._selectAll_UID=this.createUID(),this._bindEventService=new Yt,this._eventHandler=new tt,this._addonOptions=k(k({},this._defaults),e)}get addonOptions(){return this._addonOptions}get headerRowNode(){return this._headerRowNode}get gridOptions(){return this._grid?.getOptions()??{}}get selectAllUid(){return this._selectAll_UID}set selectedRowsLookup(t){this._selectedRowsLookup=t}init(t){this._grid=t,this._isUsingDataView=!Array.isArray(t.getData()),this._isUsingDataView&&(this._dataView=t.getData()),this.gridOptions.backendServiceApi&&(this._addonOptions.applySelectOnAllPages=!1),this._eventHandler.subscribe(t.onSelectedRowsChanged,this.handleSelectedRowsChanged.bind(this)).subscribe(t.onClick,this.handleClick.bind(this)).subscribe(t.onKeyDown,this.handleKeyDown.bind(this)),this._isUsingDataView&&this._dataView&&(this._eventHandler.subscribe(t.onAfterSetColumns,this.handleDataViewSelectedIdsChanged.bind(this)),this._addonOptions.applySelectOnAllPages&&this._eventHandler.subscribe(this._dataView.onSelectedRowIdsChanged,this.handleDataViewSelectedIdsChanged.bind(this)).subscribe(this._dataView.onPagingInfoChanged,this.handleDataViewSelectedIdsChanged.bind(this))),this._addonOptions.hideInFilterHeaderRow||this.addCheckboxToFilterHeaderRow(t),this._addonOptions.hideInColumnTitleRow||this._eventHandler.subscribe(this._grid.onHeaderClick,this.handleHeaderClick.bind(this)),(!this._rowSelectionModel||!this._grid.getSelectionModel())&&(this._rowSelectionModel=new mo(this.gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionModel)),this.gridOptions.preselectedRows&&this._rowSelectionModel&&this._grid.getSelectionModel()&&window.setTimeout(()=>this.selectRows(this.gridOptions.preselectedRows||[])),typeof this._addonOptions.selectableOverride=="function"&&this.selectableOverride(this._addonOptions.selectableOverride)}dispose(){this._bindEventService.unbindAll(),this._eventHandler.unsubscribeAll()}create(t,e){if(this._addonOptions=k(k({},this._defaults),e.checkboxSelector),Array.isArray(t)&&e){let i=this.getColumnDefinition();if(!t.some(r=>r.id===i.id)){let r=e?.checkboxSelector?.columnIndexPosition??0;r>0?t.splice(r,0,i):t.unshift(i),this.pubSubService.publish("onPluginColumnsChanged",{columns:t,pluginName:this.pluginName})}}return this}getOptions(){return this._addonOptions}setOptions(t){if(this._addonOptions=k(k({},this._addonOptions),t),this._addonOptions.hideSelectAllCheckbox)this.hideSelectAllFromColumnHeaderTitleRow(),this.hideSelectAllFromColumnHeaderFilterRow();else if(this._addonOptions.hideInColumnTitleRow?(this.hideSelectAllFromColumnHeaderTitleRow(),this._addonOptions.name&&this._grid.updateColumnHeader(this._addonOptions.columnId||"",this._addonOptions.name,"")):(this.renderSelectAllCheckbox(this._isSelectAllChecked),this._eventHandler.subscribe(this._grid.onHeaderClick,this.handleHeaderClick.bind(this))),this._addonOptions.hideInFilterHeaderRow)this.hideSelectAllFromColumnHeaderFilterRow();else{let e=this.headerRowNode?.querySelector("#filter-checkbox-selectall-container");if(e){e.style.display="flex",e.ariaChecked=String(this._isSelectAllChecked);let i=e.querySelector('input[type="checkbox"]');i&&(i.ariaChecked=String(this._isSelectAllChecked),i.checked=this._isSelectAllChecked)}}}deSelectRows(t){let e=[];for(let i of t)this._selectedRowsLookup[i]&&(e[e.length]=i);this._grid.setSelectedRows(this._grid.getSelectedRows().filter(i=>e.indexOf(i)<0),"SlickCheckboxSelectColumn.deSelectRows")}selectRows(t){let e=[];for(let r of t)this._selectedRowsLookup[r]&&(e[e.length]=r);let i=this._grid.getSelectedRows()?.concat(e);this._grid.setSelectedRows(i)}createCheckboxElement(t,e=!1){let i=this.gridOptions?.preventDocumentFragmentUsage?document.createElement("span"):new DocumentFragment,r=T("label",{className:"checkbox-selector-label",htmlFor:t}),s=T("div",{className:"icon-checkbox-container"});return s.appendChild(T("input",{id:t,type:"checkbox",checked:e,ariaChecked:String(e)})),s.appendChild(T("div",{className:`mdi ${e?KT:QT}`})),r.appendChild(s),i.appendChild(r),i}getColumnDefinition(){let t=String(this._addonOptions?.columnId??this._defaults.columnId);return{id:t,name:this._addonOptions.hideSelectAllCheckbox||this._addonOptions.hideInColumnTitleRow?this._addonOptions.name||"":this.createCheckboxElement(`header-selector${this._selectAll_UID}`),toolTip:this._addonOptions.hideSelectAllCheckbox||this._addonOptions.hideInColumnTitleRow?"":this._addonOptions.toolTip,field:t,cssClass:this._addonOptions.cssClass,excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,hideSelectAllCheckbox:this._addonOptions.hideSelectAllCheckbox,resizable:!1,reorderable:this._addonOptions.reorderable,sortable:!1,width:this._addonOptions.width||30,maxWidth:this._addonOptions.width||30,formatter:this.checkboxSelectionFormatter.bind(this)}}hideSelectAllFromColumnHeaderTitleRow(){this._grid.updateColumnHeader(this._addonOptions.columnId||"",this._addonOptions.name||"","")}hideSelectAllFromColumnHeaderFilterRow(){let t=this.headerRowNode?.querySelector("#filter-checkbox-selectall-container");t&&(t.style.display="none")}toggleRowSelection(t){this.toggleRowSelectionWithEvent(null,t)}toggleRowSelectionWithEvent(t,e){let i=this._grid.getDataItem(e);if(!this.checkSelectableOverride(e,i,this._grid))return;let r=this._grid.getSelectedRows();typeof this._addonOptions.onRowToggleStart=="function"&&this._addonOptions.onRowToggleStart(t,{row:e,previousSelectedRows:r});let s=this._selectedRowsLookup[e]?this._grid.getSelectedRows().filter(o=>o!==e):this._grid.getSelectedRows().concat(e);this._grid.setSelectedRows(s,"click.toggle"),this._grid.setActiveCell(e,this.getCheckboxColumnCellIndex()),this._addonOptions.onRowToggleEnd&&this._addonOptions.onRowToggleEnd(t,{row:e,previousSelectedRows:r})}selectableOverride(t){this._selectableOverride=t}addCheckboxToFilterHeaderRow(t){this._eventHandler.subscribe(t.onHeaderRowCellRendered,(e,i)=>{if(i.column.field===(this._addonOptions.field||"_checkbox_selector")){ut(i.node);let r=`header-filter-selector${this._selectAll_UID}`,s=T("label",{id:"filter-checkbox-selectall-container",htmlFor:r}),o=T("div",{className:"icon-checkbox-container"});o.appendChild(T("input",{id:r,type:"checkbox",ariaChecked:"false"})),o.appendChild(T("div",{className:"mdi mdi-icon-uncheck"})),s.appendChild(o),i.node.appendChild(s),this._headerRowNode=i.node,this._headerRowNode.classList.add("checkbox-header"),this._bindEventService.bind(s,"click",a=>this.handleHeaderClick(a,i))}})}checkboxSelectionFormatter(t,e,i,r,s,o){if(s&&this.checkSelectableOverride(t,s,o)){let a=this.createUID()+t;return this.createCheckboxElement(`selector${a}`,!!this._selectedRowsLookup[t])}return null}checkSelectableOverride(t,e,i){return typeof this._selectableOverride=="function"?this._selectableOverride(t,e,i):!0}createUID(){return Math.round(1e7*Math.random())}getCheckboxColumnCellIndex(){if(this._checkboxColumnCellIndex===null){this._checkboxColumnCellIndex=0;let t=this._grid.getColumns();for(let e=0;e<t.length;e++)t[e].id===this._addonOptions.columnId&&(this._checkboxColumnCellIndex=e)}return this._checkboxColumnCellIndex}handleDataViewSelectedIdsChanged(){let t=this._dataView.getAllSelectedFilteredIds(),e=this._dataView.getFilteredItems(),i=0;if(typeof this._selectableOverride=="function"&&t.length>0)for(let r=0;r<this._dataView.getItemCount();r++){let s=this._dataView.getItemByIdx(r),o=this._dataView.getIdPropertyName(),a=s[o];e.findIndex(c=>c[o]===a)>=0&&!this.checkSelectableOverride(r,s,this._grid)&&i++}if(this._isSelectAllChecked=t.length+i>=e.length,!this._addonOptions.hideInColumnTitleRow&&!this._addonOptions.hideSelectAllCheckbox&&this.renderSelectAllCheckbox(this._isSelectAllChecked),!this._addonOptions.hideInFilterHeaderRow){let r=this.headerRowNode?.querySelector(`#header-filter-selector${this._selectAll_UID}`),s=this.headerRowNode?.querySelector(".icon-checkbox-container .mdi");r&&(r.ariaChecked=String(this._isSelectAllChecked),r.checked=this._isSelectAllChecked),s&&(s.className=`mdi ${this._isSelectAllChecked?KT:QT}`)}}handleClick(t,e){if(this._grid.getColumns()[e.cell].id===this._addonOptions.columnId&&t.target.type==="checkbox"){if(t.target.ariaChecked=String(t.target.checked),this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit()){t.preventDefault(),t.stopImmediatePropagation();return}this.toggleRowSelectionWithEvent(t,e.row),t.stopPropagation(),t.stopImmediatePropagation()}}handleHeaderClick(t,e){if(e.column.id===this._addonOptions.columnId&&t.target.type==="checkbox"){if(t.target.ariaChecked=String(t.target.checked),this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit()){t.preventDefault(),t.stopImmediatePropagation();return}let i=t.target.checked,r=i?"click.selectAll":"click.unselectAll",s=this._grid.getSelectedRows();this._addonOptions.onSelectAllToggleStart&&this._addonOptions.onSelectAllToggleStart(t,{previousSelectedRows:s,caller:r});let o=[];if(i){let a=[];for(let l=0;l<this._grid.getDataLength();l++){let c=this._grid.getDataItem(l);!c.__group&&!c.__groupTotals&&this.checkSelectableOverride(l,c,this._grid)&&a.push(l)}o=a,i=!0}if(this._isUsingDataView&&this._dataView&&this._addonOptions.applySelectOnAllPages){let a=[],l=this._dataView.getFilteredItems();for(let c=0;c<l.length;c++){let h=l[c];this.checkSelectableOverride(c,h,this._grid)&&a.push(h[this._dataView.getIdPropertyName()])}this._dataView.setSelectedIds(a,{isRowBeingAdded:i})}this._grid.setSelectedRows(o,r),this._addonOptions.onSelectAllToggleEnd&&this._addonOptions.onSelectAllToggleEnd(t,{rows:o,previousSelectedRows:s,caller:r}),t.stopPropagation(),t.stopImmediatePropagation()}}handleKeyDown(t,e){t.key===" "&&this._grid.getColumns()[e.cell].id===this._addonOptions.columnId&&((!this._grid.getEditorLock().isActive()||this._grid.getEditorLock().commitCurrentEdit())&&this.toggleRowSelectionWithEvent(t,e.row),t.preventDefault(),t.stopImmediatePropagation())}handleSelectedRowsChanged(){let t=this._grid.getSelectedRows(),e={},i=0,r=0,s=0,o=0;if(typeof this._selectableOverride=="function")for(s=0;s<this._grid.getDataLength();s++){let l=this._grid.getDataItem(s);this.checkSelectableOverride(r,l,this._grid)||o++}let a=[];for(r=0;r<t.length;r++){i=t[r];let l=this._grid.getDataItem(i);this.checkSelectableOverride(r,l,this._grid)?(e[i]=!0,e[i]!==this._selectedRowsLookup[i]&&(this._grid.invalidateRow(i),delete this._selectedRowsLookup[i])):a.push(i)}if(typeof this._selectedRowsLookup=="object"&&Object.keys(this._selectedRowsLookup).forEach(l=>{l!==void 0&&this._grid.invalidateRow(+l)}),this._selectedRowsLookup=e,this._grid.render(),this._isSelectAllChecked=(t?.length??0)+o>=this._grid.getDataLength(),(!this._isUsingDataView||!this._addonOptions.applySelectOnAllPages)&&(!this._addonOptions.hideInColumnTitleRow&&!this._addonOptions.hideSelectAllCheckbox&&this.renderSelectAllCheckbox(this._isSelectAllChecked),!this._addonOptions.hideInFilterHeaderRow)){let l=this.headerRowNode?.querySelector(`#header-filter-selector${this._selectAll_UID}`);l&&(l.ariaChecked=String(this._isSelectAllChecked),l.checked=this._isSelectAllChecked)}if(a.length>0){for(let l of a){let c=t.indexOf(l);t.splice(c,1)}this._grid.setSelectedRows(t,"click.toggle")}}renderSelectAllCheckbox(t){this._grid.updateColumnHeader(this._addonOptions.columnId||"",this.createCheckboxElement(`header-selector${this._selectAll_UID}`,!!t),this._addonOptions.toolTip)?.classList.add("header-checkbox-selectall")}};var uc=class extends uo{constructor(t,e,i,r,s){super(t,i,r),this.extensionUtility=t,this.filterService=e,this.pubSubService=i,this.sharedService=r,this.sortService=s,this._areVisibleColumnDifferent=!1,this._columns=[],this._columnCheckboxes=[],this._commandMenuElm=null,this._headerElm=null,this._isMenuOpen=!1,this._subMenuParentId="",this._defaults={dropSide:"left",showButton:!0,hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",marginBottom:15,menuWidth:18,minHeight:150,contentMinWidth:0,resizeOnShowHeaderRow:!1,syncResizeTitle:"Synchronous resize",subMenuOpenByEvent:"mouseover",headerColumnValueExtractor:o=>Fr(o.columnPickerLabel||o.name||"","innerHTML")},this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-grid-menu",this._camelPluginName="gridMenu",this._columns=this.sharedService.allColumns??[],this._gridUid=this.grid?.getUID()??"",this.onAfterMenuShow=new re("onAfterMenuShow"),this.onBeforeMenuShow=new re("onBeforeMenuShow"),this.onMenuClose=new re("onMenuClose"),this.onCommand=new re("onCommand"),this.onColumnsChanged=new re("onColumnsChanged"),this.initEventHandlers(),this.init()}get addonOptions(){return this._addonOptions||{}}get columns(){return this._columns}set columns(t){this._columns=t}get gridOptions(){return this.grid?.getOptions()||{}}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}initEventHandlers(){this._eventHandler.subscribe(this.grid.onColumnsReordered,mc.bind(this)),this._eventHandler.subscribe(this.grid.onClick,t=>this.hideMenu(t)),this._eventHandler.subscribe(this.grid.onBeforeDestroy,this.dispose.bind(this)),this._eventHandler.subscribe(this.grid.onSetOptions,(t,e)=>{if(e&&e.optionsBefore&&e.optionsAfter){let i=e.optionsBefore.frozenColumn>=0&&e.optionsAfter.frozenColumn===-1,r=e.optionsBefore.frozenColumn===-1&&e.optionsAfter.frozenColumn>=0;(i||r)&&this.recreateGridMenu()}})}init(){this._gridUid=this.grid.getUID()??"",B.addSlickEventPubSubWhenDefined(this.pubSubService,this),this._userOriginalGridMenu=k({},this.sharedService.gridOptions.gridMenu),this._addonOptions=k(k(k({},this._defaults),this.getDefaultGridMenuOptions()),this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions.gridMenu=this._addonOptions;let t=this._userOriginalGridMenu.commandItems,e=this._userOriginalGridMenu&&Array.isArray(t)?t:[];this._addonOptions.commandItems=[...e,...this.addGridMenuCustomCommands(e)],this.extensionUtility.translateMenuItemsFromTitleKey(this._addonOptions.commandItems||[],"commandItems"),this.extensionUtility.sortItems(this._addonOptions.commandItems,"positionOrder"),this.createGridMenu()}dispose(){this.deleteMenu(),super.dispose()}deleteMenu(){this._bindEventService.unbindAll(),this._menuElm?.remove(),this._menuElm=null,this._gridMenuButtonElm?.remove(),this._headerElm&&(this._headerElm.style.width="100%")}createColumnPickerContainer(){this._menuElm&&(Ig.call(this,this._menuElm),this._listElm=T("div",{className:"slick-column-picker-list",role:"menu"}),this._bindEventService.bind(this._menuElm,"click",Og.bind(this),void 0,"parent-menu"))}createGridMenu(){let t=this._gridUid?`.${this._gridUid}`:"",e=this._addonOptions?.menuWidth||this._defaults.menuWidth,i=this.gridOptions.hasOwnProperty("frozenColumn")&&this.gridOptions.frozenColumn>=0?"right":"left",r=this.grid.getContainerNode();if(this._headerElm=r.querySelector(`.slick-header-${i}`),this._headerElm&&this._addonOptions){if(this._headerElm.style.width=`calc(100% - ${e}px)`,(this._addonOptions.resizeOnShowHeaderRow??this._defaults.resizeOnShowHeaderRow)&&this.gridOptions.showHeaderRow){let a=r.querySelector(`${t} .slick-headerrow`);a&&(a.style.width=`calc(100% - ${e}px)`)}if(this._addonOptions.showButton??this._defaults.showButton){this._gridMenuButtonElm=T("button",{className:"slick-grid-menu-button",ariaLabel:"Grid Menu"}),this._addonOptions?.iconCssClass&&this._gridMenuButtonElm.classList.add(...Ut(this._addonOptions.iconCssClass));let a=this._addonOptions.iconButtonContainer==="preheader"?"firstChild":"lastChild";this._headerElm.parentElement.insertBefore(this._gridMenuButtonElm,this._headerElm.parentElement[a]),this._bindEventService.bind(this._gridMenuButtonElm,"click",this.showGridMenu.bind(this))}this.sharedService.gridOptions.gridMenu=k(k({},this._defaults),this._addonOptions),this.translateTitleLabels(this._addonOptions),this.translateTitleLabels(this.sharedService.gridOptions.gridMenu),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this)),this._bindEventService.bind(document.body,"beforeunload",this.dispose.bind(this))}}createCommandMenu(t,e=0,i){let r=i?.command,s=e===1&&r?r.replace(/\s/g,""):"";s&&(this._subMenuParentId=s),e>1&&(s=this._subMenuParentId);let o=`${this.menuCssClass} slick-menu-level-${e} ${this._gridUid}`,a=document.body.querySelector(`.${this.menuCssClass}.slick-menu-level-${e}${this.gridUidSelector}`);if(a){if(a.dataset.subMenuParent===s)return a;this.disposeSubMenus()}let l=T("div",{role:"menu",className:o,ariaLabel:e>1?"SubMenu":"Grid Menu"});e>0&&(l.classList.add("slick-submenu"),s&&(l.dataset.subMenuParent=s));let c={grid:this.grid,menu:this._menuElm,columns:this.columns,allColumns:this.getAllColumns(),visibleColumns:this.getVisibleColumns(),level:e};return this._commandMenuElm=this.recreateCommandList(t,l,c,i),e++,l}getAllColumns(){return this._columns}getVisibleColumns(){return this.grid.getColumns()}hideMenu(t){let e={grid:this.grid,menu:this._menuElm,allColumns:this.columns,visibleColumns:this.getVisibleColumns()};if(this.pubSubService.publish("onGridMenuMenuClose",e),!(typeof this._addonOptions?.onMenuClose=="function"&&this._addonOptions.onMenuClose(t,e)===!1||this.onMenuClose.notify(e,null,this).getReturnValue()===!1)){if(this._isMenuOpen=!1,typeof this.grid?.autosizeColumns=="function"){let i=this.grid.getUID()||"";this._areVisibleColumnDifferent&&i&&document.querySelector(`.${i}`)!==null&&(this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns(),this._areVisibleColumnDifferent=!1)}this.disposeSubMenus(),this._menuElm?.remove(),this._menuElm=null}}recreateGridMenu(){this.deleteMenu(),this.init()}repositionMenu(t,e,i,r){let s=t?.touches?.[0]??t,o=e.classList.contains("slick-submenu"),a=o?t.target.closest(".slick-menu-item"):s.target;if(a){let l=i||this._gridMenuButtonElm,c=pi(i),h=pi(a),m=r??this._addonOptions,f=getComputedStyle(l),v=parseInt(f?.width??this._defaults?.menuWidth,10),C=e?.offsetWidth??0,x=m?.contentMinWidth??this._defaults.contentMinWidth??0,E=(x>C?x:C)||0,I=c.top,N=c.right,L,V;if(o?(V=h.top,L=h.left):(V=I+l.offsetHeight,L=m?.dropSide==="right"?N-v:N-E),o){let pe=e?.clientHeight||0,{bottom:Be,top:Ge}=Dl(a);(Be<pe&&Ge>Be?"top":"bottom")==="top"?(e.classList.remove("dropdown"),e.classList.add("dropup"),V-=pe-a.clientHeight):(e.classList.remove("dropup"),e.classList.add("dropdown"))}let j=this.grid.getGridPosition(),Y=L+Number(C);o&&(Y+=a.clientWidth);let me=document.documentElement.clientWidth;(Y>=j.width||Y>=me?"left":"right")==="left"||!o&&m?.dropSide==="left"?(e.classList.remove("dropright"),e.classList.add("dropleft"),o&&(L-=Number(C))):(e.classList.remove("dropleft"),e.classList.add("dropright"),o&&(L+=a.offsetWidth)),e.style.top=`${V}px`,e.style.left=`${L}px`,x>0&&(e.style.minWidth=`${x}px`),e.style.opacity="1",e.style.display="block"}}openGridMenu(){let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!1});Object.defineProperty(t,"target",{writable:!0,configurable:!0,value:T("button",{className:"slick-grid-menu-button"})}),this.showGridMenu(t)}showGridMenu(t,e){let i=t?.touches?.[0]??t;if(t.preventDefault(),ut(this._menuElm),this._menuElm?.remove(),this._addonOptions){let r={grid:this.grid,menu:this._menuElm,columns:this.columns,allColumns:this.getAllColumns(),visibleColumns:this.getVisibleColumns()},s=k(k({},this._addonOptions),e);if(s&&!this.extensionUtility.runOverrideFunctionWhenExists(s.menuUsabilityOverride,r)||typeof t.stopPropagation=="function"&&(this.pubSubService.publish("onGridMenuBeforeMenuShow",r),typeof s?.onBeforeMenuShow=="function"&&s.onBeforeMenuShow(t,r)===!1||this.onBeforeMenuShow.notify(r,null,this).getReturnValue()===!1))return;this._menuElm=this.createCommandMenu(this._addonOptions?.commandItems??[]),this.createColumnPickerContainer(),mc.call(this),this._columnCheckboxes=[],Ag.call(this,s),document.body.appendChild(this._menuElm),this.gridOptions.darkMode&&this._menuElm.classList.add("slick-dark-mode"),this._menuElm.style.opacity="0";let o=(s?.marginBottom!==void 0?s.marginBottom:this._defaults.marginBottom)||0;this._menuElm.style.minHeight=Kr(s?.minHeight,""),s?.height!==void 0?this._menuElm.style.height=Kr(s.height,""):this._menuElm.style.maxHeight=Kr(s?.maxHeight,`${window.innerHeight-i.clientY-o}px`);let a=t.target.nodeName==="BUTTON"?t.target:t.target.querySelector("button");a||(a=t.target.parentElement),this._menuElm.ariaExpanded="true",this._menuElm.appendChild(this._listElm),this.repositionMenu(t,this._menuElm,a,s),this._isMenuOpen=!0,this.pubSubService.publish("onGridMenuAfterMenuShow",r),typeof s?.onAfterMenuShow=="function"&&s.onAfterMenuShow(t,r),this.onAfterMenuShow.notify(r,null,this)}}translateGridMenu(){if(this.sharedService.gridOptions.gridMenu){this.sharedService.gridOptions.gridMenu.commandItems=[],this.sharedService.gridOptions.gridMenu.commandTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="";let t=this._userOriginalGridMenu&&Array.isArray(this._userOriginalGridMenu.commandItems)?this._userOriginalGridMenu.commandItems:[];this.sharedService.gridOptions.gridMenu.commandItems=[...t,...this.addGridMenuCustomCommands(t)],this.extensionUtility.translateMenuItemsFromTitleKey(this._addonOptions?.commandItems||[],"commandItems"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.commandItems,"positionOrder"),this.translateTitleLabels(this.sharedService.gridOptions.gridMenu),this.translateTitleLabels(this._addonOptions),this.extensionUtility.translateItems(this._columns,"nameKey","name")}}translateTitleLabels(t){t&&(t.commandTitle=this.extensionUtility.getPickerTitleOutputString("commandTitle","gridMenu"),t.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),t.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),t.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"))}addGridMenuCustomCommands(t){let e=this.gridOptions.backendServiceApi||null,i=[],r=this.gridOptions,s=Sn(r),o=this._addonOptions?.commandLabels;if(this._addonOptions&&this.gridOptions){if(!this._addonOptions.hideClearFrozenColumnsCommand){let l="clear-pinning";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconClearFrozenColumnsCommand||"mdi mdi-pin-off-outline",titleKey:`${s}${o?.clearFrozenColumnsCommandKey??"CLEAR_PINNING"}`,disabled:!1,command:l,positionOrder:52})}if(this.gridOptions.enableFiltering&&!this.sharedService.hideHeaderRowAfterPageLoad){if(!this._addonOptions.hideClearAllFiltersCommand){let l="clear-filter";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconClearAllFiltersCommand||"mdi mdi-filter-remove-outline",titleKey:`${s}${o?.clearAllFiltersCommandKey??"CLEAR_ALL_FILTERS"}`,disabled:!1,command:l,positionOrder:50})}if(!this._addonOptions.hideToggleFilterCommand){let l="toggle-filter";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconToggleFilterCommand||"mdi mdi-flip-vertical",titleKey:`${s}${o?.toggleFilterCommandKey??"TOGGLE_FILTER_ROW"}`,disabled:!1,command:l,positionOrder:53})}if(e&&!this._addonOptions.hideRefreshDatasetCommand){let l="refresh-dataset";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconRefreshDatasetCommand||"mdi mdi-sync",titleKey:`${s}${o?.refreshDatasetCommandKey??"REFRESH_DATASET"}`,disabled:!1,command:l,positionOrder:58})}}if(!this._addonOptions.hideToggleDarkModeCommand){let l="toggle-dark-mode";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconToggleDarkModeCommand||"mdi mdi-brightness-4",titleKey:`${s}${o?.toggleDarkModeCommandKey??"TOGGLE_DARK_MODE"}`,disabled:!1,command:l,positionOrder:54})}if(this.gridOptions.showPreHeaderPanel&&!this._addonOptions.hideTogglePreHeaderCommand){let l="toggle-preheader";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconTogglePreHeaderCommand||"mdi mdi-flip-vertical",titleKey:`${s}${o?.togglePreHeaderCommandKey??"TOGGLE_PRE_HEADER_ROW"}`,disabled:!1,command:l,positionOrder:53})}if(this.gridOptions.enableSorting&&!this._addonOptions.hideClearAllSortingCommand){let l="clear-sorting";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconClearAllSortingCommand||"mdi mdi-sort-variant-off",titleKey:`${s}${o?.clearAllSortingCommandKey??"CLEAR_ALL_SORTING"}`,disabled:!1,command:l,positionOrder:51})}if(this.gridOptions.enableTextExport&&!this._addonOptions.hideExportCsvCommand){let l="export-csv";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconExportCsvCommand||"mdi mdi-download",titleKey:`${s}${o?.exportCsvCommandKey??"EXPORT_TO_CSV"}`,disabled:!1,command:l,positionOrder:55})}if(this.gridOptions.enableExcelExport&&!this._addonOptions.hideExportExcelCommand){let l="export-excel";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconExportExcelCommand||"mdi mdi-file-excel-outline text-success",titleKey:`${s}${o?.exportExcelCommandKey??"EXPORT_TO_EXCEL"}`,disabled:!1,command:l,positionOrder:56})}if(this.gridOptions.enableTextExport&&!this._addonOptions.hideExportTextDelimitedCommand){let l="export-text-delimited";t.some(c=>c!=="divider"&&c.hasOwnProperty("command")&&c.command===l)||i.push({iconCssClass:this._addonOptions.iconExportTextDelimitedCommand||"mdi mdi-download",titleKey:`${s}${o?.exportTextDelimitedCommandKey??"EXPORT_TO_TAB_DELIMITED"}`,disabled:!1,command:l,positionOrder:57})}let a=this._addonOptions?.commandItems||[];(Array.isArray(i)&&i.length>0||Array.isArray(a)&&a.length>0)&&(this._addonOptions.commandTitle=this._addonOptions.commandTitle||this.extensionUtility.getPickerTitleOutputString("commandTitle","gridMenu"))}return i}executeGridMenuInternalCustomCommands(t,e){let i=this.sharedService?.externalRegisteredResources||[];if(e?.command)switch(e.command){case"clear-pinning":let r=[...this.sharedService.visibleColumns],s={frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1};this.grid.setOptions(s),this.sharedService.gridOptions.frozenColumn=s.frozenColumn,this.sharedService.gridOptions.frozenRow=s.frozenRow,this.sharedService.gridOptions.frozenBottom=s.frozenBottom,this.sharedService.gridOptions.enableMouseWheelScrollHandler=s.enableMouseWheelScrollHandler,Array.isArray(r)&&this.grid.setColumns(r),this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns(),this.pubSubService.publish("onGridMenuClearAllPinning");break;case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh(),this.pubSubService.publish("onGridMenuClearAllFilters");break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh(),this.pubSubService.publish("onGridMenuClearAllSorting");break;case"export-csv":let a=i.find(v=>v.className==="TextExportService");a?.exportToFile?a.exportToFile({delimiter:Ms.comma,format:Pn.csv}):console.error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Grid Menu. Example:: this.gridOptions = { enableTextExport: true, externalResources: [new TextExportService()] };");break;case"export-excel":let l=i.find(v=>v.className==="ExcelExportService");l?.exportToExcel?l.exportToExcel():console.error("[Slickgrid-Universal] You must register the ExcelExportService to properly use Export to Excel in the Grid Menu. Example:: this.gridOptions = { enableExcelExport: true, externalResources: [new ExcelExportService()] };");break;case"export-text-delimited":let c=i.find(v=>v.className==="TextExportService");c?.exportToFile?c.exportToFile({delimiter:Ms.tab,format:Pn.txt}):console.error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Grid Menu. Example:: this.gridOptions = { enableTextExport: true, externalResources: [new TextExportService()] };");break;case"toggle-dark-mode":let h=this.sharedService.gridOptions.darkMode;this.grid.setOptions({darkMode:!h}),this.sharedService.gridOptions.darkMode=!h;break;case"toggle-filter":let m=this.gridOptions?.showHeaderRow??!1;m=!m,this.grid.setHeaderRowVisibility(m),m===!0&&(this.grid.setColumns(this.sharedService.columnDefinitions),this.grid.scrollColumnIntoView(0));break;case"toggle-preheader":let f=this.gridOptions?.showPreHeaderPanel??!1;this.grid.setPreHeaderPanelVisibility(!f);break;case"refresh-dataset":this.extensionUtility.refreshBackendDataset();break;default:break}}getDefaultGridMenuOptions(){return{commandTitle:void 0,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"mdi mdi-menu",menuWidth:18,commandItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}}handleBodyMouseDown(t){if(this.menuElement){let e=!1,i=t.target.closest(`.${this.menuCssClass}`);(this.menuElement.contains(t.target)||i)&&(e=!0),(this._isMenuOpen&&this.menuElement!==t.target&&!e&&!t.defaultPrevented||t.target.className==="close"&&i)&&this.hideMenu(t)}}handleMenuItemCommandClick(t,e,i,r=0){if(i!=="divider"&&!i.disabled&&!i.divider)if((i.command||"")&&!i.commandItems){let o={grid:this.grid,command:i.command,item:i,allColumns:this.columns,visibleColumns:this.getVisibleColumns()};this.executeGridMenuInternalCustomCommands(t,o),this.pubSubService.publish("onGridMenuCommand",o),typeof this._addonOptions?.onCommand=="function"&&this._addonOptions.onCommand(t,o),this.onCommand.notify(o,null,this),typeof i.action=="function"&&i.action.call(this,t,o),!this._addonOptions?.leaveOpen&&!t.defaultPrevented&&this.hideMenu(t),t.preventDefault(),t.stopPropagation()}else i.commandItems&&this.repositionSubMenu(t,i,r)}handleMenuItemMouseOver(t,e,i,r=0){i!=="divider"&&!i.disabled&&!i.divider&&(i.commandItems?this.repositionSubMenu(t,i,r):r===0&&this.disposeSubMenus())}recreateCommandList(t,e,i,r){let s=i.level||0;if(t.length>0){let o=T("div",{className:`${this._menuCssPrefix}-command-list`,role:"menu"},e);if(s===0){this.populateCommandOrOptionTitle("command",this.addonOptions,o,s);let a=e.querySelector(".slick-command-header")??T("div",{className:"slick-command-header"});a.classList.add("with-close"),Tg.call(this,a),o.appendChild(a)}return r&&s>0&&this.addSubMenuTitleWhenExists(r,o),this.populateCommandOrOptionItems("command",this._addonOptions,o,t,i,this.handleMenuItemCommandClick,this.handleMenuItemMouseOver),o}return null}repositionSubMenu(t,e,i){let r=e?.commandItems||[],s=this.createCommandMenu(r,i+1,e);s.style.display="block",document.body.appendChild(s),this.repositionMenu(t,s)}};var JT="mdi-icon-picker-check",eI="mdi-icon-picker-uncheck";function Tg(n){let e=T("button",{type:"button",className:"close",ariaLabel:"Close",textContent:"\xD7",dataset:{dismiss:this instanceof Hl?"slick-column-picker":"slick-grid-menu"}});n.appendChild(e)}function Ig(n){let t=this;t.addonOptions?.columnTitle&&(t._columnTitleElm=T("div",{className:"slick-menu-title",textContent:t.addonOptions?.columnTitle??t._defaults.columnTitle},n))}function Og(n){let t=this,e=t instanceof Hl?"columnPicker":"gridMenu",r=n.target?.closest(".icon-checkbox-container")?.querySelector(".mdi"),s=!!n.target.checked;if(n.target.ariaChecked=String(s),ZT(r,s),n.target.dataset.option==="autoresize"){let o=t.getVisibleColumns();t.grid.setOptions({forceFitColumns:s}),t.grid.setColumns(o);return}if(n.target.dataset.option==="syncresize"){t.grid.setOptions({syncColumnCellResize:s});return}if(n.target.type==="checkbox"){t._areVisibleColumnDifferent=!0;let o=n.target.dataset.columnid||"",a=[];if(t._columnCheckboxes.forEach((h,m)=>{h.checked&&a.push(t.columns[m])}),!a.length){n.target.checked=!0,ZT(r,!0);return}if(t.grid.setColumns(a),(!t.sharedService.visibleColumns||Array.isArray(a)&&a.length!==t.sharedService.visibleColumns.length)&&(t.sharedService.visibleColumns=a),t.gridOptions.enableRowSelection&&s){let h=t.grid.getSelectedRows();t.grid.setSelectedRows(h)}let l=t.gridOptions.frozenColumn??-1;l>=0&&t.extensionUtility.readjustFrozenColumnIndexWhenNeeded(l,t.columns,a);let c={columnId:o,showing:s,allColumns:t.columns,visibleColumns:a,columns:a,grid:t.grid};t.pubSubService.publish(`on${oo(e)}ColumnsChanged`,c),typeof t.addonOptions?.onColumnsChanged=="function"&&t.addonOptions.onColumnsChanged(n,c),t.onColumnsChanged.notify(c,null,t)}}function ZT(n,t=!1){n&&(n.className=`mdi ${t?JT:eI}`)}function U0(n,t,e,i=!1){let r=T("label",{className:"checkbox-picker-label",htmlFor:t}),s=T("div",{className:"icon-checkbox-container"}),o=T("input",{id:t,type:"checkbox",dataset:e}),a=T("div",{className:`mdi ${i?JT:eI}`}),l=T("span",{className:"checkbox-label"});return s.appendChild(o),s.appendChild(a),r.appendChild(s),r.appendChild(l),n.appendChild(r),i&&(o.ariaChecked="true",o.checked=!0),{inputElm:o,labelElm:r,labelSpanElm:l}}function Ag(n){let t=this,e=t instanceof uc,i=e?"gridmenu-":"";for(let r of t.columns){let s=r.id,o=document.createElement("li");(r.excludeFromColumnPicker&&!e||r.excludeFromGridMenu&&e)&&(o.className="hidden");let a=`${t._gridUid}-${i}colpicker-${s}`,l=t.grid.getColumnIndex(s)>=0,{inputElm:c,labelElm:h,labelSpanElm:m}=U0(o,a,{columnid:`${s}`},l);t._columnCheckboxes.push(c);let v=(typeof n?.headerColumnValueExtractor=="function"?n.headerColumnValueExtractor:t._defaults.headerColumnValueExtractor)(r,t.gridOptions);this.grid.applyHtmlCode(m,v),o.appendChild(h),t._listElm.appendChild(o)}if((!n.hideForceFitButton||!n.hideSyncResizeButton)&&t._listElm.appendChild(document.createElement("hr")),!n?.hideForceFitButton){let r=document.createElement("li"),s=`${t._gridUid}-${i}colpicker-forcefit`,{labelSpanElm:o}=U0(r,s,{option:"autoresize"},t.gridOptions.forceFitColumns);o.textContent=n?.forceFitTitle??"",t._listElm.appendChild(r)}if(!n?.hideSyncResizeButton){let r=document.createElement("li"),s=`${t._gridUid}-${i}colpicker-syncresize`,{labelSpanElm:o}=U0(r,s,{option:"syncresize"},t.gridOptions.forceFitColumns);o.textContent=n?.syncResizeTitle??"",t._listElm.appendChild(r)}}function mc(){let n=this,t=n.grid.getColumns().slice(0),e=new Array(n.columns.length);for(let i=0;i<e.length;i++)n.grid.getColumnIndex(n.columns[i].id)===void 0?e[i]=n.columns[i]:e[i]=t.shift();n._columns=e}var Hl=class{constructor(t,e,i){this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this._areVisibleColumnDifferent=!1,this._columns=[],this._gridUid="",this._menuElm=null,this._columnCheckboxes=[],this._defaults={hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",minHeight:150,syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:r=>Fr(r.columnPickerLabel||r.name||"","innerHTML")},this._bindEventService=new Yt,this.onColumnsChanged=new re("onColumnsChanged"),this._eventHandler=new tt,this._columns=this.sharedService.allColumns??[],this._gridUid=this.grid?.getUID?.()??"",this.init()}get addonOptions(){return this.gridOptions.columnPicker||{}}get eventHandler(){return this._eventHandler}get columns(){return this._columns}set columns(t){this._columns=t}get gridOptions(){return this.sharedService.gridOptions??{}}get grid(){return this.sharedService.slickGrid}get menuElement(){return this._menuElm}init(){this._gridUid=this.grid.getUID()??"",this.gridOptions.columnPicker=k(k({},this._defaults),this.gridOptions.columnPicker),this.onColumnsChanged.setPubSubService(this.pubSubService),this.addonOptions.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.addonOptions.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.addonOptions.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker"),this._eventHandler.subscribe(this.grid.onPreHeaderContextMenu,t=>{["slick-column-name","slick-header-column"].some(e=>t.target?.classList.contains(e))&&this.handleHeaderContextMenu(t)}),this._eventHandler.subscribe(this.grid.onHeaderContextMenu,this.handleHeaderContextMenu.bind(this)),this._eventHandler.subscribe(this.grid.onColumnsReordered,mc.bind(this)),this._eventHandler.subscribe(this.grid.onClick,this.disposeMenu.bind(this)),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this),void 0,"body"),this._bindEventService.bind(document.body,"beforeunload",this.dispose.bind(this),void 0,"body")}dispose(){this._eventHandler.unsubscribeAll(),this._bindEventService.unbindAll(),this.disposeMenu()}disposeMenu(){this._bindEventService.unbindAll("parent-menu"),this._listElm?.remove(),this._menuElm?.remove(),this._menuElm=null}createPickerMenu(){let t=T("div",{ariaExpanded:"true",className:`slick-column-picker ${this._gridUid}`,role:"menu"});return mc.call(this),Ig.call(this,t),Tg.call(this,t),this._listElm=T("div",{className:"slick-column-picker-list",role:"menu"}),this._bindEventService.bind(t,"click",Og.bind(this),void 0,"parent-menu"),document.body.appendChild(t),t}getAllColumns(){return this._columns}getVisibleColumns(){return this.grid.getColumns()}translateColumnPicker(){this.addonOptions&&(this.addonOptions.columnTitle="",this.addonOptions.forceFitTitle="",this.addonOptions.syncResizeTitle="",this.addonOptions.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.addonOptions.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.addonOptions.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this._columns,"nameKey","name"),this.translateTitleLabels(this.addonOptions)}handleBodyMouseDown(t){(this._menuElm!==t.target&&!this._menuElm?.contains(t.target)||t.target.className==="close"&&t.target.closest(".slick-column-picker"))&&this.disposeMenu()}handleHeaderContextMenu(t){t.preventDefault(),ut(this._menuElm),this._columnCheckboxes=[],this._menuElm=this.createPickerMenu(),this.gridOptions.darkMode&&this._menuElm.classList.add("slick-dark-mode"),Ag.call(this,this.addonOptions),document.body.appendChild(this._menuElm),this.repositionMenu(t)}repositionMenu(t){let e=t?.touches?.[0]??t;if(this._menuElm){let i=this.grid.getGridPosition(),r=this._menuElm.clientWidth||0,s=e.pageX||0;i?.width&&s+r>=i.width&&(s=s-r),this._menuElm.style.top=`${e.pageY-10}px`,this._menuElm.style.left=`${s}px`,this._menuElm.style.minHeight=Kr(this.addonOptions.minHeight,""),this._menuElm.style.maxHeight=Kr(this.addonOptions.maxHeight,`${window.innerHeight-e.clientY}px`),this._menuElm.style.display="block",this._menuElm.ariaExpanded="true",this._menuElm.appendChild(this._listElm)}}translateTitleLabels(t){t&&(t.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"))}};var pc=(n,t,e,i,r,s)=>{let o=i.params||{};if(!o.formatters||!Array.isArray(o.formatters))throw new Error(`[Slickgrid-Universal] The multiple formatter requires the "formatters" to be provided as a column params.
    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }`);let a=o.formatters,l=e;return a.forEach((c,h)=>{if(typeof c!="function")throw new Error(`[Slickgrid-Universal] the "params.formatters" at index(${h}) to be used by "Formatters.multiple" is invalid, please verify all formatter functions.`);l=c.call(void 0,n,t,l,i,r,s)}),l};function tI(n,t){if(Array.isArray(n)){for(let e of n)if(e.editor)if(e.formatter&&e.formatter!==pc&&e.formatter!==t){let i=e.formatter;e.formatter=pc,e.params=Ce(k({},e.params),{formatters:[i,t]})}else e.formatter&&e.formatter===pc&&e.params?e.params.formatters.findIndex(i=>i===t)===-1&&(e.params.formatters=[...e.params.formatters,t]):e.formatter=t}}function lt(n,t,e,i){let r,s,o="",a="";switch(e){case"currency":r=se.DEFAULT_FORMATTER_CURRENCY_MIN_DECIMAL,s=se.DEFAULT_FORMATTER_CURRENCY_MAX_DECIMAL;break;case"decimal":r=se.DEFAULT_FORMATTER_NUMBER_MIN_DECIMAL,s=se.DEFAULT_FORMATTER_NUMBER_MAX_DECIMAL;break;case"percent":r=se.DEFAULT_FORMATTER_PERCENT_MIN_DECIMAL,s=se.DEFAULT_FORMATTER_PERCENT_MAX_DECIMAL;break;default:break}let l=t&&typeof t.getOptions=="function"?t.getOptions():{},c=Ns("minDecimal",n,l,r),h=Ns("maxDecimal",n,l,s),m=Ns("decimalSeparator",n,l,se.DEFAULT_NUMBER_DECIMAL_SEPARATOR),f=Ns("thousandSeparator",n,l,se.DEFAULT_NUMBER_THOUSAND_SEPARATOR),v=Ns("displayNegativeNumberWithParentheses",n,l,se.DEFAULT_NEGATIVE_NUMBER_WRAPPED_IN_BRAQUET),C=Ns("currencyPrefix",n,l,""),x=Ns("currencySuffix",n,l,"");return i==="cell"&&(o=Ns("numberPrefix",n,l,""),a=Ns("numberSuffix",n,l,"")),{minDecimal:c,maxDecimal:h,decimalSeparator:m,thousandSeparator:f,wrapNegativeNumber:v,currencyPrefix:C,currencySuffix:x,numberPrefix:o,numberSuffix:a}}function Ns(n,t,e,i){let r=t&&t.params;return r&&r.hasOwnProperty(n)?r[n]:e?.formatterOptions?.hasOwnProperty(n)?e.formatterOptions[n]:i}function Ri(n,t){let e=En(n,{withZeroPadding:!0});return(i,r,s,o,a,l)=>{let h=(l&&typeof l.getOptions=="function"?l.getOptions():{})?.formatterOptions?.dateSeparator??t,m=o?.type??R.date,f=En(m,{withDefaultIso8601:!0}),v=o?.params?.parseDateAsUtc??!1,C=br(s,f),x=s;if(C){let E=C;v&&(E=qD(C)),x=un(E,e,"en-US")}if(x&&h!==t){let E=new RegExp(t,"ig");x=x.replace(E,h)}return x}}function Mg(n,t,e,i,r,s){let o=!1;e?.hasOwnProperty("exportWithFormatter")?o=!!e.exportWithFormatter:s?.hasOwnProperty("exportWithFormatter")&&(o=!!s.exportWithFormatter);let a;i&&e.exportCustomFormatter?a=e.exportCustomFormatter:o&&e.formatter&&(a=e.formatter);let l=zl(a,n,t,e,i,r);return s?.sanitizeDataExport&&typeof l=="string"?yi(l):l}function zl(n,t,e,i,r,s){let o="",l=i.field||i.id||"";if(typeof i.field=="string"&&i.field.indexOf(".")>0){let h=i.field.split(".");l=h.length>0?h[0]:i.field}let c=r?.hasOwnProperty(l)?r[l]:null;if(typeof n=="function"){let h=n(t,e,c,i,r,s),m=ro(h)?h:h.html||h.text;o=Fr(m)}else o=r?.hasOwnProperty(l)?c:"";return o==null&&(o=""),typeof o=="object"&&!(o instanceof Date)&&Object.entries(o).length===0&&(o=""),o}var Rg=class extends hc{constructor(t,e,i,r){super(t,e,i),this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this.treeDataService=r,this._defaults={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!1,optionShownOverColumnIds:[],commandShownOverColumnIds:[],subMenuOpenByEvent:"mouseover"},this.pluginName="ContextMenu",this._camelPluginName="contextMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-context-menu",this.init(i.gridOptions.contextMenu)}init(t){this._addonOptions=k(k({},this._defaults),t);let e=this._addonOptions&&Array.isArray(this._addonOptions.commandItems)?this._addonOptions.commandItems:[];this._addonOptions.commandItems=[...e,...this.addMenuCustomCommands(e)],this._addonOptions=k({},this._addonOptions),this.sharedService.gridOptions.contextMenu=this._addonOptions,this.sortMenuItems(),this._eventHandler.subscribe(this.grid.onContextMenu,this.handleOnContextMenu.bind(this)),this._eventHandler.subscribe(this.grid.onClick,this.hideMenu.bind(this)),this._addonOptions.hideMenuOnScroll&&this._eventHandler.subscribe(this.grid.onScroll,this.closeMenu.bind(this))}translateContextMenu(){let t=this.sharedService?.gridOptions??{},e=this.sharedService.gridOptions.contextMenu;if(e&&t?.enableTranslate){let i=e.commandItems||[],r=e.optionItems||[];e.commandTitleKey&&(e.commandTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(e.commandTitleKey,"TEXT_COMMANDS")||e.commandTitle),e.optionTitleKey&&(e.optionTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(e.optionTitleKey,"TEXT_COMMANDS")||e.optionTitle),this.extensionUtility.translateMenuItemsFromTitleKey(i,"commandItems"),this.extensionUtility.translateMenuItemsFromTitleKey(r,"optionItems")}}handleOnContextMenu(t,e){this.disposeAllMenus();let i=this.grid.getCellFromEvent(t);if(i){let r=this.grid.getDataItem(i.row),s=this.grid.getColumns()[i.cell],o=e||{};if(o.cell=i.cell,o.row=i.row,o.column=s,o.dataContext=r,o.grid=this.grid,!this.extensionUtility.runOverrideFunctionWhenExists(this._addonOptions.menuUsabilityOverride,o))return;this._menuElm=this.createParentMenu(t),this._menuElm&&t.preventDefault(),this._menuElm&&this.gridOptions.darkMode&&this._menuElm.classList.add("slick-dark-mode"),this._menuElm&&(this.repositionMenu(t,this._menuElm),this._menuElm.ariaExpanded="true",this._menuElm.style.display="block"),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}}addMenuCustomCommands(t){let e=[],i=this.sharedService&&this.sharedService.gridOptions||{},r=i?.contextMenu,s=this.sharedService?.dataView,o=Sn(i);if(r&&!r.hideCopyCellValueCommand){let a="copy";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconCopyCellValueCommand||"mdi mdi-content-copy",titleKey:`${o}COPY`,disabled:!1,command:a,positionOrder:50,action:(l,c)=>{this.copyToClipboard(c)},itemUsabilityOverride:l=>{let c=l?.column,h=l?.dataContext;if(typeof c.queryFieldNameGetterFn=="function"){let m=Fa(c,h,"");if(m!==""&&m!==void 0)return!0}else if(c&&h.hasOwnProperty(c.field))return h[c.field]!==""&&h[c.field]!==null&&h[c.field]!==void 0;return!1}})}if(i?.enableTextExport&&r&&!r.hideExportCsvCommand){let a="export-csv";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconExportCsvCommand||"mdi mdi-download",titleKey:`${o}EXPORT_TO_CSV`,disabled:!1,command:a,positionOrder:51,action:()=>{let c=(this.sharedService?.externalRegisteredResources||[]).find(h=>h.className==="TextExportService");if(c?.exportToFile)c.exportToFile({delimiter:Ms.comma,format:Pn.csv});else throw new Error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Context Menu. Example:: this.gridOptions = { enableTextExport: true, externalResources: [new TextExportService()] };")}})}if(i&&i.enableExcelExport&&r&&!r.hideExportExcelCommand){let a="export-excel";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconExportExcelCommand||"mdi mdi-file-excel-outline text-success",titleKey:`${o}EXPORT_TO_EXCEL`,disabled:!1,command:a,positionOrder:52,action:()=>{let c=(this.sharedService?.externalRegisteredResources||[]).find(h=>h.className==="ExcelExportService");if(c?.exportToExcel)c.exportToExcel();else throw new Error("[Slickgrid-Universal] You must register the ExcelExportService to properly use Export to Excel in the Context Menu. Example:: this.gridOptions = { enableExcelExport: true, externalResources: [new ExcelExportService()] };")}})}if(i?.enableTextExport&&r&&!r.hideExportTextDelimitedCommand){let a="export-text-delimited";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconExportTextDelimitedCommand||"mdi mdi-download",titleKey:`${o}EXPORT_TO_TAB_DELIMITED`,disabled:!1,command:a,positionOrder:53,action:()=>{let c=(this.sharedService?.externalRegisteredResources||[]).find(h=>h.className==="TextExportService");if(c?.exportToFile)c.exportToFile({delimiter:Ms.tab,format:Pn.txt});else throw new Error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Context Menu. Example:: this.gridOptions = { enableTextExport: true, externalResources: [new TextExportService()] };")}})}if(i&&(i.enableGrouping||i.enableDraggableGrouping||i.enableTreeData)){if(r&&!r.hideCopyCellValueCommand&&e.push({divider:!0,command:"",positionOrder:54}),i&&!i.enableTreeData&&r&&!r.hideClearAllGrouping){let a="clear-grouping";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconClearGroupingCommand||"mdi mdi-close",titleKey:`${o}CLEAR_ALL_GROUPING`,disabled:!1,command:a,positionOrder:55,action:()=>{s.setGrouping([]),this.pubSubService.publish("onContextMenuClearGrouping")},itemUsabilityOverride:()=>{let l=s&&s.getGrouping&&s.getGrouping();return Array.isArray(l)&&l.length>0}})}if(i&&r&&!r.hideCollapseAllGroups){let a="collapse-all-groups";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconCollapseAllGroupsCommand||"mdi mdi-arrow-collapse",titleKey:`${o}COLLAPSE_ALL_GROUPS`,disabled:!1,command:a,positionOrder:56,action:()=>{i.enableTreeData?this.treeDataService.toggleTreeDataCollapse(!0):s.collapseAllGroups(),this.pubSubService.publish("onContextMenuCollapseAllGroups")},itemUsabilityOverride:()=>{if(i.enableTreeData)return!0;let l=s&&s.getGrouping&&s.getGrouping();return Array.isArray(l)&&l.length>0}})}if(i&&r&&!r.hideExpandAllGroups){let a="expand-all-groups";t.some(l=>l!=="divider"&&l.hasOwnProperty("command")&&l.command===a)||e.push({iconCssClass:r.iconExpandAllGroupsCommand||"mdi mdi-arrow-expand",titleKey:`${o}EXPAND_ALL_GROUPS`,disabled:!1,command:a,positionOrder:57,action:()=>{i.enableTreeData?this.treeDataService.toggleTreeDataCollapse(!1):s.expandAllGroups(),this.pubSubService.publish("onContextMenuExpandAllGroups")},itemUsabilityOverride:()=>{if(i.enableTreeData)return!0;let l=s&&s.getGrouping&&s.getGrouping();return Array.isArray(l)&&l.length>0}})}}return this.extensionUtility.translateMenuItemsFromTitleKey(e),e}copyToClipboard(t){try{if(t&&t.grid&&t.command){let e=this.sharedService?.gridOptions??{},i=t?.cell??0,r=t?.row??0,s=t?.column,o=t?.dataContext,a=this.sharedService?.slickGrid,l=e&&(e.excelExportOptions||e.textExportOptions),c=Mg(r,i,s,o,a,l);typeof s.queryFieldNameGetterFn=="function"&&(c=Fa(s,o,""));let h=c;typeof c=="string"&&(h=c.replace(/^([||]\s*)|([||])\s*/gi,"").replace(/[\u00b7|\u034f]/gi,"").trim());let m=document.createElement("textarea");m&&document.body&&(m.style.position="absolute",m.style.opacity="0",m.value=h,document.body.appendChild(m),m.select(),document.execCommand("copy",!1,h)&&m.remove())}}catch{}}sortMenuItems(){let t=this.sharedService?.gridOptions?.contextMenu;t&&(this.extensionUtility.sortItems(t.commandItems||[],"positionOrder"),this.extensionUtility.sortItems(t.optionItems||[],"positionOrder"))}};var Fg=class{constructor(t,e,i){this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this.columnsGroupBy=[],this.pluginName="DraggableGrouping",this._gridColumns=[],this._gridUid="",this._isInitialized=!1,this._reorderedColumns=[],this._subscriptions=[],this._defaults={dropPlaceHolderText:"Drop a column header here to group by the column",hideGroupSortIcons:!1,hideToggleAllButton:!1,toggleAllButtonText:"",toggleAllPlaceholderText:"Toggle all Groups"},this._bindingEventService=new Yt,this.onGroupChanged=new re("onGroupChanged"),this._eventHandler=new tt}get addonOptions(){return this._addonOptions}get dataView(){return this.grid?.getData()??{}}get dropboxElement(){return this._dropzoneElm}get droppableInstance(){return this._droppableInstance}get sortableLeftInstance(){return this._sortableLeftInstance}get sortableRightInstance(){return this._sortableRightInstance}get eventHandler(){return this._eventHandler}get grid(){return this._grid??this.sharedService.slickGrid??{}}get gridOptions(){return this.sharedService.gridOptions??{}}get gridUid(){return this._gridUid||(this.grid?.getUID()??"")}get gridContainer(){return this.grid.getContainerNode()}set isInitialized(t){this._isInitialized=t}init(t,e){if(this._addonOptions=k(k({},this._defaults),e),this._grid=t,t){if(this._gridUid=t.getUID(),this._gridColumns=t.getColumns(),this._dropzoneElm=t.getTopHeaderPanel()||t.getPreHeaderPanel(),!this._dropzoneElm)throw new Error("[Slickgrid-Universal] Draggable Grouping requires the pre-header to be created and shown for the plugin to work correctly (use `createPreHeaderPanel` and `showPreHeaderPanel`).");if(this._dropzoneElm.classList.add("slick-dropzone"),this.onGroupChanged.setPubSubService(this.pubSubService),!this._addonOptions.hideToggleAllButton){this._groupToggler=T("div",{className:"slick-group-toggle-all",title:this._addonOptions.toggleAllPlaceholderText??"",style:{display:"none"}});let i=T("span",{className:"slick-group-toggle-all-icon"},this._groupToggler);this.gridOptions.enableTranslate&&this._addonOptions.toggleAllButtonTextKey&&(this._addonOptions.toggleAllButtonText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.toggleAllButtonTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this.gridOptions.enableTranslate&&this._addonOptions.toggleAllPlaceholderTextKey&&(this._addonOptions.toggleAllPlaceholderText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.toggleAllPlaceholderTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this._groupToggler.title=this._addonOptions.toggleAllPlaceholderText??"",this._addonOptions.toggleAllButtonText&&this._groupToggler.appendChild(T("span",{className:"slick-group-toggle-all-text",textContent:this._addonOptions.toggleAllButtonText||""})),this._dropzoneElm.appendChild(this._groupToggler),this._subscriptions.push(this.pubSubService.subscribe("onContextMenuCollapseAllGroups",()=>this.toggleGroupToggler(i,!0,!1)),this.pubSubService.subscribe("onContextMenuExpandAllGroups",()=>this.toggleGroupToggler(i,!1,!1)))}this._dropzonePlaceholderElm=T("div",{className:"slick-draggable-dropzone-placeholder"},this._dropzoneElm),this.gridOptions.enableTranslate&&this._addonOptions?.dropPlaceHolderTextKey&&(this._addonOptions.dropPlaceHolderText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.dropPlaceHolderTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this._dropzonePlaceholderElm.textContent=this._addonOptions?.dropPlaceHolderText??this._defaults.dropPlaceHolderText??"",this.setupColumnDropbox(),this._eventHandler.subscribe(t.onHeaderCellRendered,(i,r)=>{let s=r.node;if(!If(r.column?.grouping)&&s&&(s.style.cursor="pointer",this._addonOptions.groupIconCssClass)){let o=T("span",{className:"slick-column-groupable"},s);this._addonOptions.groupIconCssClass&&o.classList.add(...Ut(this._addonOptions.groupIconCssClass))}}),this._subscriptions.push(this.pubSubService.subscribe("onContextMenuClearGrouping",()=>this.clearDroppedGroups()));for(let i of this._gridColumns){let r=i.field;t.updateColumnHeader(r)}}return this}dispose(){this.destroySortableInstances(),this._droppableInstance?.el&&this._droppableInstance?.destroy(),this.onGroupChanged.unsubscribe(),this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),this._bindingEventService.unbindAll(),ut(this.gridContainer.querySelector(`.${this.gridUid} .slick-preheader-panel,.${this.gridUid} .slick-topheader-panel`))}clearDroppedGroups(){this.columnsGroupBy=[],this.updateGroupBy("clear-all");let t=this._dropzoneElm.querySelectorAll(".slick-dropped-grouping");for(let e of Array.from(t))this._dropzoneElm.querySelector(".slick-groupby-remove")?.remove(),e?.remove();this._dropzonePlaceholderElm.style.display="inline-block",this._groupToggler&&(this._groupToggler.style.display="none")}destroySortableInstances(){this._sortableLeftInstance?.el&&this._sortableLeftInstance?.destroy(),this._sortableRightInstance?.el&&this._sortableRightInstance?.destroy()}setAddonOptions(t){this._addonOptions=k(k({},this._addonOptions),t)}setColumns(t){this._gridColumns=t}setDroppedGroups(t){this._dropzonePlaceholderElm.style.display="none";let e=Array.isArray(t)?t:[t];for(let i of e){let r=this.grid.getHeaderColumn(i);this.handleGroupByDrop(this._dropzoneElm,r)}}setupColumnReorder(t,e,i,r,s,o,a,l,c){this.destroySortableInstances();let h=t.getTopHeaderPanel()||t.getPreHeaderPanel(),m=h.querySelector(".slick-draggable-dropzone-placeholder"),f=h.querySelector(".slick-group-toggle-all"),v={animation:50,ghostClass:"slick-sortable-placeholder",draggable:".slick-header-column",dataIdAttr:"data-id",group:{name:"shared",pull:"clone",put:!1},revertClone:!0,onStart:C=>{C.item.classList.add("slick-header-column-active"),m&&(m.style.display="inline-block"),h.querySelectorAll(".slick-dropped-grouping").forEach(E=>E.style.display="none"),f&&(f.style.display="none")},onEnd:C=>{C.item.classList.remove("slick-header-column-active"),h?.classList.remove("slick-dropzone-hover"),m?.parentElement?.classList.remove("slick-dropzone-placeholder-hover");let x=h.querySelectorAll(".slick-dropped-grouping");if(x.forEach(L=>L.style.display="flex"),x.length&&(m&&(m.style.display="none"),f&&(f.style.display="inline-flex")),!t.getEditorLock().commitCurrentEdit())return;let E=this.sortableLeftInstance?.toArray()??[];if(e.length>1){let L=this._sortableRightInstance?.toArray()??[];for(let V of L)E.push(V)}let I=[],N=t.getColumns();for(let L of E)I.push(N[a.call(t,L)]);r.call(t,I),c.call(t,t.onColumnsReordered,{grid:t,impactedColumns:I}),C.stopPropagation(),s.call(t)}};return this._sortableLeftInstance=Ua.create(this.gridContainer.querySelector(`.${t.getUID()} .slick-header-columns.slick-header-columns-left`),v),this._sortableRightInstance=Ua.create(this.gridContainer.querySelector(`.${t.getUID()} .slick-header-columns.slick-header-columns-right`),v),this._addonOptions.initialGroupBy&&!this._isInitialized&&this.setDroppedGroups(this._addonOptions.initialGroupBy),this._isInitialized=!0,{sortableLeftInstance:this._sortableLeftInstance,sortableRightInstance:this._sortableRightInstance}}addColumnGroupBy(t){this.columnsGroupBy.push(t),this.updateGroupBy("add-group")}addGroupByRemoveClickHandler(t,e,i,r){this._bindingEventService.bind(e,"click",()=>{let s=this._bindingEventService.boundedEvents.filter(o=>o.element===e);for(let o of s)this._bindingEventService.unbind(o.element,"click",o.listener);this.removeGroupBy(t,i,r)})}addGroupSortClickHandler(t,e){let{grouping:i,type:r}=t;this._bindingEventService.bind(e,"click",()=>{if(this.toggleGroupAll(t,!1),i){let s=i.sortAsc?ri.desc:ri.asc;i.comparer=(o,a)=>Wo(r||"text",o.value,a.value,s,t,this.gridOptions),this.getGroupBySortIcon(e,!i.sortAsc),this.updateGroupBy("sort-group"),i.sortAsc=!i.sortAsc,this.grid.invalidate()}})}getGroupBySortIcon(t,e=!0){e?this._addonOptions.sortAscIconCssClass?(t.classList.remove(...Ut(this._addonOptions.sortDescIconCssClass)),t.classList.add(...Ut(this._addonOptions.sortAscIconCssClass))):(t.classList.add("slick-groupby-sort-asc-icon"),t.classList.remove("slick-groupby-sort-desc-icon")):this._addonOptions.sortDescIconCssClass?(t.classList.remove(...Ut(this._addonOptions.sortAscIconCssClass)),t.classList.add(...Ut(this._addonOptions.sortDescIconCssClass))):this._addonOptions.sortDescIconCssClass||(t.classList.add("slick-groupby-sort-desc-icon"),t.classList.remove("slick-groupby-sort-asc-icon"))}handleGroupByDrop(t,e){let i=e.getAttribute("data-id")?.replace(this._gridUid,""),r=!0;for(let s of this.columnsGroupBy)s.id===i&&(r=!1);if(r){for(let s of this._gridColumns)if(s.id===i&&s.grouping&&!If(s.grouping)){let o=e.querySelector(".slick-column-name"),a=T("div",{id:`${this._gridUid}_${s.id}_entry`,className:"slick-dropped-grouping",dataset:{id:`${s.id}`}});T("div",{className:"slick-dropped-grouping-title",style:{display:"inline-flex"},textContent:o?o.textContent:e.textContent},a);let l=T("div",{className:"slick-groupby-remove"});this._addonOptions.deleteIconCssClass&&l.classList.add(...Ut(this._addonOptions.deleteIconCssClass)),this._addonOptions.deleteIconCssClass||l.classList.add("slick-groupby-remove-icon");let c;this._addonOptions?.hideGroupSortIcons!==!0&&s.sortable&&(s.grouping?.sortAsc===void 0&&(s.grouping.sortAsc=!0),c=T("div",{className:"slick-groupby-sort"},a),this.getGroupBySortIcon(c,s.grouping.sortAsc)),a.appendChild(l),a.appendChild(document.createElement("div")),t.appendChild(a),this._groupToggler&&this.columnsGroupBy.length===0&&this.toggleGroupAll(s),this.addColumnGroupBy(s),this.addGroupByRemoveClickHandler(s.id,l,e,a),c&&this.addGroupSortClickHandler(s,c)}this._groupToggler&&this.columnsGroupBy.length>0&&(this._groupToggler.style.display="inline-flex")}}toggleGroupAll({grouping:t},e){let i=this._groupToggler?.querySelector(".slick-group-toggle-all-icon");e===!0||t?.collapsed?(i?.classList.add("collapsed"),i?.classList.remove("expanded")):(i?.classList.add("expanded"),i?.classList.remove("collapsed"))}removeFromArray(t,e){if(Array.isArray(t)){let i=t.findIndex(r=>r.id===e.id);i>=0&&t.splice(i,1)}return t}removeGroupBy(t,e,i){i.remove();let r=[];this._gridColumns.forEach(s=>r[s.id]=s),this.removeFromArray(this.columnsGroupBy,r[t]),this.columnsGroupBy.length===0&&(this._dropzonePlaceholderElm.style.display="inline-block",this._groupToggler&&(this._groupToggler.style.display="none")),this.updateGroupBy("remove-group")}addDragOverDropzoneListeners(){let t=this._dropzoneElm.querySelector(".slick-draggable-dropzone-placeholder");t&&this._dropzoneElm&&(this._bindingEventService.bind(t,"dragover",e=>e.preventDefault()),this._bindingEventService.bind(t,"dragenter",()=>this._dropzoneElm.classList.add("slick-dropzone-hover")),this._bindingEventService.bind(t,"dragleave",()=>this._dropzoneElm.classList.remove("slick-dropzone-hover")))}setupColumnDropbox(){let t=this._dropzoneElm;this._droppableInstance=Ua.create(t,{group:"shared",ghostClass:"slick-droppable-sortitem-hover",draggable:".slick-dropped-grouping",dragoverBubble:!0,onAdd:e=>{let i=e.item;i.getAttribute("id")?.replace(this._gridUid,"")&&this.handleGroupByDrop(t,Ua.utils.clone(e.item)),i.parentNode?.removeChild(i)},onUpdate:()=>{let e=this._droppableInstance?.toArray()??[],i=[];for(let r of e)for(let s of this.columnsGroupBy)if(s.id===r){i.push(s);break}this.columnsGroupBy=i,this.updateGroupBy("sort-group")}}),this.addDragOverDropzoneListeners(),this._groupToggler&&this._bindingEventService.bind(this._groupToggler,"click",e=>{let i=e.target.classList.contains("slick-group-toggle-all-icon")?e.target:e.currentTarget.querySelector(".slick-group-toggle-all-icon");this.toggleGroupToggler(i,i?.classList.contains("expanded"))})}toggleGroupToggler(t,e=!0,i=!0){t&&(e===!0?(t.classList.add("collapsed"),t.classList.remove("expanded"),i&&this.dataView.collapseAllGroups()):(t.classList.remove("collapsed"),t.classList.add("expanded"),i&&this.dataView.expandAllGroups()))}updateGroupBy(t){if(this.columnsGroupBy.length===0){this.dataView.setGrouping([]),this._dropzonePlaceholderElm.style.display="inline-block",this.triggerOnGroupChangedEvent({caller:t,groupColumns:[]});return}let e=[];this.columnsGroupBy.forEach(i=>e.push(i.grouping)),this.dataView.setGrouping(e),this._dropzonePlaceholderElm.style.display="none",this.triggerOnGroupChangedEvent({caller:t,groupColumns:e})}triggerOnGroupChangedEvent(t){this._addonOptions&&typeof this._addonOptions.onGroupChanged=="function"&&this._addonOptions.onGroupChanged(new Ct,t),this.onGroupChanged.notify(t)}};var Pg=class extends uo{constructor(t,e,i){super(t,e,i),this.extensionUtility=t,this.pubSubService=e,this.sharedService=i,this._buttonElms=[],this._defaults={buttonCssClass:"slick-header-button"},this.pluginName="HeaderButtons",this._menuCssPrefix="slick-header-button",this._camelPluginName="headerButtons",this._bindEventService=new Yt,this._eventHandler=new tt,this.init(i.gridOptions.headerButton)}get addonOptions(){return this._addonOptions}set addonOptions(t){this._addonOptions=t}get eventHandler(){return this._eventHandler}get grid(){return this.sharedService.slickGrid}init(t){this._addonOptions=k(k({},this._defaults),t),this._eventHandler.subscribe(this.grid.onHeaderCellRendered,this.handleHeaderCellRendered.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeHeaderCellDestroy,this.handleBeforeHeaderCellDestroy.bind(this)),this.grid.setColumns(this.grid.getColumns())}dispose(){super.dispose(),this._buttonElms.forEach(t=>t.remove())}handleHeaderCellRendered(t,e){let i=e.column;if(i.header?.buttons&&Array.isArray(i.header.buttons)){let r=i.header.buttons.length;for(;r--;){let s=i.header.buttons[r],o=this.populateSingleCommandOrOptionItem("command",this.addonOptions,null,s,e,this.handleButtonClick.bind(this));o&&s.handler&&!s.disabled&&this._bindEventService.bind(o,"click",a=>s.handler.call(this,a)),o&&(this._buttonElms.push(o),e.node.appendChild(o))}}}handleBeforeHeaderCellDestroy(t,e){if(e.column.header?.buttons&&this._addonOptions?.buttonCssClass){let r=(this._addonOptions?.buttonCssClass||"").replace(/(\s+)/g,".");r&&e.node.querySelectorAll(`.${r}`).forEach(s=>s.remove())}}handleButtonClick(t,e,i,r,s){if(i.command&&!i.disabled){let o=i.command||"",a={grid:this.grid,column:s,button:i};o&&(a.command=o),typeof i.action=="function"&&!i.disabled&&i.action.call(this,t,a),o!==null&&!i.disabled&&this._addonOptions?.onCommand&&(this.pubSubService.publish("onHeaderButtonCommand",a),this._addonOptions.onCommand(t,a),s?.id&&this.grid.updateColumnHeader(s.id))}t.preventDefault(),t.stopPropagation()}};var Ng=class extends uo{constructor(t,e,i,r,s){super(t,i,r),this.extensionUtility=t,this.filterService=e,this.pubSubService=i,this.sharedService=r,this.sortService=s,this._subMenuParentId="",this._defaults={autoAlign:!0,autoAlignOffset:0,buttonCssClass:null,buttonImage:null,minWidth:100,hideColumnHideCommand:!1,hideSortCommands:!1,title:"",subMenuOpenByEvent:"mouseover"},this.pluginName="HeaderMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-header-menu",this._camelPluginName="headerMenu",this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.columnDefinitions),this.init(r.gridOptions.headerMenu)}init(t){this._addonOptions=k(k({},this._defaults),t),this._eventHandler.subscribe(this.grid.onBeforeSetColumns,(e,i)=>{this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(i.newColumns)}),this._eventHandler.subscribe(this.grid.onHeaderCellRendered,this.handleHeaderCellRendered.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeHeaderCellDestroy,this.handleBeforeHeaderCellDestroy.bind(this)),this._eventHandler.subscribe(this.grid.onClick,this.hideMenu.bind(this)),this.grid.setColumns(this.grid.getColumns()),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}dispose(){super.dispose(),this._menuElm=this._menuElm||document.body.querySelector(`.slick-header-menu${this.gridUidSelector}`),this._menuElm?.remove(),this._activeHeaderColumnElm=void 0}hideColumn(t){if(this.sharedService?.slickGrid?.getColumnIndex){let e=this.sharedService.slickGrid.getColumnIndex(t.id),i=this.sharedService.slickGrid.getColumns(),r=this.sharedService.gridOptions.frozenColumn??-1;r>=0&&r>=e&&(this.sharedService.gridOptions.frozenColumn=r-1,this.sharedService.slickGrid.setOptions({frozenColumn:this.sharedService.gridOptions.frozenColumn}));let s=xu(i,e);this.sharedService.visibleColumns=s,this.sharedService.slickGrid.setColumns(s),this.pubSubService.publish("onHeaderMenuHideColumns",{columns:s,hiddenColumn:t})}}hideMenu(){this.disposeSubMenus(),this._menuElm?.remove(),this._menuElm=void 0}repositionSubMenu(t,e,i,r){let s=this.createCommandMenu(e.commandItems||[],r,i+1,e);document.body.appendChild(s),this.repositionMenu(t,s)}repositionMenu(t,e){let i=t.target,r=e.classList.contains("slick-submenu"),s=r?t.target.closest(".slick-menu-item"):i,o=this.sharedService.gridContainerElement.classList.contains("slickgrid-container")?this.sharedService.gridContainerElement:this.sharedService.gridContainerElement.querySelector(".slickgrid-container")??this.sharedService.gridContainerElement,a=Wy(o,i),l=this.grid.getGridPosition(),c=e.offsetWidth,h=pi(s),m=r?h.left:a?.left??0,f=r?h.top:(a?.top??0)+(this.addonOptions?.menuOffsetTop??0)+i.clientHeight;if(r){let v=e?.clientHeight||0,{bottom:C,top:x}=Dl(s);(C<v&&x>C?"top":"bottom")==="top"?(e.classList.remove("dropdown"),e.classList.add("dropup"),f-=v-s.clientHeight):(e.classList.remove("dropup"),e.classList.add("dropdown"))}if(r&&s){let v=m+Number(c)+s.clientWidth,C=document.documentElement.clientWidth;(v>=l.width||v>=C?"left":"right")==="left"?(e.classList.remove("dropright"),e.classList.add("dropleft"),m-=c):(e.classList.remove("dropleft"),e.classList.add("dropright"),m+=s.offsetWidth)}else m=a?.left??0,this.addonOptions.autoAlign&&l?.width&&m+(e.clientWidth??0)>=l.width&&(m=m+i.clientWidth-e.clientWidth+(this.addonOptions?.autoAlignOffset||0));e.style.top=`${f}px`,e.style.left=`${m}px`}translateHeaderMenu(){this.sharedService.gridOptions?.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)}handleHeaderCellRendered(t,e){let r=e.column.header?.menu;if(r&&e.node){if(!this.extensionUtility.runOverrideFunctionWhenExists(this.addonOptions.menuUsabilityOverride,e))return;let s=T("div",{className:"slick-header-menu-button",ariaLabel:"Header Menu"},e.node);this.addonOptions.buttonCssClass&&s.classList.add(...Ut(this.addonOptions.buttonCssClass)),this.addonOptions.tooltip&&(s.title=this.addonOptions.tooltip),this._bindEventService.bind(s,"click",o=>{this.disposeAllMenus(),this.createParentMenu(o,e.column,r)})}}handleBeforeHeaderCellDestroy(t,e){e.column.header?.menu&&e.node.querySelectorAll(".slick-header-menu-button").forEach(r=>r.remove())}handleBodyMouseDown(t){if(this.menuElement){let e=!1,i=t.target.closest(`.${this.menuCssClass}`);(this.menuElement.contains(t.target)||i)&&(e=!0),(this._menuElm!==t.target&&!e&&!t.defaultPrevented||t.target.className==="close"&&i)&&this.hideMenu()}}handleMenuItemCommandClick(t,e,i,r=0,s){if(i!=="divider"&&!i.disabled&&!i.divider)if((i.command||"")&&!i.commandItems){let a={grid:this.grid,command:i.command,column:s,item:i};this.executeHeaderMenuInternalCommands(t,a),this.pubSubService.publish("onHeaderMenuCommand",a),typeof this.addonOptions?.onCommand=="function"&&this.addonOptions.onCommand(t,a),typeof i.action=="function"&&i.action.call(this,t,a),t.defaultPrevented||this.hideMenu(),t.preventDefault(),t.stopPropagation()}else i.commandItems&&this.repositionSubMenu(t,i,r,s)}handleMenuItemMouseOver(t,e,i,r=0,s){i!=="divider"&&!i.disabled&&!i.divider&&(i.commandItems?this.repositionSubMenu(t,i,r,s):r===0&&this.disposeSubMenus())}addHeaderMenuCustomCommands(t){let e=this.sharedService.gridOptions,i=e.headerMenu||{},r=Sn(e);return Array.isArray(t)&&e.enableHeaderMenu&&t.forEach(s=>{if(s&&!s.excludeFromHeaderMenu){s.header?s.header.menu||(s.header.menu={commandItems:[]}):s.header={menu:{commandItems:[]}};let o=s?.header?.menu?.commandItems??[],a=!1;if(i&&!i.hideFreezeColumnsCommand&&(a=!0,o.some(l=>l!=="divider"&&l?.command==="freeze-columns")||o.push({iconCssClass:i.iconFreezeColumns||"mdi mdi-pin-outline",titleKey:`${r}FREEZE_COLUMNS`,command:"freeze-columns",positionOrder:45})),i&&!i.hideColumnResizeByContentCommand&&this.sharedService.gridOptions.enableColumnResizeOnDoubleClick&&(a=!0,o.some(l=>l!=="divider"&&l?.command==="column-resize-by-content")||o.push({iconCssClass:i.iconColumnResizeByContentCommand||"mdi mdi-arrow-expand-horizontal",titleKey:`${r}COLUMN_RESIZE_BY_CONTENT`,command:"column-resize-by-content",positionOrder:47})),a&&!o.some(l=>l!=="divider"&&l.positionOrder===48)&&o.push({divider:!0,command:"",positionOrder:48}),e.enableSorting&&s.sortable&&i&&!i.hideSortCommands&&(o.some(l=>l!=="divider"&&l?.command==="sort-asc")||o.push({iconCssClass:i.iconSortAscCommand||"mdi mdi-sort-ascending",titleKey:`${r}SORT_ASCENDING`,command:"sort-asc",positionOrder:50}),o.some(l=>l!=="divider"&&l?.command==="sort-desc")||o.push({iconCssClass:i.iconSortDescCommand||"mdi mdi-sort-descending",titleKey:`${r}SORT_DESCENDING`,command:"sort-desc",positionOrder:51}),o.some(l=>l!=="divider"&&l.positionOrder===52)||o.push({divider:!0,command:"",positionOrder:52}),!i.hideClearSortCommand&&!o.some(l=>l!=="divider"&&l?.command==="clear-sort")&&o.push({iconCssClass:i.iconClearSortCommand||"mdi mdi-sort-variant-off",titleKey:`${r}REMOVE_SORT`,command:"clear-sort",positionOrder:58})),s.filter?.filterShortcuts&&!o.some(l=>l!=="divider"&&l?.command==="filter-shortcuts-root-menu")){let l=[];s.filter.filterShortcuts.forEach(h=>{let m=h.title?zo(h.title):(h.titleKey||"").toLowerCase().replaceAll("_","-");l.push(Ce(k({},h),{command:m,action:(f,v)=>{this.filterService.getFiltersMetadata().find(x=>x.columnDef.id===v.column.id)?.setValues(h.searchTerms,h.operator,!0)}}))});let c=i.filterShortcutsPositionOrder??55;o.push({iconCssClass:i.iconFilterShortcutSubMenu||"mdi mdi-filter-outline",titleKey:`${r}FILTER_SHORTCUTS`,command:"filter-shortcuts-root-menu",positionOrder:c,commandItems:l}),a&&!o.some(h=>h!=="divider"&&h.positionOrder===c+1)&&o.push({divider:!0,command:"",positionOrder:c+1})}e.enableFiltering&&s.filterable&&i&&!i.hideFilterCommand&&!i.hideClearFilterCommand&&!o.some(l=>l!=="divider"&&l?.command==="clear-filter")&&o.push({iconCssClass:i.iconClearFilterCommand||"mdi mdi-filter-remove-outline",titleKey:`${r}REMOVE_FILTER`,command:"clear-filter",positionOrder:57}),i&&!i.hideColumnHideCommand&&!o.some(l=>l!=="divider"&&l?.command==="hide-column")&&o.push({iconCssClass:i.iconColumnHideCommand||"mdi mdi-close",titleKey:`${r}HIDE_COLUMN`,command:"hide-column",positionOrder:59}),this.extensionUtility.translateMenuItemsFromTitleKey(o),this.extensionUtility.sortItems(o,"positionOrder")}}),i}clearColumnFilter(t,e){e?.column&&this.filterService.clearFilterByColumnId(t,e.column.id)}clearColumnSort(t,e){e?.column&&this.sharedService&&this.sortService.clearSortByColumnId(t,e.column.id)}executeHeaderMenuInternalCommands(t,e){if(e?.command)switch(e.command){case"hide-column":this.hideColumn(e.column),this.sharedService.gridOptions?.enableAutoSizeColumns&&this.sharedService.slickGrid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(t,e);break;case"clear-sort":this.clearColumnSort(t,e);break;case"column-resize-by-content":this.pubSubService.publish("onHeaderMenuColumnResizeByContent",{columnId:e.column.id});break;case"freeze-columns":let i=[...this.sharedService.visibleColumns],s={frozenColumn:i.findIndex(c=>c.id===e.column.id),enableMouseWheelScrollHandler:!0},o=this.sharedService.slickGrid.getColumns();this.sharedService.slickGrid.setOptions(s,!1,!0),this.sharedService.gridOptions.frozenColumn=s.frozenColumn,this.sharedService.gridOptions.enableMouseWheelScrollHandler=s.enableMouseWheelScrollHandler,this.sharedService.frozenVisibleColumnId=e.column.id,this.sharedService.hasColumnsReordered||Array.isArray(i)&&Array.isArray(this.sharedService.allColumns)&&i.length!==this.sharedService.allColumns.length?this.sharedService.slickGrid.setColumns(i):this.sharedService.slickGrid.setColumns(o),this.sharedService.slickGrid.getOptions().enableAutoSizeColumns&&this.sharedService.slickGrid.autosizeColumns();break;case"sort-asc":case"sort-desc":let l=e.command==="sort-asc";this.sortColumn(t,e,l);break;default:break}}createParentMenu(t,e,i){let r={grid:this.grid,column:e,menu:i};typeof t.stopPropagation=="function"&&(this.pubSubService.publish("onHeaderMenuBeforeMenuShow",r),typeof this.addonOptions?.onBeforeMenuShow=="function"&&this.addonOptions?.onBeforeMenuShow(t,r)===!1)||(this._menuElm=this.createCommandMenu(i.commandItems,e),this.grid.getContainerNode()?.appendChild(this._menuElm),this.repositionMenu(t,this._menuElm),this.pubSubService.publish("onHeaderMenuAfterMenuShow",r),!(typeof this.addonOptions?.onAfterMenuShow=="function"&&this.addonOptions?.onAfterMenuShow(t,r)===!1)&&(t.preventDefault(),t.stopPropagation()))}createCommandMenu(t,e,i=0,r){let s=r?.command,o=i===1&&s?s.replace(/\s/g,""):"";o&&(this._subMenuParentId=o),i>1&&(o=this._subMenuParentId);let a=`${this.menuCssClass} slick-menu-level-${i} ${this.gridUid}`,l=document.body.querySelector(`.${this.menuCssClass}.slick-menu-level-${i}${this.gridUidSelector}`);if(l){if(l.dataset.subMenuParent===o)return l;this.disposeSubMenus()}let c=T("div",{ariaExpanded:"true",ariaLabel:i>1?"SubMenu":"Header Menu",role:"menu",className:a,style:{minWidth:`${this.addonOptions.minWidth}px`}});i>0&&(c.classList.add("slick-submenu"),o&&(c.dataset.subMenuParent=o),this.gridOptions?.darkMode&&c.classList.add("slick-dark-mode"));let h=T("div",{className:`${this._menuCssPrefix}-command-list`,role:"menu"},c),m={grid:this.grid,column:e,level:i,menu:{commandItems:t}};return r&&i>0&&this.addSubMenuTitleWhenExists(r,h),this.populateCommandOrOptionItems("command",this.addonOptions,h,t,m,this.handleMenuItemCommandClick,this.handleMenuItemMouseOver),i++,c}resetHeaderMenuTranslations(t){t.forEach(e=>{if(e?.header?.menu?.commandItems&&!e.excludeFromHeaderMenu){let i=e.header.menu.commandItems||[];this.extensionUtility.translateMenuItemsFromTitleKey(i)}})}sortColumn(t,e,i=!0){if(e?.column){let r=e.column,s=this.sharedService.gridOptions.multiColumnSort?this.sortService.getCurrentColumnSorts(r.id+""):[],o=bi.local;s.push({columnId:r.id,sortCol:r,sortAsc:i}),this.sharedService.gridOptions.backendServiceApi?(this.sortService.onBackendSortChanged(t,{multiColumnSort:!0,sortCols:s,grid:this.sharedService.slickGrid}),o=bi.remote):this.sharedService.dataView?(this.sortService.onLocalSortChanged(this.sharedService.slickGrid,s),o=bi.local):e.grid.onSort.notify(s);let a=s.map(l=>({columnId:l?.sortCol?.id??"",sortAsc:l?.sortAsc??!0}));if(this.sharedService.slickGrid.setSortColumns(a),o){let l=[];a.forEach(c=>{l.push({columnId:`${c.columnId}`,direction:c.sortAsc?"ASC":"DESC"})}),this.sortService.emitSortChanged(o,l)}}}};var Lg="slick-rbe-editmode",aU="slick-rbe-unsaved-cell",iI="slick-rbe-unsaved-highlight",W0="action-btns--delete",G0="action-btns--edit",$0="action-btns--update",Y0="action-btns--cancel",Xu=class{constructor(t,e,i){this.extensionUtility=t,this.pubSubService=e,this.pluginName="RowBasedEdit",this._defaults={actionsColumnLabel:"Actions",allowMultipleRows:!1,columnId:"_slick_rowbasededit_action",columnIndexPosition:-1,reorderable:!1},this._editedRows=new Map,this._currentLang="en",this._translations={},this.onBeforeEditCellHandler=(r,s)=>this._editedRows.has(s.item?.[this.gridOptions.datasetIdPropertyName??"id"]),this._eventHandler=new tt,this._addonOptions=i}get addonOptions(){return this._addonOptions}get gridOptions(){return this._grid.getOptions()||{}}get eventHandler(){return this._eventHandler}init(t,e){this._grid=t,this._gridService=e,this._addonOptions=k(k({},this._defaults),this.addonOptions);let i=this._grid.getData();if(this._eventHandler.subscribe(this._grid.onBeforeEditCell,this.onBeforeEditCellHandler),this.checkOptionsRequirements(this.gridOptions),this.gridOptions.autoEdit||(this._grid.setOptions({autoEdit:!0}),console.warn('[Slickgrid-Universal] The Row Based Edit Plugin works best with the gridOption "autoEdit" enabled, the option has now been set automatically for you.')),this._existingEditCommandHandler=this.gridOptions.editCommandHandler,this._grid.setOptions({editCommandHandler:this.rowBasedEditCommandHandler.bind(this)}),this.gridOptions.enableExcelCopyBuffer===!0){let s=this.gridOptions.excelCopyBufferOptions?.onBeforePasteCell;this._grid.setOptions({excelCopyBufferOptions:Ce(k({},this.gridOptions.excelCopyBufferOptions),{onBeforePasteCell:(o,a)=>{let l=!0;if(s&&(l=s(o,a),l===!1))return!1;let c=i.getItem(a.row),h=this.gridOptions.datasetIdPropertyName??"id";return!!(this._editedRows.has(c[h])&&l===!0)}})})}let r=i.getItemMetadata;i.getItemMetadata=this.updateItemMetadata(r?.bind?.(i)),this._eventHandler.subscribe(this._grid.onSetOptions,this.optionsUpdatedHandler.bind(this)),this._eventHandler.subscribe(i.onRowsOrCountChanged,this.handleAllRowRerender.bind(this)),this.translate()}destroy(){this.dispose()}dispose(){this._eventHandler?.unsubscribeAll(),this.pubSubService?.unsubscribeAll()}create(t,e){if(this._addonOptions=k(k({},this._defaults),e.rowBasedEditOptions),Array.isArray(t)&&e){let i=this.getColumnDefinition();if(!t.some(r=>r.id===i.id)){let r=e?.rowBasedEditOptions?.columnIndexPosition??-1;r===-1?t.push(i):r>0&&r<t.length?t.splice(r,0,i):t.unshift(i),this.pubSubService.publish("onPluginColumnsChanged",{columns:t,pluginName:this.pluginName})}}return this}getColumnDefinition(){let t=String(this._addonOptions?.columnId??this._defaults.columnId);return k({id:t,name:this._addonOptions?.actionsColumnLabel,field:"action",minWidth:70,width:75,maxWidth:75,excludeFromExport:!0,reorderable:this._addonOptions?.reorderable,formatter:this.actionColumnFormatter.bind(this),onCellClick:this.onCellClickHandler.bind(this)},this._addonOptions?.actionColumnConfig??{})}rowBasedEditCommandHandler(t,e,i){this._existingEditCommandHandler&&this._existingEditCommandHandler(t,e,i);let r=Array.isArray(i.prevSerializedValue)?i.prevSerializedValue:[i.prevSerializedValue],s=Array.isArray(i.serializedValue)?i.serializedValue:[i.serializedValue],o=this._gridService?.getAllColumnDefinitions().filter(m=>m.editor!==void 0),a=[],l=this.gridOptions.datasetIdPropertyName??"id";r.forEach((m,f)=>{let v=r[f],C=s[f];if(v!==C||C===""){let x=Array.isArray(i.prevSerializedValue)?o?.[f]:e;if(!x)return;this._grid.invalidate(),i.execute(),this.renderUnsavedCellStyling(t[l],x),a.push(x)}});let c=this._editedRows.get(t[l]),h=[...c?.editCommands||[]];a.length>0&&h.push(i),this._editedRows.set(t[l],{columns:[...c?.columns||[],...a],editCommands:h,cssStyleKeys:c?.cssStyleKeys||[]})}translate(t=!1){return this._currentLang=this.extensionUtility.translaterService?.getCurrentLanguage()??"en",(!this._translations[this._currentLang]||t)&&(this._translations[this._currentLang]={btnUpdateTitle:this.getTitleOrDefault("updateButtonTitle","Update the row"),btnEditTitle:this.getTitleOrDefault("editButtonTitle","Edit the Row"),btnDeleteTitle:this.getTitleOrDefault("deleteButtonTitle","Delete the Row"),btnCancelTitle:this.getTitleOrDefault("cancelButtonTitle","Cancel changes of the Row")}),this._translations[this._currentLang]}checkOptionsRequirements(t){if(!t?.enableCellNavigation)throw new Error("[Slickgrid-Universal] Row Based Edit Plugin requires the gridOption cell navigation (enableCellNavigation = true)");if(!t?.editable)throw new Error("[Slickgrid-Universal] Row Based Edit Plugin requires the gridOption editable (editable = true)")}undoRowEdit(t){let e=this.gridOptions.datasetIdPropertyName??"id",i=this._editedRows.get(t[e]),r=this._grid.getData().getRowByItem(t);if(r!==void 0&&i?.editCommands&&i.editCommands.length||Rl.cancelCurrentEdit()){for(;i.editCommands.length>0;){let s=i.editCommands.pop();s&&s.undo()}i.columns.forEach(s=>{this.removeUnsavedStylingFromCell(s,r)}),i.columns=[],this._grid.invalidate()}}renderUnsavedCellStyling(t,e){if(e){let i=this._grid.getData()?.getRowById(t);if(i!==void 0&&i>=0){let r={[i]:{[e.id]:aU}},s=`${iI}_${[e.id]}${i}`;this._grid.setCellCssStyles(s,r),this._editedRows.get(t)?.cssStyleKeys.push(s)}}}handleAllRowRerender(t,e){this._editedRows.forEach((i,r)=>{i.cssStyleKeys.forEach(s=>{this._grid.removeCellCssStyles(s)}),i.cssStyleKeys=[],i.columns.forEach(s=>{this.renderUnsavedCellStyling(r,s)})})}removeUnsavedStylingFromCell(t,e){let i=`${iI}_${[t.id]}${e}`;this._grid.removeCellCssStyles(i)}removeUnsavedStylingFromRow(t){this._grid.getColumns().forEach(e=>{this.removeUnsavedStylingFromCell(e,t)})}optionsUpdatedHandler(t,e){this._addonOptions=k(k({},this._defaults),e.optionsAfter.rowBasedEditOptions)}onCellClickHandler(t,e){return Ze(this,null,function*(){let i=e.dataContext,r=t.target,s=this.gridOptions.datasetIdPropertyName??"id",o=this._editedRows.get(i[s]);if((r.classList.contains(W0)||r.parentElement?.classList.contains(W0))&&this._gridService){if(this._addonOptions?.actionButtons?.deleteButtonPrompt&&!window.confirm(this._addonOptions.actionButtons.deleteButtonPrompt))return;this.toggleEditmode(i,!1),this._gridService.deleteItem(i)}else if(r.classList.contains(G0)||r.parentElement?.classList.contains(G0)){if(!this._addonOptions?.allowMultipleRows&&this._editedRows.size>0)return;typeof this._addonOptions?.onBeforeEditMode=="function"&&this._addonOptions.onBeforeEditMode(e),this.toggleEditmode(i,!0)}else if(r.classList.contains($0)||r.parentElement?.classList.contains($0)){if(this._addonOptions?.actionButtons?.updateButtonPrompt&&(o?.editCommands.length||0)>0&&!window.confirm(this._addonOptions.actionButtons.updateButtonPrompt)||(this._grid.getCellEditor()&&this._grid.getActiveCell()?.row===e.row&&this._grid.getEditController()?.commitCurrentEdit(),this._addonOptions?.onBeforeRowUpdated&&(yield this._addonOptions.onBeforeRowUpdated(e))!==!0))return;this.removeUnsavedStylingFromRow(e.row),this.toggleEditmode(i,!1)}else if(r.classList.contains(Y0)||r.parentElement?.classList.contains(Y0)){if(this._addonOptions?.actionButtons?.cancelButtonPrompt&&(o?.editCommands.length||0)>0&&!window.confirm(this._addonOptions.actionButtons.cancelButtonPrompt))return;this.undoRowEdit(i),this.toggleEditmode(i,!1)}})}actionColumnFormatter(t,e,i,r,s){let o=this.gridOptions,a=this._editedRows.has(s?.[o.datasetIdPropertyName??"id"]),l=this._translations[this._currentLang]??this.translate(),c=document.createDocumentFragment();return c.appendChild(T("span",{className:`${o.rowBasedEditOptions?.actionButtons?.editButtonClassName||"button-style padding-1px mr-2"} action-btns `+G0,title:l.btnEditTitle,style:{display:a?"none":""}})).appendChild(T("span",{className:o.rowBasedEditOptions?.actionButtons?.iconEditButtonClassName||"mdi mdi-table-edit text-color-primary"})),c.appendChild(T("span",{className:`${o.rowBasedEditOptions?.actionButtons?.deleteButtonClassName||"button-style padding-1px"} action-btns `+W0,title:l.btnDeleteTitle,style:{display:a?"none":""}})).appendChild(T("span",{className:o.rowBasedEditOptions?.actionButtons?.iconDeleteButtonClassName||"mdi mdi-close text-color-danger"})),c.appendChild(T("span",{className:`${o.rowBasedEditOptions?.actionButtons?.updateButtonClassName||"button-style padding-1px mr-2"} action-btns `+$0,title:l.btnUpdateTitle,style:{display:a?"":"none"}})).appendChild(T("span",{className:o.rowBasedEditOptions?.actionButtons?.iconUpdateButtonClassName||"mdi mdi-check-bold text-color-success"})),c.appendChild(T("span",{className:`${o.rowBasedEditOptions?.actionButtons?.cancelButtonClassName||"button-style padding-1px"} action-btns `+Y0,title:l.btnCancelTitle,style:{display:a?"":"none"}})).appendChild(T("span",{className:o.rowBasedEditOptions?.actionButtons?.iconCancelButtonClassName||"mdi mdi-cancel text-color-danger"})),c}toggleEditmode(t,e){let i=this.gridOptions.datasetIdPropertyName??"id";e?this._editedRows.set(t[i],{columns:[],editCommands:[],cssStyleKeys:[]}):this._editedRows.delete(t[i]),this._grid.invalidate()}updateItemMetadata(t){return e=>{let i=this._grid.getData().getItem(e),r={cssClasses:""};if(typeof t=="function"){let s=t(e);s&&(r=s)}if(r&&i){let s=this.gridOptions.datasetIdPropertyName??"id";this._editedRows.has(i[s])&&!r.cssClasses.includes(Lg)?r.cssClasses=(r.cssClasses||"")+" "+Lg:!this._editedRows.has(i[s])&&r.cssClasses.includes(Lg)&&(r.cssClasses=r.cssClasses.replace(Lg,""))}return r}}getTitleOrDefault(t,e){let i=this.gridOptions.rowBasedEditOptions?.actionButtons;return i?.[t+"Key"]&&this.extensionUtility.translaterService?.translate?.(i?.[t+"Key"]||"")||i?.[t]||e}};var Ku=class{constructor(t){this.pubSubService=t,this.pluginName="RowMoveManager",this._dragging=!1,this._defaults={autoScroll:!0,columnId:"_move",cssClass:"slick-row-move-column",cancelEditOnDrag:!1,disableRowSelection:!1,hideRowMoveShadow:!0,reorderable:!1,rowMoveShadowMarginTop:0,rowMoveShadowMarginLeft:0,rowMoveShadowOpacity:.9,rowMoveShadowScale:.75,singleRowMove:!1,width:40},this.onBeforeMoveRows=new re("onBeforeMoveRows"),this.onMoveRows=new re("onMoveRows"),this._eventHandler=new tt}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get gridOptions(){return this._grid?.getOptions()??{}}init(t,e){this._addonOptions=k(k({},this._defaults),e),this._grid=t,this._canvas=this._grid.getCanvasNode(),B.addSlickEventPubSubWhenDefined(this.pubSubService,this),typeof this._addonOptions?.usabilityOverride=="function"&&this.usabilityOverride(this._addonOptions.usabilityOverride),this._eventHandler.subscribe(this._grid.onDragInit,this.handleDragInit.bind(this)).subscribe(this._grid.onDragStart,this.handleDragStart.bind(this)).subscribe(this._grid.onDrag,this.handleDrag.bind(this)).subscribe(this._grid.onDragEnd,this.handleDragEnd.bind(this))}dispose(){this._eventHandler?.unsubscribeAll()}create(t,e){if(this._addonOptions=k(k({},this._defaults),e.rowMoveManager),Array.isArray(t)&&e){let i=this.getColumnDefinition();if(!t.some(r=>r.id===i.id)){let r=Array.isArray(t)&&t.find(a=>a?.behavior==="selectAndMove"),s=r||i,o=e?.rowMoveManager?.columnIndexPosition??0;o>0?t.splice(o,0,s):t.unshift(s),this.pubSubService.publish("onPluginColumnsChanged",{columns:t,pluginName:this.pluginName})}}return this}getColumnDefinition(){let t=String(this._addonOptions?.columnId??this._defaults.columnId);return{id:t,name:"",behavior:"selectAndMove",excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,field:t,reorderable:this._addonOptions.reorderable,resizable:!1,width:this._addonOptions.width||40,formatter:this.moveIconFormatter.bind(this)}}usabilityOverride(t){this._usabilityOverride=t}setOptions(t){this._addonOptions=k(k({},this._addonOptions),t)}handleDragInit(t){t.stopImmediatePropagation()}handleDragEnd(t,e){if(this._dragging&&(this._dragging=!1,t.stopImmediatePropagation(),e.guide?.remove(),e.selectionProxy?.remove(),e.clonedSlickRow?.remove(),e.canMove)){let i={grid:this._grid,rows:e.selectedRows,insertBefore:e.insertBefore};typeof this._addonOptions.onMoveRows=="function"&&this._addonOptions.onMoveRows(t instanceof Ct?t.getNativeEvent():t,i),this.onMoveRows.notify(i)}}handleDrag(t,e){if(this._dragging){t.stopImmediatePropagation();let i=t.getNativeEvent(),s=(i?.touches?.[0]??i).pageY-pi(this._canvas).top;e.selectionProxy.style.top=`${s-5}px`,e.selectionProxy.style.display="block",e.clonedSlickRow&&(e.clonedSlickRow.style.top=`${s-6}px`,e.clonedSlickRow.style.display="block");let o=Math.max(0,Math.min(Math.round(s/(this.gridOptions.rowHeight||0)),this._grid.getDataLength()));if(o!==e.insertBefore){let a={grid:this._grid,rows:e.selectedRows,insertBefore:o};if(this._addonOptions?.onBeforeMoveRows?.(i,a)===!1||this.onBeforeMoveRows.notify(a).getReturnValue()===!1?e.canMove=!1:e.canMove=!0,this._usabilityOverride&&e.canMove){let l=this._grid.getDataItem(o);e.canMove=this.checkUsabilityOverride(o,l,this._grid)}e.canMove?e.guide.style.top=`${o*(this.gridOptions.rowHeight||0)}px`:e.guide.style.top="-1000px",e.insertBefore=o}}}handleDragStart(t,e){let i=this._grid.getCellFromEvent(t)||{cell:-1,row:-1},r=i.row,s=this._grid.getDataItem(r);if(this.checkUsabilityOverride(r,s,this._grid)){if(this._addonOptions.cancelEditOnDrag&&this._grid.getEditorLock().isActive()&&this._grid.getEditorLock().cancelCurrentEdit(),this._grid.getEditorLock().isActive()||!/move|selectAndMove/.test(this._grid.getColumns()[i.cell].behavior||""))return!1;if(this._dragging=!0,t.stopImmediatePropagation(),!this.addonOptions.hideRowMoveShadow){let l=this._grid.getCellNode(i.row,i.cell)?.closest(".slick-row");l&&(e.clonedSlickRow=l.cloneNode(!0),e.clonedSlickRow.classList.add("slick-reorder-shadow-row"),e.clonedSlickRow.style.display="none",e.clonedSlickRow.style.marginLeft=Kr(this._addonOptions?.rowMoveShadowMarginLeft,"0px"),e.clonedSlickRow.style.marginTop=Kr(this._addonOptions?.rowMoveShadowMarginTop,"0px"),e.clonedSlickRow.style.opacity=`${this._addonOptions?.rowMoveShadowOpacity??.95}`,e.clonedSlickRow.style.transform=`scale(${this.addonOptions?.rowMoveShadowScale??.75})`,this._canvas.appendChild(e.clonedSlickRow))}let o=this._addonOptions.singleRowMove?[i.row]:this._grid.getSelectedRows();(o.length===0||!o.some(l=>l===i.row))&&(o=[i.row],this._addonOptions.disableRowSelection||this._grid.setSelectedRows(o));let a=this.gridOptions.rowHeight;e.selectedRows=o,e.selectionProxy=T("div",{className:"slick-reorder-proxy",style:{display:"none",position:"absolute",zIndex:"99999",width:`${this._canvas.clientWidth}px`,height:`${a*o.length}px`}},this._canvas),e.guide=T("div",{className:"slick-reorder-guide",style:{position:"absolute",zIndex:"99999",width:`${this._canvas.clientWidth}px`,top:"-1000px"}},this._canvas),e.insertBefore=-1}}checkUsabilityOverride(t,e,i){return typeof this._usabilityOverride=="function"?this._usabilityOverride(t,e,i):!0}moveIconFormatter(t,e,i,r,s,o){return this.checkUsabilityOverride(t,s,o)?{addClasses:"cell-reorder dnd",html:T("div",{className:this._addonOptions.cssClass||""})}:""}};var Vg=class{get extensionList(){return this._extensionList}get gridOptions(){return this.sharedService.gridOptions||{}}constructor(t,e,i,r,s,o,a,l){this.extensionUtility=t,this.filterService=e,this.pubSubService=i,this.sharedService=r,this.sortService=s,this.treeDataService=o,this.translaterService=a,this.lazyGridService=l,this._extensionCreatedList={},this._extensionList={},this._requireInitExternalExtensions=[]}dispose(){if(this.sharedService.visibleColumns=[],typeof this._extensionList=="object"){let t=Object.keys(this._extensionList);t.forEach(e=>{if(this._extensionList.hasOwnProperty(e)){let i=this._extensionList[e];typeof i?.instance?.dispose=="function"&&i.instance.dispose()}}),t.forEach(e=>{delete this._extensionList[e]})}this._cellMenuPlugin=null,this._cellExcelCopyManagerPlugin=null,this._checkboxSelectColumn=null,this._contextMenuPlugin=null,this._columnPickerControl=null,this._draggleGroupingPlugin=null,this._gridMenuControl=null,this._groupItemMetadataProviderService=null,this._headerMenuPlugin=null,this._rowMoveManagerPlugin=null,this._rowSelectionModel=null,this._extensionCreatedList=null,this._extensionList={}}addExtensionToList(t,e){this._extensionList[t]=e}getAllColumns(){return this.sharedService.allColumns||[]}getVisibleColumns(){return this.sharedService.visibleColumns||[]}getCreatedExtensionByName(t){if(this._extensionCreatedList?.hasOwnProperty(t))return this._extensionCreatedList[t]}getExtensionByName(t){return this._extensionList?.[t]}getExtensionInstanceByName(t){return this.getExtensionByName(t)?.instance}autoResizeColumns(){this.sharedService.slickGrid.autosizeColumns()}bindDifferentExtensions(){if(this.gridOptions){if(this.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.gridOptions.enableRowBasedEdit){this._rowBasedEdit=this._rowBasedEdit||new Xu(this.extensionUtility,this.pubSubService,this.gridOptions.rowBasedEditOptions);let t=this.lazyGridService?.();if(!t)throw new Error("[Slickgrid-Universal] the RowBasedEdit Plugin requires a GridService to be configured and available");this._rowBasedEdit.init(this.sharedService.slickGrid,t),this.gridOptions.rowBasedEditOptions?.onExtensionRegistered&&this.gridOptions.rowBasedEditOptions.onExtensionRegistered(this._rowBasedEdit),this._extensionList[st.rowBasedEdit]={name:st.rowBasedEdit,instance:this._rowBasedEdit}}if(this.gridOptions.enableAutoTooltip){let t=new wg(this.gridOptions?.autoTooltipOptions);this.sharedService.slickGrid.registerPlugin(t),this._extensionList[st.autoTooltip]={name:st.autoTooltip,instance:t}}if(this.gridOptions.enableExcelCopyBuffer&&(this._cellExcelCopyManagerPlugin=new Cg,this._cellExcelCopyManagerPlugin.init(this.sharedService.slickGrid,this.sharedService.gridOptions.excelCopyBufferOptions),this.gridOptions.excelCopyBufferOptions?.onExtensionRegistered&&this.gridOptions.excelCopyBufferOptions.onExtensionRegistered(this._cellExcelCopyManagerPlugin),this._extensionList[st.cellExternalCopyManager]={name:st.cellExternalCopyManager,instance:this._cellExcelCopyManagerPlugin}),this.gridOptions.enableCellMenu&&(this._cellMenuPlugin=new kg(this.extensionUtility,this.pubSubService,this.sharedService),this.gridOptions.cellMenu?.onExtensionRegistered&&this.gridOptions.cellMenu.onExtensionRegistered(this._cellMenuPlugin),this._extensionList[st.cellMenu]={name:st.cellMenu,instance:this._cellMenuPlugin}),!this._rowSelectionModel&&(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowDetailView||this.gridOptions.enableRowMoveManager)){if(!this._rowSelectionModel||!this.sharedService.slickGrid.getSelectionModel()){let t=this.gridOptions.rowSelectionOptions??{};this.gridOptions.enableRowMoveManager&&this.gridOptions.rowMoveManager?.dragToSelect!==!1&&(t.dragToSelect=!0),this._rowSelectionModel=new mo(t),this.sharedService.slickGrid.setSelectionModel(this._rowSelectionModel)}this._extensionList[st.rowSelection]={name:st.rowSelection,instance:this._rowSelectionModel}}if(this.gridOptions.enableCheckboxSelector){this._checkboxSelectColumn=this._checkboxSelectColumn||new qu(this.pubSubService,this.gridOptions.checkboxSelector),this._checkboxSelectColumn.init(this.sharedService.slickGrid);let e=this.getCreatedExtensionByName(st.checkboxSelector)?.instance;e&&(this.gridOptions.checkboxSelector?.onExtensionRegistered&&this.gridOptions.checkboxSelector.onExtensionRegistered(e),this._extensionList[st.checkboxSelector]={name:st.checkboxSelector,instance:this._checkboxSelectColumn})}if(this.gridOptions.enableColumnPicker&&(this._columnPickerControl=new Hl(this.extensionUtility,this.pubSubService,this.sharedService),this.gridOptions.columnPicker?.onExtensionRegistered&&this.gridOptions.columnPicker.onExtensionRegistered(this._columnPickerControl),this._extensionList[st.columnPicker]={name:st.columnPicker,instance:this._columnPickerControl}),this.gridOptions.enableContextMenu&&(this._contextMenuPlugin=new Rg(this.extensionUtility,this.pubSubService,this.sharedService,this.treeDataService),this.gridOptions.contextMenu?.onExtensionRegistered&&this.gridOptions.contextMenu.onExtensionRegistered(this._contextMenuPlugin),this._extensionList[st.contextMenu]={name:st.contextMenu,instance:this._contextMenuPlugin}),this.gridOptions.enableDraggableGrouping&&(this._draggleGroupingPlugin&&(this._draggleGroupingPlugin.init(this.sharedService.slickGrid,this.gridOptions.draggableGrouping),this.gridOptions.draggableGrouping?.onExtensionRegistered&&this.gridOptions.draggableGrouping.onExtensionRegistered(this._draggleGroupingPlugin),this._extensionList[st.contextMenu]={name:st.contextMenu,instance:this._draggleGroupingPlugin}),this._extensionList[st.draggableGrouping]={name:st.draggableGrouping,instance:this._draggleGroupingPlugin}),this.gridOptions.enableGridMenu&&(this._gridMenuControl=new uc(this.extensionUtility,this.filterService,this.pubSubService,this.sharedService,this.sortService),this.gridOptions.gridMenu?.onExtensionRegistered&&this.gridOptions.gridMenu.onExtensionRegistered(this._gridMenuControl),this._extensionList[st.gridMenu]={name:st.gridMenu,instance:this._gridMenuControl}),this.gridOptions.enableHeaderButton){let t=new Pg(this.extensionUtility,this.pubSubService,this.sharedService);this.gridOptions.headerButton?.onExtensionRegistered&&this.gridOptions.headerButton.onExtensionRegistered(t),this._extensionList[st.headerButton]={name:st.headerButton,instance:t}}this.gridOptions.enableHeaderMenu&&(this._headerMenuPlugin=new Ng(this.extensionUtility,this.filterService,this.pubSubService,this.sharedService,this.sortService),this.gridOptions.headerMenu?.onExtensionRegistered&&this.gridOptions.headerMenu.onExtensionRegistered(this._headerMenuPlugin),this._extensionList[st.headerMenu]={name:st.headerMenu,instance:this._headerMenuPlugin}),this.gridOptions.enableRowMoveManager&&(this._rowMoveManagerPlugin=this._rowMoveManagerPlugin||new Ku(this.pubSubService),this._rowMoveManagerPlugin.init(this.sharedService.slickGrid,this.gridOptions.rowMoveManager),this.getCreatedExtensionByName(st.rowMoveManager)?.instance&&(this._extensionList[st.rowMoveManager]={name:st.rowMoveManager,instance:this._rowMoveManagerPlugin})),this._requireInitExternalExtensions.length&&this._requireInitExternalExtensions.forEach(t=>{t.instance.init(this.sharedService.slickGrid,void 0)})}}createExtensionsBeforeGridCreation(t,e){let i=[];e.enableCheckboxSelector&&(this.getCreatedExtensionByName(st.checkboxSelector)||(this._checkboxSelectColumn=new qu(this.pubSubService,this.sharedService.gridOptions.checkboxSelector),i.push({name:st.checkboxSelector,instance:this._checkboxSelectColumn,columnIndexPosition:e?.checkboxSelector?.columnIndexPosition??i.length}))),e.enableRowMoveManager&&(this.getCreatedExtensionByName(st.rowMoveManager)||(this._rowMoveManagerPlugin=new Ku(this.pubSubService),i.push({name:st.rowMoveManager,instance:this._rowMoveManagerPlugin,columnIndexPosition:e?.rowMoveManager?.columnIndexPosition??i.length}))),e.enableRowBasedEdit&&(this.getCreatedExtensionByName(st.rowBasedEdit)||(this._rowBasedEdit=new Xu(this.extensionUtility,this.pubSubService),i.push({name:st.rowBasedEdit,instance:this._rowBasedEdit,columnIndexPosition:e?.rowMoveManager?.columnIndexPosition??i.length}))),e.preRegisterExternalExtensions&&e.preRegisterExternalExtensions(this.pubSubService).forEach(s=>{i.push(s),this._requireInitExternalExtensions.push(s),this._extensionList[s.name]||this.addExtensionToList(s.name,s)}),this.createExtensionByTheirColumnIndex(i,t,e),e.enableDraggableGrouping&&(this.getCreatedExtensionByName(st.draggableGrouping)||(this._draggleGroupingPlugin=new Fg(this.extensionUtility,this.pubSubService,this.sharedService),this._draggleGroupingPlugin&&(e.enableColumnReorder=this._draggleGroupingPlugin.setupColumnReorder.bind(this._draggleGroupingPlugin),this._extensionCreatedList[st.draggableGrouping]={name:st.draggableGrouping,instance:this._draggleGroupingPlugin})))}hideColumn(t){if(typeof this.sharedService?.slickGrid?.getColumns=="function"){let e=this.sharedService.slickGrid.getColumnIndex(t.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.slickGrid.getColumns(),e),this.sharedService.slickGrid.setColumns(this.sharedService.visibleColumns)}}refreshBackendDataset(t){this.extensionUtility.refreshBackendDataset(t)}removeColumnByIndex(t,e){return Array.isArray(t)?t.filter((i,r)=>e!==r):t}translateAllExtensions(t){this.translateCellMenu(),this.translateContextMenu(),this.translateHeaderMenu(),this.translateRowEditPlugin(),this.translateColumnHeaders(t)}translateCellMenu(){this._cellMenuPlugin?.translateCellMenu()}translateColumnPicker(){this._columnPickerControl?.translateColumnPicker()}translateContextMenu(){this._contextMenuPlugin?.translateContextMenu()}translateGridMenu(){this._gridMenuControl?.translateGridMenu()}translateHeaderMenu(){this._headerMenuPlugin?.translateHeaderMenu()}translateRowEditPlugin(){this._rowBasedEdit?.translate()}translateColumnHeaders(t,e){if(this.sharedService&&this.gridOptions&&this.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');t&&this.translaterService?.use&&this.translaterService.getCurrentLanguage()!==t&&this.translaterService.use(t);let i=e;i||(i=this.sharedService.columnDefinitions),this.translateItems(i,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"columnGroupKey","columnGroup"),this.renderColumnHeaders(i,Array.isArray(e))}renderColumnHeaders(t,e=!1){let i=t;i||(i=this.sharedService.columnDefinitions),Array.isArray(i)&&this.sharedService.slickGrid?.setColumns&&((i.length>this.sharedService.allColumns.length||e)&&(this.sharedService.allColumns=i),this.sharedService.slickGrid.setColumns(i)),this.gridOptions.enableColumnPicker&&this._columnPickerControl&&(this._columnPickerControl.columns=this.sharedService.allColumns,this._columnPickerControl.translateColumnPicker()),this.gridOptions.enableGridMenu&&this._gridMenuControl&&(this._gridMenuControl.columns=this.sharedService.allColumns??[],this._gridMenuControl.recreateGridMenu(),this._gridMenuControl.translateGridMenu())}createExtensionByTheirColumnIndex(t,e,i){t.sort((r,s)=>(r?.columnIndexPosition??0)-(s?.columnIndexPosition??0)),t.forEach(r=>{let s=r.instance.create(e,i);s&&(this._extensionCreatedList[r.name]={name:r.name,instance:s})})}translateItems(t,e,i){if(this.gridOptions?.enableTranslate&&!this.translaterService?.translate)throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');this.extensionUtility.translateItems(t,e,i)}};function q0(n,t,e){if(e&&(n?.hasOwnProperty(e)||t?.hasOwnProperty(e)))return n[e]===t||n===t[e]||n[e]===t[e];if(typeof n=="object"&&typeof t=="object"&&Object.keys(n).length!==Object.keys(t).length)return!1;for(let i in n)if(n.hasOwnProperty(i)&&n[i]!==t[i])return!1;return!0}function nI(n){switch(n&&n.toUpperCase()||""){case"IN":case"NIN":case"NOT_IN":case"IN_CONTAINS":case"NIN_CONTAINS":case"NOT_IN_CONTAINS":case"IN_COLLECTION":case"NOT_IN_COLLECTION":return!0;default:return!1}}var _s=(n,t,e)=>{switch(n.toUpperCase()){case"<":case"LT":return t<e;case"<=":case"LE":return t<=e;case">":case"GT":return t>e;case">=":case"GE":return t>=e;case"!=":case"<>":case"NE":return t!==e;case"=":case"==":case"EQ":return t===e;case"IN":return e&&Array.isArray(e)?e.includes(t):!1;case"NIN":case"NOT_IN":return e&&Array.isArray(e)?!e.includes(t):!1;case"IN_CONTAINS":return e&&Array.isArray(e)&&typeof t=="string"?e.some(i=>t.split(/[,]+/).map(r=>r.trim()).includes(i)):!1;case"NIN_CONTAINS":case"NOT_IN_CONTAINS":return e&&Array.isArray(e)&&typeof t=="string"?!e.some(i=>t.split(/[,]+/).map(r=>r.trim()).includes(i)):!1;case"IN_COLLECTION":return t&&e&&Array.isArray(t)&&Array.isArray(e)?e.some(i=>t.includes(i)):!1;case"NOT_IN_COLLECTION":return t&&e&&Array.isArray(t)&&Array.isArray(e)?!e.some(i=>t.includes(i)):!1}return!0};var Bg=(n,t)=>{let[e,i]=t;if(e===void 0&&!n.operator)return!0;n.cellValue=n.cellValue===void 0||n.cellValue===null?"":n.cellValue.toString();let r=n?.ignoreAccentOnStringFilterAndSort?Va(n.cellValue,!0):n.cellValue.toLowerCase();if(typeof e=="string"&&(e=n?.ignoreAccentOnStringFilterAndSort?Va(e,!0):e.toLowerCase()),typeof i=="string"&&(i=n?.ignoreAccentOnStringFilterAndSort?Va(i,!0):i.toLowerCase()),n.operator===Le.startsWithEndsWith&&e!==void 0&&i!==void 0)return lU(r,[e,i]);if(e!==void 0&&i!==void 0){let o=n?.operator??n.defaultFilterRangeOperator;o!==Le.rangeInclusive&&o!==Le.rangeExclusive&&(o=n.defaultFilterRangeOperator);let a=o===Le.rangeInclusive,l=X0(a?">=":">",r,e,n.searchInputLastChar),c=X0(a?"<=":"<",r,i,n.searchInputLastChar);return l&&c}return X0(n.operator,r,e,n.searchInputLastChar)};function rI(n){let e=Array.isArray(n)&&n||[""],i=[],r,s;if(e.length===1&&typeof e[0]=="string"){let o=e[0];o.indexOf("..")>0?e=o.split(".."):o.indexOf("*")>0&&o.indexOf("*")<o.length-1&&(e=o.split("*"))}if(e.length===2)r=`${e[0]}`,s=`${e[1]}`;else{let o=Array.isArray(n)&&n.length>0?n[0]:"";r=o==null?"":`${o}`}return r!==void 0&&s!==void 0?i.push(r,s):r!==void 0&&i.push(r),i}function X0(n,t,e,i){return n==="*"||n===Le.endsWith||n==="*z"?t.endsWith(e):n===""&&i==="*"||n===Le.startsWith||n==="a*"?t.startsWith(e):n===""||n===Le.contains?t.indexOf(e)>-1:n==="<>"||n===Le.notContains?t.indexOf(e)===-1:_s(n||"==",t,e)}function lU(n,[t,e]){return n.startsWith(t)&&n.endsWith(e)}var sI=(n,t)=>{if(t===void 0&&!n.operator)return!0;switch((n.operator||"").toUpperCase()){case"!=":case"<>":case"NE":return!q0(n.cellValue,t,n.dataKey);case"=":case"==":case"EQ":default:return q0(n.cellValue,t,n.dataKey)}};function oI(n){return(Array.isArray(n)&&n.length>0?n[0]:"")||""}var Hg=(n,t)=>{let e=parseFloat(n.cellValue),[i,r]=t;if(i===void 0&&!n.operator)return!0;if(i!==void 0&&r!==void 0){let s=n?.operator??n.defaultFilterRangeOperator;s!==Le.rangeInclusive&&s!==Le.rangeExclusive&&(s=n.defaultFilterRangeOperator);let o=s===Le.rangeInclusive,a=_s(o?">=":">",e,+i),l=_s(o?"<=":"<",e,+r);return a&&l}return _s(n.operator||"==",e,+i)};function aI(n){let e=Array.isArray(n)&&n||[0],i=[],r,s;if(e.length===2||typeof e[0]=="string"&&e[0].indexOf("..")>0){let o=e.length===2?e:e[0].split("..");r=parseFloat(Array.isArray(o)?o[0]:""),s=parseFloat(Array.isArray(o)?o[1]:"")}else r=parseFloat(e[0]);return ze(r,!0)&&ze(s,!0)?i.push(r,s):ze(r,!0)&&i.push(r),i}var zg=(n,t)=>ku(n.cellValue)===ku(t);function lI(n){let t=Array.isArray(n)&&n[0]||!1;return ku(t)}var jg=n=>{let t=n.operator,e;return Array.isArray(n.cellValue)&&(t==="IN_COLLECTION"||t==="NOT_IN_COLLECTION")?e=n.cellValue.length?n.cellValue.map(i=>`${i}`):[]:e=n.cellValue===void 0||n.cellValue===null?"":`${n.cellValue}`,_s(t||"IN",e,n.searchTerms||[])};function dI(n,t){let e=n&&(n.filterSearchType||n.fieldType)||R.dateIso,i=En(e),[r,s]=t,o=br(n.cellValue,i,!0);if(!r&&!s||!o)return!1;let a=i==="ISO8601"||i.toLowerCase().includes("h")?o.valueOf():Bf(new Date(o)).valueOf();if(r&&s){let c=n?.operator??n.defaultFilterRangeOperator;c!==Le.rangeInclusive&&c!==Le.rangeExclusive&&(c=n.defaultFilterRangeOperator);let h=c===Le.rangeInclusive,m=_s(h?">=":">",a,r.valueOf()),f=_s(h?"<=":"<",a,s.valueOf());return m&&f}let l=i==="ISO8601"||i.toLowerCase().includes("h")?r.valueOf():Bf(new Date(r)).valueOf();return _s(n.operator||"==",a,l)}function cI(n,t){let e=Array.isArray(n)&&n||[],i=t||R.dateIso,r=En(i),s=[];if(e.length===2||typeof e[0]=="string"&&e[0].indexOf("..")>0){let o=e.length===2?e:e[0].split(".."),a=Array.isArray(o)&&o[0]||"",l=Array.isArray(o)&&o[1]||"",c=br(a,r,!0),h=br(l,r,!0);if(!c||!h)return[];s.push(c,h)}else{let o=br(e[0],r,!0);if(!o)return[];s.push(o)}return s}var hI=(n,t)=>{if(nI(n.operator))return jg(n);switch(uI(n.filterSearchType||n.fieldType)){case"boolean":return zg(n,t);case"date":return dI(n,t||[]);case"number":return Hg(n,t||[]);case"object":return sI(n,t);case"string":default:return Bg(n,t||[])}};function Qu(n,t){let e=uI(t),i;switch(e){case"boolean":i=lI(n);break;case"date":i=cI(n,t);break;case"number":i=aI(n);break;case"object":i=oI(n);break;case"string":i=rI(n);break}return i}function uI(n){if(vr(n))return"date";switch(n){case R.boolean:return"boolean";case R.integer:case R.float:case R.number:return"number";case R.object:return"object";case R.string:case R.text:case R.password:case R.readonly:default:return"string"}}var K0={executeFilterConditionTest:hI,booleanFilter:zg,collectionSearchFilter:jg,numberFilter:Hg,stringFilter:Bg};var Ug=class{constructor(t,e,i,r){this.config=t,this.translaterService=e,this.collectionService=i,this.rxjs=r,this._options=this.config?.options??{}}addRxJsResource(t){this.rxjs=t}createFilter(t){let e;return t?.model&&(e=typeof t.model=="function"?new t.model(this.translaterService,this.collectionService,this.rxjs):t.model),!e&&this._options.defaultFilter&&(e=new this._options.defaultFilter(this.translaterService,this.collectionService,this.rxjs)),e}};var Wg=class{constructor(t,e,i,r,s){this.filterFactory=t,this.pubSubService=e,this.sharedService=i,this.backendUtilities=r,this.rxjs=s,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filtersMetadata=[],this._columnFilters={},this._isTreePresetExecuted=!1,this._previousFilters=[],this._onSearchChange=new re,this._eventHandler=new tt,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get isFilterFirstRender(){return this._isFilterFirstRender}get onSearchChange(){return this._onSearchChange}get _gridOptions(){return this._grid?.getOptions()??{}}get _columnDefinitions(){return this._grid?.getColumns()??[]}get _dataView(){return this._grid?.getData()??{}}addRxJsResource(t){this.rxjs=t}init(t){this._grid=t,this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions&&this._grid.setSortColumns([{columnId:this._gridOptions.treeDataOptions.columnId,sortAsc:!0}])}dispose(){this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&this.rxjs?.isObservable(this.httpCancelRequests$)&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete()),this.disposeColumnFilters(),this._onSearchChange=null}disposeColumnFilters(){if(this.removeAllColumnFiltersProperties(),Array.isArray(this._filtersMetadata)){let t=this._filtersMetadata.pop();for(;t;)typeof t?.destroy=="function"&&t.destroy(),t=this._filtersMetadata.pop()}}bindBackendOnFilter(t){this._filtersMetadata=[],this._eventHandler.subscribe(t.onHeaderRowCellRendered,(e,i)=>{i.column.id===this._firstColumnIdRendered&&(this._isFilterFirstRender=!1),this.addFilterTemplateToHeaderRow(i,this._isFilterFirstRender),this._firstColumnIdRendered===""&&(this._firstColumnIdRendered=i.column.id)}),this.subscribeToOnHeaderRowCellRendered(t),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,this.onBackendFilterChange.bind(this))}bindLocalOnFilter(t){this._filtersMetadata=[],this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid,dataView:this._dataView}),this._dataView.setFilter(this.customLocalFilter.bind(this)),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,(e,i)=>Ze(this,null,function*(){let r=i?.clearFilterTriggered??!1;r||(yield this.emitFilterChanged(bi.local,!0)),this._gridOptions.enableTreeData===!0&&(this._tmpPreFilteredData=this.preFilterTreeData(this._dataView.getItems(),this._columnFilters)),r||(yield this.emitFilterChanged(bi.local)),i.columnId!==null&&this._dataView.refresh(),this._previousFilters=this.extractBasicFilterDetails(this._columnFilters)})),this._eventHandler.subscribe(t.onHeaderRowCellRendered,(e,i)=>{this.addFilterTemplateToHeaderRow(i)}),this.subscribeToOnHeaderRowCellRendered(t)}clearFilterByColumnId(t,e){return Ze(this,null,function*(){yield this.pubSubService.publish("onBeforeFilterClear",{columnId:e},0);let i=this._gridOptions.backendServiceApi??!1,r=i?bi.remote:bi.local,s=Object.keys(this._columnFilters),o;Array.isArray(s)&&(o=s.find(l=>l===`${e}`));let a=this._filtersMetadata.find(l=>l.columnDef.id===e);return a?.clear&&a.clear(!0),i&&o!==void 0&&this.onBackendFilterChange(t,{grid:this._grid,columnFilters:this._columnFilters}),yield this.emitFilterChanged(r),!0})}clearFilters(t=!0){return Ze(this,null,function*(){t&&(yield this.pubSubService.publish("onBeforeFilterClear",!0,0)),this._filtersMetadata.forEach(i=>{i?.clear&&i.clear(!1)}),this.removeAllColumnFiltersProperties(),Array.isArray(this._columnDefinitions)&&this._columnDefinitions.forEach(i=>{i.filter?.searchTerms&&delete i.filter.searchTerms}),this._dataView&&this._grid&&(this._dataView.refresh(),this._grid.invalidate());let e=this._gridOptions.backendServiceApi;if(e&&t){let i={clearFilterTriggered:!0,shouldTriggerQuery:t,grid:this._grid,columnFilters:this._columnFilters},s=e.service.processOnFilterChanged(void 0,i),o=this._gridOptions.pagination?.totalItems??0;this.backendUtilities?.executeBackendCallback(e,s,i,new Date,o,{errorCallback:this.resetToPreviousSearchFilters.bind(this),successCallback:a=>this._previousFilters=this.extractBasicFilterDetails(a.columnFilters),emitActionChangedCallback:this.emitFilterChanged.bind(this)})}else this._previousFilters=this.extractBasicFilterDetails(this._columnFilters);t&&this.pubSubService.publish("onFilterCleared",!0)})}customLocalFilter(t,e){let i=e?.grid,r=e?.columnFilters??{},s=this._gridOptions.enableTreeData??!1,o=this._gridOptions.treeDataOptions;if(s&&o){let a=o.collapsedPropName??se.treeDataProperties.COLLAPSED_PROP,l=o.parentPropName??se.treeDataProperties.PARENT_PROP,c=o?.childrenPropName??se.treeDataProperties.CHILDREN_PROP,h=this._gridOptions.datasetIdPropertyName??"id",m=o.autoRecalcTotalsOnFilterChange??!1,f=!1;if(t[l]!==null){let v=this._dataView.getItemById(t[l]);for(;v;){if(v[a])if(m)f=!0;else return!1;v=this._dataView.getItemById(v[l])}}if(this._tmpPreFilteredData instanceof Set){let v=this._tmpPreFilteredData.has(t[h]);if(m){let C=xl(this.sharedService.hierarchicalDataset,x=>x[h]===t[h],c);if(C&&(C.__filteredOut=!v),f)return!1}return v}}else if(typeof r=="object")for(let a of Object.keys(r)){let l=r[a],c=l.columnDef?.filter;if(typeof c?.filterPredicate=="function"){if(!c.filterPredicate(t,l))return!1}else{let h=this.preProcessFilterConditionOnDataContext(t,l,i);if(typeof h=="boolean")return h;let m=l?.parsedSearchTerms;if(m===void 0&&(m=Qu(l.searchTerms,l.columnDef.type||R.string),m!==void 0&&(l.parsedSearchTerms=m)),!K0.executeFilterConditionTest(h,m))return!1}}return!0}parseFormInputFilterConditions(t,e){let i=oi(!0,[],t)||[],r=Array.isArray(i)&&i.length===1?i[0]:"",s=e.columnDef,o=s.filter?.type??s.type??R.string,a=null;o!==R.object&&(r=r==null?"":`${r}`,a=(s.autoParseInputFilterOperator??this._gridOptions.autoParseInputFilterOperator)!==!1?r.match(/^((.*[^\\*\r\n])[*]{1}(.*[^*\r\n]))|^([<>!=*]{0,2})(.*[^<>!=*])([*]?)$/)||[]:[r,"","","","",r,""]);let l=a?.[2]||"",c=a?.[3]||"",h=a?.[4]||e.operator,m=a?.[1]||a?.[5]||"",f=a?.[6]||(h==="*z"?"*":"");return typeof r=="string"&&(r=r.replace("'","''"),l&&c?(m=r,h=Le.startsWithEndsWith):h==="*"||h==="*z"?h=Le.endsWith:(h==="a*"||f==="*")&&(h=Le.startsWith)),Array.isArray(a)&&a.length>=1&&Array.isArray(i)&&i.length===1&&(i[0]=m.length>0&&m.substring(0,1)===" "?m.substring(1):m),{dataKey:s.dataKey,fieldType:o,searchTerms:i||[],operator:h,searchInputLastChar:f,filterSearchType:s.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preProcessFilterConditionOnDataContext(t,e,i){let r=e.columnDef,s=e.columnId,o=i.getColumnIndex(s);if(!r&&this.sharedService&&Array.isArray(this.sharedService.allColumns)&&(o=this.sharedService.allColumns.findIndex(f=>f.field===s)),!r)return!0;if(this._gridOptions.enableRowDetailView){let f=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";t[`${f}isPadding`]&&t[`${f}parent`]&&(t=t[`${f}parent`])}let a=r.filter?.queryField||r.queryFieldFilter||r.queryField||r.field||"";typeof r.queryFieldNameGetterFn=="function"&&(a=r.queryFieldNameGetterFn(t));let l=r.filter?.type??r.type??R.string,c=t[a];a?.indexOf(".")>=0&&(c=Vi(t,a));let h=e.operator,m=e.searchTerms||[];if(!m||Array.isArray(m)&&(m.length===0||m.length===1&&h===m[0]))return!0;if(m&&Array.isArray(m)&&l!==R.object)for(let f=0,v=m.length;f<v;f++)m[f]=(m[f]===void 0||m[f]===null?"":m[f])+"";if(r?.params?.useFormatterOuputToFilter===!0){let f=this._gridOptions.datasetIdPropertyName||"id",v=this._dataView&&typeof this._dataView.getIdxById=="function"?this._dataView.getIdxById(t[f]):0,C=r&&typeof r.formatter=="function"?r.formatter(v||0,o,c,r,t,this._grid):"";c=yi(C)}return typeof c=="number"&&(c=c.toString()),{dataKey:r.dataKey,fieldType:l,searchTerms:m,cellValue:c,operator:h,searchInputLastChar:e.searchInputLastChar,filterSearchType:r.filterSearchType,ignoreAccentOnStringFilterAndSort:this._gridOptions.ignoreAccentOnStringFilterAndSort??!1,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preFilterTreeData(t,e){let i=this._gridOptions.treeDataOptions,r=i?.collapsedPropName??se.treeDataProperties.COLLAPSED_PROP,s=i?.parentPropName??se.treeDataProperties.PARENT_PROP,o=i?.hasChildrenPropName??se.treeDataProperties.HAS_CHILDREN_PROP,a=this._gridOptions.datasetIdPropertyName??"id",l=this._gridOptions.presets?.treeData?.toggledItems,c=this._gridOptions.treeDataOptions?.initiallyCollapsed??!1,h=this._gridOptions.treeDataOptions?.columnId,m=this._gridOptions.treeDataOptions?.excludeChildrenWhenFilteringTree,f=!m&&this._gridOptions.treeDataOptions?.autoApproveParentItemWhenTreeColumnIsValid===!0,v={},C=new Set,x=new Map;return Array.isArray(t)&&(t.forEach(E=>{v[E[a]]=E,delete v[E[a]].__used}),typeof e=="object"&&Object.keys(e).forEach(E=>{let I=e[E],N=I?.searchTerms?oi(!0,[],I.searchTerms):[],L=this.parseFormInputFilterConditions(N,I),V=I.columnDef,j=V?.filter?.type??V?.type??R.string,Y=Qu(L.searchTerms,j);Y!==void 0&&(I.parsedSearchTerms=Y)}),t.forEach(E=>{let I=E[o],N=!0;for(let L of Object.keys(e)){let V=e[L],j=this.preProcessFilterConditionOnDataContext(E,V,this._grid);if(j){let Y=V?.parsedSearchTerms,me=typeof j=="boolean"?j:K0.executeFilterConditionTest(j,Y);if(me&&f&&I&&V.columnId===h){x.set(E[a],!0);break}if(me||!m&&x.get(E[s])===!0){if(I&&V.columnId===h&&x.set(E[a],!0),me||!m&&V.columnId===h)continue}else I&&x.get(E[s])!==!0&&V.columnId!==h&&x.set(E[a],!1)}N=!1}if(N){C.add(E[a]);let L=v[E[s]]??!1,V=!c;for(!this._isTreePresetExecuted&&Array.isArray(l)&&l.some(j=>j.itemId===L.id&&j.isCollapsed===V)&&(L[r]=V);L;)L.__used??C.add(L[a]),v[L[a]].__used=!0,L=v[L[s]]??!1}})),this._isTreePresetExecuted=!0,C}getColumnFilters(){return this._columnFilters}getPreviousFilters(){return this._previousFilters}getFiltersMetadata(){return this._filtersMetadata}getCurrentLocalFilters(){let t=[];if(this._columnFilters)for(let e of Object.keys(this._columnFilters)){let i=this._columnFilters[e],r={columnId:e||""},o=this.sharedService.allColumns.find(a=>a.id===r.columnId)?.filter?.emptySearchTermReturnAllValues??!0;i?.searchTerms&&(r.searchTerms=i.searchTerms),i.operator&&(r.operator=i.operator),i.targetSelector&&(r.targetSelector=i.targetSelector),Array.isArray(r.searchTerms)&&r.searchTerms.length>0&&(!o||r.searchTerms[0]!=="")&&t.push(r)}return t}emitFilterChanged(t,e=!1){let i=e?"onBeforeFilterChange":"onFilterChanged";if(t===bi.remote&&this._gridOptions.backendServiceApi){let r=[],s=this._gridOptions.backendServiceApi.service;return s?.getCurrentFilters&&(r=s.getCurrentFilters()),this.pubSubService.publish(i,r)}else if(t===bi.local)return this.pubSubService.publish(i,this.getCurrentLocalFilters())}onBackendFilterChange(t,e){return Ze(this,null,function*(){let i=e?.shouldTriggerQuery;if(i&&(yield this.emitFilterChanged(bi.remote,!0)),!e||!e.grid)throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');let r=this._gridOptions.backendServiceApi;if(!r||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');let s=new Date;if(r.preProcess&&r.preProcess(),i){let o=yield r.service.processOnFilterChanged(t,e),a=this._gridOptions.pagination?.totalItems??0;this.backendUtilities?.executeBackendCallback(r,o,e,s,a,{errorCallback:this.resetToPreviousSearchFilters.bind(this),successCallback:l=>this._previousFilters=this.extractBasicFilterDetails(l.columnFilters),emitActionChangedCallback:this.emitFilterChanged.bind(this),httpCancelRequestSubject:this.httpCancelRequests$})}})}populateColumnFilterSearchTermPresets(t){return Array.isArray(t)&&(this._columnDefinitions.forEach(e=>{e.filter?.searchTerms&&delete e.filter.searchTerms;let i=t.find(r=>r.columnId===e.id);i&&Array.isArray(i?.searchTerms)&&(e.filter=e.filter||{},e.filter.operator=i.operator||e.filter.operator||"",e.filter.searchTerms=i.searchTerms)}),this._gridOptions.enableTreeData&&this.refreshTreeDataFilters(),this._previousFilters=this.extractBasicFilterDetails(this._columnFilters)),this._columnDefinitions}refreshTreeDataFilters(t){let e=t??this._dataView?.getItems()??[];this._dataView&&this._gridOptions.enableTreeData&&e.length>0?(this._tmpPreFilteredData=this.preFilterTreeData(e,this._columnFilters),this._dataView.refresh()):e.length===0&&Array.isArray(this.sharedService.hierarchicalDataset)&&this.sharedService.hierarchicalDataset.length>0&&queueMicrotask(()=>this.refreshTreeDataFilters())}disableFilterFunctionality(t=!0,e=!0){let r=!this._gridOptions.enableFiltering;r!==t&&(e&&t&&this.clearFilters(),this.disableAllFilteringCommands(t),this._grid.setOptions({enableFiltering:r},!1,!0),this._grid.setHeaderRowVisibility(r),this._gridOptions.enableFiltering=!t,this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(this.sharedService.columnDefinitions))}resetToPreviousSearchFilters(){this.updateFilters(this._previousFilters,!1,!1,!1)}toggleFilterFunctionality(t=!0){let e=this._gridOptions.enableFiltering;this.disableFilterFunctionality(e,t)}toggleHeaderFilterRow(){let t=this._gridOptions.showHeaderRow??!1;t=!t,this._grid.setHeaderRowVisibility(t),t===!0&&this._grid.setColumns(this.sharedService.columnDefinitions)}setSortColumnIcons(t){this._grid&&Array.isArray(t)&&this._grid.setSortColumns(t)}updateFilters(t,e=!0,i=!0,r=!1){return Ze(this,null,function*(){if(!this._filtersMetadata||this._filtersMetadata.length===0||!this._gridOptions||!this._gridOptions.enableFiltering)throw new Error('[Slickgrid-Universal] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');if(Array.isArray(t)){this.clearFilters(!1),t.forEach(a=>{let l=this._filtersMetadata.find(c=>a.columnId===c.columnDef.id);if(a&&l){let c=a.operator||l.defaultOperator;this.updateColumnFilters(a.searchTerms,l.columnDef,c),l.setValues(a.searchTerms||[],c),(r||this._gridOptions.enableTreeData)&&this.callbackSearchEvent(void 0,{columnDef:l.columnDef,operator:c,searchTerms:a.searchTerms,shouldTriggerQuery:!0,forceOnSearchChangeEvent:!0})}});let s=this._gridOptions.backendServiceApi,o=s?bi.remote:bi.local;if(e&&(yield this.emitFilterChanged(o,!0)),this._dataView.refresh(),s){let a=s?.service;a?.updateFilters&&(a.updateFilters(t,!0),i&&this.backendUtilities?.refreshBackendDataset(this._gridOptions))}e&&(yield this.emitFilterChanged(o))}return!0})}updateSingleFilter(t,e=!0,i=!0){return Ze(this,null,function*(){let r=this.sharedService.allColumns.find(s=>s.id===t.columnId);if(r&&t.columnId){this._columnFilters={};let s=r.filter?.emptySearchTermReturnAllValues??!0;Array.isArray(t.searchTerms)&&(t.searchTerms.length>1||t.searchTerms.length===1&&(!s||t.searchTerms[0]!==""))&&(this._columnFilters[t.columnId]={columnId:t.columnId,operator:t.operator,searchTerms:t.searchTerms,columnDef:r,type:r.type??R.string});let o=this._gridOptions.backendServiceApi,a=o?bi.remote:bi.local;if(e&&(yield this.emitFilterChanged(a,!0)),o){let l=o?.service;l?.updateFilters&&(l.updateFilters(this._columnFilters,!0),i&&this.backendUtilities?.refreshBackendDataset(this._gridOptions))}else this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),this._gridOptions.enableTreeData&&this.refreshTreeDataFilters(),this._dataView.refresh();e&&(yield this.emitFilterChanged(a))}return!0})}drawFilterTemplate(t,e){let i;if(typeof e=="string"){if(i=document.querySelector(e),i===null)return null}else i=e;let r=typeof t=="string"?this.sharedService.allColumns.find(o=>o.id===t):t;if((r?.id??"")!=="selector"&&r?.filterable){let o,a,l=this.filterFactory.createFilter(r.filter);a=r&&r.filter&&r.filter.operator||l&&l.operator,this._columnFilters[r.id]?(o=this._columnFilters[r.id].searchTerms||void 0,a=this._columnFilters[r.id].operator||void 0):r.filter&&(o=r.filter.searchTerms||void 0,this.updateColumnFilters(o,r,a));let c={grid:this._grid,operator:a,searchTerms:o,columnDef:r,filterContainerElm:i,callback:this.callbackSearchEvent.bind(this)};return l&&(l.init(c),o&&l.setValues&&l.setValues(o,a)),l}return null}addFilterTemplateToHeaderRow(t,e=!0){let i=t.column;if((i?.id??"")!=="selector"&&i?.filterable&&!i?.hidden){let s,o,a=this.filterFactory.createFilter(i.filter);o=i&&i.filter&&i.filter.operator||a&&a.operator,this._columnFilters[i.id]?(s=this._columnFilters[i.id].searchTerms||void 0,o=this._columnFilters[i.id].operator||void 0):i.filter&&(s=i.filter.searchTerms||void 0,this.updateColumnFilters(s,i,o));let l={grid:this._grid,operator:o,searchTerms:s,columnDef:i,filterContainerElm:t.node,callback:this.callbackSearchEvent.bind(this)};if(a&&l.filterContainerElm){a.init(l,e);let c=this._filtersMetadata.findIndex(h=>a.columnDef.id===h.columnDef.id);c===-1?this._filtersMetadata.push(a):this._filtersMetadata[c]=a,s&&a.setValues&&a.setValues(s,o)}}}callbackSearchEvent(t,e){if(e){let i=t?.target?t.target.value:void 0,r=e.searchTerms&&Array.isArray(e.searchTerms)?e.searchTerms:i?[i]:void 0,s=e.columnDef||null,o=s?.id??"",a=s?.filter?.type??s?.type??R.string,l=e.operator||void 0,c=r&&Array.isArray(r),h=c&&r&&r.length,m=k({},this._columnFilters),f=s.filter?.emptySearchTermReturnAllValues??!0,v;if(s&&o)if(!c||h===0||h===1&&Array.isArray(r)&&f&&r[0]==="")delete this._columnFilters[o];else{let E=`${o}`,I={columnId:E,columnDef:s,parsedSearchTerms:[],type:a,targetSelector:this.getSelectorStringFromElement(t?.target)},N=this.parseFormInputFilterConditions(r,I);I.operator=l||N.operator||Ef(a),v=Qu(N.searchTerms,a),v!==void 0&&(I.parsedSearchTerms=v),I.searchTerms=N.searchTerms||[],this._columnFilters[E]=I}let C=t&&typeof t.isPropagationStopped!="function"?oi({},new Ct,t):t,x=t?.key;if(this._onSearchChange&&(e.forceOnSearchChangeEvent||x==="Enter"||!ir(m,this._columnFilters))){let E={clearFilterTriggered:e.clearFilterTriggered,shouldTriggerQuery:e.shouldTriggerQuery,columnId:o,columnDef:s,columnFilters:this._columnFilters,operator:l||Ef(a),searchTerms:r,parsedSearchTerms:v,grid:this._grid,target:t?.target};this.pubSubService.publish("onBeforeSearchChange",E)===!1?this._gridOptions.resetFilterSearchValueAfterOnBeforeCancellation&&this.resetToPreviousSearchFilters():this._onSearchChange.notify(E,C)}}}disableAllFilteringCommands(t=!0){let e=this._grid.getColumns();e.forEach(r=>{r?.header?.menu&&r.header.menu.commandItems?.forEach(s=>{s&&typeof s!="string"&&s.command==="clear-filter"&&(s.hidden=t)})});let i=this._gridOptions.gridMenu?.commandItems;return i&&i.forEach(r=>{if(r&&typeof r!="string"){let s=r.command;(s==="clear-filter"||s==="toggle-filter")&&(r.hidden=t)}}),e}extractBasicFilterDetails(t){let e=[];if(t&&typeof t=="object")for(let i of Object.keys(t)){let{operator:r,searchTerms:s}=t[`${i}`];e.push({columnId:i,operator:r,searchTerms:s})}return e}getSelectorStringFromElement(t){return t?.localName?t?.className?`${t.localName}.${Array.from(t.classList).join(".")}`:t.localName:""}removeAllColumnFiltersProperties(){typeof this._columnFilters=="object"&&Object.keys(this._columnFilters).forEach(t=>{t&&this._columnFilters[t]&&delete this._columnFilters[t]})}subscribeToOnHeaderRowCellRendered(t){this._eventHandler.subscribe(t.onBeforeHeaderRowCellDestroy,(e,i)=>{this._filtersMetadata.find(s=>s.columnDef.id===i.column.id)?.destroy?.()})}updateColumnFilters(t,e,i){let r=e.filter?.type??e.type??R.string,s=Qu(t,r);t&&e&&(this._columnFilters[e.id]={columnId:e.id,columnDef:e,searchTerms:t,operator:i,parsedSearchTerms:s,type:r})}};var Gg={skipError:!1,triggerEvent:!0},Zu={highlightRow:!0,resortGrid:!1,selectRow:!1,scrollRowIntoView:!0,skipError:!1,triggerEvent:!0},Q0={highlightRow:!1,selectRow:!1,scrollRowIntoView:!1,skipError:!1,triggerEvent:!0},mI={applySetColumns:!0,autoResizeColumns:!0,triggerEvent:!0,hideFromColumnPicker:!1,hideFromGridMenu:!1},dU={autoResizeColumns:!0,triggerEvent:!0},$g=class{constructor(t,e,i,r,s,o,a){this.gridStateService=t,this.filterService=e,this.pubSubService=i,this.paginationService=r,this.sharedService=s,this.sortService=o,this.treeDataService=a}get _dataView(){return this._grid?.getData()}get _gridOptions(){return this._grid?.getOptions()??{}}dispose(){this._rowSelectionPlugin?.dispose()}init(t){this._grid=t}clearAllFiltersAndSorts(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()}clearPinning(t=!0){let e=[...this.sharedService.visibleColumns];this.sharedService.slickGrid.setOptions({frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1}),t&&Array.isArray(e)&&this.sharedService.slickGrid.setColumns(e)}setPinning(t,e=!0,i=!1,r=!0){qy(t)?this.clearPinning():(this.sharedService.slickGrid.setOptions(t,i,r),this.sharedService.gridOptions=k(k({},this.sharedService.gridOptions),t)),e&&this.sharedService.slickGrid.autosizeColumns()}getAllColumnDefinitions(){return this.sharedService.allColumns}getVisibleColumnDefinitions(){return this.sharedService.visibleColumns}getColumnFromEventArguments(t){if(!t||!t.grid||!t.grid.getColumns||!t.grid.getDataItem)throw new Error("[Slickgrid-Universal] To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:t.row,cell:t.cell,columnDef:t.grid.getColumns()[t.cell],dataContext:t.grid.getDataItem(t.row),dataView:this._dataView,grid:this._grid}}getDataItemByRowNumber(t){if(!this._grid||typeof this._grid.getDataItem!="function")throw new Error(`[Slickgrid-Universal] We could not find SlickGrid Grid object or it's "getDataItem" method`);return this._grid.getDataItem(t)}getDataItemByRowIndex(t){if(!this._grid||typeof this._grid.getDataItem!="function")throw new Error('[Slickgrid-Universal] We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(t)}getDataItemByRowIndexes(t){if(!this._grid||typeof this._grid.getDataItem!="function")throw new Error('[Slickgrid-Universal] We could not find SlickGrid Grid object and/or "getDataItem" method');let e=[];return Array.isArray(t)&&t.forEach(i=>{e.push(this._grid.getDataItem(i))}),e}getSelectedRows(){if(!this._grid||typeof this._grid.getSelectedRows!="function")throw new Error('[Slickgrid-Universal] We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()}getSelectedRowsDataItem(){if(!this._grid||typeof this._grid.getSelectedRows!="function")throw new Error('[Slickgrid-Universal] We could not find SlickGrid Grid object and/or "getSelectedRows" method');let t=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(t)}hideColumnById(t,e){if(this._grid){e=k(k({},mI),e);let i=this._grid.getColumns(),r=i.findIndex(s=>s.id===t);if(r>=0){let s=xu(i,r);e?.applySetColumns&&(this.sharedService.visibleColumns=s,this._grid.setColumns(s));let o=this.sharedService.allColumns.findIndex(a=>a.id===t);return o&&(e?.hideFromColumnPicker&&(this.sharedService.allColumns[o].excludeFromColumnPicker=!0),e?.hideFromGridMenu&&(this.sharedService.allColumns[o].excludeFromGridMenu=!0)),this.executeVisibilityCommands(e,["onHeaderMenuHideColumns"],s),r}}return-1}hideColumnByIds(t,e){if(Array.isArray(t)){let i=this._grid.getColumns().filter(r=>!t.includes(r.id));e=k(k({},mI),e);for(let r of t)this.hideColumnById(r,Ce(k({},e),{triggerEvent:!1,applySetColumns:!1,autoResizeColumns:!1}));this.sharedService.visibleColumns=i,this._grid.setColumns(i),this.executeVisibilityCommands(e,["onHeaderMenuHideColumns","onHideColumns"],i)}}showColumnByIds(t,e){if(this._grid){e=k(k({},dU),e);let i=this.sharedService.allColumns.filter(r=>t.includes(r.id));this._grid.setColumns(i),this.sharedService.visibleColumns=i,this.executeVisibilityCommands(e,["onShowColumns"],this.sharedService.visibleColumns)}}executeVisibilityCommands(t,e,i){t?.autoResizeColumns&&this._grid.autosizeColumns(),t?.triggerEvent&&e.forEach(r=>this.pubSubService.publish(r,{columns:i}))}highlightRow(t,e){this._grid.getSelectionModel()||(this._rowSelectionPlugin=new mo(this._gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionPlugin)),e||=this._gridOptions.rowHighlightDuration,Array.isArray(t)?t.forEach(i=>this._grid.highlightRow(i)):this._grid.highlightRow(t,e)}setSelectedRow(t){this._grid?.setSelectedRows&&this._grid.setSelectedRows([t])}setSelectedRows(t){this._grid?.setSelectedRows&&this._grid.setSelectedRows(t)}renderGrid(){typeof this._grid?.invalidate=="function"&&this._grid.invalidate()}resetGrid(t){if(this.clearPinning(!1),this._grid){let e=this.sharedService.allColumns||[];Array.isArray(e)&&e.length>0&&(this._grid.setColumns(e),this._gridOptions?.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(t))}typeof this.filterService?.clearFilters=="function"&&this.filterService.clearFilters(),typeof this.sortService?.clearSorting=="function"&&this.sortService.clearSorting()}addItem(t,e){let i=k(k({},Zu),e);if(!i?.skipError&&(!this._grid||!this._gridOptions||!this._dataView))throw new Error("[Slickgrid-Universal] We could not find SlickGrid Grid, DataView objects");let r=this._gridOptions.datasetIdPropertyName||"id";if(!i?.skipError&&(!t||!t.hasOwnProperty(r)))throw new Error(`[Slickgrid-Universal] Adding an item requires the item to include an "${r}" property`);if(this._gridOptions?.enableTreeData&&e?.position==="top")throw new Error('[Slickgrid-Universal] Please note that `addItem({ position: "top" })` is not supported when used with Tree Data because of the extra complexity.');let s=i?.position;s==="bottom"||this._gridOptions?.enableTreeData?this._dataView.addItem(t):this._dataView.insertItem(0,t);let o=0,a=t?.[r]??"";return this._gridOptions?.enableTreeData?(this.invalidateHierarchicalDataset(),o=this._dataView.getRowById(a),i.scrollRowIntoView&&this._grid.scrollRowIntoView(o??0,!1)):i.resortGrid?(this._dataView.reSort(),o=this._dataView.getRowById(a)):(o=s==="bottom"?this._dataView.getRowById(a):0,i.scrollRowIntoView&&this._grid.scrollRowIntoView(o??0)),i.highlightRow&&o!==void 0&&this.highlightRow(o),o!==void 0&&i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(o),i.triggerEvent&&this.pubSubService.publish("onItemAdded",t),!this._gridOptions?.backendServiceApi&&this._gridOptions.enablePagination&&(s==="bottom"?this.paginationService.goToLastPage():this.paginationService.goToFirstPage()),o}addItems(t,e){let i=k(k({},Zu),e),r=this._gridOptions.datasetIdPropertyName||"id",s=i?.position,o=[];if(Array.isArray(t))this._dataView.beginUpdate(!0),s==="bottom"||this._gridOptions?.enableTreeData?this._dataView.addItems(t):this._dataView.insertItems(0,t),this._dataView.endUpdate();else return[this.addItem(t,i)||0];if(this._gridOptions?.enableTreeData){this.invalidateHierarchicalDataset();let a=t[0]?.[r]??"",l=this._dataView.getRowById(a);i.scrollRowIntoView&&this._grid.scrollRowIntoView(l??0,!1)}else i.resortGrid&&this._dataView.reSort();return s&&i.scrollRowIntoView&&!this._gridOptions?.enableTreeData&&(s==="bottom"?this._grid.navigateBottom():this._grid.navigateTop()),t.forEach(a=>o.push(this._dataView.getRowById(a[r]))),i.highlightRow&&this.highlightRow(o),i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(o),i.triggerEvent&&this.pubSubService.publish("onItemAdded",t),o}deleteItem(t,e){e=k(k({},Gg),e);let i=this._gridOptions.datasetIdPropertyName||"id";if(!e?.skipError&&(!t||!t.hasOwnProperty(i)))throw new Error(`[Slickgrid-Universal] Deleting an item requires the item to include an "${i}" property`);return this.deleteItemById(t[i],e)}deleteItems(t,e){e=k(k({},Gg),e);let i=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(t))return this.deleteItem(t,e),[t[i]];this._dataView.beginUpdate(!0);let r=[];return t.forEach(s=>{s?.[i]!==void 0&&r.push(s[i])}),this._dataView.deleteItems(r),this._dataView.endUpdate(),e.triggerEvent&&this.pubSubService.publish("onItemDeleted",t),r}deleteItemById(t,e){if(e=k(k({},Gg),e),!e?.skipError&&t==null)throw new Error('[Slickgrid-Universal] Cannot delete a row without a valid "id"');return!(this.gridStateService&&this.gridStateService.needToPreserveRowSelection()||!1)&&this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows([]),this._dataView.deleteItem(t),e.triggerEvent&&this.pubSubService.publish("onItemDeleted",t),t}deleteItemByIds(t,e){if(e=k(k({},Gg),e),Array.isArray(t)){this._dataView.beginUpdate(!0);for(let i=0;i<t.length;i++)t[i]!==null&&this.deleteItemById(t[i],{triggerEvent:!1});return this._dataView.endUpdate(),e.triggerEvent&&this.pubSubService.publish("onItemDeleted",t),t}return[]}updateItem(t,e){e=k(k({},Q0),e);let i=this._gridOptions.datasetIdPropertyName||"id",r=!t||!t.hasOwnProperty(i)?void 0:t[i];if(!e?.skipError&&r===void 0)throw new Error(`[Slickgrid-Universal] Calling Update of an item requires the item to include an "${i}" property`);return this.updateItemById(r,t,e)}updateItems(t,e){e=k(k({},Q0),e);let i=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(t))return[this.updateItem(t,e)];this._dataView.beginUpdate(!0);let r=[],s=[];return t.forEach(o=>{let a=!o||!o.hasOwnProperty(i)?void 0:o[i];if(s.push(a),this._dataView.getIdxById(a)!==void 0){let l=this._dataView.getRowById(a);l!==void 0&&(r.push(l),this._grid.updateRow(l))}}),this._dataView.updateItems(s,t),this._dataView.endUpdate(),this._gridOptions?.enableTreeData&&this.invalidateHierarchicalDataset(),e.highlightRow&&this.highlightRow(r),e.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(r),e.triggerEvent&&this.pubSubService.publish("onItemUpdated",t),r}updateItemById(t,e,i){if(i=k(k({},Q0),i),!i?.skipError&&t===void 0)throw new Error('[Slickgrid-Universal] Cannot update a row without a valid "id"');let r=this._dataView.getRowById(t);if(!i?.skipError&&!e&&!this._gridOptions.enablePagination)throw new Error(`[Slickgrid-Universal] The item to update in the grid was not found with id: ${t}`);return this._dataView.getIdxById(t)!==void 0&&(this._dataView.updateItem(t,e),r!==void 0&&this._grid.updateRow(r),this._gridOptions?.enableTreeData&&this.invalidateHierarchicalDataset(),i.scrollRowIntoView&&r!==void 0&&this._grid.scrollRowIntoView(r),i.highlightRow&&r!==void 0&&this.highlightRow(r),r!==void 0&&i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(r),i.triggerEvent&&this.pubSubService.publish("onItemUpdated",e)),r}upsertItem(t,e){e=k(k({},Zu),e);let i=this._gridOptions.datasetIdPropertyName||"id",r=!t||!t.hasOwnProperty(i)?void 0:t[i];if(!e?.skipError&&r===void 0)throw new Error(`[Slickgrid-Universal] Calling Upsert of an item requires the item to include an "${i}" property`);return this.upsertItemById(r,t,e)}upsertItems(t,e){if(e=k(k({},Zu),e),!Array.isArray(t))return[this.upsertItem(t,e)];this._dataView.beginUpdate(!0);let i=[];t.forEach(s=>{i.push(this.upsertItem(s,Ce(k({},e),{highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1})))}),this._dataView.endUpdate();let r=i.map(s=>s.added!==void 0?s.added:s.updated);if(e.highlightRow&&this.highlightRow(r),e.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(r),e.triggerEvent){this.pubSubService.publish("onItemUpserted",t);let s=i.filter(a=>a.added!==void 0);Array.isArray(s)&&s.length>0&&this.pubSubService.publish("onItemAdded",s);let o=i.filter(a=>a.updated!==void 0);Array.isArray(o)&&o.length>0&&this.pubSubService.publish("onItemUpdated",o)}return i}upsertItemById(t,e,i){let r=!1;if(i=k(k({},Zu),i),!i?.skipError&&t===void 0&&!this.hasRowSelectionEnabled())throw new Error('[Slickgrid-Universal] Calling Upsert of an item requires the item to include a valid and unique "id" property');let s,o;return this._dataView.getRowById(t)===void 0?(s=this.addItem(e,i),r=!0):(o=this.updateItem(e,{highlightRow:i.highlightRow,selectRow:i.selectRow,triggerEvent:i.triggerEvent}),r=!1),i.triggerEvent&&(this.pubSubService.publish("onItemUpserted",e),r?this.pubSubService.publish("onItemAdded",e):this.pubSubService.publish("onItemUpdated",e)),{added:s,updated:o}}invalidateHierarchicalDataset(t){if(this._gridOptions?.enableTreeData&&this.treeDataService){let e=t??this._dataView.getItems(),i=this.sortService.getCurrentColumnSorts(),r=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(e||[],this.sharedService.allColumns,this._gridOptions,i);this.sharedService.hierarchicalDataset=r.hierarchical,this.filterService.refreshTreeDataFilters(t),this._dataView.setItems(r.flat),this._grid.invalidate()}}hasRowSelectionEnabled(){let t=this._grid.getSelectionModel();return!!(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&!!t}};var Yg=class{get eventHandler(){return this._eventHandler}constructor(){this._eventHandler=new tt}dispose(){this._eventHandler.unsubscribeAll()}bindOnBeforeEditCell(t){let e=t?.getData();this._eventHandler.subscribe(t.onBeforeEditCell,(i,r)=>{if(!i||!r||!t||r.cell===void 0||!t.getColumns||!t.getDataItem)return;let s=t.getColumns()[r.cell];if(typeof s.onBeforeEditCell=="function"){let o={row:r.row,cell:r.cell,dataView:e,grid:t,columnDef:s,dataContext:t.getDataItem(r.row)};s.onBeforeEditCell(i instanceof Ct?i.getNativeEvent():i,o)}})}bindOnCellChange(t){let e=t?.getData();this._eventHandler.subscribe(t.onCellChange,(i,r)=>{if(!i||!r||!t||r.cell===void 0||!t.getColumns||!t.getDataItem)return;let s=t.getColumns()[r.cell];if(typeof s.onCellChange=="function"){let o={row:r.row,cell:r.cell,dataView:e,grid:t,columnDef:s,dataContext:t.getDataItem(r.row)};s.onCellChange(i instanceof Ct?i.getNativeEvent():i,o)}})}bindOnClick(t){let e=t?.getData();this._eventHandler.subscribe(t.onClick,(i,r)=>{if(!i||!r||!t||r.cell===void 0||!t.getColumns||!t.getDataItem)return;let s=t.getColumns()[r.cell];if(typeof s.onCellClick=="function"){let o={row:r.row,cell:r.cell,dataView:e,grid:t,columnDef:s,dataContext:t.getDataItem(r.row)};s.onCellClick(i instanceof Ct?i.getNativeEvent():i,o)}})}};var qg=class{constructor(t,e,i,r,s,o){this.extensionService=t,this.filterService=e,this.pubSubService=i,this.sharedService=r,this.sortService=s,this.treeDataService=o,this._columns=[],this._subscriptions=[],this._selectedRowIndexes=[],this._selectedRowDataContextIds=[],this._wasRecheckedAfterPageChange=!0,this._eventHandler=new tt}get _dataView(){return this._grid?.getData()??{}}get _gridOptions(){return this._grid?.getOptions()??{}}get selectedRowDataContextIds(){return this._selectedRowDataContextIds}set selectedRowDataContextIds(t){this._selectedRowDataContextIds=t}init(t){this._grid=t,this.subscribeToAllGridChanges(t)}dispose(){this._columns=[],this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}changeColumnsArrangement(t,e=!0,i=!1){if(Array.isArray(t)&&t.length>0){let r=this.getAssociatedGridColumns(this._grid,t);if(r&&Array.isArray(r)&&r.length>0){if(Array.isArray(this.sharedService.allColumns)){let s=[];if(this._gridOptions.enableCheckboxSelector){let o=this._gridOptions?.checkboxSelector?.columnIndexPosition??0;s.push({columnId:"_checkbox_selector",columnIndexPosition:o})}if(this._gridOptions.enableRowDetailView){let o=this._gridOptions?.rowDetailView?.columnIndexPosition??0;s.push({columnId:"_detail_selector",columnIndexPosition:o})}if(this._gridOptions.enableRowMoveManager){let o=this._gridOptions?.rowMoveManager?.columnIndexPosition??0;s.push({columnId:"_move",columnIndexPosition:o})}this.addColumnDynamicWhenFeatureEnabled(s,this.sharedService.allColumns,r)}r.forEach(s=>s.originalWidth=s.width||s.originalWidth),this._grid.setColumns(r),this.sharedService.visibleColumns=r,e?this._grid.autosizeColumns():(i||this._gridOptions.enableAutoResizeColumnsByCellContent&&!this._gridOptions.autosizeColumnsByCellContentOnFirstLoad)&&this.pubSubService.publish("onFullResizeByContentRequested",{caller:"GridStateService"})}}}getCurrentGridState(){let{frozenColumn:t,frozenRow:e,frozenBottom:i}=this.sharedService.gridOptions,r={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters(),pinning:{frozenColumn:t,frozenRow:e,frozenBottom:i}},s=this.getCurrentPagination();if(s&&(r.pagination=s),this.hasRowSelectionEnabled()){let o=this.getCurrentRowSelections();o&&(r.rowSelection=o)}if(this._gridOptions?.enableTreeData){let o=this.getCurrentTreeDataToggleState();o&&(r.treeData=o)}return r}getColumns(){return this._columns}getAssociatedCurrentColumns(t){let e=[];return t&&Array.isArray(t)&&t.forEach(i=>{i?.id&&e.push({columnId:i.id,cssClass:i.cssClass||"",headerCssClass:i.headerCssClass||"",width:i.width||0})}),e}getAssociatedGridColumns(t,e){let i=[],r=this.sharedService.allColumns||t.getColumns();return e&&Array.isArray(e)&&e.forEach(s=>{let o=r.find(a=>a.id===s.columnId);o?.id&&i.push(Ce(k({},o),{cssClass:s.cssClass||o.cssClass,headerCssClass:s.headerCssClass||o.headerCssClass,width:s.width}))}),this._columns=i,i}getCurrentColumns(){return this.getAssociatedCurrentColumns(this._grid.getColumns()||[])}getCurrentFilters(){if(this._gridOptions?.backendServiceApi){let t=this._gridOptions.backendServiceApi.service;if(t?.getCurrentFilters)return t.getCurrentFilters()}else if(this.filterService?.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null}getCurrentPagination(){if(this._gridOptions?.enablePagination)if(this._gridOptions.backendServiceApi){let t=this._gridOptions.backendServiceApi.service;if(t?.getCurrentPagination)return t.getCurrentPagination()}else return this.sharedService.currentPagination;return null}getCurrentRowSelections(){return this._grid&&this._dataView&&this.hasRowSelectionEnabled()?{gridRowIndexes:this._grid.getSelectedRows()||[],dataContextIds:this._dataView.getAllSelectedIds()||[],filteredDataContextIds:this._dataView.getAllSelectedFilteredIds()||[]}:null}getCurrentSorters(){if(this._gridOptions?.backendServiceApi){let t=this._gridOptions.backendServiceApi.service;if(t?.getCurrentSorters)return t.getCurrentSorters()}else if(this.sortService?.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null}getCurrentTreeDataToggleState(){return this._gridOptions?.enableTreeData&&this.treeDataService?this.treeDataService.getCurrentToggleState():null}needToPreserveRowSelection(){let t=!1;if(this._gridOptions?.dataView&&this._gridOptions.dataView.hasOwnProperty("syncGridSelection")){let e=this._gridOptions.dataView.syncGridSelection;typeof e=="boolean"?t=this._gridOptions.dataView.syncGridSelection:typeof e=="object"&&(t=e.preserveHidden||e.preserveHiddenOnSelectionChange),t&&this._gridOptions.backendServiceApi&&this._gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(t=this._gridOptions.dataView.syncGridSelectionWithBackendService)}return t}resetColumns(t){let e=t||this._columns,i=this.getAssociatedCurrentColumns(e);this.pubSubService.publish("onGridStateChanged",{change:{newValues:i,type:tr.columns},gridState:this.getCurrentGridState()})}resetToOriginalColumns(t=!0){this._grid.setColumns(this.sharedService.allColumns),this.sharedService.visibleColumns=this.sharedService.allColumns,t&&this._grid.autosizeColumns()}resetRowSelectionWhenRequired(){!this.needToPreserveRowSelection()&&(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this.extensionService?.getExtensionByName?.(st.rowSelection)?.instance&&this._grid.setSelectedRows([])}subscribeToAllGridChanges(t){this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:tr.filter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:tr.filter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:tr.sorter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:tr.sorter},gridState:this.getCurrentGridState()})})),this.bindExtensionAddonEventToGridStateChange(st.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(st.gridMenu,"onColumnsChanged"),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsReordered",t),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsResized",t),this.bindSlickGridOnSetOptionsEventToGridStateChange(t),(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this._eventHandler.subscribe(this._dataView.onSelectedRowIdsChanged,(e,i)=>{let r=(this._selectedRowIndexes||[]).slice(),s=(this.selectedRowDataContextIds||[]).slice();if(this.selectedRowDataContextIds=i.filteredIds,this._selectedRowIndexes=i.rows,!ir(this.selectedRowDataContextIds,s)||!ir(this._selectedRowIndexes,r)){let o={gridRowIndexes:this._selectedRowIndexes||[],dataContextIds:i.selectedRowIds,filteredDataContextIds:i.filteredIds};this.pubSubService.publish("onGridStateChanged",{change:{newValues:o,type:tr.rowSelection},gridState:this.getCurrentGridState()})}}),this._subscriptions.push(this.pubSubService.subscribe(["onHeaderMenuHideColumns","onHideColumns","onShowColumns"],e=>{let i=this.getAssociatedCurrentColumns(e.columns);this.pubSubService.publish("onGridStateChanged",{change:{newValues:i,type:tr.columns},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeItemToggled",e=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:tr.treeData},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeFullToggleEnd",e=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:tr.treeData},gridState:this.getCurrentGridState()})}))}addColumnDynamicWhenFeatureEnabled(t,e,i){t.sort((r,s)=>r.columnIndexPosition-s.columnIndexPosition),t.forEach(r=>{let s=e.findIndex(a=>a.id===r.columnId),o=i.findIndex(a=>a.id===r.columnId);if(s>=0&&o===-1){let a=e[s];s===0?i.unshift(a):i.splice(s,0,a)}})}bindExtensionAddonEventToGridStateChange(t,e){let r=this.extensionService?.getExtensionByName?.(t)?.instance?.[e];r&&typeof r.subscribe=="function"&&this._eventHandler.subscribe(r,(s,o)=>{let a=o?.columns,l=this.getAssociatedCurrentColumns(a);this.pubSubService.publish("onGridStateChanged",{change:{newValues:l,type:tr.columns},gridState:this.getCurrentGridState()})})}bindSlickGridColumnChangeEventToGridStateChange(t,e){let i=e?.[t];i&&typeof i.subscribe=="function"&&this._eventHandler.subscribe(i,()=>{let r=e.getColumns(),s=this.getAssociatedCurrentColumns(r);this.pubSubService.publish("onGridStateChanged",{change:{newValues:s,type:tr.columns},gridState:this.getCurrentGridState()})})}bindSlickGridOnSetOptionsEventToGridStateChange(t){let e=t.onSetOptions;this._eventHandler.subscribe(e,(i,r)=>{let{frozenBottom:s,frozenColumn:o,frozenRow:a}=r.optionsBefore,{frozenBottom:l,frozenColumn:c,frozenRow:h}=r.optionsAfter;if(s!==l||o!==c||a!==h){let m={frozenBottom:l,frozenColumn:c,frozenRow:h},f=this.getCurrentGridState();this.pubSubService.publish("onGridStateChanged",{change:{newValues:m,type:tr.pinning},gridState:f})}})}hasRowSelectionEnabled(){let t=this._grid.getSelectionModel();return!!(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&!!t}};var Xg=class{constructor(t){this.extensionUtility=t,this._subscriptions=[],this._eventHandler=new tt}get _dataView(){return this._grid?.getData()??{}}get eventHandler(){return this._eventHandler}get _gridOptions(){return this._grid?.getOptions()??{}}get _columnDefinitions(){return this._grid?.getColumns()??[]}init(t){this._grid=t,t&&this._gridOptions&&this._gridOptions.createPreHeaderPanel&&(this._gridOptions.enableTranslate&&this.translateHeaderGrouping(),this._eventHandler.subscribe(t.onRendered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(t.onAutosizeColumns,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(this._dataView.onRowCountChanged,()=>this.delayRenderPreHeaderRowGroupingTitles(0)),this._eventHandler.subscribe(t.onSetOptions,(e,i)=>{i?.optionsBefore?.frozenColumn!==i?.optionsAfter?.frozenColumn&&this.delayRenderPreHeaderRowGroupingTitles(0)}),this.delayRenderPreHeaderRowGroupingTitles(75))}dispose(){this._eventHandler.unsubscribeAll()}delayRenderPreHeaderRowGroupingTitles(t=0){window.setTimeout(()=>this.renderPreHeaderRowGroupingTitles(),t)}renderPreHeaderRowGroupingTitles(){let t=this._columnDefinitions.length;if(this._gridOptions?.frozenColumn!==void 0&&this._gridOptions.frozenColumn>=0){let e=this._gridOptions.frozenColumn;this.renderHeaderGroups(this._grid.getPreHeaderPanelLeft(),0,e+1),this.renderHeaderGroups(this._grid.getPreHeaderPanelRight(),e+1,t)}else this.renderHeaderGroups(this._grid.getPreHeaderPanel(),0,t)}renderHeaderGroups(t,e,i){ut(t),t.className="slick-header-columns",t.style.left="-1000px",t.style.width=`${this._grid.getHeadersWidth()}px`,t.parentElement?.classList.add("slick-header");let r=this._grid.getHeaderColumnWidthDiff(),s,o=null,a="",l=0,c=this._gridOptions?.frozenHeaderWidthCalcDifferential??0,h=this._gridOptions?.frozenColumn!==void 0&&this._gridOptions.frozenColumn>=0;for(let m=e;m<i;m++)s=this._columnDefinitions[m],s&&(a===s.columnGroup&&m>0?(l+=s.width||0,o?.style&&(o.style.width=`${l-r-c}px`)):(l=s.width||0,o=T("div",{className:`slick-state-default slick-header-column ${h?"frozen":""}`,dataset:{group:s.columnGroup},style:{width:`${l-r}px`}}),T("span",{className:"slick-column-name",textContent:s.columnGroup||""},o),t.appendChild(o)),a=s.columnGroup||"")}translateHeaderGrouping(){let t=this._grid.getColumns();this.extensionUtility.translateItems(t,"columnGroupKey","columnGroup"),this._grid.setColumns(t),this.renderPreHeaderRowGroupingTitles()}};var Kg=class{constructor(t,e,i,r){this.pubSubService=t,this.sharedService=e,this.backendUtilities=i,this.rxjs=r,this._initialized=!1,this._isLocalGrid=!0,this._dataFrom=1,this._dataTo=1,this._itemsPerPage=0,this._pageCount=1,this._pageNumber=1,this._totalItems=0,this._availablePageSizes=[],this._subscriptions=[],this._isCursorBased=!1,this._eventHandler=new tt}get dataView(){return this.grid?.getData()??{}}set paginationOptions(t){this._paginationOptions=t}get paginationOptions(){return this._paginationOptions}get availablePageSizes(){return this._availablePageSizes}get dataFrom(){return this._dataFrom}get dataTo(){return this._dataTo}get itemsPerPage(){return this._itemsPerPage}get pageCount(){return this._pageCount}get pageNumber(){return this._pageNumber}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this._initialized&&this.refreshPagination()}get isCursorBased(){return this._isCursorBased}addRxJsResource(t){this.rxjs=t}init(t,e,i){if(this._availablePageSizes=e.pageSizes||[],this.grid=t,this._backendServiceApi=i,this._paginationOptions=e,this._isLocalGrid=!i,this._pageNumber=e.pageNumber||1,this._isCursorBased=i?.options?.useCursor??!1,i&&(!i.service||!i.process))throw new Error('BackendServiceApi requires the following 2 properties "process" and "service" to be defined.');this._isLocalGrid&&this.dataView&&(this._eventHandler.subscribe(this.dataView.onPagingInfoChanged,(s,o)=>{this._totalItems!==o.totalRows&&(this.updateTotalItems(o.totalRows),this._previousPagination={pageNumber:o.pageNum,pageSize:o.pageSize,pageSizes:this.availablePageSizes,totalItems:o.totalRows})}),queueMicrotask(()=>{this.dataView&&(this.dataView.setRefreshHints({isFilterUnchanged:!0}),this.dataView.setPagingOptions({pageSize:this.paginationOptions.pageSize,pageNum:this._pageNumber-1}))})),this._subscriptions.push(this.pubSubService.subscribe(["onFilterChanged","onFilterCleared"],()=>this.resetPagination())),i?.options?.infiniteScroll&&this._subscriptions.push(this.pubSubService.subscribe("onSortChanged",()=>this.resetPagination())),this.dataView&&(this._subscriptions.push(this.pubSubService.subscribe("onItemAdded",s=>this.processOnItemAddedOrRemoved(s,!0))),this._subscriptions.push(this.pubSubService.subscribe("onItemDeleted",s=>this.processOnItemAddedOrRemoved(s,!1)))),this.refreshPagination(!1,!1,!0);let r=this.getFullPagination();this._previousPagination={pageNumber:r.pageNumber,pageSize:r.pageSize,pageSizes:r.pageSizes,totalItems:this.totalItems},this._initialized=!0,El(e,"totalItems",s=>this._totalItems=s)}dispose(){this._initialized=!1,this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}getCurrentPagination(){return{pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes}}getFullPagination(){return{pageCount:this._pageCount,pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes,totalItems:this._totalItems,dataFrom:this._dataFrom,dataTo:this._dataTo}}getCurrentPageNumber(){return this._pageNumber}getCurrentItemPerPage(){return this._itemsPerPage}changeItemPerPage(t,e,i=!0){return this._pageNumber=1,this._pageCount=Math.ceil(this._totalItems/t),this._itemsPerPage=t,i?this.processOnPageChanged(this._pageNumber,e):Promise.resolve(this.getFullPagination())}goToFirstPage(t,e=!0){return this._pageNumber=1,e?this.isCursorBased&&this._cursorPageInfo?this.processOnPageChanged(this._pageNumber,t,{newPage:this._pageNumber,pageSize:this._itemsPerPage,first:this._itemsPerPage}):this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())}goToLastPage(t,e=!0){return this._pageNumber=this._pageCount||1,e?this.isCursorBased&&this._cursorPageInfo?this.processOnPageChanged(this._pageNumber,t,{newPage:this._pageNumber,pageSize:this._itemsPerPage,last:this._itemsPerPage}):this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())}goToNextPage(t,e=!0){return this._pageNumber<this._pageCount?(this._pageNumber++,e?this.isCursorBased&&this._cursorPageInfo?this.processOnPageChanged(this._pageNumber,t,{newPage:this._pageNumber,pageSize:this._itemsPerPage,first:this._itemsPerPage,after:this._cursorPageInfo.endCursor}):this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())):Promise.resolve(!1)}goToPageNumber(t,e,i=!0){if(this.isCursorBased)return console.assert(!0,"Cursor based navigation cannot navigate to arbitrary page"),Promise.resolve(!1);let r=this._pageNumber;return t<1?this._pageNumber=1:t>this._pageCount?this._pageNumber=this._pageCount:this._pageNumber=t,this._pageNumber!==r?i?this.processOnPageChanged(this._pageNumber,e):Promise.resolve(this.getFullPagination()):Promise.resolve(!1)}goToPreviousPage(t,e=!0){return this._pageNumber>1?(this._pageNumber--,e?this.isCursorBased&&this._cursorPageInfo?this.processOnPageChanged(this._pageNumber,t,{newPage:this._pageNumber,pageSize:this._itemsPerPage,last:this._itemsPerPage,before:this._cursorPageInfo.startCursor}):this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())):Promise.resolve(!1)}refreshPagination(t=!1,e=!0,i=!1){let r=k({},this.getFullPagination());if(this._paginationOptions){let o=this._paginationOptions;this._itemsPerPage||(this._isLocalGrid?this._itemsPerPage=o.pageSize:this._itemsPerPage=+(this._backendServiceApi?.options?.paginationOptions?.first?this._backendServiceApi.options.paginationOptions.first:o.pageSize)),(t||this._totalItems!==o.totalItems)&&(t?(this._pageNumber=1,this.paginationOptions.pageNumber=1):!this._initialized&&o.pageNumber&&o.pageNumber>1&&(this._pageNumber=o.pageNumber||1),this._pageNumber===1&&this._backendServiceApi&&this._backendServiceApi.service.resetPaginationOptions()),this._availablePageSizes=o.pageSizes||[],!this._totalItems&&o.totalItems&&(this._totalItems=o.totalItems),this.recalculateFromToIndexes()}this._pageCount=Math.ceil(this._totalItems/this._itemsPerPage),this.sharedService.currentPagination=this.getCurrentPagination(),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),e&&!ir(r,this.getFullPagination())&&this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),i&&!ir(r,this.getFullPagination())&&this.pubSubService.publish("onPaginationPresetsInitialized",this.getFullPagination());let s=this.getFullPagination();this._previousPagination={pageNumber:s.pageNumber,pageSize:s.pageSize,pageSizes:s.pageSizes,totalItems:this.totalItems}}resetPagination(t=!0,e=!0){this._isLocalGrid&&this.dataView&&this.sharedService?.gridOptions?.enablePagination&&this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:0}),this._cursorPageInfo=void 0,this.refreshPagination(!0,t),e&&this.grid.scrollTo(0)}togglePaginationVisibility(t){if(this.grid&&this.sharedService?.gridOptions){let e=t!==void 0?t:!this.sharedService.gridOptions.enablePagination;if(e&&this.goToFirstPage(),this._isLocalGrid&&this.dataView){let i=t?this._itemsPerPage:0;this.dataView.setPagingOptions({pageSize:i,pageNum:0})}this.sharedService.gridOptions.enablePagination=e,this.pubSubService.publish("onPaginationVisibilityChanged",{visible:e})}}processOnPageChanged(t,e,i){return console.assert(!this.isCursorBased||i,"Configured for cursor based pagination - cursorArgs expected"),this.pubSubService.publish("onBeforePaginationChange",this.getFullPagination())===!1?(this.resetToPreviousPagination(),Promise.resolve(this.getFullPagination())):new Promise((r,s)=>{if(this.recalculateFromToIndexes(),this._isLocalGrid&&this.dataView)this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:t-1}),this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),r(this.getFullPagination());else{let o=+this._itemsPerPage,a=new Date;if(this._backendServiceApi?.preProcess&&this._backendServiceApi.preProcess(),this._backendServiceApi?.process){let l=this.isCursorBased&&i?this._backendServiceApi.service.processOnPaginationChanged(e,i):this._backendServiceApi.service.processOnPaginationChanged(e,{newPage:t,pageSize:o}),c=this._backendServiceApi.process(l);c instanceof Promise?c.then(h=>{this.backendUtilities?.executeBackendProcessesCallback(a,h,this._backendServiceApi,this._totalItems);let m=this.getFullPagination();this._previousPagination={pageNumber:m.pageNumber,pageSize:m.pageSize,pageSizes:m.pageSizes,totalItems:this.totalItems},r(this.getFullPagination())}).catch(h=>{this.resetToPreviousPagination(),this.backendUtilities?.onBackendError(h,this._backendServiceApi),(!this._backendServiceApi?.onError||!this.backendUtilities?.onBackendError)&&s(c)}):this.rxjs?.isObservable(c)&&this._subscriptions.push(c.subscribe(h=>{let m=this.getFullPagination();this._previousPagination={pageNumber:m.pageNumber,pageSize:m.pageSize,pageSizes:m.pageSizes,totalItems:this.totalItems},r(this.backendUtilities?.executeBackendProcessesCallback(a,h,this._backendServiceApi,this._totalItems))},h=>{this.resetToPreviousPagination(),this.backendUtilities?.onBackendError(h,this._backendServiceApi),(!this._backendServiceApi?.onError||!this.backendUtilities?.onBackendError)&&s(c)})),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}})}recalculateFromToIndexes(){((this._pageNumber-1)*this._itemsPerPage>this._totalItems||this._totalItems>0&&this._pageNumber===0)&&(this._pageNumber=1),this._totalItems===0?(this._dataFrom=0,this._dataTo=1,this._pageNumber=0):(this._dataFrom=this._pageNumber>1?this._pageNumber*this._itemsPerPage-this._itemsPerPage+1:1,this._dataTo=this._totalItems<this._itemsPerPage?this._totalItems:(this._pageNumber||1)*this._itemsPerPage,this._dataTo>this._totalItems&&(this._dataTo=this._totalItems)),this._dataTo>this._totalItems?this._dataTo=this._totalItems:this._totalItems<this._itemsPerPage&&(this._dataTo=this._totalItems)}resetToPreviousPagination(){let t=this._previousPagination?.pageNumber!==this.getFullPagination().pageNumber,e=this._previousPagination?.pageSize!==this.getFullPagination().pageSize;e&&this.changeItemPerPage(this._previousPagination?.pageSize??0,null,!1),t&&this.goToPageNumber(this._previousPagination?.pageNumber??0,null,!1),(t||e)&&(this.refreshPagination(),this._backendServiceApi?.service?.updatePagination?.(this._previousPagination?.pageNumber??0,this._previousPagination?.pageSize??0))}setCursorBased(t){this._isCursorBased=t,t&&this.setCursorPageInfo({startCursor:"",endCursor:"",hasNextPage:!1,hasPreviousPage:!1}),this.goToFirstPage(),this.pubSubService.publish("onPaginationSetCursorBased",{isCursorBased:t})}setCursorPageInfo(t){this._cursorPageInfo=t}updateTotalItems(t,e=!1){this._totalItems=t,this._paginationOptions&&(this._paginationOptions.totalItems=t,this.refreshPagination(!1,e))}processOnItemAddedOrRemoved(t,e=!0){if(t!==null){let i=this._dataTo,r=Array.isArray(t)?t.length:1,s=e?+r:-r;this._totalItems+=s,this.recalculateFromToIndexes(),this._dataTo=i+s,this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}};var cU=20,hU=25,uU=35,mU=180,pU=300,fU=200,Qg=class{get autoHeightRecalcRow(){return this._autoHeightRecalcRow||100}get isAutoHeightEnabled(){return!!(this.gridOptions.enableAutoResize&&this.gridOptions.autoResize?.autoHeight)}get eventHandler(){return this._eventHandler}get gridOptions(){return this._grid?.getOptions()??{}}get dataView(){return this._grid?.getData()}get gridUid(){return this._grid?.getUID()??""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get intervalRetryDelay(){return this._intervalRetryDelay}set intervalRetryDelay(t){this._intervalRetryDelay=t}get resizeByContentOptions(){return this.gridOptions?.resizeByContentOptions??{}}constructor(t){this.pubSubService=t,this._allHeaderHeight=0,this._autoHeightRecalcRow=0,this._intervalRetryDelay=fU,this._isStopResizeIntervalRequested=!1,this._hasResizedByContentAtLeastOnce=!1,this._totalColumnsWidthByContent=0,this._resizePaused=!1,this._subscriptions=[],this._eventHandler=new tt,this._bindingEventService=new Yt}dispose(){this._eventHandler?.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),window.clearInterval(this._intervalId),window.clearTimeout(this._timer),this.gridOptions.autoResize?.resizeDetection==="container"&&this._resizeObserver&&this._resizeObserver.disconnect(),this._bindingEventService.unbindAll()}init(t,e){if(!t||!this.gridOptions||!e)throw new Error(`
      [Slickgrid-Universal] Resizer Service requires a valid Grid object and DOM Element Container to be provided.
      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid() once.`);this._grid=t,this._gridContainerElm=e;let i=this.gridOptions?.gridHeight||this.gridOptions?.gridWidth?{height:this.gridOptions?.gridHeight,width:this.gridOptions?.gridWidth}:void 0;this._autoResizeOptions=this.gridOptions?.autoResize??{container:"grid1",bottomPadding:0},i?.width&&e?.style&&(e.style.width=typeof i.width=="string"?i.width:`${i.width}px`),this._gridDomElm=t.getContainerNode(),typeof this._autoResizeOptions.container=="string"?this._pageContainerElm=typeof this._autoResizeOptions.container=="string"?document.querySelector(this._autoResizeOptions.container):this._autoResizeOptions.container:this._pageContainerElm=this._autoResizeOptions.container,i&&(this._fixedHeight=i.height,this._fixedWidth=i.width),this.gridOptions.enableAutoResize&&(this._autoHeightRecalcRow=this.gridOptions.autoResize?.autoHeightRecalcRow??100,this.bindAutoResizeDataGrid()),this.gridOptions.autoResize&&this._subscriptions.push(this.pubSubService.subscribe("onFullResizeByContentRequested",()=>this.resizeColumnsByCellContent(!0))),this._eventHandler.subscribe(this._grid.onAutosizeColumns,()=>{this.cacheHeaderHeightTotal()}),this.gridOptions.enableColumnResizeOnDoubleClick&&(this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuColumnResizeByContent",r=>{this.handleSingleColumnResizeByContent(r.columnId)})),this._eventHandler.subscribe(this._grid.onColumnsResizeDblClick,(r,s)=>{this.handleSingleColumnResizeByContent(s.triggeredByColumn)}))}bindAutoResizeDataGrid(t){if(this.gridOptions.autoResize?.resizeDetection==="container"){if(!this._pageContainerElm||!this._pageContainerElm)throw new Error(`
          [Slickgrid-Universal] Resizer Service requires a container when gridOption.autoResize.resizeDetection="container"
          You can fix this by setting your gridOption.autoResize.container`);this._resizeObserver||(this._resizeObserver=new ResizeObserver(()=>this.resizeObserverCallback())),this._resizeObserver.observe(this._pageContainerElm)}else{if(this._gridDomElm===void 0)return null;this.resizeGrid().then(()=>this.resizeGridWhenStylingIsBrokenUntilCorrected()).catch(e=>console.log("Error:",e)),this.resizeGrid(10,t),this._bindingEventService.bind(window,"resize",()=>{this.handleResizeGrid(t)})}}handleResizeGrid(t){this.pubSubService.publish("onGridBeforeResize"),this._resizePaused||(this.resizeGrid(0,t),this.resizeGrid(0,t))}resizeObserverCallback(){this._resizePaused||this.resizeGrid()}cacheHeaderHeightTotal(){let t=this._gridContainerElm.querySelector(`${this.gridUidSelector} .slick-topheader-panel`),e=this._gridContainerElm.querySelector(`${this.gridUidSelector} .slick-pane-header`),i=this._gridContainerElm.querySelector(`${this.gridUidSelector} .slick-headerrow`);this._allHeaderHeight=(t?.offsetHeight||0)+(e?.offsetHeight||0)+(i?.offsetHeight||0)}calculateGridNewDimensions(t){let e=t?.autoResize??{},i=pi(this._gridDomElm);if(!window||!this._gridDomElm)return null;let r=e?.bottomPadding!==void 0?e.bottomPadding:cU;if(r&&t.enablePagination&&(r+=uU),r&&t.showCustomFooter){let x=this.gridOptions?.customFooterOptions?.footerHeight??hU;r+=parseInt(`${x}`,10)}let s=0,o=0;e.calculateAvailableSizeBy==="container"?s=Xd(this._pageContainerElm,"height")||0:(s=window.innerHeight||0,o=i.top);let a=s-o-r,l=Xd(this._pageContainerElm,"width")||window.innerWidth||0,c=e?.maxHeight,h=e?.minHeight??mU,m=e?.maxWidth,f=e?.minWidth??pU,v=a,C=e?.rightPadding?l-e.rightPadding:l;if(t.enableAutoResize&&this.isAutoHeightEnabled){let x=this.dataView.getLength();if(x<this.autoHeightRecalcRow){this._allHeaderHeight||this.cacheHeaderHeightTotal();let E=x*t.rowHeight,I=this._allHeaderHeight+E;I<v&&(v=I)}}return v<h&&(v=h),c&&v>c&&(v=c),C<f&&(C=f),m&&C>m&&(C=m),{height:this._fixedHeight||v,width:this._fixedWidth||C}}getLastResizeDimensions(){return this._lastDimensions}pauseResizer(t){this._resizePaused=t}resizeGrid(t,e){return new Promise(i=>{t=t||0,t>0?(window.clearTimeout(this._timer),this._timer=window.setTimeout(()=>i(this.resizeGridCallback(e)),t)):i(this.resizeGridCallback(e))})}resizeGridCallback(t){let e=this.resizeGridWithDimensions(t);return this.pubSubService.publish("onGridAfterResize",e),this.gridOptions.enableAutoResizeColumnsByCellContent&&(!this._lastDimensions?.width||e?.width!==this._lastDimensions?.width)&&this.resizeColumnsByCellContent(!1),this._lastDimensions=e,e}resizeGridWithDimensions(t){let e=this.calculateGridNewDimensions(this.gridOptions);if((t||e)&&this._gridDomElm){let i=t?.height?t.height:e?.height,r=t?.width?t.width:e?.width;this.gridOptions.autoHeight||(this._gridDomElm.style.height=`${i}px`),this._gridDomElm.style.width=`${r}px`,this._gridContainerElm&&(this._gridContainerElm.style.width=`${r}px`),this._grid?.resizeCanvas&&this._gridContainerElm&&this._grid.resizeCanvas(),this._grid&&this.gridOptions?.enableAutoSizeColumns?this.gridUid&&document.querySelector(this.gridUidSelector)&&(!this._lastDimensions||this._lastDimensions.height!==i||this._lastDimensions.width!==r)&&this._grid.autosizeColumns():this.gridOptions.enableAutoResizeColumnsByCellContent&&(!this._lastDimensions?.width||r!==this._lastDimensions?.width)&&this.resizeColumnsByCellContent(!1),this._lastDimensions={height:i||0,width:r||0}}return this._lastDimensions}requestStopOfAutoFixResizeGrid(t=!0){this._isStopResizeIntervalRequested=t}resizeColumnsByCellContent(t=!1){let e=this._grid.getColumns(),i=this.dataView.getItems(),r={},s=!1,o=0,a=this._gridContainerElm?.offsetWidth??0;if(!Array.isArray(i)||i.length===0||!t&&this._totalColumnsWidthByContent>0&&this._totalColumnsWidthByContent<a){this._grid.autosizeColumns();return}if(this._hasResizedByContentAtLeastOnce&&this.gridOptions?.resizeByContentOnlyOnFirstLoad&&!t)return;if(this.pubSubService.publish("onBeforeResizeByContent",void 0,0),this._totalColumnsWidthByContent===0||t){for(let h of e)r[h.id]=h.originalWidth??h.minWidth??0;o=this.calculateCellWidthByReadingDataset(e,r,this.resizeByContentOptions.maxItemToInspectCellContentWidth);let c=0;for(let h of e){let m=h.resizeAlwaysRecalculateWidth??this.resizeByContentOptions.alwaysRecalculateColumnWidth??!1;h.originalWidth&&!m?h.width=h.originalWidth:r[h.id]!==void 0&&(h.rerenderOnResize&&(s=!0),this.applyNewCalculatedColumnWidthByReference(h,r[h.id])),c+=h.width||0,this._totalColumnsWidthByContent=c}}this._grid.setColumns(e),this._hasResizedByContentAtLeastOnce=!0;let l={};for(let c of e)l[c.id]=c.width;this._totalColumnsWidthByContent>a?this._grid.reRenderColumns(s):this._grid.autosizeColumns(),this.pubSubService.publish("onAfterResizeByContent",{readItemCount:o,calculateColumnWidths:l})}calculateCellWidthByReadingDataset(t,e,i=1e3,r){let s=Array.isArray(t)?t:[t],o=this.dataView.getItems(),a=0;for(let[l,c]of o.entries()){if(l>i)break;Array.isArray(s)&&typeof e=="object"&&s.forEach((h,m)=>{let f=this.calculateCellWidthByContent(c,h,l,r??m,e[h.id]);f!==void 0&&(e[h.id]=f)}),a=l+1}return a}calculateCellWidthByContent(t,e,i,r,s){let o=this.resizeByContentOptions.cellCharWidthInPx??7;if(!e.originalWidth){let a=e?.resizeCharWidthInPx??o,l=zl(e?.formatter,i,r,e,t,this._grid),c=ro(l)?yi(l):"",h=Math.ceil(c.length*a),m=e.resizeMaxWidthThreshold;e&&(s===void 0||h>s)&&(s=m!==void 0&&h>m?m:e.maxWidth!==void 0&&h>e.maxWidth?e.maxWidth:h)}return s}applyNewCalculatedColumnWidthByReference(t,e){let i=this.resizeByContentOptions.cellPaddingWidthInPx??6,r=this.resizeByContentOptions.formatterPaddingWidthInPx??6,s=t?.filter?.type??t?.type??R.string,o=e,a=t?.resizeCalcWidthRatio??this.resizeByContentOptions.defaultRatioForStringType??.9;o*=s==="string"?a:1,o+=i,t.resizeExtraWidthPadding&&(o+=t.resizeExtraWidthPadding),t.editor&&this.gridOptions.editable&&(o+=r),t.maxWidth!==void 0&&o>t.maxWidth&&(o=t.maxWidth),t.resizeMaxWidthThreshold!==void 0&&o>t.resizeMaxWidthThreshold&&(o=t.resizeMaxWidthThreshold),o=Math.ceil(o),(t.originalWidth===void 0||t.resizeAlwaysRecalculateWidth===!0||this.resizeByContentOptions.alwaysRecalculateColumnWidth===!0)&&(t.width=this.readjustNewColumnWidthWhenOverLimit(t,o))}handleSingleColumnResizeByContent(t){let e=this._grid.getColumns(),i=e.findIndex(r=>r.id===t);if(i>=0){let r=e[i],s={[t]:r.originalWidth??r.minWidth??0};r.originalWidth=void 0,this.calculateCellWidthByReadingDataset(r,s,this.resizeByContentOptions.maxItemToInspectSingleColumnWidthByContent,i),this.applyNewCalculatedColumnWidthByReference(r,s[t]),this._grid.reRenderColumns(r?.rerenderOnResize??!1)}}readjustNewColumnWidthWhenOverLimit(t,e){let i=this.gridOptions.frozenColumn??-1,r=this._grid.getColumns().findIndex(o=>o.id===t.id)??0,s=e;if(i>=0&&r<=i){let o=Array.from(this._grid.getViewports());if(o){let a=o.find(f=>f.classList.contains("slick-viewport-left"))?.clientWidth??0,l=o.find(f=>f.classList.contains("slick-viewport-right"))?.clientWidth??0,c=a+l,h=a-(t.width??0);if(h+e>c){let f=this.resizeByContentOptions.widthToRemoveFromExceededWidthReadjustment??50;s=a-h+l-f}}}return Math.ceil(s)}checkIsGridShown(){return!!(document.querySelector(`${this.gridUidSelector}`)?.offsetParent??!1)}resizeGridWhenStylingIsBrokenUntilCorrected(){let t=this.gridOptions?.autoFixResizeTimeout??18e3,e=this.gridOptions?.autoFixResizeRequiredGoodCount??5,i=this._gridContainerElm.querySelector(`${this.gridUidSelector} .slick-header`),r=this._gridContainerElm.querySelector(`${this.gridUidSelector} .slick-viewport`),s=0,o=0;if(i&&r&&this.gridOptions.autoFixResizeWhenBrokenStyleDetected){let a=this.dataView.getItemCount(),l=this._grid.getColumns()||[];this._intervalId=window.setInterval(()=>Ze(this,null,function*(){let h=pi(i),m=h.top;this.gridOptions?.enableFiltering&&this.gridOptions.headerRowHeight&&(m+=this.gridOptions.headerRowHeight),this.gridOptions?.createPreHeaderPanel&&this.gridOptions.showPreHeaderPanel&&this.gridOptions.preHeaderPanelHeight&&(m+=this.gridOptions.preHeaderPanelHeight),m+=44;let v=pi(r).top,C=pi(this._gridContainerElm),x=h?.top===0||m-v>2||C.left===0&&C.top===0,E=this._grid.getRenderedRange()?.rightPx??0;!x&&a>0&&E===0&&l.length>1&&(x=!0),this._isStopResizeIntervalRequested&&(x=!1,s=t),this.checkIsGridShown()&&(x||C.left===0||C.top===0)&&(yield this.resizeGrid(),o<5&&this._grid.updateColumns(),this.checkIsGridShown()&&(x=!1)),this.checkIsGridShown()&&o++,this.checkIsGridShown()&&!x&&(o>=e||s++>=t)&&window.clearInterval(this._intervalId)}),this.intervalRetryDelay)}}};var Zg=class{constructor(){this.currentPagination=null,this.isItemsDateParsed=!1,this.frozenVisibleColumnId="",this.hasColumnsReordered=!1,this.hideHeaderRowAfterPageLoad=!1}get allColumns(){return this._allColumns}set allColumns(t){this._allColumns=t}get columnDefinitions(){return this.slickGrid?.getColumns()??[]}get gridOptions(){return this._gridOptions||this.slickGrid?.getOptions()||{}}set gridOptions(t){this._gridOptions=t}get externalRegisteredResources(){return this._externalRegisteredResources}set externalRegisteredResources(t){this._externalRegisteredResources=t}get visibleColumns(){return this._visibleColumns}set visibleColumns(t){this._visibleColumns=t}get hierarchicalDataset(){return this._hierarchicalDataset}set hierarchicalDataset(t){this._hierarchicalDataset=t}};var Jg=class{constructor(t,e,i,r,s){this.collectionService=t,this.sharedService=e,this.pubSubService=i,this.backendUtilities=r,this.rxjs=s,this._currentLocalSorters=[],this._isBackendGrid=!1,this._eventHandler=new tt,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get _gridOptions(){return this._grid?.getOptions()??{}}get _columnDefinitions(){return this._grid?.getColumns()??[]}dispose(){this._eventHandler?.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&this.rxjs?.isObservable(this.httpCancelRequests$)&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete())}addRxJsResource(t){this.rxjs=t}bindBackendOnSort(t){this._isBackendGrid=!0,this._grid=t,this._dataView=t?.getData(),this._eventHandler.subscribe(t.onSort,this.onBackendSortChanged.bind(this))}bindLocalOnSort(t){this._isBackendGrid=!1,this._grid=t,this._dataView=t?.getData(),this.processTreeDataInitialSort(),this._eventHandler.subscribe(t.onSort,this.handleLocalOnSort.bind(this)),this._gridOptions.preParseDateColumns&&(this._eventHandler.subscribe(t.onCellChange,(e,i)=>this.preParseSingleDateItem(i.item)),this.pubSubService.subscribe(["onItemAdded","onItemUpdated"],e=>this.preParseSingleDateItem(e)))}preParseSingleDateItem(t){this._gridOptions.preParseDateColumns&&(Array.isArray(t)?t:[t]).forEach(i=>this.collectionService.parseSingleDateItem(i,this._grid,this._gridOptions.preParseDateColumns))}preParseAllDateItems(){if(this._gridOptions.preParseDateColumns){let t=this._dataView?.getItems()||[];this.collectionService.preParseByMutationDateItems(t,this._grid,this._gridOptions.preParseDateColumns),this.sharedService.isItemsDateParsed=!0}}handleLocalOnSort(t,e){let i=e.multiColumnSort?e.sortCols:new Array({columnId:e.sortCol?.id??"",sortAsc:e.sortAsc,sortCol:e.sortCol});this._currentLocalSorters=[],Array.isArray(i)&&i.forEach(r=>{r.sortCol&&this._currentLocalSorters.push({columnId:r.sortCol.id,direction:r.sortAsc?to.ASC:to.DESC})}),this.onLocalSortChanged(this._grid,i),this.emitSortChanged(bi.local)}clearSortByColumnId(t,e){let i=this.getCurrentColumnSorts(),r=this.getCurrentColumnSorts(`${e}`);if(Array.isArray(i)&&Array.isArray(r)&&i.length!==r.length){if(this._gridOptions.backendServiceApi)this.onBackendSortChanged(t,{multiColumnSort:!0,sortCols:r,grid:this._grid});else if(this._dataView)this.onLocalSortChanged(this._grid,r,!0,!0);else{let a=this._gridOptions.multiColumnSort||!1?r:r[0];this._grid.onSort.notify(a)}let s=r.map(o=>({columnId:o?.sortCol?.id??"",sortAsc:o?.sortAsc,sortCol:o?.sortCol}));this._grid.setSortColumns(s)}Array.isArray(r)&&r.length===0&&this.sortLocalGridByDefaultSortFieldId()}clearSorting(t=!0){if(this._grid&&this._gridOptions&&this._dataView){if(this._grid.setSortColumns([]),t)this._isBackendGrid?this.onBackendSortChanged(void 0,{grid:this._grid,multiColumnSort:!0,sortCols:[],clearSortTriggered:!0}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0&&this.sortLocalGridByDefaultSortFieldId();else if(this._isBackendGrid){let e=this._gridOptions.backendServiceApi?.service;e?.clearSorters&&e.clearSorters()}}this._currentLocalSorters=[],this.pubSubService.publish("onSortCleared",!0)}disableSortFunctionality(t=!0,e=!0){let r=!this._gridOptions.enableSorting;this._gridOptions.enableSorting=r;let s;t?(e&&this.clearSorting(),this._eventHandler.unsubscribeAll(),s=this.disableAllSortingCommands(!0)):(s=this.disableAllSortingCommands(!1),this._eventHandler.subscribe(this._grid.onSort,(o,a)=>this.handleLocalOnSort(o,a))),this._grid.setOptions({enableSorting:this._gridOptions.enableSorting},!1,!0),this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(s)}toggleSortFunctionality(t=!0){let e=this._gridOptions.enableSorting;this.disableSortFunctionality(e,t)}emitSortChanged(t,e){if(t===bi.remote&&this._gridOptions.backendServiceApi){let i=[],r=this._gridOptions.backendServiceApi.service;r?.getCurrentSorters&&(i=r.getCurrentSorters()),this.pubSubService.publish("onSortChanged",i)}else t===bi.local&&(e&&(this._currentLocalSorters=e),this.pubSubService.publish("onSortChanged",this.getCurrentLocalSorters()))}getCurrentLocalSorters(){return this._currentLocalSorters}getCurrentColumnSorts(t){if(this._grid){let e=this._grid.getSortColumns();if(Array.isArray(e))return e.reduce((r,s)=>(s&&(!t||s.columnId!==t)&&r.push({columnId:s.columnId||"",sortCol:this._columnDefinitions[this._grid.getColumnIndex(s.columnId||"")],sortAsc:s.sortAsc}),r),[])}return[]}loadGridSorters(t){this._currentLocalSorters=[];let e=[];return Array.isArray(t)&&((this._gridOptions.multiColumnSort?t:t.slice(0,1)).forEach(r=>{let s=this._columnDefinitions.find(o=>o.id===r.columnId);if(s){if(!s.sortable){let o="[Slickgrid-Universal] Cannot add sort icon to a column that is not sortable, please add `sortable: true` to your column or remove it from your list of columns to sort.";throw this._gridOptions.enableTreeData&&(o+=" Also note that TreeData feature requires the column holding the tree (expand/collapse icons) to be sortable."),new Error(o)}e.push({columnId:s.id,sortAsc:r.direction.toUpperCase()===to.ASC,sortCol:s}),this._currentLocalSorters.push({columnId:String(s.id),direction:r.direction.toUpperCase()})}}),this.onLocalSortChanged(this._grid,e),this._grid.setSortColumns(e.map(r=>({columnId:r.columnId,sortAsc:r.sortAsc})))),e}processTreeDataInitialSort(){if(this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions){let t=this._gridOptions.treeDataOptions,e=this._columnDefinitions.find(i=>i.id===t.columnId);if(e){let i=to.ASC,r={columnId:t.columnId,sortCol:e,sortAsc:!0};if(t?.initialSort?.columnId){let s=t.initialSort.columnId,o=this._columnDefinitions.find(a=>a.id===s);i=(t.initialSort.direction||to.ASC).toUpperCase(),r={columnId:s,sortCol:o,sortAsc:i===to.ASC}}r?.columnId&&this.sharedService?.hierarchicalDataset&&this.updateSorting([{columnId:r.columnId||"",direction:i}])}}}onBackendSortChanged(t,e){if(!e||!e.grid)throw new Error('Something went wrong when trying to bind the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');let i=e.grid?.getOptions()??{},r=i.backendServiceApi;if(!r||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');let s=new Date;r.preProcess&&r.preProcess();let o=r.service.processOnSortChanged(t,e),a=i?.pagination?.totalItems||0;this.backendUtilities?.executeBackendCallback(r,o,e,s,a,{emitActionChangedCallback:this.emitSortChanged.bind(this),errorCallback:()=>{this._grid.setSortColumns(e.previousSortColumns||[]);let l=e.previousSortColumns?.map(c=>({columnId:c.columnId,sortAsc:c.sortAsc,sortCol:this._columnDefinitions.find(h=>h.id===c.columnId)}));r?.service?.updateSorters?.(l||[])},httpCancelRequestSubject:this.httpCancelRequests$})}onLocalSortChanged(t,e,i=!1,r=!1){return Ze(this,null,function*(){let s=this._gridOptions.datasetIdPropertyName||"id",o=this._gridOptions.enableTreeData||!1,a=t.getData();if(yield this.pubSubService.publish("onBeforeSortChange",{sortColumns:e},0),t&&a){if(this._gridOptions.preParseDateColumns&&!this.sharedService.isItemsDateParsed&&e.some(l=>vr(l.sortCol?.type))&&this.preParseAllDateItems(),i&&!o&&a.reSort(),o&&this._dataView&&this.sharedService&&Array.isArray(this.sharedService.hierarchicalDataset)){let l=this.sortHierarchicalDataset(this.sharedService.hierarchicalDataset,e);this._dataView.setItems(l.flat,s),this._dataView.onRowCountChanged.notify({previous:this._dataView.getFilteredItemCount(),current:this._dataView.getLength(),itemCount:this._dataView.getItemCount(),dataView:this._dataView,callingOnRowsChanged:!0})}else a.sort(this.sortComparers.bind(this,e));t.invalidate(),r&&this.emitSortChanged(bi.local,e.map(l=>({columnId:l.sortCol?.id??"id",direction:l.sortAsc?to.ASC:to.DESC})))}})}sortHierarchicalDataset(t,e,i=!1){this.sortTreeData(t,e);let r=this._gridOptions.datasetIdPropertyName||"id",s=this._gridOptions.treeDataOptions||{columnId:""},o=Ce(k({},s),{identifierPropName:s.identifierPropName??r,shouldAddTreeLevelNumber:!0}),a=zy(t,o);if(i){this._currentLocalSorters=[],e.forEach(c=>{this._currentLocalSorters.push({columnId:c.columnId,direction:c.sortAsc?"ASC":"DESC"})});let l=this._gridOptions.backendServiceApi?bi.remote:bi.local;this.emitSortChanged(l)}return{hierarchical:t,flat:a}}sortLocalGridByDefaultSortFieldId(){let t=this._gridOptions&&this._gridOptions.defaultColumnSortFieldId||this._gridOptions.datasetIdPropertyName||"id",e={id:t,field:t};this.onLocalSortChanged(this._grid,new Array({columnId:e.id,sortAsc:!0,sortCol:e,clearSortTriggered:!0}),!1,!0)}sortComparers(t,e,i){if(Array.isArray(t))for(let r of t){let s=this.sortComparer(r,e,i);if(s!==void 0)return s}return ri.neutral}sortComparer(t,e,i,r){if(t?.sortCol){let s=t.sortCol,o=s.type||R.string,a=t.sortAsc?ri.asc:ri.desc,l=r||s.queryFieldSorter||s.queryField||s.field;this._gridOptions.preParseDateColumns&&vr(o)&&t?.columnId&&(l=typeof this._gridOptions.preParseDateColumns=="string"?`${this._gridOptions.preParseDateColumns}${t.columnId}`:`${t.columnId}`);let c=l;typeof s.queryFieldNameGetterFn=="function"&&(l=s.queryFieldNameGetterFn(e),c=s.queryFieldNameGetterFn(i));let h=e[l],m=i[c];if(l?.indexOf(".")>=0&&(h=Vi(e,l)),c?.indexOf(".")>=0&&(m=Vi(i,c)),s.sortComparer){let f=s.sortComparer(h,m,a,s,this._gridOptions);if(f!==ri.neutral)return f}else{let f=Wo(o,h,m,a,s,this._gridOptions);if(f!==ri.neutral)return f}}}sortTreeData(t,e){Array.isArray(e)&&e.forEach(i=>{this.sortTreeChildren(t,i,0)})}sortTreeChildren(t,e,i){let r=this._gridOptions.treeDataOptions?.childrenPropName??"children";t.sort((s,o)=>this.sortComparer(e,s,o)??ri.neutral),t.forEach(s=>{s&&s.hasOwnProperty(r)&&Array.isArray(s[r])&&(i++,this.sortTreeChildren(s[r],e,i),i--)})}updateSorting(t,e=!0,i=!0){if(!this._gridOptions||!this._gridOptions.enableSorting)throw new Error('[Slickgrid-Universal] in order to use "updateSorting" method, you need to have Sortable Columns defined in your grid and "enableSorting" set in your Grid Options');if(Array.isArray(t)){let r=this._gridOptions.backendServiceApi;if(r){let s=r?.service;s?.updateSorters&&(s.updateSorters(void 0,t),i&&this.backendUtilities?.refreshBackendDataset(this._gridOptions))}else this.loadGridSorters(t);if(e){let s=r?bi.remote:bi.local;this.emitSortChanged(s)}}}disableAllSortingCommands(t=!0){let e=this._grid.getColumns();e.forEach(r=>{r.sortable!==void 0&&(r.sortable=!t),r?.header?.menu&&r.header.menu.commandItems?.forEach(s=>{if(s&&typeof s!="string"){let o=s.command;(o==="sort-asc"||o==="sort-desc"||o==="clear-sort")&&(s.hidden=t)}})});let i=this._gridOptions.gridMenu?.commandItems;return i&&i.forEach(r=>{r&&typeof r!="string"&&r.command==="clear-sorting"&&(r.hidden=t)}),e}};var e_=class{constructor(t,e,i){this.pubSubService=t,this.sharedService=e,this.sortService=i,this._currentToggledItems=[],this._isLastFullToggleCollapsed=!1,this._isOneCpuCyclePassed=!1,this._isTreeDataEnabled=!1,this._subscriptions=[],this._treeDataRecalcHandler=null,this._eventHandler=new tt,window.setTimeout(()=>this._isOneCpuCyclePassed=!0)}set currentToggledItems(t){this._currentToggledItems=t}get dataset(){return this.dataView?.getItems()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}get dataView(){return this._grid?.getData()}get eventHandler(){return this._eventHandler}get gridOptions(){return this._grid?.getOptions()??{}}get treeDataOptions(){return this.gridOptions.treeDataOptions}dispose(){this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}init(t){if(this._grid=t,this._isTreeDataEnabled=this.gridOptions?.enableTreeData??!1,this._isLastFullToggleCollapsed=this.treeDataOptions?.initiallyCollapsed??!1,this._currentToggledItems=this.gridOptions.presets?.treeData?.toggledItems??[],this._lastToggleStateChange={type:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},this._isTreeDataEnabled){if(this.gridOptions?.multiColumnSort)throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data with multi-column sorting, unfortunately it is not supported because of its complexity, you can disable it via "multiColumnSort: false" grid option and/or help in providing support for this feature.');if(!this.gridOptions?.enableFiltering)throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data without using the filtering option, unfortunately that is not possible with Tree Data since it relies heavily on the filters to expand/collapse the tree. You need to enable it via "enableFiltering: true"');if(this.gridOptions?.backendServiceApi||this.gridOptions?.enablePagination)throw new Error("[Slickgrid-Universal] It looks like you are trying to use Tree Data with Pagination and/or a Backend Service (OData, GraphQL) but unfortunately that is simply not supported because of its complexity.");if(!this.gridOptions.treeDataOptions||!this.gridOptions.treeDataOptions.columnId)throw new Error('[Slickgrid-Universal] When enabling tree data, you must also provide the "treeDataOption" property in your Grid Options with "childrenPropName" or "parentPropName" (depending if your array is hierarchical or flat) for the Tree Data to work properly.')}this._eventHandler.subscribe(t.onClick,this.handleOnCellClick.bind(this)),this._subscriptions.push(this.pubSubService.subscribe("onGridMenuClearAllSorting",this.clearSorting.bind(this))),this._treeDataRecalcHandler=this.setAutoRecalcTotalsCallbackWhenFeatEnabled(this.gridOptions),this._eventHandler.subscribe(this.dataView.onRowCountChanged,()=>{typeof this._treeDataRecalcHandler=="function"&&this._isOneCpuCyclePassed&&(window.clearTimeout(this._timer),this._timer=window.setTimeout(()=>this._treeDataRecalcHandler?.(),this.treeDataOptions?.autoRecalcTotalsDebounce??0))})}applyToggledItemStateChanges(t,e,i=!0,r=!1){if(Array.isArray(t)){let s=qi(this.treeDataOptions,"collapsedPropName"),o=qi(this.treeDataOptions,"hasChildrenPropName");this.dataView.beginUpdate(!0);let l=(e??this._lastToggleStateChange.previousFullToggleType)==="full-collapse";e&&(this._lastToggleStateChange.previousFullToggleType=e),i&&(this.dataView.getItems()||[]).forEach(c=>{c[o]&&(c[s]=l)}),this.dynamicallyToggleItemState(t,r)}}dynamicallyToggleItemState(t,e=!0){Array.isArray(t)&&(this.dataView.beginUpdate(!0),t.forEach(i=>{let r=this.dataView.getItemById(i.itemId);if(this.updateToggledItem(r,i.isCollapsed,!0),e){let s=this._currentToggledItems.findIndex(o=>o.itemId===i.itemId);s>=0?this._currentToggledItems[s].isCollapsed=i.isCollapsed:this._currentToggledItems.push({itemId:i.itemId,isCollapsed:i.isCollapsed}),this.pubSubService.publish("onTreeItemToggled",Ce(k({},this._lastToggleStateChange),{fromItemId:i.itemId,toggledItems:this._currentToggledItems,type:i.isCollapsed?Ra.toggleCollapse:Ra.toggleExpand}))}}),this.dataView.endUpdate(),this.dataView.refresh())}getCurrentToggleState(){return this._lastToggleStateChange}getInitialSort(t,e){let i=e?.treeDataOptions,r=i?.initialSort??{columnId:i?.columnId??"",direction:"ASC"},s=t.find(o=>o.id===r.columnId);return{columnId:r.columnId,sortAsc:r?.direction?.toUpperCase()!=="DESC",sortCol:s}}getItemCount(t){if(t!==void 0){let e=qi(this.treeDataOptions,"levelPropName");return this.dataView.getItems().filter(i=>i[e]===t).length}return this.dataView.getItemCount()}getToggledItems(){return this._currentToggledItems}clearSorting(){let t=this.getInitialSort(this.sharedService.columnDefinitions,this.sharedService.gridOptions);this.sortService.loadGridSorters([{columnId:t.columnId,direction:t.sortAsc?"ASC":"DESC"}])}convertFlatParentChildToTreeDatasetAndSort(t,e,i,r){let s=this.convertFlatParentChildToTreeDataset(t,i),o=Array.isArray(r)&&r.length?r[0]:this.getInitialSort(e,i),a=this.sortService.sortHierarchicalDataset(s,[o],!0);return this._grid?.setSortColumns([o]),a}convertFlatParentChildToTreeDataset(t,e){let i=e?.datasetIdPropertyName??"id",r=e?.treeDataOptions??{columnId:"id"},s=Ce(k({},r),{identifierPropName:r.identifierPropName??i,initiallyCollapsed:this._isLastFullToggleCollapsed});return jy(t,s)}enableAutoRecalcTotalsFeature(t=!0){t&&this._isTreeDataEnabled?this._treeDataRecalcHandler=this.recalculateTreeTotals.bind(this,this.gridOptions):this._treeDataRecalcHandler=null}recalculateTreeTotals(t){let e=t.treeDataOptions,i=e?.childrenPropName??se.treeDataProperties.CHILDREN_PROP,r=e?.levelPropName??se.treeDataProperties.TREE_LEVEL_PROP;e?.aggregators&&(e.aggregators.forEach(s=>{qd(this.sharedService.hierarchicalDataset||[],{childrenPropName:i,levelPropName:r,aggregator:s})}),this._grid.invalidate())}sortHierarchicalDataset(t,e){let i=e??this.getInitialSort(this.sharedService.allColumns,this.gridOptions),r=Array.isArray(i)?i:[i];return this.sortService.sortHierarchicalDataset(t,r)}toggleTreeDataCollapse(t,e=!0){return Ze(this,null,function*(){if(this.gridOptions?.enableTreeData){let r=qi(this.treeDataOptions,"hasChildrenPropName");e&&(yield this.pubSubService.publish("onTreeFullToggleStart",{collapsing:t})),this.dataView.beginUpdate(!0);let s=this.dataView.getItems()||[];s.forEach(o=>{o[r]&&this.updateToggledItem(o,t,!1)}),this.sharedService.hierarchicalDataset=this.convertFlatParentChildToTreeDataset(s,this.gridOptions),this.dataView.endUpdate(),this.dataView.refresh(),this._isLastFullToggleCollapsed=t}let i=t?Ra.fullCollapse:Ra.fullExpand;this._lastToggleStateChange={type:i,previousFullToggleType:i,toggledItems:null},e&&this.pubSubService.publish("onTreeFullToggleEnd",this._lastToggleStateChange)})}handleOnCellClick(t,e){if(t&&e){let i=t.target||{},r=this.gridOptions.datasetIdPropertyName??"id",s=qi(this.treeDataOptions,"collapsedPropName"),o=qi(this.treeDataOptions,"childrenPropName");if(typeof i?.className=="string"&&(i.className.indexOf("toggle")>=0||!1)){let l=this.dataView.getItem(e.row);if(l){l[s]=!l[s];let c=l[s],h=l[r],m=this._currentToggledItems.findIndex(C=>C.itemId===h);m>=0?this._currentToggledItems[m].isCollapsed=c:this._currentToggledItems.push({itemId:h,isCollapsed:c}),this.dataView.updateItem(h,l);let f=C=>C[r]===h,v=xl(this.sharedService.hierarchicalDataset||[],f,o);v&&(v[s]=c),this._grid.invalidate(),this._lastToggleStateChange={type:c?Ra.toggleCollapse:Ra.toggleExpand,previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},this.pubSubService.publish("onTreeItemToggled",Ce(k({},this._lastToggleStateChange),{fromItemId:h}))}t.stopImmediatePropagation()}}}updateToggledItem(t,e,i){let r=this.gridOptions?.datasetIdPropertyName??"id",s=qi(this.treeDataOptions,"childrenPropName"),o=qi(this.treeDataOptions,"collapsedPropName");if(t&&(t[o]=e,this.dataView.updateItem(t[r],t),i)){let a=c=>c[r]===t[r],l=xl(this.sharedService.hierarchicalDataset||[],a,s);l&&(l[o]=e)}}setAutoRecalcTotalsCallbackWhenFeatEnabled(t){return t?.enableTreeData&&t?.treeDataOptions?.autoRecalcTotalsOnFilterChange&&t?.treeDataOptions?.aggregators?this.recalculateTreeTotals.bind(this,t):null}};var qn=class{constructor(t){this.translaterService=t,this._debounceTypingDelay=0,this._shouldTriggerQuery=!0,this._inputType="text",this.inputFilterType="single",this.searchTerms=[],this._bindEventService=new Yt}get columnFilter(){return this.columnDef?.filter??{}}get defaultOperator(){return Le.empty}get inputType(){return this._inputType}set inputType(t){this._inputType=t}get operator(){return this.columnFilter?.operator??this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}get gridOptions(){return this.grid?.getOptions()??{}}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.inputFilterType==="compound"&&(this.operator=t.operator||""),this.searchTerms=t?.searchTerms??[],this._cellContainerElm=t.filterContainerElm;let e=this.gridOptions?.backendServiceApi;this._debounceTypingDelay=(e?e?.filterTypingDebounce??this.gridOptions?.defaultBackendServiceFilterTypingDebounce:this.gridOptions?.filterTypingDebounce)??0;let i=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.createDomFilterElement(i),this._bindEventService.bind(this._filterInputElm,["keyup","blur","change"],this.onTriggerEvent.bind(this)),this._bindEventService.bind(this._filterInputElm,"wheel",this.onTriggerEvent.bind(this),{passive:!0}),this.inputFilterType==="compound"&&this._selectOperatorElm&&this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this))}clear(t=!0){this._filterInputElm&&(this._shouldTriggerQuery=t,this.searchTerms=[],this._filterInputElm.value="",this._currentValue=void 0,this.updateFilterStyle(!1),this.inputFilterType==="compound"&&this._selectOperatorElm&&(this._selectOperatorElm.selectedIndex=0),this.onTriggerEvent(void 0,!0))}destroy(){this._bindEventService.unbindAll(),this._selectOperatorElm?.remove?.(),this._filterInputElm?.remove?.()}getValues(){return this._filterInputElm.value}setValues(t,e,i=!1){let r=Array.isArray(t)?t:[t],s="";for(let o of r)this.inputFilterType==="single"?s=e?this.addOptionalOperatorIntoSearchString(o,e):o:s=`${o}`,this._filterInputElm.value=`${s??""}`,this._currentValue=this._filterInputElm.value;if(this.updateFilterStyle(this.getValues()!==""),this.operator=e||this.defaultOperator,e&&this._selectOperatorElm){let o=Bo(this.operator);this._selectOperatorElm.value=o}i&&this.onTriggerEvent(void 0,!1)}addOptionalOperatorIntoSearchString(t,e){let i="",r="",s=t==null?"":`${t}`;if(e&&s){switch(e){case"<>":case"!=":case"=":case"==":case">":case">=":case"<":case"<=":i=e;break;case"EndsWith":case"*z":i="*";break;case"StartsWith":case"a*":r="*";break}s=`${i}${s}${r}`}return s}getCompoundOperatorOptionValues(){let t=this.columnDef.type&&this.columnDef.type?this.columnDef.type:R.string,e,i="text";if(this.columnFilter?.compoundOperatorList)e=this.columnFilter.compoundOperatorList;else switch(t){case R.string:case R.text:case R.readonly:case R.password:i="text",e=QD(this.gridOptions,this.translaterService);break;default:i="numeric",e=Jd(this.gridOptions,this.translaterService);break}return ec(this.gridOptions,e,i),e}createDomFilterElement(t){let e=this.columnDef?.id??"";ut(this._cellContainerElm);let i=this.gridOptions?.defaultFilterPlaceholder??"";this.columnFilter?.placeholder&&(i=this.columnFilter.placeholder);let r=`${t??""}`;if(this._filterInputElm=T("input",{type:this._inputType||"text",autocomplete:"off",ariaAutoComplete:"none",placeholder:i,ariaLabel:this.columnFilter?.ariaLabel??`${Qr(e+"")} Search Filter`,className:`form-control filter-${e}`,value:r,dataset:{columnid:`${e}`}}),this.updateFilterStyle(!!t),t!==void 0&&(this._currentValue=r),this.inputFilterType==="single")this._filterContainerElm=this._filterInputElm,this._filterInputElm.classList.add("search-filter","slick-filter"),this._cellContainerElm.appendChild(this._filterInputElm),this._cellContainerElm.appendChild(document.createElement("span"));else{this._filterInputElm.classList.add("compound-input"),this._selectOperatorElm=Zd(this.getCompoundOperatorOptionValues(),this.grid),this._filterContainerElm=T("div",{className:`form-group search-filter slick-filter filter-${e}`});let s=T("div",{className:"input-group"},this._filterContainerElm);T("div",{className:"input-group-addon input-group-prepend operator"},s).appendChild(this._selectOperatorElm),s.appendChild(this._filterInputElm),s.appendChild(T("span")),this.operator&&(this._selectOperatorElm.value=Bo(this.operator)),this._filterContainerElm&&this._cellContainerElm.appendChild(this._filterContainerElm)}}onTriggerEvent(t,e=!1){if(e)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:e,shouldTriggerQuery:this._shouldTriggerQuery}),this.updateFilterStyle(!1);else{let i=t?.type||"",r=this._selectOperatorElm?.value??this.operator,s=this._filterInputElm.value,o=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;typeof s=="string"&&o&&(s=s.trim()),t?.target?.tagName.toLowerCase()!=="select"&&(this._currentValue=s),this.updateFilterStyle(s!=="");let a={columnDef:this.columnDef,operator:r,searchTerms:s?[s]:null,shouldTriggerQuery:this._shouldTriggerQuery},l=i==="keyup"&&t?.key!=="Enter"?this._debounceTypingDelay:0,c=this.columnFilter.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput,h=c&&mt(this._currentValue)||this._currentValue===""&&mt(this._lastSearchValue);(this.inputFilterType==="single"||!c||h)&&(l>0?(window.clearTimeout(this._timer),this._timer=window.setTimeout(()=>this.callback(t,a),l)):this.callback(t,a)),this._lastSearchValue=s}this._shouldTriggerQuery=!0}updateFilterStyle(t){t?(this._filterContainerElm?.classList.add("filled"),this._filterInputElm.classList.add("filled")):(this._filterContainerElm?.classList.remove("filled"),this._filterInputElm.classList.remove("filled"))}};var Ju=class extends qn{constructor(t){super(t),this.translaterService=t,this.inputType="text",this.inputFilterType="compound"}};var t_=class extends qn{constructor(t){super(t),this.translaterService=t,this.inputType="number",this.inputFilterType="compound"}};var i_=class extends qn{constructor(t){super(t),this.translaterService=t,this.inputType="password",this.inputFilterType="compound"}};var Z0="#86bff8",n_=0,gU=20,Wa=class{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._sliderTrackFilledColor=Z0,this.sliderType="double",this.searchTerms=[],this._bindEventService=new Yt}get columnFilter(){return this.columnDef?.filter??{}}get currentValue(){return this._currentValue}get currentValues(){return this._currentValues}get defaultOperator(){return this.sliderType==="compound"?Le.empty:this.sliderType==="single"?Le.greaterThanOrEqual:this.gridOptions.defaultFilterRangeOperator||Le.rangeInclusive}get filterOptions(){return k(k({},this.gridOptions.defaultFilterOptions?.slider),this.columnFilter?.filterOptions)}get gridOptions(){return this.grid?.getOptions()??{}}get sliderOptions(){return this._sliderOptions}get operator(){return this._operator||(this.columnFilter.operator??this.defaultOperator)}set operator(t){this._operator=t}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator||"",this.searchTerms=t?.searchTerms??[],this._argFilterContainerElm=t.filterContainerElm,this._sliderTrackFilledColor=window.getComputedStyle(document.documentElement).getPropertyValue("--slick-slider-filter-filled-track-color")||Z0,this._filterElm=this.createDomFilterElement(this.searchTerms)}clear(t=!0){if(this._filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[];let e=+(this.filterOptions?.sliderStartValue??se.SLIDER_DEFAULT_MIN_VALUE),i=+(this.filterOptions?.sliderEndValue??se.SLIDER_DEFAULT_MAX_VALUE);this.sliderType==="double"?(this._sliderLeftInputElm&&(this._sliderLeftInputElm.value=`${e}`),this._sliderRightInputElm&&(this._sliderRightInputElm.value=`${i}`),this._currentValues=[e,i],this._sliderLeftInputElm?.dispatchEvent(new Event("change")),this._sliderRightInputElm?.dispatchEvent(new Event("change"))):(this._sliderRightInputElm&&(this._sliderRightInputElm.value=`${e}`),this._selectOperatorElm&&(this._selectOperatorElm.selectedIndex=0),this._currentValue=e,this._sliderRightInputElm?.dispatchEvent(new Event("change"))),(this.filterOptions?.hideSliderNumber??this.filterOptions?.hideSliderNumbers)||(this.sliderType==="double"?this.renderSliderValues(e,i):this.renderSliderValues(void 0,e)),this.updateFilterStyle(!1),this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:t,searchTerms:[]})}}destroy(){this._bindEventService.unbindAll(),this._sliderTrackElm?.remove(),this._sliderLeftInputElm?.remove(),this._sliderRightInputElm?.remove()}renderSliderValues(t,e,i=!0){let r=t?.toString()||"",s=e?.toString()||"";this._leftSliderNumberElm?.textContent&&(this._leftSliderNumberElm.textContent=r),this._rightSliderNumberElm?.textContent&&(this._rightSliderNumberElm.textContent=s),this._sliderRangeContainElm.title=this.sliderType==="double"?`${r} - ${s}`:`${s}`,i&&this.grid.onHeaderRowMouseLeave.notify({column:this.columnDef,grid:this.grid})}getValues(){return this.sliderType==="double"?this._currentValues:this._currentValue}setValues(t,e,i=!1){if(t){let o=[],a=Array.isArray(t)?t?.[0]:t;if(Array.isArray(t)&&t.length===2?o=t:typeof a=="string"&&a.indexOf("..")>0?(o=a.split(".."),this._currentValue=+(o?.[0]??0)):(mt(a)||a==="")&&(this._currentValue=a===null?void 0:+a,o=[a]),this.sliderType!=="double"&&this._sliderRightInputElm)this._sliderRightInputElm.value=typeof t=="string"?t:`${a}`,this.renderSliderValues(void 0,this._sliderRightInputElm.value);else if(Array.isArray(o)&&o.length===2&&!this.filterOptions?.hideSliderNumbers){let[l,c]=o;this._sliderLeftInputElm&&(this._sliderLeftInputElm.value=String(l??se.SLIDER_DEFAULT_MIN_VALUE)),this._sliderRightInputElm&&(this._sliderRightInputElm.value=String(c??se.SLIDER_DEFAULT_MAX_VALUE)),this.renderSliderValues(...o)}}else this._currentValue=void 0,this._currentValues=void 0;let r=this.getValues(),s=r===void 0?[]:Array.isArray(r)?r:[r];if(this.updateFilterStyle(s.length>0),e!==void 0&&(this.operator=e),this.operator&&this._selectOperatorElm){let o=Bo(this.operator);this._selectOperatorElm.value=o}i&&this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:s,shouldTriggerQuery:!0})}createDomFilterElement(t){let e=this.columnDef?.id??"",i=+(this.columnFilter.minValue??se.SLIDER_DEFAULT_MIN_VALUE),r=+(this.columnFilter.maxValue??se.SLIDER_DEFAULT_MAX_VALUE),s=+(this.columnFilter.valueStep??se.SLIDER_DEFAULT_STEP);ut(this._argFilterContainerElm);let o=+((Array.isArray(t)&&t?.[0])??this.filterOptions?.sliderStartValue??i),a=+((Array.isArray(t)&&t?.[1])??this.filterOptions?.sliderEndValue??r);if(this._sliderRangeContainElm=T("div",{className:`filter-input filter-${e} slider-input-container slider-values`,title:this.sliderType==="double"?`${o} - ${a}`:`${o}`}),this._sliderTrackElm=T("div",{className:"slider-track"}),this.sliderType==="compound"){let m=T("span",{className:"input-group-addon input-group-prepend operator"});this._selectOperatorElm=Zd(this.getOperatorOptionValues(),this.grid),m.appendChild(this._selectOperatorElm)}this.sliderType==="double"&&(this._sliderLeftInputElm=T("input",{type:"range",className:"slider-filter-input",ariaLabel:this.columnFilter.ariaLabel??`${Qr(e+"")} Search Filter`,defaultValue:`${o}`,value:`${o}`,min:`${i}`,max:`${r}`,step:`${s}`}));let l=this.sliderType==="double"?a:o;this._sliderRightInputElm=T("input",{type:"range",className:"slider-filter-input",ariaLabel:this.columnFilter.ariaLabel??`${Qr(e+"")} Search Filter`,defaultValue:`${l}`,value:`${l}`,min:`${i}`,max:`${r}`,step:`${s}`});let c=this.filterOptions?.hideSliderNumber??this.filterOptions?.hideSliderNumbers,h=c?"":"input-group";if(this._divContainerFilterElm=T("div",{className:`${h} search-filter slick-filter slider-container slider-values filter-${e}`.trim()}),this._sliderRangeContainElm.appendChild(this._sliderTrackElm),this.sliderType==="double"&&this._sliderLeftInputElm&&this._sliderRangeContainElm.appendChild(this._sliderLeftInputElm),this._sliderRangeContainElm.appendChild(this._sliderRightInputElm),c)this._divContainerFilterElm.appendChild(this._sliderRangeContainElm);else{let m;this.sliderType==="compound"&&this._selectOperatorElm?(m=T("span",{className:"input-group-addon input-group-prepend operator"}),m.appendChild(this._selectOperatorElm)):this.sliderType==="double"&&(m=T("div",{className:"input-group-addon input-group-prepend slider-range-value"}),this._leftSliderNumberElm=T("span",{className:`input-group-text lowest-range-${e}`,textContent:`${o}`}),m.appendChild(this._leftSliderNumberElm));let f=T("div",{className:"input-group-addon input-group-append slider-range-value"});this._rightSliderNumberElm=T("span",{className:`input-group-text highest-range-${e}`,textContent:`${l}`},f),m&&this._divContainerFilterElm.appendChild(m),this._divContainerFilterElm.appendChild(this._sliderRangeContainElm),this._divContainerFilterElm.appendChild(f)}return this._sliderOptions={minValue:i,maxValue:r,step:s},this._currentValues=[o,a],Array.isArray(t)&&t.length>0&&t[0]!==""&&(this.updateFilterStyle(!0),this._currentValue=o),(this.filterOptions.sliderStartValue!==void 0||this.columnFilter.minValue!==void 0)&&(this._currentValue=o),this._argFilterContainerElm.appendChild(this._divContainerFilterElm),this.updateTrackFilledColorWhenEnabled(),this._bindEventService.bind(this._sliderTrackElm,"click",this.sliderTrackClicked.bind(this)),this._bindEventService.bind(this._sliderRightInputElm,["input","change"],this.slideRightInputChanged.bind(this)),this._bindEventService.bind(this._sliderRightInputElm,["change","mouseup","touchend"],this.onValueChanged.bind(this)),this.sliderType==="compound"&&this._selectOperatorElm?this._bindEventService.bind(this._selectOperatorElm,["change"],this.onValueChanged.bind(this)):this.sliderType==="double"&&this._sliderLeftInputElm&&(this._bindEventService.bind(this._sliderLeftInputElm,["input","change"],this.slideLeftInputChanged.bind(this)),this._bindEventService.bind(this._sliderLeftInputElm,["change","mouseup","touchend"],this.onValueChanged.bind(this))),this._divContainerFilterElm}getOperatorOptionValues(){let t;return this.columnFilter.compoundOperatorList?t=this.columnFilter.compoundOperatorList:t=Jd(this.gridOptions,this.translaterService),ec(this.gridOptions,t,"numeric"),t}onValueChanged(t){let e=parseInt(this._sliderRightInputElm?.value??"",10),i,r;if(this.sliderType==="compound"||this.sliderType==="single")t?.target?.tagName?.toLowerCase()!=="select"&&(this._currentValue=+e),i=this._currentValue,r=[i||"0"];else if(this.sliderType==="double"){let o=[parseInt(this._sliderLeftInputElm?.value??"",10),e];i=o.join(".."),r=o}if(this._clearFilterTriggered)this.updateFilterStyle(!1),this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,searchTerms:[],shouldTriggerQuery:this._shouldTriggerQuery});else{let s=this._selectOperatorElm?.value??this.operator;this.updateFilterStyle(i!=="");let o=this.columnFilter.skipCompoundOperatorFilterWithNullInput??this.gridOptions.skipCompoundOperatorFilterWithNullInput,a=o&&mt(this._currentValue)||!mt(this._currentValue)&&mt(this._lastSearchValue);(this.sliderType!=="compound"||!o||a)&&this.callback(t,{columnDef:this.columnDef,operator:s||"",searchTerms:r,shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.changeBothSliderFocuses(!1),this.grid.onHeaderRowMouseEnter.notify({column:this.columnDef,grid:this.grid},new Ct(t)),this._lastSearchValue=i}changeBothSliderFocuses(t){let e=t?"add":"remove";this._sliderLeftInputElm?.classList[e]("focus"),this._sliderRightInputElm?.classList[e]("focus")}slideLeftInputChanged(t){let e=parseInt(this._sliderLeftInputElm?.value??"",10),i=parseInt(this._sliderRightInputElm?.value??"",10);this._sliderLeftInputElm&&i-e<=(this.filterOptions?.stopGapBetweenSliderHandles??n_)&&(this._sliderLeftInputElm.value=String(e-(this.filterOptions?.stopGapBetweenSliderHandles??n_))),this._sliderLeftInputElm&&this._sliderRightInputElm&&(+this._sliderLeftInputElm.value>=+this._sliderRightInputElm.value-gU?(this._sliderLeftInputElm.style.zIndex="1",this._sliderRightInputElm.style.zIndex="0"):(this._sliderLeftInputElm.style.zIndex="0",this._sliderRightInputElm.style.zIndex="1")),this.sliderLeftOrRightChanged(t,"left",e,i)}slideRightInputChanged(t){let e=parseInt(this._sliderLeftInputElm?.value??"",10),i=parseInt(this._sliderRightInputElm?.value??"",10);this.sliderType==="double"&&this._sliderRightInputElm&&i-e<=(this.filterOptions?.stopGapBetweenSliderHandles??n_)&&(this._sliderRightInputElm.value=String(e+(this.filterOptions?.stopGapBetweenSliderHandles??n_))),this.sliderLeftOrRightChanged(t,"right",e,i)}sliderLeftOrRightChanged(t,e,i,r){let s=!0;this.updateTrackFilledColorWhenEnabled(),this.changeBothSliderFocuses(!0),this._sliderRangeContainElm.title=this.sliderType==="double"?`${i} - ${r}`:`${r}`,this.sliderType==="double"&&this._sliderLeftInputElm&&this._sliderRightInputElm&&(e==="left"&&i>r?(this._sliderLeftInputElm.value=`${r}`,s=!1):e==="right"&&i>r&&(this._sliderRightInputElm.value=`${i}`,s=!1)),(this.filterOptions?.hideSliderNumber??this.filterOptions?.hideSliderNumbers)||(this._leftSliderNumberElm?.textContent&&(this._leftSliderNumberElm.textContent=this._sliderLeftInputElm?.value??""),this._rightSliderNumberElm?.textContent&&(this._rightSliderNumberElm.textContent=this._sliderRightInputElm?.value??"")),s&&this.grid.onHeaderRowMouseEnter.notify({column:this.columnDef,grid:this.grid},new Ct(t))}sliderTrackClicked(t){t.preventDefault();let e=t.offsetX,i=this._sliderTrackElm.offsetWidth,r=(e+0)*100/i;this._sliderRightInputElm&&this.sliderType!=="double"?(this._sliderRightInputElm.value=`${r}`,this._sliderRightInputElm.dispatchEvent(new Event("change"))):this._sliderLeftInputElm&&this._sliderRightInputElm&&(r<=50?(this._sliderLeftInputElm.value=`${r}`,this._sliderLeftInputElm.dispatchEvent(new Event("change"))):(this._sliderRightInputElm.value=`${r}`,this._sliderRightInputElm.dispatchEvent(new Event("change"))))}updateTrackFilledColorWhenEnabled(){if(this.filterOptions?.enableSliderTrackColoring&&this._sliderRightInputElm){let t=0;this._sliderLeftInputElm&&(t=(+this._sliderLeftInputElm.value-+this._sliderLeftInputElm.min)/(this.sliderOptions?.maxValue??0-+this._sliderLeftInputElm.min)*100);let e=(+this._sliderRightInputElm.value-+this._sliderRightInputElm.min)/(this.sliderOptions?.maxValue??0-+this._sliderRightInputElm.min)*100,i="linear-gradient(to right, %b %p1, %c %p1, %c %p2, %b %p2)".replace(/%b/g,"#eee").replace(/%c/g,this.filterOptions?.sliderTrackFilledColor||this._sliderTrackFilledColor||Z0).replace(/%p1/g,`${t}%`).replace(/%p2/g,`${e}%`);this._sliderTrackElm.style.background=i,this._sliderOptions.sliderTrackBackground=i}}updateFilterStyle(t){t?(this._divContainerFilterElm.classList.add("filled"),this._filterElm?.classList.add("filled")):(this._divContainerFilterElm.classList.remove("filled"),this._filterElm?.classList.remove("filled"))}};var r_=class extends Wa{constructor(t){super(t),this.translaterService=t,this.sliderType="compound"}};var s_=class extends cc{constructor(t){super(t),this.translaterService=t,this.inputFilterType="range"}};var o_=class extends qn{constructor(t){super(t),this.translaterService=t,this._inputMask="",this.inputType="text"}get inputMask(){return this._inputMask}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this._cellContainerElm=t.filterContainerElm,this.columnDef?.params?.mask?this._inputMask=this.columnDef.params.mask:this.columnFilter?.params?.mask&&(this._inputMask=this.columnFilter.params.mask),!this._inputMask)throw new Error(`[Slickgrid-Universal] The Filters.inputMask requires the mask to be passed in the filter params or the column definition params
        for example:: this.columnDefinitions: [{ id: 'phone', field: 'phone', filter: { model: Filters.inputMask, params: { mask: '000-000-0000' }}}]`);let e=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.createDomFilterElement(e),this._bindEventService.bind(this._filterInputElm,["keyup","blur","change"],this.onTriggerEvent.bind(this))}onTriggerEvent(t,e=!1){let i="";if(t?.target?.value){let r=t?.target?.value??"",s=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;typeof r=="string"&&s&&(r=r.trim());let o=this.unmaskValue(r),a=this.maskValue(o);i=o,t?.keyCode>=48&&(this._filterInputElm.value=a,t.preventDefault())}e?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:e,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterInputElm.classList.remove("filled")):(this._filterInputElm.classList.add("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[i],shouldTriggerQuery:this._shouldTriggerQuery})),this._shouldTriggerQuery=!0}maskValue(t){let e=0,i="";return this._inputMask&&(i=this._inputMask.replace(/[09A]/gi,r=>((r==="0"||r==="9")&&/\d+/g.test(t[e])||r.toUpperCase()==="A"&&/[^\d]+/gi.test(t[e]))&&t[e++]||"")),i}unmaskValue(t){let e=t.replace(/[^0-9a-z]*/gi,""),i=this._inputMask.replace(/[^0-9a-z]*/gi,""),r="";for(let s=0;s<i.length;s++)e[s]&&((i[s]==="0"||i[s]==="9")&&/\d+/g.test(e[s])||i[s].toUpperCase()==="A"&&/[^\d]+/gi.test(e[s]))&&(r+=e[s]);return r}};var a_=class extends qn{constructor(t){super(t),this.translaterService=t,this.inputType="number"}};var l_=class extends qn{constructor(t){super(t),this.translaterService=t,this.inputType="password"}};var _U=Object.defineProperty,vU=(n,t,e)=>t in n?_U(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Qe=(n,t,e)=>vU(n,typeof t!="symbol"?t+"":t,e),bU=class{constructor(n){Qe(this,"_distinctEvent"),Qe(this,"_boundedEvents",[]),this._distinctEvent=n?.distinctEvent??!1}get boundedEvents(){return this._boundedEvents}dispose(){this.unbindAll(),this._boundedEvents=[]}bind(n,t,e,i,r=""){let s=Array.isArray(t)?t:[t];if(typeof n?.forEach=="function")n.forEach(o=>{for(let a of s)(!this._distinctEvent||this._distinctEvent&&!this.hasBinding(o,a))&&(o.addEventListener(a,e,i),this._boundedEvents.push({element:o,eventName:a,listener:e,groupName:r}))});else for(let o of s)(!this._distinctEvent||this._distinctEvent&&!this.hasBinding(n,o))&&(n.addEventListener(o,e,i),this._boundedEvents.push({element:n,eventName:o,listener:e,groupName:r}))}hasBinding(n,t){return this._boundedEvents.some(e=>e.element===n&&(!t||e.eventName===t))}unbind(n,t,e){if(n){let i=Array.isArray(n)?n:[n],r=Array.isArray(t)?t||"":[t||""];for(let s of i){e||(e=this._boundedEvents.find(o=>{if(o.element===s&&(!t||o.eventName===t))return o.listener}));for(let o of r)s?.removeEventListener?.(o,e)}}}unbindAll(n){if(n){let t=Array.isArray(n)?n:[n];for(let e=this._boundedEvents.length-1;e>=0;--e){let i=this._boundedEvents[e];if(t.some(r=>r===i.groupName)){let{element:r,eventName:s,listener:o}=i;this.unbind(r,s,o),this._boundedEvents.splice(e,1)}}}else for(;this._boundedEvents.length>0;){let t=this._boundedEvents.pop(),{element:e,eventName:i,listener:r}=t;this.unbind(e,i,r)}}},gI=typeof window<"u"&&window.multipleSelect!==void 0?window.multipleSelect:{locales:{}},yU={formatSelectAll(){return"[Select all]"},formatAllSelected(){return"All selected"},formatCountSelected(n,t){return`${n} of ${t} selected`},formatNoMatchesFound(){return"No matches found"},formatOkButton(){return"OK"}};gI.locales["en-US"]=yU;var _I=gI.locales,wU=50,CU=4,vI={name:"",placeholder:"",classes:"",classPrefix:"",data:void 0,locale:void 0,selectAll:!0,single:void 0,singleRadio:!1,multiple:!1,hideOptgroupCheckboxes:!1,multipleWidth:80,width:void 0,dropWidth:void 0,maxHeight:250,maxHeightUnit:"px",position:"bottom",displayValues:!1,displayTitle:!1,displayDelimiter:", ",minimumCountSelected:3,ellipsis:!1,isOpen:!1,keepOpen:!1,openOnHover:!1,container:null,filter:!1,filterGroup:!1,filterPlaceholder:"",filterAcceptOnEnter:!1,filterByDataLength:void 0,customFilter(n){let{text:t,label:e,search:i}=n;return(e||t||"").includes(i)},showClear:!1,autoAdjustDropHeight:!1,autoAdjustDropPosition:!1,autoAdjustDropWidthByTextSize:!1,adjustedHeightPadding:10,useSelectOptionLabel:!1,useSelectOptionLabelToHtml:!1,navigationHighlight:!0,infiniteScroll:!1,virtualScroll:!0,cssStyler:()=>null,textTemplate:n=>n.innerHTML.trim(),labelTemplate:n=>n.label,onOpen:()=>!1,onClose:()=>!1,onCheckAll:()=>!1,onUncheckAll:()=>!1,onFocus:()=>!1,onBlur:()=>!1,onOptgroupClick:()=>!1,onBeforeClick:()=>!0,onClick:()=>!1,onFilter:()=>!1,onFilterClear:()=>!1,onClear:()=>!1,onAfterCreate:()=>!1,onDestroy:()=>!1,onAfterDestroy:()=>!1,onDestroyed:()=>!1},SU=["init","getOptions","refreshOptions","getSelects","setSelects","enable","disable","open","close","check","uncheck","checkAll","uncheckAll","checkInvert","focus","blur","refresh","destroy"];Object.assign(vI,_I["en-US"]);var EU={BLOCK_ROWS:wU,CLUSTER_BLOCKS:CU,DEFAULTS:vI,METHODS:SU},Ls=EU;function xU(n,t,e=!1){let i=Object.keys(n),r=Object.keys(t);if(e&&i.length!==r.length)return!1;for(let s of i)if(r.includes(s)&&n[s]!==t[s])return!1;return!0}function rw(n){let t=()=>{let r={};for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=rw(n[s]));return r},e=()=>n.map(r=>rw(r)),i=Object.prototype.toString.call(n).slice(8,-1).toLowerCase();return i==="object"?t():i==="array"?e():n}function J0(n){return n!=null&&n!==""}function kU(n,t){return typeof n=="object"?Object.fromEntries(t?Object.entries(n).filter(([e,i])=>!J0(i)&&!t.includes(e)||J0(i)):Object.entries(n).filter(([e,i])=>J0(i))):n}function DU(n){let t=0;return n.forEach((e,i)=>{e.type==="optgroup"?(e._key=`group_${i}`,e.visible=typeof e.visible>"u"?!0:e.visible,e.children.forEach((r,s)=>{r&&(r.visible=typeof r?.visible>"u"?!0:r.visible,r.divider||(r._key=`option_${i}_${s}`,t+=1))})):(e.visible=typeof e.visible>"u"?!0:e.visible,e.divider||(e._key=`option_${i}`,t+=1))}),t}function d_(n,t,e){if(Array.isArray(n))for(let i of n){if(i[t]===e||i[t]===`${+i[t]}`&&+i[t]===e)return i;if(i.type==="optgroup"){for(let r of i.children)if(r&&(r[t]===e||r[t]===`${+r[t]}`&&+r[t]===e))return r}}}function TU(n){return n.replace(/(\b)(on[a-z]+)(\s*)=([^>]*)|javascript:([^>]*)[^>]*|(<\s*)(\/*)script([<>]*).*(<\s*)(\/*)script(>*)|(&lt;|&#60;)(\/*)(script|script defer)(.*)(&#62;|&gt;|&gt;">)/gi,"")}function ew(n){return Object.keys(n).forEach(t=>n[t]===void 0?delete n[t]:""),n}function fc(n,t){if(typeof n!="string")return n;if(typeof t=="function")return t(n);if(typeof n.normalize=="function")return n.normalize("NFD").replace(/[\u0300-\u036F]/g,"");throw new Error("[Multiple-Select-Vanilla] `normalize()` function is not defined, you can optionally provide a custom parser via the `diacriticParser` option.")}function tw(n){let t=0,e=0,i=0,r=0,s=window.innerHeight??0,o=window.innerWidth??0,a=AU(),l=a.top,c=a.left,h=ow(n);if(h){let m=h.top??0,f=h.left??0;e=m-l,t=s-(m-l),i=f-c,r=o-(f-c)}return{top:e,bottom:t,left:i,right:r}}function iw(n=""){return n.split(" ").filter(t=>t)}function rr(n,t,e){let i=document.createElement(n);return t&&Object.keys(t).forEach(r=>{let s=t[r];typeof s=="object"?Object.assign(i[r],s):i[r]=t[r]}),e?.appendChild&&e.appendChild(i),i}function bI(n,t,e){let i=n.props?.innerHTML?OU(n.props,"innerHTML"):n.props,r=rr(n.tagName,kU(i,["className","title","style"]),t),s=e;if(s||(s=r),n.props.innerHTML&&(r.innerHTML=n.props.innerHTML),n.attrs)for(let o of Object.keys(n.attrs))r.setAttribute(o,n.attrs[o]);if(n.children)for(let o of n.children)bI(o,r,s);return t?.appendChild(r),r}function sw(n){return n.hasOwnProperty("tagName")?bI(n):document.createElement("li")}function h_(n){for(;n?.firstChild;)n.lastChild&&n.removeChild(n.lastChild);return n}function ow(n){if(!n)return;let t=n?.getBoundingClientRect?.(),e=0,i=0,r=0,s=0;return t?.top!==void 0&&t.left!==void 0&&(e=t.top+window.pageYOffset,i=t.left+window.pageXOffset,s=t.right,r=t.bottom),{top:e,left:i,bottom:r,right:s}}function c_(n,t,e){if(!n)return 0;let i=Number.parseFloat(n.style[e]);if(!i||Number.isNaN(i)){switch(t){case"outer":i=n[e==="width"?"offsetWidth":"offsetHeight"];break;case"scroll":i=n[e==="width"?"scrollWidth":"scrollHeight"];break;case"inner":default:i=n[e==="width"?"clientWidth":"clientHeight"];break}i=n.getBoundingClientRect()[e]}if(!i||Number.isNaN(i)){let r=n.style.display,s=n.style.position;n.style.display="block",n.style.position="absolute";let o=window.getComputedStyle(n)[e];i=Number.parseFloat(o),Number.isNaN(i)&&(i=0),n.style.display=r,n.style.position=s}return i||0}function pI(n,t){let e=null,i=n?.parentElement;for(;i;){let[r,s,o,a]=t.match(/^([a-z]*)([#.]{1})([a-z\-]+)$/i)||[];if(o&&a)for(let l of a.replace(o,"").split(" "))i.classList.contains(l)&&(s?i?.tagName.toLowerCase()===s&&(e=i):e=i);i=i.parentElement}return e}function IU(n,t){n.parentNode?.insertBefore(t,n.nextSibling)}function OU(n,t){let r=n,{[t]:e}=r;return yv(r,[jC(t)])}function fI(n,t){n?.style&&(n.style.display=n.style.display==="none"&&t!==!1||t===!0?"block":"none")}function AU(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}var MU=class{constructor(n){Qe(this,"clusterRows"),Qe(this,"cache"),Qe(this,"scrollEl"),Qe(this,"blockHeight"),Qe(this,"clusterHeight"),Qe(this,"contentEl"),Qe(this,"parentEl"),Qe(this,"itemHeight"),Qe(this,"lastCluster"),Qe(this,"scrollTop"),Qe(this,"dataStart"),Qe(this,"dataEnd"),Qe(this,"rows"),Qe(this,"destroy"),Qe(this,"callback"),Qe(this,"sanitizer"),this.rows=n.rows,this.scrollEl=n.scrollEl,this.contentEl=n.contentEl,this.parentEl=n.contentEl?.parentElement,this.callback=n.callback,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;let t=()=>{this.lastCluster!==(this.lastCluster=this.getNum())&&(this.initDOM(this.rows),this.callback())};this.scrollEl.addEventListener("scroll",t,!1),this.destroy=()=>{this.scrollEl.removeEventListener("scroll",t,!1),h_(this.contentEl)}}reset(n){this.lastCluster=0,this.cache={},h_(this.contentEl),this.initDOM(n)}initDOM(n){if(typeof this.clusterHeight>"u"){this.cache.scrollTop=this.scrollEl.scrollTop;let s=sw(n[0]);this.contentEl.appendChild(s),this.contentEl.appendChild(s),this.contentEl.appendChild(s),this.cache.data=[n[0]],this.getRowsHeight()}let t=this.initData(n,this.getNum()),e=this.checkChanges("data",t.rows),i=this.checkChanges("top",t.topOffset),r=this.checkChanges("bottom",t.bottomOffset);h_(this.contentEl),e&&i?(t.topOffset&&this.contentEl.appendChild(this.getExtra("top",t.topOffset)),t.rows.forEach(s=>this.contentEl.appendChild(sw(s))),t.bottomOffset&&this.contentEl.appendChild(this.getExtra("bottom",t.bottomOffset))):r&&this.contentEl.lastChild&&(this.contentEl.lastChild.style.height=`${t.bottomOffset}px`)}getRowsHeight(){if(typeof this.itemHeight>"u"){let n=this.parentEl?.style.display||"";this.parentEl&&(n===""||n==="none")&&(this.parentEl.style.display="block");let t=this.contentEl.children,e=t[Math.floor(t.length/2)];this.itemHeight=e.offsetHeight,this.parentEl&&(this.parentEl.style.display=n)}this.blockHeight=this.itemHeight*Ls.BLOCK_ROWS,this.clusterRows=Ls.BLOCK_ROWS*Ls.CLUSTER_BLOCKS,this.clusterHeight=this.blockHeight*Ls.CLUSTER_BLOCKS}getNum(){this.scrollTop=this.scrollEl.scrollTop;let n=(this.clusterHeight||0)-(this.blockHeight||0);return n&&Math.floor(this.scrollTop/n)||0}initData(n,t){if(n.length<Ls.BLOCK_ROWS)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:n};let e=Math.max((this.clusterRows-Ls.BLOCK_ROWS)*t,0),i=e+this.clusterRows,r=Math.max(e*this.itemHeight,0),s=Math.max((n.length-i)*this.itemHeight,0),o=[],a=e;r<1&&a++;for(let l=e;l<i;l++)n[l]&&o.push(n[l]);return this.dataStart=e,this.dataEnd=i,{topOffset:r,bottomOffset:s,rowsAbove:a,rows:o}}checkChanges(n,t){let e=t!==this.cache[n];return this.cache[n]=t,e}getExtra(n,t){let e=document.createElement("li");return e.className=`virtual-scroll-${n}`,t&&(e.style.height=`${t}px`),e}},em=".ms-select-all, ul li[data-key]",RU=".ms-select-all.highlighted, ul li[data-key].highlighted",FU=class{constructor(n,t){this.elm=n,Qe(this,"_bindEventService"),Qe(this,"isAllSelected",!1),Qe(this,"isPartiallyAllSelected",!1),Qe(this,"fromHtml",!1),Qe(this,"choiceElm"),Qe(this,"selectClearElm"),Qe(this,"closeElm"),Qe(this,"clearSearchIconElm"),Qe(this,"filterText",""),Qe(this,"updateData",[]),Qe(this,"data",[]),Qe(this,"dataTotal"),Qe(this,"dropElm"),Qe(this,"okButtonElm"),Qe(this,"filterParentElm"),Qe(this,"lastFocusedItemKey",""),Qe(this,"lastMouseOverPosition",""),Qe(this,"ulElm"),Qe(this,"parentElm"),Qe(this,"labelElm"),Qe(this,"selectAllParentElm"),Qe(this,"selectAllElm"),Qe(this,"searchInputElm"),Qe(this,"selectGroupElms"),Qe(this,"selectItemElms"),Qe(this,"noResultsElm"),Qe(this,"options"),Qe(this,"selectAllName",""),Qe(this,"selectGroupName",""),Qe(this,"selectItemName",""),Qe(this,"scrolledByMouse",!1),Qe(this,"openDelayTimer"),Qe(this,"updateDataStart"),Qe(this,"updateDataEnd"),Qe(this,"virtualScroll"),Qe(this,"_currentHighlightIndex",-1),Qe(this,"_currentSelectedElm"),Qe(this,"isMoveUpRecalcRequired",!1),Qe(this,"locales",{}),this.options=Object.assign({},Ls.DEFAULTS,this.elm.dataset,t),this._bindEventService=new bU({distinctEvent:!0})}get isRenderAsHtml(){return this.options.renderOptionLabelAsHtml||this.options.useSelectOptionLabelToHtml}init(){this.initLocale(),this.initContainer(),this.initData(),this.initSelected(!0),this.initFilter(),this.initDrop(),this.initView(),this.options.onAfterCreate()}destroy(n=!0){this.elm&&this.parentElm&&(this.options.onDestroy({hardDestroy:n}),n&&this.options.onHardDestroy(),this.elm.parentElement&&this.parentElm.parentElement&&this.elm.parentElement.insertBefore(this.elm,this.parentElm.parentElement.firstChild),this.elm.classList.remove("ms-offscreen"),this._bindEventService.unbindAll(),this.virtualScroll?.destroy(),this.dropElm?.remove(),this.dropElm=void 0,this.parentElm.parentNode?.removeChild(this.parentElm),this.fromHtml&&(delete this.options.data,this.fromHtml=!1),this.options.onAfterDestroy({hardDestroy:n}),n&&(this.options.onAfterHardDestroy?.(),Object.keys(this.options).forEach(t=>delete this[t])))}initLocale(){if(this.options.locale){if(typeof this.options.locale=="object"){Object.assign(this.options,this.options.locale);return}let n=window.multipleSelect.locales,t=this.options.locale.split(/-|_/);if(t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),n[this.options.locale])Object.assign(this.options,n[this.options.locale]);else if(n[t.join("-")])Object.assign(this.options,n[t.join("-")]);else if(n[t[0]])Object.assign(this.options,n[t[0]]);else throw new Error(`[multiple-select-vanilla] invalid locales "${this.options.locale}", make sure to import it before using it`)}}initContainer(){let n=this.elm.getAttribute("name")||this.options.name||"";this.options.classes&&this.elm.classList.add(this.options.classes),this.options.classPrefix&&(this.elm.classList.add(this.options.classPrefix),this.options.size&&this.elm.classList.add(`${this.options.classPrefix}-${this.options.size}`)),this.elm.style.display="none",this.labelElm=this.elm.closest("label"),!this.labelElm&&this.elm.id&&(this.labelElm=document.createElement("label"),this.labelElm.htmlFor=this.elm.id),this.labelElm?.querySelector("input")&&(this.labelElm=null),typeof this.options.single>"u"&&(this.options.single=!this.elm.multiple),this.parentElm=rr("div",{className:iw(`ms-parent ${this.elm.className||""} ${this.options.classes}`).join(" "),dataset:{test:"sel"}}),this.options.darkMode&&this.parentElm.classList.add("ms-dark-mode");let t=this.elm.getAttribute("title")||"";t&&(this.parentElm.title=t),this.options.placeholder=this.options.placeholder||this.elm.getAttribute("placeholder")||"",this.choiceElm=rr("button",{className:"ms-choice",type:"button"},this.parentElm),this.options.labelId&&(this.choiceElm.id=this.options.labelId,this.choiceElm.setAttribute("aria-labelledby",this.options.labelId)),this.choiceElm.appendChild(rr("span",{className:"ms-placeholder",textContent:this.options.placeholder})),this.options.showClear&&(this.selectClearElm=rr("div",{className:"ms-icon ms-icon-close"}),this.selectClearElm.style.display="none",this.choiceElm.appendChild(this.selectClearElm)),this.choiceElm.appendChild(rr("div",{className:"ms-icon ms-icon-caret"})),this.dropElm=rr("div",{className:`ms-drop ${this.options.position}`,ariaExpanded:"false"},this.parentElm),this.options.darkMode&&this.dropElm.classList.add("ms-dark-mode"),n&&(this.dropElm.dataset.name=n);let e=this.elm.getAttribute("data-test")||this.options.dataTest;e&&(this.parentElm.dataset.test=e,this.dropElm.dataset.test=e),this.closeElm=this.choiceElm.querySelector(".ms-icon-close"),this.options.dropWidth&&(this.dropElm.style.width=typeof this.options.dropWidth=="string"?this.options.dropWidth:`${this.options.dropWidth}px`),IU(this.elm,this.parentElm),this.elm.disabled&&(this.choiceElm.classList.add("disabled"),this.choiceElm.disabled=!0),this.selectAllName=`selectAll${n}`,this.selectGroupName=`selectGroup${n}`,this.selectItemName=`selectItem${n}`,this.options.keepOpen||(this._bindEventService.unbindAll("body-click"),this._bindEventService.bind(document.body,"click",i=>{this.getEventTarget(i)===this.choiceElm||pI(this.getEventTarget(i),".ms-choice")===this.choiceElm||(this.getEventTarget(i)===this.dropElm||pI(this.getEventTarget(i),".ms-drop")!==this.dropElm&&this.getEventTarget(i)!==this.elm)&&this.options.isOpen&&this.close("body.click")},void 0,"body-click"))}initData(){let n=[];if(this.options.data){if(Array.isArray(this.options.data))this.data=this.options.data.map(t=>typeof t=="string"||typeof t=="number"?{text:t,value:t}:t);else if(typeof this.options.data=="object"){for(let[t,e]of Object.entries(this.options.data))n.push({value:t,text:`${e}`});this.data=n}}else this.elm.childNodes.forEach(t=>{let e=this.initRow(t);e&&n.push(e)}),this.options.data=n,this.data=n,this.fromHtml=!0;this.dataTotal=DU(this.data||[])}initRow(n,t){let e={};return n.tagName?.toLowerCase()==="option"?(e.type="option",e.text=this.options.textTemplate(n),e.value=n.value,e.visible=!0,e.selected=!!n.selected,e.disabled=t||n.disabled,e.classes=n.getAttribute("class")||"",e.title=n.getAttribute("title")||"",n.dataset.value&&(e._value=n.dataset.value),Object.keys(n.dataset).length&&(e._data=n.dataset,e._data.divider&&(e.divider=e._data.divider)),e):n.tagName?.toLowerCase()==="optgroup"?(e.type="optgroup",e.label=this.options.labelTemplate(n),e.visible=!0,e.selected=!!n.selected,e.disabled=n.disabled,e.children=[],Object.keys(n.dataset).length&&(e._data=n.dataset),n.childNodes.forEach(i=>{e.children.push(this.initRow(i,e.disabled))}),e):null}initDrop(){this.initList(),this.update(!0),this.options.isOpen&&this.open(10),this.options.openOnHover&&this.parentElm&&(this._bindEventService.bind(this.parentElm,"mouseover",()=>this.open(null)),this._bindEventService.bind(this.parentElm,"mouseout",()=>this.close("hover.mouseout")))}initFilter(){if(this.filterText="",this.options.filter||!this.options.filterByDataLength)return;let n=0;for(let t of this.data||[])t.type==="optgroup"?n+=t.children.length:n+=1;this.options.filter=n>this.options.filterByDataLength}initList(){if(this.options.filter&&(this.filterParentElm=rr("div",{className:"ms-search"},this.dropElm),this.filterParentElm.appendChild(rr("input",{autocomplete:"off",autocapitalize:"off",spellcheck:!1,type:"text",placeholder:this.options.filterPlaceholder||"\u{1F50E}\uFE0E"})),this.options.showSearchClear&&this.filterParentElm.appendChild(rr("span",{className:"ms-icon ms-icon-close"}))),this.options.selectAll&&!this.options.single){let n=this.elm.getAttribute("name")||this.options.name||"";this.selectAllParentElm=rr("div",{className:"ms-select-all",dataset:{key:"select_all"}});let t=document.createElement("label"),e=`ms-icon ${this.isAllSelected?"ms-icon-check":this.isPartiallyAllSelected?"ms-icon-minus":"ms-icon-uncheck"}`,i=rr("div",{className:"icon-checkbox-container"},t);rr("input",{type:"checkbox",ariaChecked:String(this.isAllSelected),checked:this.isAllSelected,dataset:{name:`selectAll${n}`}},i),rr("div",{className:e},i),t.appendChild(rr("span",{textContent:this.formatSelectAll()})),this.selectAllParentElm.appendChild(t),this.dropElm?.appendChild(this.selectAllParentElm)}this.ulElm=document.createElement("ul"),this.ulElm.role="combobox",this.ulElm.ariaExpanded="false",this.ulElm.ariaMultiSelectable=String(!this.options.single),this.dropElm?.appendChild(this.ulElm),this.options.showOkButton&&!this.options.single&&(this.okButtonElm=rr("button",{className:"ms-ok-button",type:"button",textContent:this.formatOkButton()},this.dropElm)),this.initListItems()}initListItems(){let n=0,t=this.getListRows();if(this.options.selectAll&&!this.options.single&&(n=-1),t.length>Ls.BLOCK_ROWS*Ls.CLUSTER_BLOCKS){let e=this.dropElm&&this.dropElm?.style.display!=="none";!e&&this.dropElm&&(this.dropElm.style.left="-10000",this.dropElm.style.display="block",this.dropElm.ariaExpanded="true");let i=()=>{if(this.virtualScroll){this._currentHighlightIndex=0,this.updateDataStart=this.virtualScroll.dataStart+n,this.updateDataEnd=this.virtualScroll.dataEnd+n,this.updateDataStart<0&&(this.updateDataStart=0,this._currentHighlightIndex=0);let r=this.getDataLength();this.updateDataEnd>r&&(this.updateDataEnd=r),this.ulElm&&(this.isMoveUpRecalcRequired?this.recalculateArrowMove("up"):this.virtualScroll.dataStart>this.updateDataStart&&this.recalculateArrowMove("down"))}};this.ulElm&&(this.virtualScroll?this.virtualScroll.reset(t):this.virtualScroll=new MU({rows:t,scrollEl:this.ulElm,contentEl:this.ulElm,sanitizer:this.options.sanitizer,callback:()=>{i(),this.events()}})),i(),!e&&this.dropElm&&(this.dropElm.style.left="0",this.dropElm.style.display="none",this.dropElm.ariaExpanded="false")}else this.ulElm&&(h_(this.ulElm),t.forEach(e=>this.ulElm.appendChild(sw(e)))),this.updateDataStart=0,this.updateDataEnd=this.updateData.length;return this.events(),t}getEventTarget(n){return n.composedPath?n.composedPath()[0]:n.target}getListRows(){let n=[];return this.updateData=[],this.data?.forEach(t=>n.push(...this.initListItem(t))),this.options.infiniteScroll&&n.push({tagName:"li",props:{className:"ms-infinite-option",role:"option"}}),n.push({tagName:"li",props:{className:"ms-no-results",textContent:this.formatNoMatchesFound()}}),n}initListItem(n,t=0){let e=n?.title||"",i=this.options.multiple?"multiple":"",r=this.options.single?"radio":"checkbox",s=!!n?.selected,o=this.options.single&&!this.options.singleRadio,a="";if(!n?.visible)return[];if(this.updateData.push(n),o&&(a="hide-radio "),n.selected&&(a+="selected "),n.type==="optgroup"){let x=[],E;if(this.options.hideOptgroupCheckboxes||this.options.single)E={tagName:"span",props:{dataset:{name:this.selectGroupName,key:n._key}}};else{let V={tagName:"input",props:{type:"checkbox",dataset:{name:this.selectGroupName,key:n._key},checked:s,disabled:n.disabled}};o?E=V:E={tagName:"div",props:{className:`icon-checkbox-container${r==="radio"?" radio":""}`},children:[V,{tagName:"div",props:{className:`ms-icon ${s?r==="radio"?"ms-icon-radio":"ms-icon-check":"ms-icon-uncheck"}`}}]}}!a.includes("hide-radio")&&(this.options.hideOptgroupCheckboxes||this.options.single)&&(a+="hide-radio ");let I={tagName:"span",props:{}};this.applyAsTextOrHtmlWhenEnabled(I.props,n.label);let N={tagName:"li",props:{className:iw(`group${this.options.single||n.disabled?" disabled":""} ${a}`).join(" "),role:"option",ariaSelected:String(s),dataset:{key:n._key}},children:[{tagName:"label",props:{className:iw(`optgroup${this.options.single||n.disabled?" disabled":""}`).join(" ")},children:[E,I]}]},L=this.options.cssStyler(n);return L&&(N.props.style=L),x.push(N),n.children.forEach(V=>x.push(...this.initListItem(V,1))),x}if(a+=n.classes||"",t&&this.options.single&&(a+=`option-level-${t} `),n.divider)return[{tagName:"li",props:{className:"option-divider"}}];let l=i||a?(i+a).trim():"";n.disabled&&(l+=" disabled");let c=`${n.disabled?"disabled":""}`,h={tagName:"span",props:{}};this.applyAsTextOrHtmlWhenEnabled(h.props,n.text);let m={tagName:"input",props:{type:r,value:encodeURI(n.value),dataset:{key:n._key,name:this.selectItemName},checked:s,disabled:!!n.disabled}};n.selected&&(m.attrs={checked:"checked"});let f={tagName:"div",props:{className:`icon-checkbox-container${r==="radio"?" radio":""}`},children:[m,{tagName:"div",props:{className:`ms-icon ${m.props.checked?r==="radio"?"ms-icon-radio":"ms-icon-check":"ms-icon-uncheck"}`}}]},v={tagName:"li",props:{role:"option",title:e,ariaSelected:String(s),dataset:{key:n._key}},children:[{tagName:"label",props:{className:c},children:[o?m:f,h]}]};l&&(v.props.className=l);let C=this.options.cssStyler(n);return C&&(v.props.style=C),[v]}initSelected(n=!1){let t=0;for(let e of this.data||[])if(e.type==="optgroup"){let i=e.children.filter(r=>r?.selected&&!r.disabled&&r.visible).length;e.children.length&&(e.selected=!this.options.single&&i&&i===e.children.filter(r=>r&&!r.disabled&&r.visible&&!r.divider).length),t+=i}else t+=e.selected&&!e.disabled&&e.visible?1:0;this.isAllSelected=this.data?.filter(e=>e.selected&&!e.disabled&&e.visible).length===this.data?.filter(e=>!e.disabled&&e.visible&&!e.divider).length,this.isPartiallyAllSelected=!this.isAllSelected&&t>0,n||(this.isAllSelected?this.options.onCheckAll():t===0&&this.options.onUncheckAll())}initView(){let n;window.getComputedStyle?(n=window.getComputedStyle(this.elm).width,n==="auto"&&(n=c_(this.dropElm,"outer","width")+20)):n=c_(this.elm,"outer","width")+20,this.parentElm.style.width=`${this.options.width||n}px`,this.elm.classList.add("ms-offscreen")}events(){this._bindEventService.unbindAll(["ok-button","search-input","select-all-checkbox","input-checkbox-list","group-checkbox-list","hover-highlight","arrow-highlight","option-list-scroll"]),this.clearSearchIconElm=this.filterParentElm?.querySelector(".ms-icon-close"),this.searchInputElm=this.dropElm?.querySelector(".ms-search input"),this.selectAllElm=this.dropElm?.querySelector(`input[data-name="${this.selectAllName}"]`),this.selectGroupElms=this.dropElm?.querySelectorAll(`input[data-name="${this.selectGroupName}"],span[data-name="${this.selectGroupName}"]`),this.selectItemElms=this.dropElm?.querySelectorAll(`input[data-name="${this.selectItemName}"]:enabled`),this.noResultsElm=this.dropElm?.querySelector(".ms-no-results");let n=t=>{t.preventDefault(),!this.getEventTarget(t).classList.contains("ms-icon-close")&&(this.options.isOpen?this.close("toggle.close"):this.open())};this.labelElm&&this._bindEventService.bind(this.labelElm,"click",t=>{this.getEventTarget(t).nodeName.toLowerCase()==="label"&&(n(t),(!this.options.filter||!this.options.isOpen)&&this.focus(),t.stopPropagation())}),this._bindEventService.bind(this.choiceElm,"click",n),this.options.onFocus&&this._bindEventService.bind(this.choiceElm,"focus",this.options.onFocus),this.options.onBlur&&this._bindEventService.bind(this.choiceElm,"blur",this.options.onBlur),this._bindEventService.bind(this.parentElm,"keydown",t=>{t.code==="Escape"&&this.handleEscapeKey()}),this.closeElm&&this._bindEventService.bind(this.closeElm,"click",t=>{t.preventDefault(),this._checkAll(!1,!0),this.initSelected(!1),this.updateSelected(),this.update(),this.options.onClear()}),this.clearSearchIconElm&&this._bindEventService.bind(this.clearSearchIconElm,"click",t=>{t.preventDefault(),this.searchInputElm&&(this.searchInputElm.value="",this.searchInputElm.focus()),this._currentHighlightIndex=-1,this.moveHighlightDown(),this.filter(),this.options.onFilterClear()}),this.searchInputElm&&(this._bindEventService.bind(this.searchInputElm,"keydown",t=>{t.code==="Tab"&&t.shiftKey&&this.close("key.shift+tab")},void 0,"search-input"),this._bindEventService.bind(this.searchInputElm,"keyup",t=>{if(this.options.filterAcceptOnEnter&&["Enter","Space"].includes(t.code)&&this.searchInputElm?.value){if(this.options.single){let e=[];this.selectItemElms?.forEach(i=>{i.closest("li")?.style.display!=="none"&&e.push(i)}),e.length&&e[0].hasAttribute("data-name")&&this.setSelects([e[0].value])}else this.selectAllElm?.click();this.close(`key.${t.code.toLowerCase()}`),this.focus();return}this.filter()},void 0,"search-input")),this.selectAllElm&&this._bindEventService.bind(this.selectAllElm,"click",t=>this._checkAll(t.currentTarget?.checked),void 0,"select-all-checkbox"),this.okButtonElm&&this._bindEventService.bind(this.okButtonElm,"click",t=>{n(t),t.stopPropagation()},void 0,"ok-button"),this.selectGroupElms&&this._bindEventService.bind(this.selectGroupElms,"click",t=>{let e=t.currentTarget,i=e.checked,r=d_(this.data,"_key",e.dataset.key);this._checkGroup(r,i),this.options.onOptgroupClick(ew({label:r.label,selected:r.selected,data:r._data,children:r.children.map(s=>{if(s)return ew({text:s.text,value:s.value,selected:s.selected,disabled:s.disabled,data:s._data})})}))},void 0,"group-checkbox-list"),this.selectItemElms&&this._bindEventService.bind(this.selectItemElms,"click",t=>{let e=t.currentTarget,i=e.checked,r=d_(this.data,"_key",e.dataset.key),s=()=>{this.options.single&&this.options.isOpen&&!this.options.keepOpen&&this.close("selection")};if(this.options.onBeforeClick(r)===!1){s();return}this._check(r,i),this.options.onClick(ew({text:r.text,value:r.value,selected:r.selected,data:r._data})),s()},void 0,"input-checkbox-list"),this.lastFocusedItemKey&&this.dropElm&&this.dropElm.querySelector(`li[data-key=${this.lastFocusedItemKey}]`)?.focus(),this.options.navigationHighlight&&this.dropElm&&(this._bindEventService.bind(this.dropElm,"mouseover",t=>{let e=this.getEventTarget(t).closest(".ms-select-all")||this.getEventTarget(t).closest("li");if(this.dropElm?.contains(e)&&this.lastMouseOverPosition!==`${t.clientX}:${t.clientY}`){let i=this.dropElm?.querySelectorAll(em)||[],r=Array.from(i).findIndex(s=>s.dataset.key===e.dataset.key);this._currentHighlightIndex!==r&&!e.classList.contains("disabled")&&(this._currentSelectedElm=e,this._currentHighlightIndex=r,this.changeCurrentOptionHighlight(e))}this.lastMouseOverPosition=`${t.clientX}:${t.clientY}`},void 0,"hover-highlight"),this._bindEventService.bind(this.dropElm,"keydown",t=>{switch(t.key){case"ArrowUp":t.preventDefault(),this.moveHighlightUp();break;case"ArrowDown":t.preventDefault(),this.moveHighlightDown();break;case"Escape":this.handleEscapeKey();break;case"Enter":case" ":{if(document.activeElement!==this.okButtonElm){let e=this.getEventTarget(t).closest(".ms-select-all")||this.getEventTarget(t).closest("li");if(t.key===" "&&this.options.filter||this.options.filterAcceptOnEnter&&!e)return;t.preventDefault(),this._currentSelectedElm?.querySelector("input")?.click(),this.options.single&&(this.choiceElm.focus(),this.lastFocusedItemKey=this.choiceElm?.dataset.key||"")}break}case"Tab":{t.preventDefault(),t.shiftKey?document.activeElement===this.okButtonElm?(this.focusSelectAllOrList(),this.highlightCurrentOption()):(this.close("key.shift+tab"),this.choiceElm.focus()):(this.changeCurrentOptionHighlight(),this.okButtonElm?.focus());break}}},void 0,"arrow-highlight")),this.ulElm&&this.options.infiniteScroll&&this._bindEventService.bind(this.ulElm,"scroll",this.infiniteScrollHandler.bind(this),void 0,"option-list-scroll")}handleEscapeKey(){this.options.keepOpen||(this.close("key.escape"),this.choiceElm.focus())}infiniteScrollHandler(n,t,e){let i=!1;n&&this.getEventTarget(n)&&this.ulElm&&this.scrolledByMouse?this.getEventTarget(n).scrollTop+this.getEventTarget(n).clientHeight===this.ulElm.scrollHeight&&(i=!0):t!==void 0&&t+1===e&&(i=!0),i&&this.ulElm&&(this.virtualScroll?this.initListItems():this.ulElm.scrollTop=0,this._currentHighlightIndex=0,this.highlightCurrentOption())}open(n=0){return new Promise(t=>{n!==null&&n>=0?(window.clearTimeout(this.openDelayTimer),this.openDelayTimer=window.setTimeout(()=>{this.openDrop(),t()},n)):(this.openDrop(),t())})}openDrop(){if(!this.dropElm||this.choiceElm?.classList.contains("disabled"))return;if(this.options.isOpen=!0,this.parentElm.classList.add("ms-parent-open"),this.choiceElm?.querySelector("div.ms-icon-caret")?.classList.add("open"),this.dropElm.style.display="block",this.dropElm.ariaExpanded="true",this.selectAllElm?.parentElement&&(this.selectAllElm.parentElement.style.display="inline-flex"),this.noResultsElm&&(this.noResultsElm.style.display="none"),this.getDataLength()||(this.selectAllElm?.parentElement&&(this.selectAllElm.parentElement.style.display="none"),this.noResultsElm&&(this.noResultsElm.style.display="block")),this.options.container){let i=ow(this.dropElm),r;this.options.container instanceof Node?r=this.options.container:typeof this.options.container=="string"&&(r=this.options.container==="body"?document.body:document.querySelector(this.options.container)),r.appendChild(this.dropElm),this.dropElm.style.top=`${i?.top??0}px`,this.dropElm.style.left=`${i?.left??0}px`,this.dropElm.style.minWidth="auto",this.dropElm.style.width=`${c_(this.parentElm,"outer","width")}px`}let n=this.options.minHeight,t=this.options.maxHeight;this.options.maxHeightUnit==="row"&&(t=c_(this.dropElm.querySelector("ul>li"),"outer","height")*this.options.maxHeight),this.ulElm??=this.dropElm.querySelector("ul"),this.ulElm&&(n&&(this.ulElm.style.minHeight=`${n}px`),this.ulElm.style.maxHeight=`${t}px`),this.dropElm.querySelectorAll(".multiple").forEach(i=>{i.style.width=`${this.options.multipleWidth}px`}),this.getDataLength()&&this.options.filter?(this.searchInputElm&&(this.searchInputElm.value="",this.searchInputElm.focus()),this.filter(!0)):this.focusSelectAllOrList(),this._currentHighlightIndex<0?this.moveHighlightDown():this.highlightCurrentOption(),this.options.autoAdjustDropWidthByTextSize&&this.adjustDropWidthByText();let e=this.options.position;if(this.options.autoAdjustDropHeight){if(this.options.autoAdjustDropPosition){let{bottom:i,top:r}=tw(this.dropElm),s=this.dropElm.getBoundingClientRect().height;e=i<s&&r>i?"top":"bottom"}this.adjustDropHeight(e)}this.options.autoAdjustDropPosition&&this.adjustDropPosition(!0),this.options.onOpen()}focusSelectAllOrList(){this.selectAllElm?this.selectAllElm.focus():this.ulElm&&(this.ulElm.tabIndex=0,this.ulElm.focus())}highlightCurrentOption(){let n=this.dropElm?.querySelectorAll(em)||[];if(this._currentHighlightIndex<=n.length){let t=n[this._currentHighlightIndex];t&&(this.lastFocusedItemKey=t.dataset.key||"",this._currentSelectedElm=t,this.scrolledByMouse=!1,t.scrollIntoView({block:"nearest"}),this.changeCurrentOptionHighlight(t),window.setTimeout(()=>this.scrolledByMouse=!0,10))}}changeCurrentOptionHighlight(n){n?.classList.add("highlighted"),(this.dropElm?.querySelectorAll(RU)||[]).forEach(t=>{t!==n&&t.classList.remove("highlighted")})}moveHighlightDown(){let n=this.dropElm?.querySelectorAll(em)||[],t=n.length;this._currentHighlightIndex<t-1?(this._currentHighlightIndex++,n[this._currentHighlightIndex]?.classList.contains("disabled")&&this.moveHighlightDown()):this.options.infiniteScroll&&this.infiniteScrollHandler(null,this._currentHighlightIndex,t),this.highlightCurrentOption()}moveHighlightUp(){let n=this.dropElm?.querySelectorAll(em)||[],t=this.options.single?0:1;if(this.virtualScroll&&this._currentHighlightIndex<=t&&this.updateDataStart>0&&this.ulElm){let e=n[this._currentHighlightIndex+(this.options.single?0:1)],i=e?.dataset.key;this.lastFocusedItemKey=i,this.ulElm.scrollTop=this.ulElm.scrollTop-e?.getBoundingClientRect().height||10,this.isMoveUpRecalcRequired=!0;return}this._currentHighlightIndex>0&&(this._currentHighlightIndex--,n[this._currentHighlightIndex]?.classList.contains("disabled")&&this.moveHighlightUp()),this.highlightCurrentOption()}recalculateArrowMove(n){let t=this.dropElm?.querySelectorAll(em)||[],e=Array.from(t).findIndex(i=>i.dataset.key===this.lastFocusedItemKey);this._currentHighlightIndex=e-1,n==="down"?this.moveHighlightDown():n==="up"&&(this.moveHighlightUp(),this.isMoveUpRecalcRequired=!1)}close(n){this.options.isOpen=!1,this.parentElm.classList.remove("ms-parent-open"),this.choiceElm?.querySelector("div.ms-icon-caret")?.classList.remove("open"),this.dropElm&&(this.dropElm.style.display="none",this.dropElm.ariaExpanded="false",this.options.container&&(this.parentElm.appendChild(this.dropElm),this.dropElm.style.top="auto",this.dropElm.style.left="auto")),this.options.onClose(n)}applyAsTextOrHtmlWhenEnabled(n,t){n||(n={}),this.isRenderAsHtml?n.innerHTML=typeof this.options.sanitizer=="function"?this.options.sanitizer(t):t:n.textContent=t}update(n=!1){let t=this.getSelects(),e=this.getSelects("text");this.options.displayValues&&(e=t);let i=this.choiceElm?.querySelector("span"),r=t.length,s=null,o=()=>{if(this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml){let l=t.join(this.options.displayDelimiter);return this.options.useSelectOptionLabelToHtml?TU(l):l}return e.join(this.options.displayDelimiter)};if(i){if(r===0){let l=this.options.placeholder||"";i.classList.add("ms-placeholder"),this.applyAsTextOrHtmlWhenEnabled(i,l)}else r<this.options.minimumCountSelected?s=o():this.formatAllSelected()&&r===this.dataTotal?s=this.formatAllSelected():this.options.ellipsis&&r>this.options.minimumCountSelected?s=`${e.slice(0,this.options.minimumCountSelected).join(this.options.displayDelimiter)}...`:this.formatCountSelected(r,this.dataTotal)&&r>this.options.minimumCountSelected?s=this.formatCountSelected(r,this.dataTotal):s=o();if(s!==null&&(i?.classList.remove("ms-placeholder"),this.applyAsTextOrHtmlWhenEnabled(i,s)),this.options.showClear&&this.selectClearElm){let l=s?"block":"none";this.selectClearElm.style.display=l}if(this.options.displayTitle){let l=this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml?"value":"text";i.title=this.getSelects(l).join(this.options.displayDelimiter)}}let a=this.getSelects();this.options.single?this.elm.value=a.length?a[0]:"":Array.from(this.elm.options).forEach(l=>{l.selected=a.some(c=>c===l.value)}),n||this.elm.dispatchEvent(new Event("change"))}updateSelected(n){for(let e=this.updateDataStart;e<this.updateDataEnd;e++){let i=this.updateData[e],r=this.dropElm?.querySelector(`input[data-key=${i._key}]`);if(r){r.checked=i.selected;let s=r.closest("li"),o=s?.querySelector(".icon-checkbox-container div");s&&(i.selected&&!s.classList.contains("selected")?(s.classList.add("selected"),s.ariaSelected="true",o&&(o.className=`ms-icon ms-icon-${r.type==="radio"?"radio":"check"}`)):i.selected||(s.classList.remove("selected"),s.ariaSelected="false",o&&(o.className="ms-icon ms-icon-uncheck")))}}let t=this.data?.filter(e=>e.visible).length===0;if(this.selectAllElm){this.selectAllElm.ariaChecked=String(this.isAllSelected);let e=this.dropElm?.querySelector(".ms-select-all .icon-checkbox-container div");if(e){let i="";this.isAllSelected?i="ms-icon-check":this.isPartiallyAllSelected?i="ms-icon-minus":i="ms-icon-uncheck",e.className=`ms-icon ${i}`}this.selectAllElm.checked=this.isAllSelected,fI(this.selectAllElm.closest("li"),!t)}fI(this.noResultsElm,t),this.virtualScroll&&(this.virtualScroll.rows=n??this.getListRows())}getData(){return this.options.data}getDataLength(){return this.data?.length??0}getOptions(n=!0){let t=Object.assign({},this.options);return delete t.data,n?rw(t):this.options}refreshOptions(n){xU(this.options,n,!0)||(this.options=Object.assign(this.options,n),this.destroy(!1),this.init())}getDropElement(){return this.dropElm}getParentElement(){return this.parentElm}getSelects(n="value"){let t=[];for(let e of this.data||[])if(e.type==="optgroup"){let i=e.children.filter(r=>r?.selected);if(!i.length)continue;if(n==="value"||this.options.single)t.push(...i.map(r=>n==="value"&&r._value||r[n]));else{let r=[];r.push("["),r.push(e.label),r.push(`: ${i.map(s=>s[n]).join(", ")}`),r.push("]"),t.push(r.join(""))}}else e.selected&&t.push(n==="value"&&e._value||e[n]);return t}setSelects(n,t="value",e=!1){let i=!1,r=s=>{for(let o of s){let a=!1;if(t==="text"){let l=document.createElement("div");this.applyAsTextOrHtmlWhenEnabled(l,o.text),a=n.includes(l.textContent?.trim()??"")}else a=n.includes(o._value||o.value),!a&&o.value===`${+o.value}`&&(a=n.includes(+o.value));o.selected!==a&&(i=!0),o.selected=a}};for(let s of this.data||[])s.type==="optgroup"?r(s.children):r([s]);i&&(this.initSelected(e),this.updateSelected(),this.update(e))}enable(){this.choiceElm&&(this.choiceElm.classList.remove("disabled"),this.choiceElm.disabled=!1)}disable(){this.choiceElm&&(this.choiceElm?.classList.add("disabled"),this.choiceElm.disabled=!0)}check(n){let t=d_(this.data,"value",n);t&&this._check(t,!0)}uncheck(n){let t=d_(this.data,"value",n);t&&this._check(t,!1)}_check(n,t){this.options.single&&this._checkAll(!1,!0),n.selected=t,this.initSelected(),this.updateSelected(),this.update()}checkAll(){this._checkAll(!0)}uncheckAll(){this._checkAll(!1)}_checkAll(n,t){for(let e of this.data||[])e.type==="optgroup"?this._checkGroup(e,n,!0):!e.disabled&&!e.divider&&(t||e.visible)&&(e.selected=n);t||(this.initSelected(),this.updateSelected(),this.update())}_checkGroup(n,t,e){n.selected=t,n.children.forEach(i=>{i&&!i.disabled&&!i.divider&&(e||i.visible)&&(i.selected=t)}),e||(this.initSelected(),this.updateSelected(),this.update())}checkInvert(){if(!this.options.single){for(let n of this.data||[])if(n.type==="optgroup")for(let t of n.children)t&&(t.divider||(t.selected=!t.selected));else n&&!n.divider&&(n.selected=!n.selected);this.initSelected(),this.updateSelected(),this.update()}}focus(){this.choiceElm?.focus(),this.options.onFocus()}blur(){this.choiceElm?.blur(),this.options.onBlur()}refresh(){this.destroy(!1),this.init()}filter(n){let t=this.searchInputElm?.value.trim()??"",e=t.toLowerCase();if(this.filterText===e)return;this.filterText=e;for(let r of this.data||[])if(r.type==="optgroup")if(this.options.filterGroup){let s=`${r?.label??""}`;if(r!=null){let o=this.options.customFilter({label:fc(s.toString().toLowerCase(),this.options.diacriticParser),search:fc(e,this.options.diacriticParser),originalLabel:s,originalSearch:t,row:r});r.visible=o;for(let a of r.children)a&&(a.visible=o)}}else{for(let s of r.children)if(s!=null){let o=`${s?.text??""}`;s.visible=this.options.customFilter({text:fc(o.toString().toLowerCase(),this.options.diacriticParser),search:fc(e,this.options.diacriticParser),originalText:o,originalSearch:t,row:s,parent:r})}r.visible=r.children.filter(s=>s?.visible).length>0}else{let s=`${r?.text??""}`;r.visible=this.options.customFilter({text:fc(s.toString().toLowerCase(),this.options.diacriticParser),search:fc(e,this.options.diacriticParser),originalText:s,originalSearch:t,row:r})}let i=this.initListItems();this.initSelected(n),this.updateSelected(i),n||this.options.onFilter(t)}adjustDropHeight(n){let t=n!=="top",e=this.filterParentElm?.getBoundingClientRect().height??0,i=this.okButtonElm?.getBoundingClientRect().height??0,r=this.options.single?0:this.selectAllParentElm?.getBoundingClientRect().height??0,s=e+i+r+5,{bottom:o,top:a}=tw(this.parentElm),l=this.options.maxHeight;if(t?l=o-s-this.options.adjustedHeightPadding:l=a-s-this.options.adjustedHeightPadding,!this.options.maxHeight||this.options.maxHeight&&l<this.options.maxHeight){let c=this.dropElm?.querySelector("ul");return c&&(c.style.maxHeight=`${l}px`),!0}return!1}adjustDropPosition(n){let t="bottom";if(this.dropElm&&this.parentElm){let{bottom:e,top:i}=tw(this.dropElm),{top:r,left:s}=ow(this.parentElm),o=this.dropElm.getBoundingClientRect().height,a=this.dropElm.getBoundingClientRect().width,l=document.body.offsetWidth||window.innerWidth,c=this.parentElm.getBoundingClientRect().width;if(e>o)t="bottom";else if(o>e&&i>e){if(this.options.container){let h=r-o;h<0&&(h=0),(h>0||n)&&(t="top",this.dropElm.style.top=`${h<0?0:h}px`)}else t="top",this.dropElm.classList.add(t);this.dropElm.classList.remove("bottom")}l-a<s&&(this.dropElm.style.left=`${s-(a-c)}px`)}return t}adjustDropWidthByText(){if(this.dropElm){let n=this.parentElm.scrollWidth;(this.options.dropWidth||this.options.width)&&(n=this.options.dropWidth||this.options.width||0);let t=this.dropElm.querySelector(".ms-select-all span"),e=this.dropElm.querySelector("ul"),i=26,r=t?.clientWidth??0+i,s=e.scrollHeight>e.clientHeight?this.getScrollbarWidth():0,o=0;this.dropElm.querySelectorAll("li label").forEach(a=>{a.scrollWidth>o&&(o=a.scrollWidth)}),o+=i+s,o<r&&(o=r),this.options.maxWidth&&o>this.options.maxWidth&&(o=this.options.maxWidth),this.options.minWidth&&o<this.options.minWidth&&(o=this.options.minWidth),(n==="100%"||+n<o)&&(this.dropElm.style.width=`${o}px`,this.dropElm.style.maxWidth=`${o}px`)}}getScrollbarWidth(){let n=document.createElement("div");n.style.visibility="hidden",n.style.width="100px",document.body.appendChild(n);let t=n.offsetWidth;n.style.overflow="scroll";let e=document.createElement("div");e.style.width="100%",n.appendChild(e);let i=e.offsetWidth;return n.parentNode?.removeChild(n),t-i}formatAllSelected(){return this.options.allSelectedText||this.options.formatAllSelected()}formatCountSelected(n,t){return this.options.countSelectedText?this.options.countSelectedText.replace("#",`${n}`).replace("%",`${t}`):this.options.formatCountSelected(n,t)}formatNoMatchesFound(){return this.options.noMatchesFoundText||this.options.formatNoMatchesFound()}formatOkButton(){return this.options.okButtonText||this.options.formatOkButton()}formatSelectAll(){return this.options.selectAllText||this.options.formatSelectAll()}},jl=(n,t)=>typeof n=="string"?nw(document.querySelectorAll(n),t):n instanceof Node?nw([n],t):nw(n,t);function nw(n,t){let e=Array.from(n),i=[];for(let r=0;r<e.length;r++){let s=e[r];try{s._multipleSelect!==void 0&&(s._multipleSelect.destroy(),delete s._multipleSelect),s._multipleSelect=new FU(s,t||{}),s._multipleSelect.init();let o=s._multipleSelect.getOptions(!1);o.onHardDestroy=()=>delete s._multipleSelect,o.onAfterHardDestroyed=()=>i[r]=null,i.push(s._multipleSelect)}catch(o){console.error(o)}}return i.length===1?i[0]:i}jl.defaults=Ls.DEFAULTS;jl.locales=k({},_I);jl.methods=Ls.METHODS;typeof window<"u"&&(window.multipleSelect=jl);var gc=class{constructor(t,e,i,r=!0){this.translaterService=t,this.collectionService=e,this.rxjs=i,this._isMultipleSelect=!0,this._collectionLength=0,this._collectionObservers=[],this._shouldTriggerQuery=!0,this.isFilled=!1,this.enableTranslateLabel=!1,this.subscriptions=[],this._isMultipleSelect=r}get collectionOptions(){return this.columnDef?.filter?.collectionOptions??{}}get columnFilter(){return this.columnDef?.filter??{}}get customStructure(){return this.columnDef?.filter?.customStructure}get gridOptions(){return this.grid?.getOptions()??{}}get defaultOperator(){return this.isMultipleSelect?Le.in:Le.equal}get filterOptions(){return k(k({},this.gridOptions.defaultFilterOptions?.select),this.columnFilter?.filterOptions)}get isMultipleSelect(){return this._isMultipleSelect}get msInstance(){return this._msInstance}get selectOptions(){return this.defaultOptions}get operator(){return this.columnFilter?.operator??this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync)throw new Error(`[Slickgrid-Universal] You need to pass a "collection" (or "collectionAsync") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);if(this.enableTranslateLabel=this.columnFilter?.enableTranslateLabel??!1,this.labelName=this.customStructure?.label??"label",this.labelPrefixName=this.customStructure?.labelPrefix??"labelPrefix",this.labelSuffixName=this.customStructure?.labelSuffix??"labelSuffix",this.optionLabel=this.customStructure?.optionLabel??"value",this.valueName=this.customStructure?.value??"value",this.enableTranslateLabel&&(!this.translaterService||typeof this.translaterService.translate!="function"))throw new Error('[select-filter] The Translate Service is required for the Select Filter to work correctly when "enableTranslateLabel" is set.');this._locales=this.gridOptions?.locales??se.locales,this.initMultipleSelectTemplate();let e=this.gridOptions?.defaultFilterPlaceholder||"";this.columnFilter?.placeholder&&(e=this.columnFilter.placeholder),this.defaultOptions.placeholder=e||"",this._isMultipleSelect&&this.columnDef?.filter&&(this.columnDef.filter.emptySearchTermReturnAllValues=this.columnDef.filter?.emptySearchTermReturnAllValues??!1);let i=this.columnFilter.collection||[];return new Promise((r,s)=>Ze(this,null,function*(){try{let o;this.columnFilter.collectionAsync&&!this.columnFilter.collection?(o=$f(this.columnFilter.collectionAsync,this.columnDef,this.renderDomElement.bind(this),this.rxjs,this.subscriptions),r(o)):(o=i,this.renderDomElement(i),r(i)),(this.columnFilter.collectionAsync||this.columnFilter.enableCollectionWatch)&&(yield o??this.columnFilter.collectionAsync,this.watchCollectionChanges())}catch(o){s(o)}}))}clear(t=!0){this._msInstance&&this._collectionLength>0&&(this._msInstance.setSelects([]),this.updateFilterStyle(!1),this.searchTerms=[],this._shouldTriggerQuery=t,this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0)}destroy(){typeof this._msInstance?.destroy=="function"&&this._msInstance.destroy(),this.filterElm?.remove(),Pa(this.subscriptions)}getValues(){return this._msInstance?.getSelects()??[]}setValues(t,e,i=!1){t!==void 0&&this._msInstance&&(t=Array.isArray(t)?t.every(r=>Tl(r))?t.map(String):t:[t],this._msInstance.setSelects(t)),this.updateFilterStyle(this.getValues().length>0),this.operator=e||this.defaultOperator,i&&this.onTriggerEvent()}filterCollection(t){let e=t;if(this.columnFilter&&this.columnFilter.collectionFilterBy){let i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions?.filterResultAfterEachPass||null;e=this.collectionService?.filterCollection(e,i,r)||[]}return e}sortCollection(t){let e=t;if(this.columnFilter&&this.columnFilter.collectionSortBy){let i=this.columnFilter.collectionSortBy;e=this.collectionService?.sortCollection(this.columnDef,e,i,this.enableTranslateLabel)||[]}return e}watchCollectionChanges(){this.columnFilter?.collection&&(this._collectionObservers.push(Sl(this.columnFilter.collection,this.watchCallback.bind(this))),El(this.columnFilter,"collection",this.propertyObserverCallback.bind(this)))}propertyObserverCallback(t){this.renderDomElement(t||[]),this.columnFilter.collection&&this._collectionObservers.push(Sl(this.columnFilter.collection,this.watchCallback.bind(this)))}watchCallback(t){this.renderDomElement(this.columnFilter.collection||t||[])}renderDomElement(t){if(!Array.isArray(t)&&this.collectionOptions?.collectionInsideObjectProperty){let s=this.collectionOptions.collectionInsideObjectProperty;t=Vi(t,s||"")}if(!Array.isArray(t))throw new Error('The "collection" passed to the Select Filter is not a valid array.');let e=[];if(t.length>0&&(e=[...t]),this.collectionOptions?.addBlankEntry&&Array.isArray(e)&&e.length>0&&e[0][this.valueName]!==""&&e.unshift(this.createBlankEntry()),this.collectionOptions?.addCustomFirstEntry&&Array.isArray(e)&&e.length>0&&e[0][this.valueName]!==this.collectionOptions.addCustomFirstEntry[this.valueName]&&e.unshift(this.collectionOptions.addCustomFirstEntry),this.collectionOptions?.addCustomLastEntry&&Array.isArray(e)&&e.length>0){let s=e.length-1;e[s][this.valueName]!==this.collectionOptions.addCustomLastEntry[this.valueName]&&e.push(this.collectionOptions.addCustomLastEntry)}let i=e;i=this.filterCollection(i),i=this.sortCollection(i);let r=j0("filter",i,this.columnDef,this.grid,this.isMultipleSelect,this.translaterService,this.searchTerms||[]);this.isFilled=r.hasFoundSearchTerm,this.createFilterElement(r.selectElement,r.dataCollection),this._collectionLength=i.length}createBlankEntry(){let t={[this.labelName]:"",[this.valueName]:""};return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t}createFilterElement(t,e){let i=this.columnDef?.id??"";this.elementName=`filter-${i}`,this.defaultOptions.name=this.elementName,ut(this.filterContainerElm),this.filterElm=t,this.filterElm.dataset.columnId=`${i}`,this.updateFilterStyle(this.isFilled),this.filterContainerElm.appendChild(t),this.filterElmOptions=Ce(k(k({},this.defaultOptions),this.filterOptions),{data:e}),this._msInstance=jl(t,this.filterElmOptions)}initMultipleSelectTemplate(){let t=this.gridOptions?.enableTranslate??!1,i={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,name:`${this.columnDef?.id??""}`,container:"body",darkMode:!!this.gridOptions.darkMode,filter:!1,maxHeight:275,single:!0,singleRadio:!0,showSearchClear:!0,renderOptionLabelAsHtml:this.columnFilter?.enableRenderHtml??!1,sanitizer:r=>this.grid.sanitizeHtmlString(r),onClose:()=>this.onTriggerEvent(),onClear:()=>this.clear()};if(this._isMultipleSelect){i.single=!1,i.singleRadio=!1,i.showOkButton=!0,i.displayTitle=!0;let r=Sn(this.gridOptions);i.countSelectedText=t&&this.translaterService?.translate?this.translaterService.translate(`${r}X_OF_Y_SELECTED`):this._locales?.TEXT_X_OF_Y_SELECTED,i.allSelectedText=t&&this.translaterService?.translate?this.translaterService.translate(`${r}ALL_SELECTED`):this._locales?.TEXT_ALL_SELECTED,i.noMatchesFoundText=t&&this.translaterService?.translate?this.translaterService.translate(`${r}NO_MATCHES_FOUND`):this._locales?.TEXT_NO_MATCHES_FOUND,i.okButtonText=t&&this.translaterService?.translate?this.translaterService.translate(`${r}OK`):this._locales?.TEXT_OK,i.selectAllText=t&&this.translaterService?.translate?this.translaterService.translate(`${r}SELECT_ALL`):this._locales?.TEXT_SELECT_ALL}this.defaultOptions=i}onTriggerEvent(){if(this._msInstance){let t=this.getValues();this.updateFilterStyle(Array.isArray(t)&&t.length>1||t.length===1&&t[0]!==""),this.searchTerms=t,this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:t,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0}}updateFilterStyle(t){t?(this.isFilled=!0,this.filterElm?.classList.add("filled"),this._msInstance?.getParentElement()?.classList.add("filled")):(this.isFilled=!1,this.filterElm?.classList.remove("filled"),this._msInstance?.getParentElement()?.classList.remove("filled"))}};var u_=class extends gc{constructor(t,e,i){super(t,e,i,!0),this.translaterService=t,this.collectionService=e,this.rxjs=i}};var m_=class extends gc{constructor(t,e,i){super(t,e,i,!1),this.translaterService=t,this.collectionService=e,this.rxjs=i}};var p_=class extends Wa{constructor(t){super(t),this.translaterService=t,this.sliderType="single"}};var f_=class extends Wa{constructor(t){super(t),this.translaterService=t,this.sliderType="double"}};var zi={autocompleter:ug,compoundDate:vg,compoundInput:Ju,compoundInputNumber:t_,compoundInputPassword:i_,compoundInputText:Ju,compoundSlider:r_,dateRange:s_,input:qn,inputMask:o_,inputNumber:a_,inputPassword:l_,inputText:qn,multipleSelect:u_,singleSelect:m_,slider:p_,sliderRange:f_};var wI={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoFixResizeTimeout:5*60*5,autoFixResizeRequiredGoodCount:2,autoFixResizeWhenBrokenStyleDetected:!1,autoParseInputFilterOperator:!0,autoResize:{applyResizeToContainer:!0,autoHeight:!0,autoHeightRecalcRow:100,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:250,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel",width:40},columnGroupSeparator:" - ",columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:yI},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1,showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},compositeEditorOptions:{labels:{cancelButtonKey:"CANCEL",cloneButtonKey:"CLONE",resetEditorButtonTooltipKey:"RESET_INPUT_VALUE",resetFormButtonKey:"RESET_FORM",massSelectionButtonKey:"APPLY_TO_SELECTION",massSelectionStatusKey:"X_OF_Y_MASS_SELECTED",massUpdateButtonKey:"APPLY_MASS_UPDATE",massUpdateStatusKey:"ALL_X_RECORDS_SELECTED",saveButtonKey:"SAVE"}},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCollapseAllGroupsCommand:"mdi mdi-arrow-collapse",iconExpandAllGroupsCommand:"mdi mdi-arrow-expand",iconClearGroupingCommand:"mdi mdi-close",iconCopyCellValueCommand:"mdi mdi-content-copy",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{itemsKey:"ITEMS",ofKey:"OF",itemsSelectedKey:"ITEMS_SELECTED"}},customTooltip:{tooltipTextMaxLength:700,maxWidth:500},dataView:{syncGridSelection:{preserveHidden:!1,preserveHiddenOnSelectionChange:!0},syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:zi.input,defaultBackendServiceFilterTypingDebounce:500,enableFilterTrimWhiteSpace:!1,defaultFilterPlaceholder:"\u{1F50E}\uFE0E",defaultFilterRangeOperator:Le.rangeInclusive,defaultColumnSortFieldId:"id",draggableGrouping:{hideToggleAllButton:!1,toggleAllButtonText:"",dropPlaceHolderTextKey:"DROP_COLUMN_HEADER_TO_GROUP_BY"},editable:!1,editorTypingDebounce:450,filterTypingDebounce:0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!1,enableTextExport:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,autoDetectCellFormat:!0,exportWithFormatter:!1,filename:"export",format:Pn.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2B9E",groupExpandedSymbol:"\u2B9F",groupingAggregatorRowText:"",sanitizeDataExport:!0},textExportOptions:{delimiter:Ms.comma,exportWithFormatter:!1,filename:"export",format:Pn.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!0,useUtf8WithBom:!0},eventNamingStyle:yr.lowerCase,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:1,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleDarkModeCommandKey:"TOGGLE_DARK_MODE",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideToggleDarkModeCommand:!0,hideTogglePreHeaderCommand:!1,iconCssClass:"mdi mdi-menu",iconClearAllFiltersCommand:"mdi mdi-filter-remove-outline",iconClearAllSortingCommand:"mdi mdi-sort-variant-off",iconClearFrozenColumnsCommand:"mdi mdi-pin-off-outline",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",iconRefreshDatasetCommand:"mdi mdi-sync",iconToggleDarkModeCommand:"mdi mdi-brightness-4",iconToggleFilterCommand:"mdi mdi-flip-vertical",iconTogglePreHeaderCommand:"mdi mdi-flip-vertical",menuWidth:16,resizeOnShowHeaderRow:!0,showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270",headerColumnValueExtractor:yI},headerMenu:{autoAlign:!0,autoAlignOffset:4,minWidth:140,iconClearFilterCommand:"mdi mdi-filter-remove-outline",iconClearSortCommand:"mdi mdi-sort-variant-off",iconFilterShortcutSubMenu:"mdi mdi-filter-outline",iconFreezeColumns:"mdi mdi-pin-outline",iconSortAscCommand:"mdi mdi-sort-ascending",iconSortDescCommand:"mdi mdi-sort-descending",iconColumnHideCommand:"mdi mdi-close",iconColumnResizeByContentCommand:"mdi mdi-arrow-expand-horizontal",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},ignoreAccentOnStringFilterAndSort:!1,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!1,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},headerRowHeight:35,rowHeight:35,topPanelHeight:30,translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\xB7"}};function yI(n,t){let e=n?.columnPickerLabel??n?.name??"";(e instanceof HTMLElement||e instanceof DocumentFragment)&&(e=e.textContent||"");let i=n?.columnGroup||"",r=t?.columnGroupSeparator??" - ";return i?i+r+e:e}var CI=(n,t,e,i,r)=>{let s=i&&i.params||{},o=s.propertyNames,a=s?.includeTitle??!0,l=s.dataContextProperty;if(l||(l=i?.field?.split(".")[0]||""),!o||!Array.isArray(o)||!l)throw new Error(`Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.
      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: ['firtName'] }}.
      Optionally, you can also pass the "dataContextProperty" if you wish to run this on another completely different field of the dataContext object.`);if(r[l]&&Array.isArray(r[l])&&Array.isArray(r[l])&&r[l].length>0){let c=[];r[l].forEach(f=>{let v=[];o.forEach(C=>{v.push(f[C])}),c.push(v.join(" "))});let h=c.join(", "),m=T("span",{textContent:h});return a&&(m.title=h),m}return e};var Ul=(n,t,e)=>{if(Array.isArray(e)&&e.length>0){let i=e.join(", ");return T("span",{title:i,textContent:i})}return e};var SI=(n,t,e)=>{let i=!1,r=ze(e);return r&&(e=+e),(e===!0||r&&+e>0||typeof e=="string"&&e.length>0&&e.toLowerCase()!=="false"&&e!=="0")&&(i=!0),i?T("i",{className:"mdi mdi-18px mdi-check checkmark-icon",ariaHidden:"true"}):""};var EI=(n,t,e,i,r,s)=>{if(!e||!i||!i.editor||!i.editor.collection||!i.editor.collection.length)return e;let{editor:o,editor:{collection:a}}=i,l=o.customStructure?o.customStructure.label:"label",c=o.customStructure?o.customStructure.value:"value";return Array.isArray(e)?a.every(h=>typeof h=="string")?Ul(n,t,e.map(h=>no(a,m=>m===h)),i,r,s):Ul(n,t,e.map(h=>no(a,m=>m[c]===h)[l]),i,r,s):no(a,h=>h[c]===e)[l]||""};var xI=(n,t,e,i,r,s)=>{if(!e||!i||!i.params||!i.params.collection||!i.params.collection.length)return e;let{params:o,params:{collection:a}}=i,l=o.customStructure?o.customStructure.label:"label",c=o.customStructure?o.customStructure.value:"value";return Array.isArray(e)?Ul(n,t,e.map(h=>no(a,m=>m[c]===h)[l]),i,r,s):no(a,h=>h[c]===e)[l]||""};var dw=(n,t,e,i,r)=>{if(!i)return"";let s=i.params||{},o=s?.complexField??s?.complexFieldLabel??i.field;if(!o)throw new Error(`For the Formatters.complexObject to work properly, you need to tell it which property of the complex object to use.
      There are 3 ways to provide it:
      1- via the generic "params" with a "complexField" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', params: { complexField: 'user.firstName' } }]
      2- via the generic "params" with a "complexField" and a "labelKey" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', labelKey: 'firstName', params: { complexField: 'user' } }]
      3- via the field name that includes a dot notation, example: this.columnDefs = [{ id: 'user', field: 'user.firstName'}] `);if(i.labelKey&&r.hasOwnProperty(o))return r[o]?.[i.labelKey];if(typeof o=="string"&&o.indexOf(".")>0){let a=o.split(".").reduce((l,c)=>l?.hasOwnProperty(c)?l[c]:"",r);return(a==null||typeof a=="object"&&Object.entries(a).length===0&&!(a instanceof Date))&&(a=""),a}return e};var kI=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,numberPrefix:l,numberSuffix:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(i,s,"decimal","cell");return ze(e)?wt(e,o,a,f,l,c,h,m):e};var DI=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,decimalSeparator:l,thousandSeparator:c,wrapNegativeNumber:h}=lt(i,s,"currency","cell");return ze(e)?wt(e,o,a,h,"$","",l,c):e};var TI=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,decimalSeparator:l,thousandSeparator:c,wrapNegativeNumber:h}=lt(i,s,"currency","cell");if(ze(e)){let m=e>=0?"green":"red",f=wt(e,o,a,h,"$","",l,c),v=T("span",{ariaHidden:"true",textContent:f});return v.style.color=m,v}return e};var II=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,decimalSeparator:l,thousandSeparator:c,wrapNegativeNumber:h}=lt(i,s,"currency","cell");if(ze(e)){let m=e>=0?"green":"red",f=wt(e,o,a,h,"$","",l,c),v=T("span",{ariaHidden:"true",textContent:f});return v.style.color=m,v.style.fontWeight="bold",v}return e};var OI=(n,t,e,i,r,s)=>{let{currencyPrefix:o,currencySuffix:a,minDecimal:l,maxDecimal:c,numberPrefix:h,numberSuffix:m,decimalSeparator:f,thousandSeparator:v,wrapNegativeNumber:C}=lt(i,s,"decimal","cell");if(ze(e)){let x=wt(e,l,c,C,o,a,f,v);return`${h}${x}${m}`}return e};var AI=(n,t,e,i,r,s)=>{let o=i&&i.params||{},a=o.hyperlinkText?o.hyperlinkText:e;a=s.sanitizeHtmlString(a);let l=o.hyperlinkUrl?o.hyperlinkUrl:e;l=s.sanitizeHtmlString(l);let c=l.match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/i);if(c&&Array.isArray(c)&&c.length>0){let h=c[0];return T("a",{href:h,textContent:a})}return e};var MI=(n,t,e,i)=>{let s=(i?.params||{}).cssClass;if(!s)throw new Error('[Slickgrid-Universal] When using `Formatters.iconBoolean`, you must provide You must provide the "cssClass", e.g.: { formatter: Formatters.iconBoolean, params: { cssClass: "mdi mdi-check" }}');let o=!1,a=!isNaN(e);return(e===!0||a&&parseFloat(e)>0||!a&&typeof e=="string"&&e.toLowerCase()!=="false"&&e!=="0")&&(o=!0),o?T("i",{className:s,ariaHidden:"true"}):""};var RI=(n,t,e,i)=>{let r=i?.params??{},s=r.iconCssClass||r.icon||r.formatterIcon;if(!s)throw new Error('[Slickgrid-Universal] When using `Formatters.icon`, you must provide the "iconCssClass" via the generic "params". (e.g.: `{ formatter: Formatters.icon, params: { iconCssClass: "mdi mdi-magnify" }}`');let o=r.title||null;return T("i",{className:s,ariaHidden:"true",title:o})};var FI=(n,t,e,i,r,s)=>{let a=(i.params||{}).mask;if(!a)throw new Error(`You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: '000-000' }}`);if(e){let l=0,c=e.toString(),m=(s.getOptions()||{})?.preventDocumentFragmentUsage?document.createElement("span"):new DocumentFragment;return m.textContent=a.replace(/[09A]/gi,()=>c[l++]||""),m}return e};var PI=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,decimalSeparator:l,thousandSeparator:c,wrapNegativeNumber:h}=lt(i,s,"percent","cell");if(ze(e)){let m=e*100;return wt(m,o,a,h,"","%",l,c)}return e};var NI=(n,t,e)=>{if(!ze(e))return"";let i="",r=parseFloat(e);return r>100&&(r=100),r<30?i="red":r<70?i="silver":i="green",T("span",{className:"percent-complete-bar",title:`${r}%`,style:{background:i,width:`${r}%`}})};var LI=(n,t,e)=>{if(!ze(e))return"";let i="",r=parseFloat(e);return r>100&&(r=100),r<30?i="red":r<70?i="silver":i="green",T("div",{className:"percent-complete-bar-with-text",title:`${r}%`,textContent:`${r}%`,style:{background:i,width:`${r}%`}})};var VI=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,decimalSeparator:l,thousandSeparator:c,wrapNegativeNumber:h}=lt(i,s,"percent","cell");if(ze(e)){let m=e<50?"red":"green",f=wt(e,o,a,h,"","%",l,c),v=e>100?"100%":f;return T("span",{textContent:v,style:{color:m}})}return e};var BI=(n,t,e,i,r,s)=>{let{minDecimal:o,maxDecimal:a,decimalSeparator:l,thousandSeparator:c,wrapNegativeNumber:h}=lt(i,s,"percent","cell");return ze(e)?wt(e,o,a,h,"","%",l,c):e};var HI=(n,t,e)=>{if(!ze(e))return"";let i="",r=parseFloat(e);r>100&&(r=100),r<30?i="danger":r<70?i="warning":i="success";let s=T("div",{className:"progress"});return s.appendChild(T("div",{className:`progress-bar progress-bar-${i} bg-${i}`,role:"progressbar",ariaValueNow:String(r),ariaValueMin:"0",ariaValueMax:"100",textContent:`${r}%`,style:{minWidth:"2em",width:`${r}%`}})),s};var zI=(n,t,e,i,r,s)=>{let a=(s?.getOptions()??{}).translater||i&&i.params&&i.params.translater;if(!a||typeof a.translate!="function")throw new Error(`"Formatters.translate" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).
    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }`);return e!=null&&typeof e!="string"&&(e=e+""),e?a.translate(e):""};var jI=(n,t,e,i,r,s)=>{let o=s.getOptions(),a=o?.treeDataOptions,l=a?.collapsedPropName??se.treeDataProperties.COLLAPSED_PROP,c=a?.hasChildrenPropName??se.treeDataProperties.HAS_CHILDREN_PROP,h=a?.levelPropName??se.treeDataProperties.TREE_LEVEL_PROP,m=a?.exportIndentMarginLeft??5,f=a?.exportIndentationLeadingChar??".",v=a?.exportIndentationLeadingSpaceCount??3,C=o?.excelExportOptions?.groupCollapsedSymbol??"\u2B9E",x=o?.excelExportOptions?.groupExpandedSymbol??"\u2B9F",E=e;if(E=Fa(i,r,e),E==null||r===void 0)return"";if(!r.hasOwnProperty(h))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');let I=r?.[h]??0,N="",L=0;r[c]?(N=r?.[l]?C:x,L=I===0?0:m*I):L=m*(I===0?0:I+1);let V=Kd(L);return a?.titleFormatter&&(E=zl(a.titleFormatter,n,t,i,r,s)),E=`${I===0&&N?"":I===0?`${f}${Kd(v)}`:f}${V}${N} ${E}`,yi(E)};var UI=(n,t,e,i,r,s)=>{let o=s.getOptions(),a=o?.treeDataOptions,l=a?.indentMarginLeft??15,c=a?.collapsedPropName??se.treeDataProperties.COLLAPSED_PROP,h=a?.hasChildrenPropName??se.treeDataProperties.HAS_CHILDREN_PROP,m=a?.levelPropName??se.treeDataProperties.TREE_LEVEL_PROP,f=e;if(f=Fa(i,r,e),f==null||r===void 0)return"";if(!r.hasOwnProperty(m))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');let v=r?.[m]??0,C=document.createElement("span");C.style.display="inline-block",C.style.width=`${l*v}px`;let x=`slick-tree-level-${v}`,E="";r[h]&&(E=r?.[c]?"collapsed":"expanded"),a?.titleFormatter&&(f=zl(a.titleFormatter,n,t,i,r,s));let I=`slick-group-toggle ${E}`.trim(),N=T("div",{className:I,ariaExpanded:String(E==="expanded")}),L=T("span",{className:"slick-tree-title"});s.applyHtmlCode(L,f),L.setAttribute("level",v);let V=o?.preventDocumentFragmentUsage?document.createElement("span"):new DocumentFragment;return V.appendChild(C),V.appendChild(N),V.appendChild(L),{addClasses:x,html:V}};var WI=(n,t,e,i,r,s)=>{let a=s.getOptions()?.treeDataOptions?.hasChildrenPropName??se.treeDataProperties.HAS_CHILDREN_PROP,{groupTotalsFormatter:l,treeTotalsFormatter:c,params:h}=i;if(!l&&!c)throw new Error('[Slickgrid-Universal] When using Formatters.treeParseTotals, you must provide a total formatter via "groupTotalsFormatter" or "treeTotalsFormatter".');if(r[a]&&r?.__treeTotals&&(l||c))return(c??l)(r?.__treeTotals,i,s);if(h.formatters){let m=e;for(let f of h.formatters)!r[a]&&!r?.__treeTotals&&typeof f=="function"&&(m=f(n,t,m,i,r,s)||e);return m}return e};var GI=(n,t,e,i,r,s)=>{let a=(s?.getOptions()??{}).translater||i&&i.params&&i.params.translater;if(!a||typeof a.translate!="function")throw new Error(`"Formatters.translateBoolean" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).
    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }`);return e!=null&&typeof e!="string"&&(e=e+""),e?a.translate(e.toUpperCase()):""};var Zt={arrayObjectToCsv:CI,arrayToCsv:Ul,checkmarkMaterial:SI,complex:dw,complexObject:dw,collection:xI,collectionEditor:EI,currency:OI,dateIso:Ri(R.dateIso,"-"),dateTimeIso:Ri(R.dateTimeIso,"-"),dateTimeShortIso:Ri(R.dateTimeShortIso,"-"),dateTimeIsoAmPm:Ri(R.dateTimeIsoAmPm,"-"),dateTimeIsoAM_PM:Ri(R.dateTimeIsoAM_PM,"-"),dateEuro:Ri(R.dateEuro,"/"),dateEuroShort:Ri(R.dateEuroShort,"/"),dateTimeEuro:Ri(R.dateTimeEuro,"/"),dateTimeEuroShort:Ri(R.dateTimeEuroShort,"/"),dateTimeShortEuro:Ri(R.dateTimeShortEuro,"/"),dateTimeEuroAmPm:Ri(R.dateTimeEuroAmPm,"/"),dateTimeEuroAM_PM:Ri(R.dateTimeEuroAM_PM,"/"),dateTimeEuroShortAmPm:Ri(R.dateTimeEuroShortAmPm,"/"),dateTimeEuroShortAM_PM:Ri(R.dateTimeEuroShortAM_PM,"/"),dateUs:Ri(R.dateUs,"/"),dateTimeUs:Ri(R.dateTimeUs,"/"),dateTimeShortUs:Ri(R.dateTimeShortUs,"/"),dateTimeUsAmPm:Ri(R.dateTimeUsAmPm,"/"),dateTimeUsAM_PM:Ri(R.dateTimeUsAM_PM,"/"),dateTimeUsShort:Ri(R.dateTimeUsShort,"/"),dateTimeUsShortAmPm:Ri(R.dateTimeUsShortAmPm,"/"),dateTimeUsShortAM_PM:Ri(R.dateTimeUsShortAM_PM,"/"),dateUsShort:Ri(R.dateUsShort,"/"),dateUtc:Ri(R.dateUtc,"-"),decimal:kI,dollar:DI,dollarColored:TI,dollarColoredBold:II,hyperlink:AI,icon:RI,iconBoolean:MI,mask:FI,multiple:pc,percent:PI,percentComplete:VI,percentCompleteBar:NI,percentCompleteBarWithText:LI,percentSymbol:BI,progressBar:HI,translate:zI,translateBoolean:GI,tree:UI,treeParseTotals:WI,treeExport:jI};var $I=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"regular","group");if(ze(r)){let v=wt(r,l,c,f,"","",h,m);return`${o}${v}${a}`}return""};var YI=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"currency","group");if(ze(r)){let v=wt(r,l,c,f,"$","",h,m);return`${o}${v}${a}`}return""};var qI=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"currency","group");if(ze(r)){let v=r>=0?"green":"red",C=wt(r,l,c,f,"$","",h,m);return T("span",{style:{color:v},textContent:`${o}${C}${a}`})}return""};var XI=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"currency","group");if(ze(r)){let v=r>=0?"green":"red",C=wt(r,l,c,f,"$","",h,m);return T("span",{style:{color:v,fontWeight:"bold"},textContent:`${o}${C}${a}`})}return""};var KI=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"currency","group");if(ze(r)){let v=wt(r,l,c,f,"$","",h,m);return T("span",{style:{fontWeight:"bold"},textContent:`${o}${v}${a}`})}return""};var QI=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"regular","group");if(ze(r)){let v=r>=0?"green":"red",C=wt(r,l,c,f,"","",h,m);return T("span",{style:{color:v},textContent:`${o}${C}${a}`})}return""};var ZI=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"regular","group");if(ze(r)){let v=wt(r,l,c,f,"","",h,m);return T("span",{style:{fontWeight:"bold"},textContent:`${o}${v}${a}`})}return""};var JI=(n,t,e)=>{let i=t.field??"",r=n.min?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"regular","group");if(ze(r)){let v=wt(r,l,c,f,"","",h,m);return`${o}${v}${a}`}return""};var eO=(n,t,e)=>{let i=t.field??"",r=n.max?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"regular","group");if(ze(r)){let v=wt(r,l,c,f,"","",h,m);return`${o}${v}${a}`}return""};var tO=(n,t,e)=>{let i=t.field??"",r=n.avg?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"percent","group");if(ze(r)){if(r<0)if(r=Math.abs(r),!f)o+="-";else{if(isNaN(l)&&isNaN(c)){let v=Rs(Math.round(r),m);return`${o}(${v}%)${a}`}return`${o}(${io(r,l,c,h,m)}%)${a}`}if(isNaN(l)&&isNaN(c)){let v=Rs(Math.round(r),m);return`${o}${v}%${a}`}return`${o}${io(r,l,c,h,m)}%${a}`}return""};var iO=(n,t,e)=>{let i=t.field??"",r=n.avg?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"currency","group");if(ze(r)){let v=wt(r,l,c,f,"$","",h,m);return`${o}${v}${a}`}return""};var nO=(n,t,e)=>{let i=t.field??"",r=n.avg?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",l=s?.groupFormatterCurrencyPrefix||"",c=s?.groupFormatterCurrencySuffix||"",{minDecimal:h,maxDecimal:m,decimalSeparator:f,thousandSeparator:v,wrapNegativeNumber:C}=lt(t,e,"currency","group");if(ze(r)){let x=wt(r,h,m,C,l,c,f,v);return`${o}${x}${a}`}return""};var rO=(n,t,e)=>{let i=t.field??"",r=n.avg?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",{minDecimal:l,maxDecimal:c,decimalSeparator:h,thousandSeparator:m,wrapNegativeNumber:f}=lt(t,e,"regular","group");if(ze(r)){if(r<0)if(r=Math.abs(r),!f)o+="-";else{if(isNaN(l)&&isNaN(c)){let v=Rs(Math.round(r),m);return`${o}(${v})${a}`}return`${o}(${io(r,l,c,h,m)})${a}`}if(isNaN(l)&&isNaN(c)){let v=Rs(Math.round(r),m);return`${o}${v}${a}`}return`${o}${io(r,l,c,h,m)}${a}`}return""};var sO=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",l=s?.groupFormatterCurrencyPrefix||"",c=s?.groupFormatterCurrencySuffix||"",{minDecimal:h,maxDecimal:m,decimalSeparator:f,thousandSeparator:v,wrapNegativeNumber:C}=lt(t,e,"currency","group");if(ze(r)){let x=wt(r,h,m,C,l,c,f,v);return`${o}${x}${a}`}return""};var oO=(n,t,e)=>{let i=t.field??"",r=n.sum?.[i],s=t?.params,o=s?.groupFormatterPrefix||"",a=s?.groupFormatterSuffix||"",l=s?.groupFormatterCurrencyPrefix||"",c=s?.groupFormatterCurrencySuffix||"",{minDecimal:h,maxDecimal:m,decimalSeparator:f,thousandSeparator:v,wrapNegativeNumber:C}=lt(t,e,"currency","group");if(ze(r)){let x=r>=0?"green":"red",E=wt(r,h,m,C,l,c,f,v);return T("span",{style:{color:x},textContent:`${o}${E}${a}`})}return""};var ai={avgTotals:rO,avgTotalsCurrency:nO,avgTotalsDollar:iO,avgTotalsPercentage:tO,maxTotals:eO,minTotals:JI,sumTotals:$I,sumTotalsBold:ZI,sumTotalsColored:QI,sumTotalsCurrency:sO,sumTotalsCurrencyColored:oO,sumTotalsDollar:YI,sumTotalsDollarBold:KI,sumTotalsDollarColored:qI,sumTotalsDollarColoredBold:XI};var tm=class{constructor(){this.options=wI}};var Rpe=Ce(k(k(k(k(k({},By),Hy),Uy),o0),Qy),{deepAssign:Ho});var _c=class{},aO=(()=>{class n extends _c{getTranslation(e){return _e({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),im=class{},lO=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function Wl(n){return typeof n<"u"&&n!==null}function cw(n){return n&&typeof n=="object"&&!Array.isArray(n)}function hO(n,t){let e=Object.assign({},n);return cw(n)&&cw(t)&&Object.keys(t).forEach(i=>{cw(t[i])?i in n?e[i]=hO(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}var vc=class{},dO=(()=>{class n extends vc{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){let r;return typeof e=="string"?r=this.interpolateString(e,i):typeof e=="function"?r=this.interpolateFunction(e,i):r=e,r}getValue(e,i){let r=typeof i=="string"?i.split("."):[i];i="";do i+=r.shift(),Wl(e)&&Wl(e[i])&&(typeof e[i]=="object"||!r.length)?(e=e[i],i=""):r.length?i+=".":e=void 0;while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,s)=>{let o=this.getValue(i,s);return Wl(o)?o:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),bc=class{},cO=(()=>{class n extends bc{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),g_=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ne;onLangChange=new ne;onDefaultLangChange=new ne},hw=new ie("USE_STORE"),uw=new ie("USE_DEFAULT_LANG"),mw=new ie("DEFAULT_LANGUAGE"),pw=new ie("USE_EXTEND"),nm=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new ne;_onLangChange=new ne;_onDefaultLangChange=new ne;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,i,r,s,o,a=!0,l=!1,c=!1,h){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=l,this.extend=c,h&&this.setDefaultLang(h)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe($t(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return _e(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe($t(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),_e(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(xo(1),$t(1));return this.loadingTranslations=i.pipe(Oe(r=>this.compiler.compileTranslations(r,e)),xo(1),$t(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?k(k({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),(r||this.extend)&&this.translations[e]?this.translations[e]=hO(this.translations[e],i):this.translations[e]=i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let s;if(i instanceof Array){let o={},a=!1;for(let l of i)o[l]=this.getParsedResult(e,l,r),an(o[l])&&(a=!0);if(a){let l=i.map(c=>an(o[c])?o[c]:_e(o[c]));return ha(l).pipe(Oe(c=>{let h={};return c.forEach((m,f)=>{h[i[f]]=m}),h}))}return o}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,i),r)),typeof s>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof s>"u"){let o={key:i,translateService:this};typeof r<"u"&&(o.interpolateParams=r),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:i}get(e,i){if(!Wl(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(rs(r=>(r=this.getParsedResult(r,e,i),an(r)?r:_e(r))));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return an(r)?r:_e(r)}}getStreamOnTranslationChange(e,i){if(!Wl(e)||!e.length)throw new Error('Parameter "key" required');return Us(Br(()=>this.get(e,i)),this.onTranslationChange.pipe(ii(r=>{let s=this.getParsedResult(r.translations,e,i);return typeof s.subscribe=="function"?s:_e(s)})))}stream(e,i){if(!Wl(e)||!e.length)throw new Error('Parameter "key" required');return Us(Br(()=>this.get(e,i)),this.onLangChange.pipe(ii(r=>{let s=this.getParsedResult(r.translations,e,i);return an(s)?s:_e(s)})))}instant(e,i){if(!Wl(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(an(r)){if(e instanceof Array){let s={};return e.forEach((o,a)=>{s[e[a]]=e[a]}),s}return e}else return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(i){return new(i||n)(P(g_),P(_c),P(bc),P(vc),P(im),P(uw),P(hw),P(pw),P(mw))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var uO=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:_c,useClass:aO},e.compiler||{provide:bc,useClass:cO},e.parser||{provide:vc,useClass:dO},e.missingTranslationHandler||{provide:im,useClass:lO},g_,{provide:hw,useValue:e.isolate},{provide:uw,useValue:e.useDefaultLang},{provide:pw,useValue:e.extend},{provide:mw,useValue:e.defaultLanguage},nm]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:_c,useClass:aO},e.compiler||{provide:bc,useClass:cO},e.parser||{provide:vc,useClass:dO},e.missingTranslationHandler||{provide:im,useClass:lO},{provide:hw,useValue:e.isolate},{provide:uw,useValue:e.useDefaultLang},{provide:pw,useValue:e.extend},{provide:mw,useValue:e.defaultLanguage},nm]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ue({type:n});static \u0275inj=he({})}return n})();var __=class{constructor(t){this.pubSubService=t,this.pluginName="RowDetailView",this._dataViewIdProperty="id",this._expandableOverride=null,this._expandedRowIds=new Set,this._gridRowBuffer=0,this._gridUid="",this._keyPrefix="",this._disposedRows=new Set,this._rowIdsOutOfViewport=new Set,this._renderedViewportRowIds=new Set,this._renderedIds=new Set,this._defaults={alwaysRenderColumn:!0,columnId:"_detail_selector",field:"_detail_selector",cssClass:"detailView-toggle",collapseAllOnSort:!0,collapsedClass:void 0,expandedClass:void 0,keyPrefix:"_",loadOnce:!1,maxRows:void 0,reorderable:!1,saveDetailViewOnScroll:!0,singleRowExpand:!1,toolTip:"",width:30},this._eventHandler=new tt,this.onAsyncEndUpdate=new re("onAsyncEndUpdate"),this.onAsyncResponse=new re("onAsyncResponse"),this.onAfterRowDetailToggle=new re("onAfterRowDetailToggle"),this.onBeforeRowDetailToggle=new re("onBeforeRowDetailToggle"),this.onBeforeRowOutOfViewportRange=new re("onBeforeRowOutOfViewportRange"),this.onRowBackToViewportRange=new re("onRowBackToViewportRange"),this.onRowOutOfViewportRange=new re("onRowOutOfViewportRange")}get addonOptions(){return this._addonOptions}get dataView(){return this._grid?.getData()}get dataViewIdProperty(){return this._dataViewIdProperty}get eventHandler(){return this._eventHandler}get gridOptions(){return this._grid?.getOptions()||{}}get gridUid(){return this._gridUid||this._grid?.getUID()||""}set rowIdsOutOfViewport(t){this._rowIdsOutOfViewport=new Set(t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] RowDetailView Plugin requires the Grid instance to be passed as argument to the "init()" method.');this._grid=t,this._gridUid=t.getUID(),this._addonOptions||(this._addonOptions=oi(!0,{},this._defaults,this.gridOptions.rowDetailView)),this._keyPrefix=this._addonOptions?.keyPrefix||"_",B.addSlickEventPubSubWhenDefined(this.pubSubService,this),this._gridRowBuffer=this.gridOptions.minRowBuffer||0,this.gridOptions.minRowBuffer=this._addonOptions.panelRows+3,this._eventHandler.subscribe(this._grid.onClick,this.handleClick.bind(this)).subscribe(this._grid.onBeforeEditCell,()=>this.collapseAll()).subscribe(this._grid.onScroll,this.handleScroll.bind(this)).subscribe(this._grid.onBeforeRemoveCachedRow,(e,i)=>this.handleRemoveRow(i.row)),this._addonOptions.collapseAllOnSort&&this.pubSubService.subscribe("onSortChanged",()=>this.collapseAll()),this._eventHandler.subscribe(this.dataView.onRowCountChanged,()=>{this._grid.updateRowCount(),this._grid.render()}),this._eventHandler.subscribe(this.dataView.onRowsChanged,(e,i)=>{let r=Object.keys(this._grid.getRowCache()).map(Number),s=[],o=i.rows.filter(a=>r.includes(a));this._expandedRowIds.forEach(a=>{let l=this.dataView.getRowById(a);l!==void 0&&o.includes(l)&&s.push(l)}),this._renderedIds.forEach(a=>{let l=this.dataView.getRowById(a);if(l!==void 0){let c=s.findIndex(h=>h===l);c>=0&&s.splice(c,1)}}),this._grid.invalidateRows(s),this._grid.render()}),this._eventHandler.subscribe(this.onAsyncResponse,this.handleOnAsyncResponse.bind(this)),this._eventHandler.subscribe(this.dataView.onSetItemsCalled,()=>{this._dataViewIdProperty=this.dataView?.getIdPropertyName()||"id"})}dispose(){this._eventHandler?.unsubscribeAll(),this._expandedRowIds.clear(),this._rowIdsOutOfViewport.clear(),this._renderedViewportRowIds.clear(),clearTimeout(this._backViewportTimer)}create(t,e){if(!e.rowDetailView)throw new Error('[Slickgrid-Universal] The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(this._addonOptions=oi(!0,{},this._defaults,e.rowDetailView),typeof this._addonOptions.expandableOverride=="function"&&this.expandableOverride(this._addonOptions.expandableOverride),Array.isArray(t)&&e){let i=this.getColumnDefinition();if(!t.some(r=>r.id===i.id)){let r=Array.isArray(t)&&t.find(a=>a?.behavior==="selectAndMove"),s=r||i,o=e?.rowDetailView?.columnIndexPosition??0;o>0?t.splice(o,0,s):t.unshift(s),this.pubSubService.publish("onPluginColumnsChanged",{columns:t,pluginName:this.pluginName})}}return this}getOptions(){return this._addonOptions}setOptions(t){this._addonOptions=oi(!0,{},this._addonOptions,t),this._addonOptions?.singleRowExpand&&this.collapseAll()}collapseAll(){this.dataView.beginUpdate(),this._expandedRowIds.forEach(t=>{this.collapseDetailView(t,!0)}),this.dataView.endUpdate()}collapseDetailView(t,e=!1){e||this.dataView.beginUpdate();let i=this.dataView.getItemById(t);this._addonOptions.loadOnce&&this.saveDetailView(i),i[`${this._keyPrefix}collapsed`]=!0;for(let r=1;r<=i[`${this._keyPrefix}sizePadding`];r++)this.dataView.deleteItem(`${i[this._dataViewIdProperty]}.${r}`);i[`${this._keyPrefix}sizePadding`]=0,this.dataView.updateItem(i[this._dataViewIdProperty],i),this._expandedRowIds=new Set(Array.from(this._expandedRowIds).filter(r=>r!==i[this._dataViewIdProperty])),this._renderedIds.delete(i[this._dataViewIdProperty]),this.reevaluateRenderedRowIds(i),e||this.dataView.endUpdate()}expandDetailView(t){this._addonOptions?.singleRowExpand&&this.collapseAll();let e=this.dataView.getItemById(t);if(this.reevaluateRenderedRowIds(e),e[`${this._keyPrefix}collapsed`]=!1,this._expandedRowIds.add(t),e[`${this._keyPrefix}detailContent`]||(e[`${this._keyPrefix}detailViewLoaded`]=!1),!e[`${this._keyPrefix}detailViewLoaded`]||this._addonOptions.loadOnce!==!0)e[`${this._keyPrefix}detailContent`]=this._addonOptions?.preTemplate?.(e);else{this.onAsyncResponse.notify({item:e,itemDetail:e,detailView:e[`${this._keyPrefix}detailContent`],grid:this._grid}),this.applyTemplateNewLineHeight(e),this.dataView.updateItem(e[this._dataViewIdProperty],e);return}this.applyTemplateNewLineHeight(e),this.dataView.updateItem(e[this._dataViewIdProperty],e),this._addonOptions.process(e)}resetRenderedRows(){this._renderedViewportRowIds.clear(),this._disposedRows.clear()}saveDetailView(t){if(this._addonOptions.loadOnce){let e=document.querySelector(`.${this.gridUid} .innerDetailView_${t[this._dataViewIdProperty]}`);if(e){let i=e.innerHTML;i!==void 0&&(t[`${this._keyPrefix}detailContent`]=i)}}}handleOnAsyncResponse(t,e){if(!e||!e.item&&!e.itemDetail){console.error('SlickRowDetailView plugin requires the onAsyncResponse() to supply "args.item" property.');return}let i=e.item||e.itemDetail;i[`${this._keyPrefix}detailContent`]=e.detailView??this._addonOptions?.postTemplate?.(i),i[`${this._keyPrefix}detailViewLoaded`]=!0,this.dataView.updateItem(i[this._dataViewIdProperty],i),this._renderedIds.add(i[this.dataViewIdProperty]),this.onAsyncEndUpdate.notify({grid:this._grid,item:i,itemDetail:i},t,this)}expandableOverride(t){this._expandableOverride=t}getExpandableOverride(){return this._expandableOverride}getColumnDefinition(){let t=String(this._addonOptions?.columnId??this._defaults.columnId);return{id:t,field:t,name:"",alwaysRenderColumn:this._addonOptions?.alwaysRenderColumn,cssClass:this._addonOptions.cssClass||"",excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,formatter:this.detailSelectionFormatter.bind(this),reorderable:this._addonOptions.reorderable,resizable:!1,sortable:!1,toolTip:this._addonOptions.toolTip,width:this._addonOptions.width}}getExpandedRowIds(){return Array.from(this._expandedRowIds)}getOutOfViewportRows(){return Array.from(this._rowIdsOutOfViewport)}getFilterItem(t){return t[`${this._keyPrefix}isPadding`]&&t[`${this._keyPrefix}parent`]&&(t=t[`${this._keyPrefix}parent`]),t}resizeDetailView(t){if(!t)return;let e=document.querySelector(`.${this.gridUid} .detailViewContainer_${t[this._dataViewIdProperty]}`),i=document.querySelector(`.${this.gridUid} .cellDetailView_${t[this._dataViewIdProperty]}`),r=document.querySelector(`.${this.gridUid} .innerDetailView_${t[this._dataViewIdProperty]}`);if(!e||!i||!r)return;for(let m=1;m<=t[`${this._keyPrefix}sizePadding`];m++)this.dataView.deleteItem(`${t[this._dataViewIdProperty]}.${m}`);let s=this.gridOptions.rowHeight,o=13;e.style.minHeight="";let a=e.scrollHeight,l=Math.ceil(a/s);t[`${this._keyPrefix}sizePadding`]=Math.ceil(l*2*o/s),t[`${this._keyPrefix}height`]=a;let c=t[`${this._keyPrefix}sizePadding`]*s;this._addonOptions.maxRows!==void 0&&t[`${this._keyPrefix}sizePadding`]>this._addonOptions.maxRows&&(c=this._addonOptions.maxRows*s,t[`${this._keyPrefix}sizePadding`]=this._addonOptions.maxRows),this.gridOptions.minRowBuffer<t[`${this._keyPrefix}sizePadding`]&&(this.gridOptions.minRowBuffer=t[`${this._keyPrefix}sizePadding`]+3),e.setAttribute("style",`min-height: ${t[this._keyPrefix+"height"]}px`),i&&i.setAttribute("style",`height: ${c}px; top: ${s}px`);let h=this.dataView.getIdxById(t[this._dataViewIdProperty]);for(let m=1;m<=t[`${this._keyPrefix}sizePadding`];m++)this.dataView.insertItem(h+m,this.getPaddingItem(t,m));this.saveDetailView(t)}applyTemplateNewLineHeight(t){let e=this._addonOptions.panelRows,i=13;t[`${this._keyPrefix}sizePadding`]=Math.ceil(e*2*i/this.gridOptions.rowHeight),t[`${this._keyPrefix}height`]=t[`${this._keyPrefix}sizePadding`]*this.gridOptions.rowHeight;let r=this.dataView.getIdxById(t[this._dataViewIdProperty]);for(let s=1;s<=t[`${this._keyPrefix}sizePadding`];s++)this.dataView.insertItem((r||0)+s,this.getPaddingItem(t,s))}calculateOutOfRangeViewsSimplerVersion(){clearTimeout(this._backViewportTimer),this._backViewportTimer=setTimeout(()=>{this._expandedRowIds.forEach(t=>{let e=this.dataView.getItemById(t),i=this.dataView.getRowById(t),r=Object.keys(this._grid.getRowCache()).map(Number),s=this._grid.getRenderedRange(),o=this.gridOptions.rowDetailView?.panelRows??0;this._visibleRenderedCell={startRow:s.top,endRow:s.bottom};let{startRow:a,endRow:l}=this._visibleRenderedCell;if(i>=a&&i<=l){let h=i+(this.gridOptions.rowDetailView?.panelRows??0);h>l&&(l=h)}let c=i+o;a>i&&i<c&&c>this._visibleRenderedCell.startRow+1&&(a=i),this._visibleRenderedCell={startRow:a,endRow:l},!this._renderedViewportRowIds.has(t)&&this._visibleRenderedCell&&i>=this._visibleRenderedCell.startRow&&i<=this._visibleRenderedCell.endRow&&r.includes(i)?(this._disposedRows.delete(i),this.notifyViewportChange(e,"add")):(this._disposedRows.has(i)&&!r.includes(i)||!r.includes(i)&&this._renderedViewportRowIds.has(t)&&this._visibleRenderedCell&&(i<this._visibleRenderedCell.startRow||i>this._visibleRenderedCell.endRow))&&this.notifyViewportChange(e,"remove")})},0)}notifyViewportChange(t,e){if(t){let i=t[this._dataViewIdProperty];e==="add"?(this._renderedViewportRowIds.add(i),this.notifyBackToViewportWhenDomExist(t)):e==="remove"&&(this._renderedViewportRowIds.delete(i),this.notifyOutOfViewport(t))}}checkExpandableOverride(t,e,i){return typeof this._expandableOverride=="function"?this._expandableOverride(t,e,i):!0}getPaddingItem(t,e){let i={};return Object.keys(this.dataView).forEach(r=>{r&&(i[r]=null)}),i[this._dataViewIdProperty]=`${t[this._dataViewIdProperty]}.${e}`,i[`${this._keyPrefix}collapsed`]=!0,i[`${this._keyPrefix}isPadding`]=!0,i[`${this._keyPrefix}parent`]=t,i[`${this._keyPrefix}offset`]=e,i}detailSelectionFormatter(t,e,i,r,s,o){if(this.checkExpandableOverride(t,s,o)){if(s[`${this._keyPrefix}collapsed`]===void 0&&(s[`${this._keyPrefix}collapsed`]=!0,s[`${this._keyPrefix}sizePadding`]=0,s[`${this._keyPrefix}height`]=0,s[`${this._keyPrefix}isPadding`]=!1,s[`${this._keyPrefix}parent`]=void 0,s[`${this._keyPrefix}offset`]=0),!s[`${this._keyPrefix}isPadding`])if(s[`${this._keyPrefix}collapsed`]){let a=`${this._addonOptions.cssClass||""} expand `;return this._addonOptions.collapsedClass&&(a+=this._addonOptions.collapsedClass),T("div",{className:Ut(a).join(" ")})}else{let a=this.gridOptions.rowHeight||0,l=(s[`${this._keyPrefix}sizePadding`]||0)*this.gridOptions.rowHeight;this._addonOptions.maxRows!==null&&(s[`${this._keyPrefix}sizePadding`]||0)>this._addonOptions.maxRows&&(l=this._addonOptions.maxRows*a,s[`${this._keyPrefix}sizePadding`]=this._addonOptions.maxRows);let c=`${this._addonOptions.cssClass||""} collapse `;this._addonOptions.expandedClass&&(c+=this._addonOptions.expandedClass);let h=T("div",{className:`dynamic-cell-detail cellDetailView_${s[this._dataViewIdProperty]}`,style:{height:`${l}px`,top:`${a}px`}}),m=T("div",{className:`detail-container detailViewContainer_${s[this._dataViewIdProperty]}`}),f=T("div",{className:`innerDetailView_${s[this._dataViewIdProperty]}`});return s[`${this._keyPrefix}detailContent`]instanceof HTMLElement?f.appendChild(s[`${this._keyPrefix}detailContent`]):f.innerHTML=this._grid.sanitizeHtmlString(s[`${this._keyPrefix}detailContent`]),m.appendChild(f),h.appendChild(m),{html:T("div",{className:Ut(c).join(" ")}),insertElementAfterTarget:h}}}else return"";return""}handleAccordionShowHide(t){if(t){let e=t[this._dataViewIdProperty];t[`${this._keyPrefix}collapsed`]?this.expandDetailView(e):this.collapseDetailView(e)}}handleClick(t,e){let i=this._grid.getDataItem(e.row);if(this.checkExpandableOverride(e.row,i,this._grid)){let r=this._grid.getColumns()[e.cell];if(this._addonOptions.useRowClick||r.id===this._addonOptions.columnId&&t.target.classList.contains(this._addonOptions.cssClass||"")){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit()){t.preventDefault(),t.stopImmediatePropagation();return}if(this.onBeforeRowDetailToggle.notify({grid:this._grid,item:i},t,this,!0).getReturnValue()===!1)return;this.toggleRowSelection(e.row,i),this.onAfterRowDetailToggle.notify({grid:this._grid,item:i,expandedRows:Array.from(this._expandedRowIds).map(o=>this.dataView.getItemById(o))},t,this),t.stopPropagation(),t.stopImmediatePropagation()}}}handleRemoveRow(t){let e=this.dataView.getItemByIdx(t),i=e[this.dataViewIdProperty];this._expandedRowIds.has(i)&&(this.onBeforeRowOutOfViewportRange.notify({grid:this._grid,item:e,rowId:i,rowIndex:t,expandedRows:Array.from(this._expandedRowIds).map(r=>this.dataView.getItemById(r)),rowIdsOutOfViewport:Array.from(this.syncOutOfViewportArray(i,!0))},null,this),this._disposedRows.add(t))}handleScroll(){this.calculateOutOfRangeViewsSimplerVersion()}notifyOutOfViewport(t){let e=t.rowIndex||this.dataView.getRowById(t[this._dataViewIdProperty]),i=t[this.dataViewIdProperty];this._renderedIds.delete(i),this.onRowOutOfViewportRange.notify({grid:this._grid,item:t,rowId:i,rowIndex:e,expandedRows:Array.from(this._expandedRowIds).map(r=>this.dataView.getItemById(r)),rowIdsOutOfViewport:Array.from(this.syncOutOfViewportArray(i,!0))},null,this)}notifyBackToViewportWhenDomExist(t){let e=t.rowIndex||this.dataView.getRowById(t[this._dataViewIdProperty]),i=t[this.dataViewIdProperty];document.querySelector(`.${this.gridUid} .cellDetailView_${t[this._dataViewIdProperty]}`)&&this.onRowBackToViewportRange.notify({grid:this._grid,item:t,rowId:i,rowIndex:e,expandedRows:Array.from(this._expandedRowIds).map(r=>this.dataView.getItemById(r)),rowIdsOutOfViewport:Array.from(this.syncOutOfViewportArray(i,!1))},null,this)}reevaluateRenderedRowIds(t){let e=this.dataView.getRowById(t[this._dataViewIdProperty]);this._renderedViewportRowIds.forEach(i=>{let r=this.dataView.getRowById(i);r!==void 0&&r>e&&this.notifyViewportChange(this.dataView.getItemById(i),"remove")})}syncOutOfViewportArray(t,e){let i=this._rowIdsOutOfViewport.has(t);return e&&!i?this._rowIdsOutOfViewport.add(t):!e&&i&&this._rowIdsOutOfViewport.delete(t),this._rowIdsOutOfViewport}toggleRowSelection(t,e){this.checkExpandableOverride(t,e,this._grid)&&(this.dataView.beginUpdate(),this.handleAccordionShowHide(e),this.dataView.endUpdate())}};var v_=class{constructor(){this._isPreviouslyShown=!1,this._warningLeftElement=null,this._warningRightElement=null}get gridOptions(){return this._grid?.getOptions()??{}}init(t,e){this._grid=t,this._translaterService=e.get("TranslaterService")}dispose(){this._warningLeftElement?.remove(),this._warningRightElement?.remove(),this._warningLeftElement=null,this._warningRightElement=null}showEmptyDataMessage(t=!0,e){if(!this._grid||!this.gridOptions||this._isPreviouslyShown===t)return!1;this._isPreviouslyShown=t;let i=this._grid.getUID(),s=k(k({message:"No data to display."},this.gridOptions.emptyDataWarning),e),o=s?.className??"slick-empty-data-warning";this._warningLeftElement=document.querySelector(`.${i} .${o}`);let a=document.querySelector(`.${i} .grid-canvas.grid-canvas-left`),l=document.querySelector(`.${i} .grid-canvas.grid-canvas-right`),c=s.leftViewportMarginLeft??0,h=s.rightViewportMarginLeft??0,m=s.frozenLeftViewportMarginLeft??0,f=s.frozenRightViewportMarginLeft??0,v=this.gridOptions?.frozenColumn!==void 0&&this.gridOptions.frozenColumn>=0,C=typeof c=="string"?c:`${c}px`,x=typeof h=="string"?h:`${h}px`;if(this.gridOptions.autoHeight){let I=document.querySelector(`.${i} .slick-pane.slick-pane-top.slick-pane-left`);if(I&&I.style&&a&&a.style){let N=parseInt(I.style.height,10)||0,L=this.gridOptions?.rowHeight??0,V=this.gridOptions.enableFiltering?this.gridOptions?.headerRowHeight??0:0,j=this.gridOptions.createPreHeaderPanel?this.gridOptions?.preHeaderPanelHeight??0:0;if(t){let Y=N!==null&&N<100?N:100;Y+=V+j,I.style.minHeight=`${Y}px`,a.style.minHeight=`${L}px`}}}let E=s.message;if(this.gridOptions.enableTranslate&&this._translaterService&&s?.messageKey&&(E=this._translaterService.translate(s.messageKey)),!this._warningLeftElement&&a&&l&&(this._warningLeftElement=document.createElement("div"),this._warningLeftElement.classList.add(...Ut(o)),this._warningLeftElement.classList.add("left"),this._grid.applyHtmlCode(this._warningLeftElement,E),this._warningRightElement=this._warningLeftElement.cloneNode(!0),this._warningRightElement.classList.add("right"),l.appendChild(this._warningRightElement),a.appendChild(this._warningLeftElement)),this._warningLeftElement){let I=t?"flex":"none";v&&t&&(I=s.hideFrozenLeftWarning?"none":"flex"),this._warningLeftElement.style.display=I;let N=typeof m=="string"?m:`${m}px`;this._warningLeftElement.style.marginLeft=v?N:C}if(this._warningRightElement){let I=t?"flex":"none";v&&t&&(I=s.hideFrozenRightWarning?"none":"flex"),this._warningRightElement.style.display=I;let N=typeof f=="string"?f:`${f}px`;this._warningRightElement.style.marginLeft=v?N:x}return t}};var b_=class{get eventHandler(){return this._eventHandler}get gridUid(){return this.grid?.getUID()??""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get gridOptions(){return this.grid?.getOptions()??{}}get locales(){return this.gridOptions?.locales??se.locales}set metrics(t){this.renderMetrics(t)}get leftFooterText(){return document.querySelector(`.slick-custom-footer${this.gridUidSelector} .left-footer`)?.textContent??""}set leftFooterText(t){this.renderLeftFooterText(t)}get rightFooterText(){return document.querySelector(`.slick-custom-footer${this.gridUidSelector} .right-footer`)?.textContent??""}set rightFooterText(t){this.renderRightFooterText(t)}constructor(t,e,i,r){if(this.grid=t,this.customFooterOptions=e,this.pubSubService=i,this.translaterService=r,this._enableTranslate=!1,this._isLeftFooterOriginallyEmpty=!0,this._isLeftFooterDisplayingSelectionRowCount=!1,this._isRightFooterOriginallyEmpty=!0,this._selectedRowCount=0,this._subscriptions=[],this._bindingHelper=new Qd,this._bindingHelper.querySelectorPrefix=`.${this.gridUid} `,this._eventHandler=new tt,this._enableTranslate=this.gridOptions?.enableTranslate??!1,this._isLeftFooterOriginallyEmpty=!this.gridOptions.customFooterOptions?.leftFooterText,this._isRightFooterOriginallyEmpty=!this.gridOptions.customFooterOptions?.rightFooterText,this.registerOnSelectedRowsChangedWhenEnabled(e),this._enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.translateCustomFooterTexts(),this._enableTranslate&&this.pubSubService?.subscribe){let s=this.translaterService?.eventName??"onLanguageChange";this._subscriptions.push(this.pubSubService.subscribe(s,()=>this.translateCustomFooterTexts()))}}dispose(){this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),this._bindingHelper.dispose(),this._footerElement?.remove()}renderFooter(t){this.translateCustomFooterTexts(),this.createFooterContainer(t)}renderMetrics(t){let e=t?.endTime?un(t.endTime,this.customFooterOptions.dateFormat,"en-US"):"";this._bindingHelper.setElementAttributeValue("span.last-update-timestamp","textContent",e),this._bindingHelper.setElementAttributeValue("span.item-count","textContent",t.itemCount),this._bindingHelper.setElementAttributeValue("span.total-count","textContent",t.totalItemCount),this.customFooterOptions.metricTexts?.lastUpdate&&this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"lastUpdate","span.text-last-update","textContent"),this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"items","span.text-items","textContent"),this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"of","span.text-of","textContent")}renderLeftFooterText(t){this._bindingHelper.setElementAttributeValue("div.left-footer","textContent",t)}renderRightFooterText(t){this._bindingHelper.setElementAttributeValue("div.right-footer","textContent",t)}translateCustomFooterTexts(){if(this.gridOptions.enableTranslate&&this.translaterService?.translate){this.customFooterOptions.metricTexts=this.customFooterOptions.metricTexts||{};for(let t of Object.keys(this.customFooterOptions.metricTexts))if(t.lastIndexOf("Key")>0){let e=t.substring(0,t.lastIndexOf("Key"));this.customFooterOptions.metricTexts[e]=this.translaterService.translate(this.customFooterOptions.metricTexts[t]||" ")}this._isLeftFooterDisplayingSelectionRowCount&&(this.leftFooterText=`${this._selectedRowCount} ${this.customFooterOptions.metricTexts.itemsSelected}`)}else this.locales&&(this.customFooterOptions.metricTexts=this.customFooterOptions.metricTexts||{},this.customFooterOptions.metricTexts.lastUpdate=this.customFooterOptions.metricTexts.lastUpdate||this.locales?.TEXT_LAST_UPDATE||"TEXT_LAST_UPDATE",this.customFooterOptions.metricTexts.items=this.customFooterOptions.metricTexts.items||this.locales?.TEXT_ITEMS||"TEXT_ITEMS",this.customFooterOptions.metricTexts.itemsSelected=this.customFooterOptions.metricTexts.itemsSelected||this.locales?.TEXT_ITEMS_SELECTED||"TEXT_ITEMS_SELECTED",this.customFooterOptions.metricTexts.of=this.customFooterOptions.metricTexts.of||this.locales?.TEXT_OF||"TEXT_OF")}createFooterContainer(t){let e=T("div",{className:`slick-custom-footer ${this.gridUid}`,style:{width:"100%",height:`${this.customFooterOptions.footerHeight||20}px`}}),i=T("div",{className:`left-footer ${this.customFooterOptions.leftContainerClass}`});this.grid.applyHtmlCode(i,this.customFooterOptions.leftFooterText),e.appendChild(i),e.appendChild(this.createFooterRightContainer()),this._footerElement=e,t?.appendChild&&this._footerElement&&t.appendChild(this._footerElement)}createFooterRightContainer(){let t=T("div",{className:`right-footer ${this.customFooterOptions.rightContainerClass||""}`});if(!this._isRightFooterOriginallyEmpty)this.grid.applyHtmlCode(t,this.customFooterOptions.rightFooterText);else if(!this.customFooterOptions.hideMetrics){t.classList.add("metrics");let e=T("span",{className:"timestamp"},t);if(!this.customFooterOptions.hideLastUpdateTimestamp){let i=this.createFooterLastUpdate();i&&e.appendChild(i)}t.appendChild(T("span",{className:"item-count",textContent:`${this.metrics?.itemCount??"0"}`})),this.customFooterOptions.hideTotalItemCount||(t.appendChild(document.createTextNode(`\r
`)),t.appendChild(T("span",{className:"text-of",textContent:` ${this.customFooterOptions.metricTexts?.of??"of"} `})),t.appendChild(document.createTextNode(`\r
`)),t.appendChild(T("span",{className:"total-count",textContent:`${this.metrics?.totalItemCount??"0"}`}))),t.appendChild(document.createTextNode(`\r
`)),t.appendChild(T("span",{className:"text-items",textContent:` ${this.customFooterOptions.metricTexts?.items??"items"} `}))}return t}createFooterLastUpdate(){let t=this.customFooterOptions?.metricTexts?.lastUpdate??"Last Update",e=this.metrics?.endTime?un(this.metrics?.endTime,this.customFooterOptions.dateFormat,"en-US"):"",i=T("span");return i.appendChild(T("span",{className:"text-last-update",textContent:t})),i.appendChild(document.createTextNode(`\r
`)),i.appendChild(T("span",{className:"last-update-timestamp",textContent:e})),i.appendChild(T("span",{className:"separator",textContent:` ${this.customFooterOptions.metricSeparator||""} `})),i}registerOnSelectedRowsChangedWhenEnabled(t){if((this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&t&&!t.hideRowSelectionCount&&this._isLeftFooterOriginallyEmpty){this._isLeftFooterDisplayingSelectionRowCount=!0;let i=t.metricTexts?.itemsSelected??this.locales?.TEXT_ITEMS_SELECTED??"TEXT_ITEMS_SELECTED";t.leftFooterText=`0 ${i}`,this._eventHandler.subscribe(this.grid.onSelectedRowsChanged,(r,s)=>{this._selectedRowCount=s.rows.length;let o=t.metricTexts?.itemsSelected??this.locales?.TEXT_ITEMS_SELECTED??"TEXT_ITEMS_SELECTED";this.leftFooterText=`${this._selectedRowCount} ${o}`})}}};var y_=class{constructor(){this._enableTranslate=!1,this._subscriptions=[],this.currentPagination={},this.firstButtonClasses="",this.lastButtonClasses="",this.prevButtonClasses="",this.nextButtonClasses="",this.textItemsPerPage="items per page",this.textItems="items",this.textOf="of",this.textPage="Page",this._bindingHelper=new Qd,this._bindingEventService=new Yt}get availablePageSizes(){return this._paginationService.availablePageSizes||[]}get dataFrom(){return this._paginationService.dataFrom}get dataTo(){return this._paginationService.dataTo}get itemsPerPage(){return this._paginationService.itemsPerPage}set itemsPerPage(t){this._paginationService.changeItemPerPage(t)}get pageCount(){return this._paginationService.pageCount}get pageNumber(){return this._paginationService.pageNumber}get gridOptions(){return this._grid?.getOptions()??{}}get gridUid(){return this._grid?.getUID()||""}get locales(){return this.gridOptions?.locales??se.locales}get totalItems(){return this._paginationService.totalItems}get isLeftPaginationDisabled(){return this.pageNumber===1||this.totalItems===0}get isRightPaginationDisabled(){return this.pageNumber===this.pageCount||this.totalItems===0}init(t,e,i,r){if(this._grid=t,this._pubSubService=i,this._translaterService=r,this._paginationService=e,this.currentPagination=e.getFullPagination(),this._bindingHelper.querySelectorPrefix=this.gridUid?`.${this.gridUid} `:"",this._enableTranslate=this.gridOptions?.enableTranslate??!1,this._enableTranslate&&(!this._translaterService||!this._translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.translatePaginationTexts(),this._enableTranslate&&this._pubSubService?.subscribe){let s=this._translaterService?.eventName??"onLanguageChange";this._subscriptions.push(this._pubSubService.subscribe(s,()=>this.translatePaginationTexts()))}this._subscriptions.push(this._pubSubService.subscribe("onPaginationRefreshed",s=>{Object.keys(s).forEach(o=>this.currentPagination[o]=s[o]),this.updatePageButtonsUsability(),this._spanInfoFromToElm?.style&&(this._spanInfoFromToElm.style.display=this.currentPagination.totalItems===0?"none":"")}),this._pubSubService.subscribe("onPaginationSetCursorBased",()=>{this.disposeDom(),this.renderPagination(this._gridContainerElm)}))}dispose(){this._pubSubService.unsubscribeAll(this._subscriptions),this.disposeDom()}disposeDom(){this._bindingEventService.unbindAll(),this._bindingHelper.dispose(),this._paginationElement.remove()}renderPagination(t){this._gridContainerElm=t;let e=this.createPaginationContainer(),i=T("div",{className:"slick-pagination-nav"}),r=T("nav",{ariaLabel:"Page navigation"}),s=T("ul",{className:"pagination"});this._seekFirstElm=T("li",{className:"page-item seek-first"},s),this._seekFirstElm.appendChild(T("a",{className:"page-link icon-seek-first",ariaLabel:"First Page",role:"button"})),this._seekPrevElm=T("li",{className:"page-item seek-prev"},s),this._seekPrevElm.appendChild(T("a",{className:"page-link icon-seek-prev",ariaLabel:"Previous Page",role:"button"})),r.appendChild(s);let o=this.createPageNumberSection(),a=T("nav",{ariaLabel:"Page navigation"}),l=T("ul",{className:"pagination"});this._seekNextElm=T("li",{className:"page-item seek-next"},l),this._seekNextElm.appendChild(T("a",{className:"page-link icon-seek-next",ariaLabel:"Next Page",role:"button"})),this._seekEndElm=T("li",{className:"page-item seek-end"},l),this._seekEndElm.appendChild(T("a",{className:"page-link icon-seek-end",ariaLabel:"Last Page",role:"button"})),a.appendChild(l),e.appendChild(i),i.appendChild(r),i.appendChild(o),i.appendChild(a);let c=this.createPaginationSettingsSection();e.appendChild(i),e.appendChild(c),this._paginationElement.appendChild(e),t?.appendChild&&this._paginationElement&&t.appendChild(this._paginationElement),this.renderPageSizes(),this.addBindings(),this.addEventListeners(),this.updatePageButtonsUsability()}renderPageSizes(){if(this._itemPerPageElm&&Array.isArray(this.availablePageSizes))for(let t of this.availablePageSizes)this._itemPerPageElm.appendChild(T("option",{value:`${t}`,text:`${t}`}))}addBindings(){this._bindingHelper.addElementBinding(this,"firstButtonClasses","li.page-item.seek-first","className"),this._bindingHelper.addElementBinding(this,"prevButtonClasses","li.page-item.seek-prev","className"),this._bindingHelper.addElementBinding(this,"lastButtonClasses","li.page-item.seek-end","className"),this._bindingHelper.addElementBinding(this,"nextButtonClasses","li.page-item.seek-next","className"),this._bindingHelper.addElementBinding(this.currentPagination,"dataFrom","span.item-from","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"dataTo","span.item-to","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"totalItems","span.total-items","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"pageCount","span.page-count","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"pageSize","select.items-per-page","value"),this._paginationService.isCursorBased?this._bindingHelper.addElementBinding(this.currentPagination,"pageNumber","span.page-number","textContent"):this._bindingHelper.addElementBinding(this.currentPagination,"pageNumber","input.page-number","value","change",this.changeToCurrentPage.bind(this)),this._bindingHelper.addElementBinding(this,"textItems","span.text-items","textContent"),this._bindingHelper.addElementBinding(this,"textItemsPerPage","span.text-item-per-page","textContent"),this._bindingHelper.addElementBinding(this,"textOf","span.text-of","textContent"),this._bindingHelper.addElementBinding(this,"textPage","span.text-page","textContent")}addEventListeners(){this._bindingEventService.bind(this._seekFirstElm,"click",this.changeToFirstPage.bind(this)),this._bindingEventService.bind(this._seekEndElm,"click",this.changeToLastPage.bind(this)),this._bindingEventService.bind(this._seekNextElm,"click",this.changeToNextPage.bind(this)),this._bindingEventService.bind(this._seekPrevElm,"click",this.changeToPreviousPage.bind(this)),this._bindingEventService.bind(this._itemPerPageElm,"change",this.updateItemsPerPage.bind(this))}changeToFirstPage(t){this.isLeftPaginationDisabled||this._paginationService.goToFirstPage(t)}changeToLastPage(t){this.isRightPaginationDisabled||this._paginationService.goToLastPage(t)}changeToNextPage(t){this.isRightPaginationDisabled||this._paginationService.goToNextPage(t)}changeToPreviousPage(t){this.isLeftPaginationDisabled||this._paginationService.goToPreviousPage(t)}changeToCurrentPage(t){this._paginationService.goToPageNumber(+t)}updateItemsPerPage(t){this.itemsPerPage=+(t?.target?.value??0)}translatePaginationTexts(){if(this._enableTranslate&&this._translaterService?.translate){let t=Sn(this.gridOptions);this.textItemsPerPage=this._translaterService.translate(`${t}ITEMS_PER_PAGE`),this.textItems=this._translaterService.translate(`${t}ITEMS`),this.textOf=this._translaterService.translate(`${t}OF`),this.textPage=this._translaterService.translate(`${t}PAGE`)}else this.locales&&(this.textItemsPerPage=this.locales.TEXT_ITEMS_PER_PAGE||"TEXT_ITEMS_PER_PAGE",this.textItems=this.locales.TEXT_ITEMS||"TEXT_ITEMS",this.textOf=this.locales.TEXT_OF||"TEXT_OF",this.textPage=this.locales.TEXT_PAGE||"TEXT_PAGE")}createPaginationContainer(){let t=T("div",{id:"pager",className:`slick-pagination-container ${this.gridUid} pager`,style:{width:"100%"}}),e=T("div",{className:"slick-pagination"});return t.appendChild(e),this._paginationElement=t,e}createPageNumberSection(){let t=T("div",{className:"slick-page-number"});return T("span",{className:"text-page",textContent:"Page"},t),t.appendChild(document.createTextNode(" ")),this._paginationService.isCursorBased?T("span",{className:"page-number",ariaLabel:"Page Number",dataset:{test:"page-number-label"},textContent:"1"},t):T("input",{type:"text",className:"form-control page-number",ariaLabel:"Page Number",value:"1",size:1,dataset:{test:"page-number-input"}},t),t.appendChild(document.createTextNode(" ")),T("span",{className:"text-of",textContent:"of"},t),t.appendChild(document.createTextNode(" ")),T("span",{className:"page-count",dataset:{test:"page-count"}},t),t}createPaginationSettingsSection(){let t=T("span",{className:"slick-pagination-settings"});this._itemPerPageElm=T("select",{id:"items-per-page-label",ariaLabel:"Items per Page",className:"items-per-page"},t),t.appendChild(document.createTextNode(" ")),T("span",{className:"text-item-per-page",textContent:"items per page"},t),t.appendChild(document.createTextNode(", "));let e=T("span",{className:"slick-pagination-count"},t);this._spanInfoFromToElm=T("span",{className:"page-info-from-to"},e),T("span",{className:"item-from",ariaLabel:"Page Item From",dataset:{test:"item-from"}},this._spanInfoFromToElm),this._spanInfoFromToElm.appendChild(document.createTextNode("-")),T("span",{className:"item-to",ariaLabel:"Page Item To",dataset:{test:"item-to"}},this._spanInfoFromToElm),this._spanInfoFromToElm.appendChild(document.createTextNode(" ")),T("span",{className:"text-of",textContent:"of"},this._spanInfoFromToElm),this._spanInfoFromToElm.appendChild(document.createTextNode(" "));let i=T("span",{className:"page-info-total-items"},e);return T("span",{className:"total-items",ariaLabel:"Total Items",dataset:{test:"total-items"}},i),i.appendChild(document.createTextNode(" ")),T("span",{className:"text-items",textContent:"items"},i),i.appendChild(document.createTextNode(" ")),t}updatePageButtonsUsability(){this.firstButtonClasses=this.isLeftPaginationDisabled?"page-item seek-first disabled":"page-item seek-first",this.prevButtonClasses=this.isLeftPaginationDisabled?"page-item seek-prev disabled":"page-item seek-prev",this.lastButtonClasses=this.isRightPaginationDisabled?"page-item seek-end disabled":"page-item seek-end",this.nextButtonClasses=this.isRightPaginationDisabled?"page-item seek-next disabled":"page-item seek-next"}};var w_=class{constructor(){this.className="RxJsResource"}get EMPTY(){return Dr}createObservable(){return new on}createSubject(){return new ge}firstValueFrom(t){return GC(t)}iif(t,e,i){return $C(t,e,i)}isObservable(t){return an(t)}of(...t){return _e(...t)}switchMap(t){return ii(t)}takeUntil(t){return Tt(t)}};var BU=["slickgridHeader"],HU=["slickgridFooter"];function zU(n,t){n&1&&cd(0)}function jU(n,t){n&1&&cd(0)}var _w=(()=>{class n{vcr;constructor(e){this.vcr=e}createInteractiveAngularComponent(e,i,r,s){let o=this.vcr.createComponent(e,s);o?.instance&&r&&Object.assign(o.instance,r);let a=null,l=o.hostView;return l&&Array.isArray(l.rootNodes)&&l.rootNodes[0]&&(a=l.rootNodes[0],i&&a&&i.replaceChildren(o.location.nativeElement)),{componentRef:o,domElement:a}}createAngularComponent(e,i,r,s){let o=this.vcr.createComponent(e,s);o?.instance&&r&&(Object.assign(o.instance,r),o.changeDetectorRef.detectChanges());let a=null,l=o.hostView;return l&&Array.isArray(l.rootNodes)&&l.rootNodes[0]&&(a=l.rootNodes[0],i&&a&&(i.innerHTML=typeof s?.sanitizer=="function"?s.sanitizer(a.innerHTML||""):a.innerHTML)),{componentRef:o,domElement:a}}createAngularComponentAppendToDom(e,i,r,s){let o=this.createAngularComponent(e,i,r,s);return i?.replaceChildren?i.replaceChildren(o.domElement):document.body.appendChild(o.domElement),o}static \u0275fac=function(i){return new(i||n)(P(In))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),gO=(()=>{class n{dependencies=[];get(e){let i=this.dependencies.find(r=>r.key===e);return i?.instance?i.instance:null}dispose(){this.dependencies=[]}registerInstance(e,i){this.dependencies.some(s=>s.key===e)||this.dependencies.push({key:e,instance:i})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),mO=(()=>{class n{translateService;constructor(e){this.translateService=e}getCurrentLanguage(){return this.translateService?.currentLang??""}use(e){return Ze(this,null,function*(){return this.translateService?.use?.(e)})}translate(e){return this.translateService?.instant?.(e||" ")}static \u0275fac=function(i){return new(i||n)(P(nm,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var fw="container_",pO="container_loading",vw=class extends __{angularUtilService;appRef;eventPubSubService;gridContainerElement;rxjs;rowDetailContainer;_preloadComponent;_preloadCompRef;_views=[];_viewComponent;_subscriptions=[];_userProcessFn;constructor(t,e,i,r,s){super(i),this.angularUtilService=t,this.appRef=e,this.eventPubSubService=i,this.gridContainerElement=r,this.rxjs=s}get addonOptions(){return this.getOptions()}get datasetIdPropName(){return this.gridOptions.datasetIdPropertyName||"id"}get eventHandler(){return this._eventHandler}set eventHandler(t){this._eventHandler=t}get gridOptions(){return this._grid?.getOptions()||{}}get rowDetailViewOptions(){return this.gridOptions.rowDetailView}addRxJsResource(t){this.rxjs=t}dispose(){this.disposeAllViewComponents(),this._subscriptions=Pa(this._subscriptions),super.dispose()}disposeAllViewComponents(){do{let t=this._views.pop();t&&this.disposeView(t)}while(this._views.length>0)}getAddonInstance(){return this}init(t){this._grid=t,super.init(this._grid),this.register(t?.getSelectionModel())}register(t){if(typeof this.gridOptions.rowDetailView?.process=="function")this._userProcessFn=this.gridOptions.rowDetailView.process,this.addonOptions.process=e=>this.onProcessing(e);else throw new Error('[Angular-Slickgrid] You need to provide a "process" function for the Row Detail Extension to work properly');return this._grid&&this.gridOptions?.rowDetailView&&(this.gridOptions.rowDetailView.preTemplate||(this._preloadComponent=this.gridOptions?.rowDetailView?.preloadComponent,this.addonOptions.preTemplate=()=>this._grid.sanitizeHtmlString(`<div class="${pO}"></div>`)),this.gridOptions.rowDetailView.postTemplate||(this._viewComponent=this.gridOptions?.rowDetailView?.viewComponent,this.addonOptions.postTemplate=e=>this._grid.sanitizeHtmlString(`<div class="${fw}${e[this.datasetIdPropName]}"></div>`)),(!t||!this._grid.getSelectionModel())&&(t=new mo(this.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this._grid.setSelectionModel(t)),this._grid&&this.rowDetailViewOptions&&(this.rowDetailViewOptions.onExtensionRegistered&&this.rowDetailViewOptions.onExtensionRegistered(this),this.onAsyncResponse&&this.eventHandler.subscribe(this.onAsyncResponse,(e,i)=>{this.rowDetailViewOptions&&typeof this.rowDetailViewOptions.onAsyncResponse=="function"&&this.rowDetailViewOptions.onAsyncResponse(e,i)}),this.onAsyncEndUpdate&&this.eventHandler.subscribe(this.onAsyncEndUpdate,(e,i)=>{this._preloadCompRef?.destroy(),this.renderViewModel(i?.item),this.rowDetailViewOptions&&typeof this.rowDetailViewOptions.onAsyncEndUpdate=="function"&&this.rowDetailViewOptions.onAsyncEndUpdate(e,i)}),this.onAfterRowDetailToggle&&this.eventHandler.subscribe(this.onAfterRowDetailToggle,(e,i)=>{this.renderPreloadView(),this.rowDetailViewOptions&&typeof this.rowDetailViewOptions.onAfterRowDetailToggle=="function"&&this.rowDetailViewOptions.onAfterRowDetailToggle(e,i)}),this.onBeforeRowDetailToggle&&this.eventHandler.subscribe(this.onBeforeRowDetailToggle,(e,i)=>(this.handleOnBeforeRowDetailToggle(e,i),this.rowDetailViewOptions&&typeof this.rowDetailViewOptions.onBeforeRowDetailToggle=="function"?this.rowDetailViewOptions.onBeforeRowDetailToggle(e,i):!0)),this.onRowBackToViewportRange&&this.eventHandler.subscribe(this.onRowBackToViewportRange,(e,i)=>{this.handleOnRowBackToViewportRange(e,i),this.rowDetailViewOptions&&typeof this.rowDetailViewOptions.onRowBackToViewportRange=="function"&&this.rowDetailViewOptions.onRowBackToViewportRange(e,i)}),this.onBeforeRowOutOfViewportRange&&this._eventHandler.subscribe(this.onBeforeRowOutOfViewportRange,(e,i)=>{typeof this.rowDetailViewOptions?.onBeforeRowOutOfViewportRange=="function"&&this.rowDetailViewOptions.onBeforeRowOutOfViewportRange(e,i),this.disposeViewByItem(i.item)}),this.onRowOutOfViewportRange&&this.eventHandler.subscribe(this.onRowOutOfViewportRange,(e,i)=>{this.rowDetailViewOptions&&typeof this.rowDetailViewOptions.onRowOutOfViewportRange=="function"&&this.rowDetailViewOptions.onRowOutOfViewportRange(e,i)}),this.eventHandler.subscribe(this._grid.onColumnsReordered,this.redrawAllViewComponents.bind(this)),(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.eventHandler.subscribe(this._grid.onSelectedRowsChanged,this.redrawAllViewComponents.bind(this)),this.eventHandler.subscribe(this._grid.onSort,this.disposeAllViewComponents.bind(this)),this._subscriptions.push(this.eventPubSubService?.subscribe(["onFilterChanged","onGridMenuColumnsChanged","onColumnPickerColumnsChanged"],this.redrawAllViewComponents.bind(this)),this.eventPubSubService?.subscribe(["onGridMenuClearAllFilters","onGridMenuClearAllSorting"],()=>window.setTimeout(()=>this.redrawAllViewComponents()))))),this}redrawAllViewComponents(){this.resetRenderedRows(),this._views.forEach(t=>{t.rendered||this.redrawViewComponent(t)})}redrawViewComponent(t){this.gridContainerElement.getElementsByClassName(`${fw}${t.id}`)?.length>=0&&this.renderViewModel(t.dataContext)}renderPreloadView(){let t=this.gridContainerElement.getElementsByClassName(`${pO}`);if(this._preloadComponent&&t?.length>=0){let e=this.angularUtilService.createAngularComponentAppendToDom(this._preloadComponent,t[t.length-1],{},{sanitizer:this._grid.sanitizeHtmlString});this._preloadCompRef=e.componentRef}}renderViewModel(t){let e=this.gridContainerElement.getElementsByClassName(`${fw}${t[this.datasetIdPropName]}`);if(this._viewComponent&&e?.length>0){let i=this.angularUtilService.createAngularComponentAppendToDom(this._viewComponent,e[e.length-1],{model:t,addon:this,grid:this._grid,dataView:this.dataView,parent:this.rowDetailViewOptions?.parent},{sanitizer:this._grid.sanitizeHtmlString});if(i?.componentRef){let r=this._views.find(s=>s.id===t[this.datasetIdPropName]);return r&&(r.componentRef=i.componentRef,r.rendered=!0),r}}}disposeViewByItem(t,e=!1){let i=this._views.findIndex(r=>r.id===t[this.datasetIdPropName]);if(i>=0&&i in this._views){let r=this._views[i];this.disposeView(r),e&&this._views.splice(i,1)}}disposeView(t){let e=t?.componentRef;if(e)return this.appRef.detachView(e.hostView),e?.destroy&&(e.destroy(),t.rendered=!1),t}notifyTemplate(t){this.onAsyncResponse&&this.onAsyncResponse.notify({item:t,itemDetail:t},new Ct,this)}onProcessing(t){return Ze(this,null,function*(){if(t&&typeof this._userProcessFn=="function"){let e,r=yield this._userProcessFn(t);if(this.datasetIdPropName in r?e=r:(r&&r instanceof on||r instanceof Promise)&&(e=yield Eu(this.rxjs,r)),!e||!(this.datasetIdPropName in e))throw new Error(`[Angular-Slickgrid] could not process the Row Detail, you must make sure that your "process" callback
          (a Promise or an HttpClient call returning an Observable) returns an item object that has an "${this.datasetIdPropName}" property`);this.notifyTemplate(e||{})}})}handleOnBeforeRowDetailToggle(t,e){if(e?.item?.__collapsed){let i={id:e.item[this.datasetIdPropName],dataContext:e.item,rendered:!1},r=this.gridOptions.datasetIdPropertyName||"id";Yy(this._views,i,r)}else this.disposeViewByItem(e.item,!0)}handleOnRowBackToViewportRange(t,e){let i=Array.from(this._views).find(r=>r.id===e.rowId);i&&!i.rendered&&this.redrawViewComponent(i)}},gw={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{applyResizeToContainer:!0,autoHeight:!0,autoHeightRecalcRow:100,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:250,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:fO},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCollapseAllGroupsCommand:"mdi mdi-arrow-collapse",iconExpandAllGroupsCommand:"mdi mdi-arrow-expand",iconClearGroupingCommand:"mdi mdi-close",iconCopyCellValueCommand:"mdi mdi-content-copy",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",showBulletWhenIconMissing:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{items:"items",itemsKey:"ITEMS",itemsSelected:"items selected",itemsSelectedKey:"ITEMS_SELECTED",of:"of",ofKey:"OF"}},dataView:{syncGridSelection:{preserveHidden:!1,preserveHiddenOnSelectionChange:!0},syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:zi.input,defaultBackendServiceFilterTypingDebounce:500,defaultColumnSortFieldId:"id",defaultFilterPlaceholder:"\u{1F50E}\uFE0E",defaultFilterRangeOperator:Le.rangeInclusive,editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!1,enableTextExport:!1,enableFilterTrimWhiteSpace:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",message:"No data to display.",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,eventNamingStyle:yr.camelCase,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,exportWithFormatter:!1,filename:"export",format:Pn.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2B9E",groupExpandedSymbol:"\u2B9F",groupingAggregatorRowText:"",sanitizeDataExport:!1},textExportOptions:{delimiter:Ms.comma,exportWithFormatter:!1,filename:"export",format:Pn.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},filterTypingDebounce:0,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:0,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleDarkModeCommandKey:"TOGGLE_DARK_MODE",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleDarkModeCommand:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"mdi mdi-menu",iconClearAllFiltersCommand:"mdi mdi-filter-remove-outline",iconClearAllSortingCommand:"mdi mdi-sort-variant-off",iconClearFrozenColumnsCommand:"mdi mdi-pin-off-outline",iconExportCsvCommand:"mdi mdi-download",iconExportExcelCommand:"mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"mdi mdi-download",iconRefreshDatasetCommand:"mdi mdi-sync",iconToggleDarkModeCommand:"mdi mdi-brightness-4",iconToggleFilterCommand:"mdi mdi-flip-vertical",iconTogglePreHeaderCommand:"mdi mdi-flip-vertical",menuWidth:16,resizeOnShowHeaderRow:!0,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270",headerColumnValueExtractor:fO},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconClearFilterCommand:"mdi mdi-filter-remove-outline",iconClearSortCommand:"mdi mdi-sort-variant-off",iconFreezeColumns:"mdi mdi-pin-outline",iconSortAscCommand:"mdi mdi-sort-ascending",iconSortDescCommand:"mdi mdi-sort-descending",iconColumnHideCommand:"mdi mdi-close",iconColumnResizeByContentCommand:"mdi mdi-arrow-expand-horizontal",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1,subItemChevronClass:"mdi mdi-chevron-down mdi-rotate-270"},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!1,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{collapseAllOnSort:!0,cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!1,saveDetailViewOnScroll:!1},rowHeight:35,topPanelHeight:35,preHeaderPanelWidth:"100%",translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\u034F\xB7"}};function fO(n,t){let e=n?.columnPickerLabel??n?.name??"";(e instanceof HTMLElement||e instanceof DocumentFragment)&&(e=e.textContent||"");let i=n?.columnGroup||"",r=t?.columnGroupSeparator??" - ";return i?i+r+e:e}var UU=(()=>{class n{static locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NO_ELEMENTS_FOUND:"Aucun \xE9l\xE9ment trouv\xE9",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_DARK_MODE:"Toggle Dark Mode",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"};static treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"};static VALIDATION_REQUIRED_FIELD="Field is required";static VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number";static VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number";static VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}";static VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}";static VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}";static VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}";static VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}";static VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}";static VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}";static VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}";static VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}";static VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}";static VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals";static VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters";static VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters";static VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters";static VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)";static VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)"}return n})(),WU=1e4,Nn=(()=>{class n{angularUtilService;appRef;cd;containerService;elm;translate;translaterService;forRootConfig;_dataset;_columnDefinitions;_currentDatasetLength=0;_darkMode=!1;_eventHandler=new tt;_eventPubSubService;_angularGridInstances;_hideHeaderRowAfterPageLoad=!1;_isAutosizeColsCalled=!1;_isGridInitialized=!1;_isDatasetInitialized=!1;_isDatasetHierarchicalInitialized=!1;_isPaginationInitialized=!1;_isLocalGrid=!0;_paginationOptions;_registeredResources=[];_scrollEndCalled=!1;dataView;slickGrid;groupingDefinition={};groupItemMetadataProvider;backendServiceApi;locales;metrics;showPagination=!1;serviceList=[];totalItems=0;paginationData;subscriptions=[];slickEmptyWarning;slickFooter;slickPagination;paginationComponent;slickRowDetailView;backendUtilityService;collectionService;extensionService;extensionUtility;filterFactory;filterService;gridEventService;gridService;gridStateService;headerGroupingService;paginationService;resizerService;rxjs;sharedService;sortService;treeDataService;customDataView;gridId="";gridOptions={};get paginationOptions(){return this._paginationOptions}set paginationOptions(e){e&&this._paginationOptions?this._paginationOptions=k(k(k({},this.gridOptions.pagination),this._paginationOptions),e):this._paginationOptions=e,this.gridOptions.pagination=this._paginationOptions??this.gridOptions.pagination,this.paginationService.updateTotalItems(this.gridOptions.pagination?.totalItems??0,!0)}get columnDefinitions(){return this._columnDefinitions}set columnDefinitions(e){this._columnDefinitions=e,this._isGridInitialized&&this.updateColumnDefinitionsList(e),e.length>0&&this.copyColumnWidthsReference(e)}columnDefinitionsChange=new ne(!0);get dataset(){return(this.customDataView?this.slickGrid?.getData?.():this.dataView?.getItems())||[]}set dataset(e){let i=this._currentDatasetLength,r=ir(e,this._dataset||[]),s=e;this.slickGrid&&this.gridOptions?.enableTreeData&&Array.isArray(e)&&(e.length>0||e.length!==i||!r)&&(this._isDatasetHierarchicalInitialized=!1,s=this.sortTreeDataset(e,!r)),this._dataset=s,this.refreshGridData(s||[]),this._currentDatasetLength=(e||[]).length,this.slickGrid&&this.gridOptions?.autoFitColumnsOnFirstLoad&&i===0&&!this._isAutosizeColsCalled&&(this.slickGrid.autosizeColumns(),this._isAutosizeColsCalled=!0),this.suggestDateParsingWhenHelpful()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}set datasetHierarchical(e){let i=ir(e,this.sharedService?.hierarchicalDataset??[]),r=this._currentDatasetLength;this.sharedService.hierarchicalDataset=e,e&&this.columnDefinitions&&this.filterService?.clearFilters&&this.filterService.clearFilters(),e&&this.slickGrid&&this.sortService?.processTreeDataInitialSort&&(this.sortService.processTreeDataInitialSort(),queueMicrotask(()=>{let s=this.dataView.getItemCount();s>0&&(s!==r||!i)&&this.filterService.refreshTreeDataFilters()}),this._isDatasetHierarchicalInitialized=!0)}get elementRef(){return this.elm}get backendService(){return this.gridOptions?.backendServiceApi?.service}get eventHandler(){return this._eventHandler}get gridContainerElement(){return document.querySelector(`#${this.gridOptions.gridContainerId||""}`)}get isDatasetInitialized(){return this._isDatasetInitialized}set isDatasetInitialized(e){this._isDatasetInitialized=e}set isDatasetHierarchicalInitialized(e){this._isDatasetHierarchicalInitialized=e}get registeredResources(){return this._registeredResources}slickgridHeader;slickgridFooter;constructor(e,i,r,s,o,a,l,c,h){this.angularUtilService=e,this.appRef=i,this.cd=r,this.containerService=s,this.elm=o,this.translate=a,this.translaterService=l,this.forRootConfig=c;let m=new tm;this._eventPubSubService=h?.eventPubSubService??new jf(this.elm.nativeElement),this._eventPubSubService.eventNamingStyle=yr.camelCase,this.backendUtilityService=h?.backendUtilityService??new Cu,this.gridEventService=h?.gridEventService??new Yg,this.sharedService=h?.sharedService??new Zg,this.collectionService=h?.collectionService??new Yu(this.translaterService),this.extensionUtility=h?.extensionUtility??new yg(this.sharedService,this.backendUtilityService,this.translaterService),this.filterFactory=new Ug(m,this.translaterService,this.collectionService),this.filterService=h?.filterService??new Wg(this.filterFactory,this._eventPubSubService,this.sharedService,this.backendUtilityService),this.resizerService=h?.resizerService??new Qg(this._eventPubSubService),this.sortService=h?.sortService??new Jg(this.collectionService,this.sharedService,this._eventPubSubService,this.backendUtilityService),this.treeDataService=h?.treeDataService??new e_(this._eventPubSubService,this.sharedService,this.sortService),this.paginationService=h?.paginationService??new Kg(this._eventPubSubService,this.sharedService,this.backendUtilityService),this.extensionService=h?.extensionService??new Vg(this.extensionUtility,this.filterService,this._eventPubSubService,this.sharedService,this.sortService,this.treeDataService,this.translaterService,()=>this.gridService),this.gridStateService=h?.gridStateService??new qg(this.extensionService,this.filterService,this._eventPubSubService,this.sharedService,this.sortService,this.treeDataService),this.gridService=h?.gridService??new $g(this.gridStateService,this.filterService,this._eventPubSubService,this.paginationService,this.sharedService,this.sortService,this.treeDataService),this.headerGroupingService=h?.headerGroupingService??new Xg(this.extensionUtility),this.serviceList=[this.containerService,this.extensionService,this.filterService,this.gridEventService,this.gridService,this.gridStateService,this.headerGroupingService,this.paginationService,this.resizerService,this.sortService,this.treeDataService],this.containerService.registerInstance("ExtensionUtility",this.extensionUtility),this.containerService.registerInstance("FilterService",this.filterService),this.containerService.registerInstance("CollectionService",this.collectionService),this.containerService.registerInstance("ExtensionService",this.extensionService),this.containerService.registerInstance("GridEventService",this.gridEventService),this.containerService.registerInstance("GridService",this.gridService),this.containerService.registerInstance("GridStateService",this.gridStateService),this.containerService.registerInstance("HeaderGroupingService",this.headerGroupingService),this.containerService.registerInstance("PaginationService",this.paginationService),this.containerService.registerInstance("ResizerService",this.resizerService),this.containerService.registerInstance("SharedService",this.sharedService),this.containerService.registerInstance("SortService",this.sortService),this.containerService.registerInstance("EventPubSubService",this._eventPubSubService),this.containerService.registerInstance("PubSubService",this._eventPubSubService),this.containerService.registerInstance("TranslaterService",this.translaterService),this.containerService.registerInstance("TreeDataService",this.treeDataService)}ngAfterViewInit(){if(!this.columnDefinitions)throw new Error("Using `<angular-slickgrid>` requires [columnDefinitions], it seems that you might have forgot to provide the missing bindable input.");if(this.initialization(this._eventHandler),this._isGridInitialized=!0,this.gridOptions?.enableEmptyDataWarningMessage&&Array.isArray(this.dataset)){let e=this.dataset.length;this.displayEmptyDataWarning(e<1)}this.gridOptions.darkMode&&this.setDarkMode(!0),this.suggestDateParsingWhenHelpful()}ngOnDestroy(){this._eventPubSubService.publish("onBeforeGridDestroy",this.slickGrid),this.destroy(),this._eventPubSubService.publish("onAfterGridDestroyed",!0)}destroy(e=!1){if(this.serviceList.forEach(i=>{typeof i?.dispose=="function"&&i.dispose()}),this.serviceList=[],this.backendService?.dispose?.(),this.disposeExternalResources(),this.slickEmptyWarning?.dispose(),this.slickFooter?.dispose(),this.slickPagination?.dispose(),this._eventHandler?.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this._eventPubSubService?.unsubscribeAll(),this.dataView&&(this.dataView.setItems([]),this.dataView.destroy()),this.slickGrid?.destroy&&this.slickGrid.destroy(e),this.backendServiceApi){for(let i of Object.keys(this.backendServiceApi))delete this.backendServiceApi[i];this.backendServiceApi=void 0}if(this.columnDefinitions)for(let i of Object.keys(this.columnDefinitions))this.columnDefinitions[i]=null;for(let i of Object.keys(this.sharedService))this.sharedService[i]=null;e&&this.emptyGridContainerElm(),this.subscriptions=Pa(this.subscriptions),this._dataset=null,this.datasetHierarchical=void 0,this._columnDefinitions=[],this._angularGridInstances=void 0,this.slickGrid=void 0}disposeExternalResources(){if(Array.isArray(this._registeredResources))for(;this._registeredResources.length>0;){let e=this._registeredResources.pop();e?.dispose&&e.dispose()}this._registeredResources=[]}emptyGridContainerElm(){let e=this.gridOptions?.gridContainerId||"grid1",i=document.querySelector(`#${e}`);ut(i)}createBackendApiInternalPostProcessCallback(e){let i=e?.backendServiceApi;if(i?.service){let r=i.service;typeof r.getDatasetName=="function"&&(i.internalPostProcess=s=>{let o=i&&r&&typeof r.getDatasetName=="function"?r.getDatasetName():"";if(s?.data[o]){let a="nodes"in s.data[o]?s.data[o].nodes:s.data[o],l="totalCount"in s.data[o]?s.data[o].totalCount:s.data[o].length;this.refreshGridData(a,l||0)}})}}initialization(e){if(this.gridOptions.translater=this.translaterService,this._eventHandler=e,this._isAutosizeColsCalled=!1,this.gridOptions&&(this.gridOptions.frozenRow!==void 0&&this.gridOptions.frozenRow>=0||this.gridOptions.frozenColumn!==void 0&&this.gridOptions.frozenColumn>=0)&&this.gridOptions.enableMouseWheelScrollHandler===void 0&&(this.gridOptions.enableMouseWheelScrollHandler=!0),this._eventPubSubService.eventNamingStyle=this.gridOptions?.eventNamingStyle??yr.camelCase,this._eventPubSubService.publish("onBeforeGridCreate",!0),this._dataset||=[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this._paginationOptions=this.gridOptions?.pagination,this.locales=this.gridOptions?.locales??UU.locales,this.backendServiceApi=this.gridOptions?.backendServiceApi,this._isLocalGrid=!this.backendServiceApi,this.gridOptions.backendServiceApi&&!this.gridOptions.backendServiceApi?.disableInternalPostProcess&&this.createBackendApiInternalPostProcessCallback(this.gridOptions),!this.customDataView){let r=this.gridOptions?.dataView?.inlineFilters??!1,s=Ce(k({},this.gridOptions.dataView),{inlineFilters:r});(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping)&&(this.groupItemMetadataProvider=new tc,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,s=Ce(k({},s),{groupItemMetadataProvider:this.groupItemMetadataProvider})),this.dataView=new Xf(s,this._eventPubSubService),this._eventPubSubService.publish("onDataviewCreated",this.dataView)}this.preRegisterResources(),this._columnDefinitions=this.loadSlickGridEditors(this._columnDefinitions||[]),this.gridOptions.autoAddCustomEditorFormatter&&tI(this._columnDefinitions,this.gridOptions.autoAddCustomEditorFormatter),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.subscriptions.push(this._eventPubSubService.subscribe("onPluginColumnsChanged",r=>{this._columnDefinitions=r.columns,this.columnDefinitionsChange.emit(this._columnDefinitions)})),this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.gridOptions.presets?.pinning&&(this.gridOptions=k(k({},this.gridOptions),this.gridOptions.presets.pinning)),this.slickGrid=new hg(`#${this.gridId}`,this.customDataView||this.dataView,this._columnDefinitions,this.gridOptions,this._eventPubSubService),this.sharedService.dataView=this.dataView,this.sharedService.slickGrid=this.slickGrid,this.sharedService.gridContainerElement=this.elm.nativeElement,this.groupItemMetadataProvider&&this.slickGrid.registerPlugin(this.groupItemMetadataProvider),this.extensionService.bindDifferentExtensions(),this.bindDifferentHooks(this.slickGrid,this.gridOptions,this.dataView);let i=this.gridOptions.frozenColumn!==void 0?this.gridOptions.frozenColumn:-1;if(i>=0&&i<=this._columnDefinitions.length&&(this.sharedService.frozenVisibleColumnId=this._columnDefinitions[i].id||""),this.registerResources(),this.slickGrid.init(),this.gridContainerElement&&this.resizerService.init(this.slickGrid,this.gridContainerElement),!this.gridOptions.enablePagination&&this.gridOptions.showCustomFooter&&this.gridOptions.customFooterOptions&&this.gridContainerElement&&(this.slickFooter=new b_(this.slickGrid,this.gridOptions.customFooterOptions,this._eventPubSubService,this.translaterService),this.slickFooter.renderFooter(this.gridContainerElement)),!this.customDataView&&this.dataView){let r=this.gridOptions?.enableTreeData?this.sortTreeDataset(this._dataset):this._dataset;if(this.dataView.beginUpdate(),this.dataView.setItems(r||[],this.gridOptions.datasetIdPropertyName??"id"),this.dataView.endUpdate(),this.slickGrid?.getSelectionModel()&&this.gridOptions?.dataView&&"syncGridSelection"in this.gridOptions.dataView){let o=!1;this.gridOptions.backendServiceApi&&"syncGridSelectionWithBackendService"in this.gridOptions.dataView&&(o=this.gridOptions.dataView.syncGridSelectionWithBackendService);let a=this.gridOptions.dataView.syncGridSelection;if(typeof a=="boolean"){let l=a;this._isLocalGrid||(l=a&&o),this.dataView.syncGridSelection(this.slickGrid,l)}else typeof a=="object"&&this.dataView.syncGridSelection(this.slickGrid,a.preserveHidden,a.preserveHiddenOnSelectionChange)}(this.dataView.getLength()||this._dataset?.length||0)>0&&(!this._isDatasetInitialized&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&this.loadRowSelectionPresetWhenExists(),this.loadFilterPresetsWhenDatasetInitialized(),this._isDatasetInitialized=!0)}this._hideHeaderRowAfterPageLoad&&(this.showHeaderRow(!1),this.sharedService.hideHeaderRowAfterPageLoad=this._hideHeaderRowAfterPageLoad),this._eventPubSubService.publish("onGridCreated",this.slickGrid),this.customDataView||this.executeAfterDataviewCreated(this.slickGrid,this.gridOptions),this.bindResizeHook(this.slickGrid,this.gridOptions),this.gridOptions?.backendServiceApi&&this.bindBackendCallbackFunctions(this.gridOptions),this.gridOptions?.enablePagination&&this._isLocalGrid&&(this.showPagination=!0,this.loadLocalGridPagination(this.dataset)),this._angularGridInstances={dataView:this.dataView,slickGrid:this.slickGrid,extensions:this.extensionService?.extensionList,destroy:this.destroy.bind(this),backendService:this.backendService,eventPubSubService:this._eventPubSubService,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.headerGroupingService,headerGroupingService:this.headerGroupingService,extensionService:this.extensionService,paginationComponent:this.slickPagination,paginationService:this.paginationService,resizerService:this.resizerService,sortService:this.sortService,treeDataService:this.treeDataService},this._eventPubSubService.publish("onAngularGridCreated",this._angularGridInstances)}paginationChanged(e){let i=this.gridStateService?.needToPreserveRowSelection()??!1;this.slickGrid&&!i&&this.gridOptions?.backendServiceApi&&(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.slickGrid.setSelectedRows([]);let{pageNumber:r,pageSize:s}=e;this.sharedService&&s!==void 0&&r!==void 0&&(this.sharedService.currentPagination={pageNumber:r,pageSize:s}),this._eventPubSubService.publish("onGridStateChanged",{change:{newValues:{pageNumber:r,pageSize:s},type:tr.pagination},gridState:this.gridStateService.getCurrentGridState()}),this.cd.markForCheck()}refreshGridData(e,i){if(this.gridOptions?.enableEmptyDataWarningMessage&&Array.isArray(e)){let r=i||e.length;this.displayEmptyDataWarning(r<1)}if(Array.isArray(e)&&this.slickGrid&&this.dataView?.setItems){if(this.dataView.setItems(e,this.gridOptions.datasetIdPropertyName??"id"),!this.gridOptions.backendServiceApi&&!this.gridOptions.enableTreeData&&this.dataView.reSort(),e.length>0&&(this._isDatasetInitialized||(this.loadFilterPresetsWhenDatasetInitialized(),this.gridOptions.enableCheckboxSelector&&this.loadRowSelectionPresetWhenExists()),this._isDatasetInitialized=!0),e&&this.slickGrid.invalidate(),this.showPagination=!!(this.gridOptions&&(this.gridOptions.enablePagination||this.gridOptions.backendServiceApi&&this.gridOptions.enablePagination===void 0)),this._paginationOptions&&this.gridOptions?.pagination&&this.gridOptions?.backendServiceApi){let r=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this._paginationOptions),s=i!==void 0?i:this.gridOptions?.pagination?.totalItems;s!==void 0&&s!==this.totalItems&&(this.totalItems=+s),this._isPaginationInitialized?this.paginationService.updateTotalItems(this.totalItems):this.initializePaginationService(r)}if(this.slickGrid&&this.gridOptions.enableAutoResize){let r=this.gridOptions.autoResize&&this.gridOptions.autoResize.delay;this.resizerService.resizeGrid(r||10)}}}setData(e,i=!1){i&&(this._isAutosizeColsCalled=!1,this._currentDatasetLength=0),this.dataset=e||[]}setPaginationOptionsWhenPresetDefined(e,i){return e.presets?.pagination&&i&&!this._isPaginationInitialized&&(this.hasBackendInfiniteScroll()?console.warn("[Angular-Slickgrid] `presets.pagination` is not supported with Infinite Scroll, reverting to first page."):(i.pageSize=e.presets.pagination.pageSize,i.pageNumber=e.presets.pagination.pageNumber)),i}setDarkMode(e=!1){e?this.sharedService.gridContainerElement?.classList.add("slick-dark-mode"):this.sharedService.gridContainerElement?.classList.remove("slick-dark-mode")}updateColumnDefinitionsList(e){e=this.loadSlickGridEditors(e),this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(void 0,e):this.extensionService.renderColumnHeaders(e,!0),this.gridOptions?.enableAutoSizeColumns?this.slickGrid.autosizeColumns():this.gridOptions?.enableAutoResizeColumnsByCellContent&&this.resizerService?.resizeColumnsByCellContent&&this.resizerService.resizeColumnsByCellContent()}showHeaderRow(e=!0){return this.slickGrid.setHeaderRowVisibility(e),e===!0&&this._isGridInitialized&&this.slickGrid.setColumns(this.columnDefinitions),e}displayEmptyDataWarning(e=!0){this.slickEmptyWarning?.showEmptyDataMessage(e)}copyColumnWidthsReference(e){e.forEach(i=>i.originalWidth=i.width)}bindDifferentHooks(e,i,r){if(this.translate?.onLangChange&&(i.enableTranslate&&this.extensionService.translateAllExtensions(),this.subscriptions.push(this.translate.onLangChange.subscribe(({lang:s})=>{this._eventPubSubService.publish("onLanguageChange"),i.enableTranslate&&(this.extensionService.translateAllExtensions(s),(i.createPreHeaderPanel&&i.createTopHeaderPanel||i.createPreHeaderPanel&&!i.enableDraggableGrouping)&&this.headerGroupingService.translateHeaderGrouping())}))),i.backendServiceApi){let s=i.backendServiceApi;s?.service?.init&&s.service.init(s.options,i.pagination,this.slickGrid,this.sharedService)}r&&e&&(this.gridEventService.bindOnCellChange(e),this.gridEventService.bindOnClick(e),i.enableSorting&&(i.backendServiceApi&&!i.backendServiceApi.useLocalSorting?this.sortService.bindBackendOnSort(e):this.sortService.bindLocalOnSort(e)),i.enableFiltering&&(this.filterService.init(e),i.backendServiceApi&&!i.backendServiceApi.useLocalFiltering?this.filterService.bindBackendOnFilter(e):this.filterService.bindLocalOnFilter(e)),this._eventHandler.subscribe(e.onColumnsReordered,(s,o)=>{this.sharedService.hasColumnsReordered=!0,this.sharedService.visibleColumns=o.impactedColumns}),this._eventHandler.subscribe(e.onSetOptions,(s,o)=>{o.optionsBefore.darkMode!==o.optionsAfter.darkMode&&this.gridContainerElement&&this.setDarkMode(o.optionsAfter.darkMode)}),this.loadColumnPresetsWhenDatasetInitialized(),this.loadFilterPresetsWhenDatasetInitialized(),this._eventHandler.subscribe(r.onRowCountChanged,(s,o)=>{!i.enableRowDetailView||!Array.isArray(o.changedRows)||o.changedRows.length===o.itemCount?e.invalidate():(e.invalidateRows(o.changedRows),e.render()),this.handleOnItemCountChanged(r.getFilteredItemCount()||0,r.getItemCount()||0)}),this._eventHandler.subscribe(r.onSetItemsCalled,(s,o)=>{this.sharedService.isItemsDateParsed=!1,this.handleOnItemCountChanged(r.getFilteredItemCount()||0,o.itemCount),o.itemCount>0&&(this.gridOptions.autosizeColumnsByCellContentOnFirstLoad||this.gridOptions.enableAutoResizeColumnsByCellContent)&&this.resizerService.resizeColumnsByCellContent(!this.gridOptions?.resizeByContentOnlyOnFirstLoad)}),i?.enableFiltering&&!i.enableRowDetailView&&this._eventHandler.subscribe(r.onRowsChanged,(s,{calledOnRowCountChanged:o,rows:a})=>{if(!o&&Array.isArray(a)){let l=e.getRenderedRange();a.filter(c=>c>=l.top&&c<=l.bottom).forEach(c=>e.updateRow(c)),e.render()}})),i?.colspanCallback&&r&&r.getItem&&r.getItemMetadata&&(r.getItemMetadata=s=>{let o=null;return i.colspanCallback&&(o=i.colspanCallback(r.getItem(s))),o})}bindBackendCallbackFunctions(e){let i=e.backendServiceApi,r=i?.service,s=r?.options??{},o=s?s&&"executeProcessCommandOnInit"in s?s.executeProcessCommandOnInit:!0:!1;if(r){if(e?.presets){if(r.updateFilters&&Array.isArray(e.presets.filters)&&e.presets.filters.length>0&&r.updateFilters(e.presets.filters,!0),r.updateSorters&&Array.isArray(e.presets.sorters)&&e.presets.sorters.length>0){let a=this.gridOptions.multiColumnSort?e.presets.sorters:e.presets.sorters.slice(0,1);r.updateSorters(void 0,a)}if(r.updatePagination&&e.presets.pagination&&!this.hasBackendInfiniteScroll()){let{pageNumber:a,pageSize:l}=e.presets.pagination;r.updatePagination(a,l)}}else{let a=this.filterService.getColumnFilters();a&&r.updateFilters&&r.updateFilters(a,!1)}if(i&&r&&(i.onInit||o)){let a=typeof r.buildQuery=="function"?r.buildQuery():"",l=o?i.process&&i.process(a)||null:i.onInit&&i.onInit(a)||null;queueMicrotask(()=>{let c=this.backendUtilityService,h=new Date;i.preProcess&&i.preProcess();let m=this.gridOptions?.pagination?.totalItems??0;l instanceof Promise?l.then(f=>c.executeBackendProcessesCallback(h,f,i,m)).catch(f=>c.onBackendError(f,i)):l&&this.rxjs?.isObservable(l)&&this.subscriptions.push(l.subscribe({next:f=>c.executeBackendProcessesCallback(h,f,i,m),error:f=>c.onBackendError(f,i)}))})}i.service.options?.infiniteScroll&&this.addBackendInfiniteScrollCallback()}}addBackendInfiniteScrollCallback(){if(this.slickGrid&&this.gridOptions.backendServiceApi&&this.hasBackendInfiniteScroll()&&!this.gridOptions.backendServiceApi?.onScrollEnd){let e=()=>{this.backendUtilityService.setInfiniteScrollBottomHit(!0),this.paginationService.goToNextPage().then(r=>{r||this.backendUtilityService.setInfiniteScrollBottomHit(!1)})};this.gridOptions.backendServiceApi.onScrollEnd=e,this._eventHandler.subscribe(this.slickGrid.onScroll,(r,s)=>{let o=s.grid.getViewportNode();["mousewheel","scroll"].includes(s.triggeredBy||"")&&this.paginationService?.totalItems&&s.scrollTop>0&&Math.ceil(o.offsetHeight+s.scrollTop)>=s.scrollHeight&&(this._scrollEndCalled||(e(),this._scrollEndCalled=!0))});let i=this.gridOptions.backendServiceApi.postProcess;this.gridOptions.backendServiceApi.postProcess=r=>{this._scrollEndCalled=!1,i&&i(r)}}}bindResizeHook(e,i){if(i.autoFitColumnsOnFirstLoad&&i.autosizeColumnsByCellContentOnFirstLoad||i.enableAutoSizeColumns&&i.enableAutoResizeColumnsByCellContent)throw new Error('[Angular-Slickgrid] You cannot enable both autosize/fit viewport & resize by content, you must choose which resize technique to use. You can enable these 2 options ("autoFitColumnsOnFirstLoad" and "enableAutoSizeColumns") OR these other 2 options ("autosizeColumnsByCellContentOnFirstLoad" and "enableAutoResizeColumnsByCellContent").');i.gridHeight||i.gridWidth?this.resizerService.resizeGrid(0,{height:i.gridHeight,width:i.gridWidth}):this.resizerService.resizeGrid(),e&&i?.enableAutoResize&&i.autoFitColumnsOnFirstLoad&&i.enableAutoSizeColumns&&!this._isAutosizeColsCalled&&(e.autosizeColumns(),this._isAutosizeColsCalled=!0)}executeAfterDataviewCreated(e,i){if(i.enableSorting&&Array.isArray(i.presets?.sorters)){let r=this.gridOptions.multiColumnSort?i.presets.sorters:i.presets.sorters.slice(0,1);this.sortService.loadGridSorters(r)}}handleOnItemCountChanged(e,i){this._currentDatasetLength=i,this.metrics={startTime:new Date,endTime:new Date,itemCount:e,totalItemCount:i},this.slickFooter&&(this.slickFooter.metrics=this.metrics),this._isLocalGrid&&this.gridOptions?.enableEmptyDataWarningMessage&&this.displayEmptyDataWarning(e===0),this.gridOptions.enableAutoResize&&this.resizerService.isAutoHeightEnabled&&e>0&&this.resizerService.resizeGrid()}initializePaginationService(e){this.gridOptions&&(this.paginationData={gridOptions:this.gridOptions,paginationService:this.paginationService},this.paginationService.totalItems=this.totalItems,this.paginationService.init(this.slickGrid,e,this.backendServiceApi),this.subscriptions.push(this._eventPubSubService.subscribe("onPaginationChanged",i=>{this.paginationChanged(i)}),this._eventPubSubService.subscribe("onPaginationVisibilityChanged",i=>{this.showPagination=i?.visible??!1,this.gridOptions?.backendServiceApi&&this.backendUtilityService?.refreshBackendDataset(this.gridOptions),this.renderPagination(this.showPagination)})),this.renderPagination(),this._isPaginationInitialized=!0),this.cd.detectChanges()}loadEditorCollectionAsync(e){if(e?.editor){let i=e.editor.collectionAsync;e.editor.disabled=!0,i instanceof on?this.subscriptions.push(i.subscribe(r=>this.updateEditorCollection(e,r))):i instanceof Promise&&i.then(r=>{Array.isArray(r)&&this.updateEditorCollection(e,r)})}}insertDynamicPresetColumns(e,i){if(this._columnDefinitions){let r=this._columnDefinitions.findIndex(s=>s.id===e);if(r>=0){let s=this._columnDefinitions[r];s?.id===e&&!i.some(o=>o.id===e)&&(r>0?i.splice(r,0,s):i.unshift(s))}}}loadColumnPresetsWhenDatasetInitialized(){if(Array.isArray(this.gridOptions.presets?.columns)&&this.gridOptions.presets.columns.length>0){let e=this.gridStateService.getAssociatedGridColumns(this.slickGrid,this.gridOptions.presets.columns);if(Array.isArray(e)&&e.length>0&&Array.isArray(this._columnDefinitions)){if(this.gridOptions.enableRowMoveManager){let i=this.gridOptions?.rowMoveManager?.columnId??"_move";this.insertDynamicPresetColumns(i,e)}if(this.gridOptions.enableCheckboxSelector){let i=this.gridOptions?.checkboxSelector?.columnId??"_checkbox_selector";this.insertDynamicPresetColumns(i,e)}if(this.gridOptions.enableRowDetailView){let i=this.gridOptions?.rowDetailView?.columnId??"_detail_selector";this.insertDynamicPresetColumns(i,e)}e.forEach(i=>i.originalWidth=i.width),this.slickGrid.setColumns(e),this.sharedService.visibleColumns=e}}}loadFilterPresetsWhenDatasetInitialized(){this.gridOptions&&!this.customDataView&&(Array.isArray(this.gridOptions.presets?.filters)||Array.isArray(this.gridOptions.presets?.treeData?.toggledItems))&&this.filterService.populateColumnFilterSearchTermPresets(this.gridOptions.presets?.filters||[])}loadLocalGridPagination(e){if(this.gridOptions&&this._paginationOptions){if(this.totalItems=Array.isArray(e)?e.length:0,this._paginationOptions&&this.dataView?.getPagingInfo){let r=this.dataView.getPagingInfo();r&&"totalRows"in r&&this._paginationOptions.totalItems!==r.totalRows&&(this.totalItems=r.totalRows||0)}this._paginationOptions.totalItems=this.totalItems;let i=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this._paginationOptions);this.initializePaginationService(i)}}loadRowSelectionPresetWhenExists(){let e=this.gridOptions?.presets;if(this.gridOptions&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&this.slickGrid?.getSelectionModel()&&e?.rowSelection&&(Array.isArray(e.rowSelection.gridRowIndexes)||Array.isArray(e.rowSelection.dataContextIds))){let r=e.rowSelection.dataContextIds,s=e.rowSelection.gridRowIndexes;Array.isArray(r)&&r.length>0?s=this.dataView.mapIdsToRows(r)||[]:Array.isArray(s)&&s.length>0&&(r=this.dataView.mapRowsToIds(s)||[]),this.slickGrid&&Array.isArray(s)&&(this.slickGrid.setSelectedRows(s),this.dataView.setSelectedIds(r||[],{isRowBeingAdded:!0,shouldTriggerEvent:!1,applyRowSelectionToGrid:!0}))}}hasBackendInfiniteScroll(e){return!!(e||this.gridOptions).backendServiceApi?.service.options?.infiniteScroll}mergeGridOptions(e){e.gridId=this.gridId,e.gridContainerId=`slickGridContainer-${this.gridId}`;let i=oi(!0,{},gw,this.forRootConfig,e);return this.hasBackendInfiniteScroll(e)||(e.enablePagination=!!(e.backendServiceApi&&e.enablePagination===void 0||e.enablePagination)),i?.pagination&&(e.enablePagination||e.backendServiceApi)&&(this.forRootConfig.pagination||e.pagination)&&(i.pagination.pageSize=e.pagination?.pageSize??this.forRootConfig.pagination?.pageSize??gw.pagination.pageSize,i.pagination.pageSizes=e.pagination?.pageSizes??this.forRootConfig.pagination?.pageSizes??gw.pagination.pageSizes),this._hideHeaderRowAfterPageLoad=i.showHeaderRow===!1,i.enableFiltering&&!i.showHeaderRow&&(i.showHeaderRow=i.enableFiltering),i&&!i.enableFiltering&&i.enablePagination&&this._isLocalGrid&&(i.enableFiltering=!0,i.showHeaderRow=!1,this._hideHeaderRowAfterPageLoad=!0,this.sharedService&&(this.sharedService.hideHeaderRowAfterPageLoad=!0)),i}registerExternalResources(e,i=!1){i&&this.disposeExternalResources(),e.forEach(r=>this._registeredResources.push(r)),this.initializeExternalResources(e)}resetExternalResources(){this._registeredResources=[]}preRegisterResources(){this._registeredResources=this.gridOptions?.externalResources||[],this.registerRxJsResource(new w_),this.gridOptions.enableRowDetailView&&(this.slickRowDetailView=new vw(this.angularUtilService,this.appRef,this._eventPubSubService,this.elm.nativeElement,this.rxjs),this.slickRowDetailView.create(this.columnDefinitions,this.gridOptions),this.extensionService.addExtensionToList(st.rowDetailView,{name:st.rowDetailView,instance:this.slickRowDetailView}))}initializeExternalResources(e){if(Array.isArray(e))for(let i of e)this.slickGrid&&typeof i.init=="function"&&i.init(this.slickGrid,this.containerService)}registerResources(){Array.isArray(this._registeredResources)&&(this.sharedService.externalRegisteredResources=this._registeredResources),this._registeredResources.push(this.gridService,this.gridStateService),(this.gridOptions.createPreHeaderPanel&&this.gridOptions.createTopHeaderPanel||this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping)&&this._registeredResources.push(this.headerGroupingService),this.gridOptions.enableTreeData&&this._registeredResources.push(this.treeDataService),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.slickEmptyWarning=new v_,this._registeredResources.push(this.slickEmptyWarning),this.initializeExternalResources(this._registeredResources),this.gridOptions.enableRowDetailView&&this.slickRowDetailView&&this.slickRowDetailView.init(this.slickGrid)}registerRxJsResource(e){this.rxjs=e,this.backendUtilityService.addRxJsResource(this.rxjs),this.filterFactory.addRxJsResource(this.rxjs),this.filterService.addRxJsResource(this.rxjs),this.sortService.addRxJsResource(this.rxjs),this.paginationService.addRxJsResource(this.rxjs),this.containerService.registerInstance("RxJsResource",this.rxjs)}renderPagination(e=!0){if(this.slickGrid&&this.gridOptions?.enablePagination&&!this._isPaginationInitialized&&e){if(this.gridOptions.customPaginationComponent){let i=this.angularUtilService.createAngularComponent(this.gridOptions.customPaginationComponent);this.slickPagination=i.componentRef.instance}else this.slickPagination=new y_;this.slickPagination&&(this.slickPagination.init(this.slickGrid,this.paginationService,this._eventPubSubService,this.translaterService),this.slickPagination.renderPagination(this.gridContainerElement),this._isPaginationInitialized=!0)}else e||(this.slickPagination?.dispose(),this._isPaginationInitialized=!1)}sortTreeDataset(e,i=!1){let r=this._currentDatasetLength,s,o=[];return this._isDatasetHierarchicalInitialized&&this.datasetHierarchical?(s=this.treeDataService.sortHierarchicalDataset(this.datasetHierarchical),o=s.flat):Array.isArray(e)&&e.length>0&&(s=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(e,this._columnDefinitions,this.gridOptions),this.sharedService.hierarchicalDataset=s.hierarchical,o=s.flat),e.length>0&&(i||e.length!==r)&&this.filterService.refreshTreeDataFilters(o),o}loadSlickGridEditors(e){return e.some(i=>`${i.id}`.includes("."))&&console.error('[Angular-Slickgrid] Make sure that none of your Column Definition "id" property includes a dot in its name because that will cause some problems with the Editors. For example if your column definition "field" property is "user.firstName" then use "firstName" as the column "id".'),e.map(i=>(i?.editor?.collectionAsync&&this.loadEditorCollectionAsync(i),Ce(k({},i),{editorClass:i.editor?.model})))}suggestDateParsingWhenHelpful(){this.dataView?.getItemCount()>WU&&!this.gridOptions.silenceWarnings&&!this.gridOptions.preParseDateColumns&&this.slickGrid.getColumns().some(e=>vr(e.type))&&console.warn("[Slickgrid-Universal] For getting better perf, we suggest you enable the `preParseDateColumns` grid option, for more info visit => https://ghiscoding.gitbook.io/angular-slickgrid/column-functionalities/sorting#pre-parse-date-columns-for-better-perf")}updateEditorCollection(e,i){if(this.slickGrid&&e.editor){e.editor.collection=i,e.editor.disabled=!1;let r=this.slickGrid.getCellEditor();r?.disable&&r?.renderDomElement&&(r.destroy(),r.disable(!1),r.renderDomElement(i))}}static \u0275fac=function(i){return new(i||n)(w(_w),w(To),w(Je),w(gO),w(we),w(nm,8),w(mO,8),w("config"),w("externalService"))};static \u0275cmp=de({type:n,selectors:[["angular-slickgrid"]],contentQueries:function(i,r,s){if(i&1&&(Nt(s,BU,7),Nt(s,HU,7)),i&2){let o;Ee(o=xe())&&(r.slickgridHeader=o.first),Ee(o=xe())&&(r.slickgridFooter=o.first)}},inputs:{customDataView:"customDataView",gridId:"gridId",gridOptions:"gridOptions",paginationOptions:"paginationOptions",columnDefinitions:"columnDefinitions",dataset:"dataset",datasetHierarchical:"datasetHierarchical"},outputs:{columnDefinitionsChange:"columnDefinitionsChange"},features:[vt([_w,mO])],decls:9,vars:5,consts:[[1,"gridPane",3,"id"],[4,"ngTemplateOutlet"],[1,"slickgrid-container"]],template:function(i,r){i&1&&(_(0,"div",0),D(1,`
  `),ve(2,zU,1,0,"ng-container",1),D(3,`
  `),G(4,"div",2),D(5,`
  `),ve(6,jU,1,0,"ng-container",1),D(7,`
`),b(),D(8,`
`)),i&2&&(fS("id","slickGridContainer-",r.gridId,""),y(2),M("ngTemplateOutlet",r.slickgridHeader),y(2),Ue("id",r.gridId),y(2),M("ngTemplateOutlet",r.slickgridFooter))},dependencies:[pd],encapsulation:2})}return n})(),_O=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:"config",useValue:e},{provide:"externalService",useValue:null},_w,gO]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ue({type:n});static \u0275inj=he({imports:[Pi,uO]})}return n})();var vO={},GU=function(n,t,e,i,r){var s=new Worker(vO[t]||(vO[t]=URL.createObjectURL(new Blob([n+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(o){var a=o.data,l=a.$e$;if(l){var c=new Error(l[0]);c.code=l[1],c.stack=l[2],r(c,null)}else r(null,a)},s.postMessage(e,i),s},Ln=Uint8Array,Lr=Uint16Array,T_=Int32Array,I_=new Ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O_=new Ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bw=new Ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SO=function(n,t){for(var e=new Lr(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new T_(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},EO=SO(I_,2),$U=EO.b,E_=EO.r;$U[28]=258,E_[258]=28;var xO=SO(O_,0),pge=xO.b,yw=xO.r,x_=new Lr(32768);for(li=0;li<32768;++li)Xo=(li&43690)>>1|(li&21845)<<1,Xo=(Xo&52428)>>2|(Xo&13107)<<2,Xo=(Xo&61680)>>4|(Xo&3855)<<4,x_[li]=((Xo&65280)>>8|(Xo&255)<<8)>>1;var Xo,li,Cc=function(n,t,e){for(var i=n.length,r=0,s=new Lr(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new Lr(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(e){a=new Lr(1<<t);var l=15-t;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],h=t-n[r],m=o[n[r]-1]++<<h,f=m|(1<<h)-1;m<=f;++m)a[x_[m]>>l]=c}else for(a=new Lr(i),r=0;r<i;++r)n[r]&&(a[r]=x_[o[n[r]-1]++]>>15-n[r]);return a},Ga=new Ln(288);for(li=0;li<144;++li)Ga[li]=8;var li;for(li=144;li<256;++li)Ga[li]=9;var li;for(li=256;li<280;++li)Ga[li]=7;var li;for(li=280;li<288;++li)Ga[li]=8;var li,rm=new Ln(32);for(li=0;li<32;++li)rm[li]=5;var li,kO=Cc(Ga,9,0);var DO=Cc(rm,5,0);var Ew=function(n){return(n+7)/8|0},xw=function(n,t,e){return(t==null||t<0)&&(t=0),(e==null||e>n.length)&&(e=n.length),new Ln(n.subarray(t,e))};var YU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Sc=function(n,t,e){var i=new Error(t||YU[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Sc),!e)throw i;return i};var po=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},yc=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},S_=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:Dw,l:0};if(r==1){var o=new Ln(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(j,Y){return j.f-Y.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,h=1,m=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=r-1;)a=e[e[c].f<e[m].f?c++:m++],l=e[c!=h&&e[c].f<e[m].f?c++:m++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,i=1;i<r;++i)s[i].s>f&&(f=s[i].s);var v=new Lr(f+1),C=k_(e[h-1],v,0);if(C>t){var i=0,x=0,E=C-t,I=1<<E;for(s.sort(function(Y,me){return v[me.s]-v[Y.s]||Y.f-me.f});i<r;++i){var N=s[i].s;if(v[N]>t)x+=I-(1<<C-v[N]),v[N]=t;else break}for(x>>=E;x>0;){var L=s[i].s;v[L]<t?x-=1<<t-v[L]++-1:++i}for(;i>=0&&x;--i){var V=s[i].s;v[V]==t&&(--v[V],++x)}C=t}return{t:new Ln(v),l:C}},k_=function(n,t,e){return n.s==-1?Math.max(k_(n.l,t,e+1),k_(n.r,t,e+1)):t[n.s]=e},ww=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Lr(++t),i=0,r=n[0],s=1,o=function(l){e[i++]=l},a=1;a<=t;++a)if(n[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[a]}return{c:e.subarray(0,i),n:t}},wc=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},kw=function(n,t,e){var i=e.length,r=Ew(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},Cw=function(n,t,e,i,r,s,o,a,l,c,h){po(t,h++,e),++r[256];for(var m=S_(r,15),f=m.t,v=m.l,C=S_(s,15),x=C.t,E=C.l,I=ww(f),N=I.c,L=I.n,V=ww(x),j=V.c,Y=V.n,me=new Lr(19),Q=0;Q<N.length;++Q)++me[N[Q]&31];for(var Q=0;Q<j.length;++Q)++me[j[Q]&31];for(var pe=S_(me,7),Be=pe.t,Ge=pe.l,ct=19;ct>4&&!Be[bw[ct-1]];--ct);var St=c+5<<3,Et=wc(r,Ga)+wc(s,rm)+o,xt=wc(r,f)+wc(s,x)+o+14+3*ct+wc(me,Be)+2*me[16]+3*me[17]+7*me[18];if(l>=0&&St<=Et&&St<=xt)return kw(t,h,n.subarray(l,l+c));var Rt,kt,Ft,Qi;if(po(t,h,1+(xt<Et)),h+=2,xt<Et){Rt=Cc(f,v,0),kt=f,Ft=Cc(x,E,0),Qi=x;var O=Cc(Be,Ge,0);po(t,h,L-257),po(t,h+5,Y-1),po(t,h+10,ct-4),h+=14;for(var Q=0;Q<ct;++Q)po(t,h+3*Q,Be[bw[Q]]);h+=3*ct;for(var H=[N,j],ae=0;ae<2;++ae)for(var z=H[ae],Q=0;Q<z.length;++Q){var oe=z[Q]&31;po(t,h,O[oe]),h+=Be[oe],oe>15&&(po(t,h,z[Q]>>5&127),h+=z[Q]>>12)}}else Rt=kO,kt=Ga,Ft=DO,Qi=rm;for(var Q=0;Q<a;++Q){var Z=i[Q];if(Z>255){var oe=Z>>18&31;yc(t,h,Rt[oe+257]),h+=kt[oe+257],oe>7&&(po(t,h,Z>>23&31),h+=I_[oe]);var K=Z&31;yc(t,h,Ft[K]),h+=Qi[K],K>3&&(yc(t,h,Z>>5&8191),h+=O_[K])}else yc(t,h,Rt[Z]),h+=kt[Z]}return yc(t,h,Rt[256]),h+kt[256]},TO=new T_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Dw=new Ln(0),IO=function(n,t,e,i,r,s){var o=s.z||n.length,a=new Ln(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var m=TO[t-1],f=m>>13,v=m&8191,C=(1<<e)-1,x=s.p||new Lr(32768),E=s.h||new Lr(C+1),I=Math.ceil(e/3),N=2*I,L=function(Vt){return(n[Vt]^n[Vt+1]<<I^n[Vt+2]<<N)&C},V=new T_(25e3),j=new Lr(288),Y=new Lr(32),me=0,Q=0,pe=s.i||0,Be=0,Ge=s.w||0,ct=0;pe+2<o;++pe){var St=L(pe),Et=pe&32767,xt=E[St];if(x[Et]=xt,E[St]=Et,Ge<=pe){var Rt=o-pe;if((me>7e3||Be>24576)&&(Rt>423||!c)){h=Cw(n,l,0,V,j,Y,Q,Be,ct,pe-ct,h),Be=me=Q=0,ct=pe;for(var kt=0;kt<286;++kt)j[kt]=0;for(var kt=0;kt<30;++kt)Y[kt]=0}var Ft=2,Qi=0,O=v,H=Et-xt&32767;if(Rt>2&&St==L(pe-H))for(var ae=Math.min(f,Rt)-1,z=Math.min(32767,pe),oe=Math.min(258,Rt);H<=z&&--O&&Et!=xt;){if(n[pe+Ft]==n[pe+Ft-H]){for(var Z=0;Z<oe&&n[pe+Z]==n[pe+Z-H];++Z);if(Z>Ft){if(Ft=Z,Qi=H,Z>ae)break;for(var K=Math.min(H,Z-2),J=0,kt=0;kt<K;++kt){var Ae=pe-H+kt&32767,nt=x[Ae],et=Ae-nt&32767;et>J&&(J=et,xt=Ae)}}}Et=xt,xt=x[Et],H+=Et-xt&32767}if(Qi){V[Be++]=268435456|E_[Ft]<<18|yw[Qi];var fe=E_[Ft]&31,Ye=yw[Qi]&31;Q+=I_[fe]+O_[Ye],++j[257+fe],++Y[Ye],Ge=pe+Ft,++me}else V[Be++]=n[pe],++j[n[pe]]}}for(pe=Math.max(pe,Ge);pe<o;++pe)V[Be++]=n[pe],++j[n[pe]];h=Cw(n,l,c,V,j,Y,Q,Be,ct,pe-ct,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=E,s.p=x,s.i=pe,s.w=Ge)}else{for(var pe=s.w||0;pe<o+c;pe+=65535){var zt=pe+65535;zt>=o&&(l[h/8|0]=c,zt=o),h=kw(l,h+1,n.subarray(pe,zt))}s.i=o}return xw(a,0,i+Ew(h)+r)},qU=function(){for(var n=new Int32Array(256),t=0;t<256;++t){for(var e=t,i=9;--i;)e=(e&1&&-306674912)^e>>>1;n[t]=e}return n}(),XU=function(){var n=-1;return{p:function(t){for(var e=n,i=0;i<t.length;++i)e=qU[e&255^t[i]]^e>>>8;n=e},d:function(){return~n}}};var OO=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Ln(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return IO(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},Tw=function(n,t){var e={};for(var i in n)e[i]=n[i];for(var i in t)e[i]=t[i];return e},bO=function(n,t,e){for(var i=n(),r=n.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<i.length;++o){var a=i[o],l=s[o];if(typeof a=="function"){t+=";"+l+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var h=c.indexOf(" ",8)+1;t+=c.slice(h,c.indexOf("(",h))}else{t+=c;for(var m in a.prototype)t+=";"+l+".prototype."+m+"="+a.prototype[m].toString()}else t+=c}else e[l]=a}return t},C_=[],KU=function(n){var t=[];for(var e in n)n[e].buffer&&t.push((n[e]=new n[e].constructor(n[e])).buffer);return t},QU=function(n,t,e,i){if(!C_[e]){for(var r="",s={},o=n.length-1,a=0;a<o;++a)r=bO(n[a],r,s);C_[e]={c:bO(n[o],r,s),e:s}}var l=Tw({},C_[e].e);return GU(C_[e].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",e,l,KU(l),i)};var ZU=function(){return[Ln,Lr,T_,I_,O_,bw,E_,yw,kO,Ga,DO,rm,x_,TO,Dw,Cc,po,yc,S_,k_,ww,wc,kw,Cw,Ew,xw,IO,OO,Iw,AO]};var AO=function(n){return postMessage(n,[n.buffer])};var JU=function(n,t,e,i,r,s){var o=QU(e,i,r,function(a,l){o.terminate(),s(a,l)});return o.postMessage([n,t],t.consume?[n.buffer]:[]),function(){o.terminate()}};var Xn=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8};function eW(n,t,e){return e||(e=t,t={}),typeof e!="function"&&Sc(7),JU(n,t,[ZU],function(i){return AO(Iw(i.data[0],i.data[1]))},0,e)}function Iw(n,t){return OO(n,t||{},0,0)}var MO=function(n,t,e,i){for(var r in n){var s=n[r],o=t+r,a=i;Array.isArray(s)&&(a=Tw(i,s[1]),s=s[0]),s instanceof Ln?e[o]=[s,a]:(e[o+="/"]=[new Ln(0),a],MO(s,o,e,i))}},yO=typeof TextEncoder<"u"&&new TextEncoder,tW=typeof TextDecoder<"u"&&new TextDecoder,iW=0;try{tW.decode(Dw,{stream:!0}),iW=1}catch{}function D_(n,t){if(t){for(var e=new Ln(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(yO)return yO.encode(n);for(var r=n.length,s=new Ln(n.length+(n.length>>1)),o=0,a=function(h){s[o++]=h},i=0;i<r;++i){if(o+5>s.length){var l=new Ln(o+8+(r-i<<1));l.set(s),s=l}var c=n.charCodeAt(i);c<128||t?a(c):c<2048?(a(192|c>>6),a(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|n.charCodeAt(++i)&1023,a(240|c>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|c&63)):(a(224|c>>12),a(128|c>>6&63),a(128|c&63))}return xw(s,0,o)}var Sw=function(n){var t=0;if(n)for(var e in n){var i=n[e].length;i>65535&&Sc(9),t+=i+4}return t},wO=function(n,t,e,i,r,s,o,a){var l=i.length,c=e.extra,h=a&&a.length,m=Sw(c);Xn(n,t,o!=null?33639248:67324752),t+=4,o!=null&&(n[t++]=20,n[t++]=e.os),n[t]=20,t+=2,n[t++]=e.flag<<1|(s<0&&8),n[t++]=r&&8,n[t++]=e.compression&255,n[t++]=e.compression>>8;var f=new Date(e.mtime==null?Date.now():e.mtime),v=f.getFullYear()-1980;if((v<0||v>119)&&Sc(10),Xn(n,t,v<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),t+=4,s!=-1&&(Xn(n,t,e.crc),Xn(n,t+4,s<0?-s-2:s),Xn(n,t+8,e.size)),Xn(n,t+12,l),Xn(n,t+14,m),t+=16,o!=null&&(Xn(n,t,h),Xn(n,t+6,e.attrs),Xn(n,t+10,o),t+=14),n.set(i,t),t+=l,m)for(var C in c){var x=c[C],E=x.length;Xn(n,t,+C),Xn(n,t+2,E),n.set(x,t+4),t+=4+E}return h&&(n.set(a,t),t+=h),t},nW=function(n,t,e,i,r){Xn(n,t,101010256),Xn(n,t+8,e),Xn(n,t+10,e),Xn(n,t+12,i),Xn(n,t+16,r)};function RO(n,t,e){e||(e=t,t={}),typeof e!="function"&&Sc(7);var i={};MO(n,"",i,t);var r=Object.keys(i),s=r.length,o=0,a=0,l=s,c=new Array(s),h=[],m=function(){for(var E=0;E<h.length;++E)h[E]()},f=function(E,I){CO(function(){e(E,I)})};CO(function(){f=e});var v=function(){var E=new Ln(a+22),I=o,N=a-o;a=0;for(var L=0;L<l;++L){var V=c[L];try{var j=V.c.length;wO(E,a,V,V.f,V.u,j);var Y=30+V.f.length+Sw(V.extra),me=a+Y;E.set(V.c,me),wO(E,o,V,V.f,V.u,j,a,V.m),o+=16+Y+(V.m?V.m.length:0),a=me+j}catch(Q){return f(Q,null)}}nW(E,o,c.length,N,I),f(null,E)};s||v();for(var C=function(E){var I=r[E],N=i[I],L=N[0],V=N[1],j=XU(),Y=L.length;j.p(L);var me=D_(I),Q=me.length,pe=V.comment,Be=pe&&D_(pe),Ge=Be&&Be.length,ct=Sw(V.extra),St=V.level==0?0:8,Et=function(xt,Rt){if(xt)m(),f(xt,null);else{var kt=Rt.length;c[E]=Tw(V,{size:Y,crc:j.d(),c:Rt,f:me,m:Be,u:Q!=I.length||Be&&pe.length!=Ge,compression:St}),o+=30+Q+ct+kt,a+=76+2*(Q+ct)+(Ge||0)+kt,--s||v()}};if(Q>65535&&Et(Sc(11,0,1),null),!St)Et(null,L);else if(Y<16e4)try{Et(null,Iw(L,V))}catch(xt){Et(xt,null)}else h.push(eW(L,V,Et))},x=0;x<l;++x)C(x);return m}var CO=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(n){n()};var rW=Object.defineProperty,sW=(n,t,e)=>t in n?rW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ye=(n,t,e)=>sW(n,typeof t!="symbol"?t+"":t,e);function Ko(n){let t=typeof n;return n!=null&&(t==="object"||t==="function")}function oW(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;let t=Object.getPrototypeOf(n);if(t===null)return!0;let e=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Function.prototype.call(e)===Function.prototype.call(n)}function Ec(n){return n!=null&&typeof n.valueOf()=="string"}var aW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},FO=n=>(typeof n!="string"&&(n=`${n}`),n.replace(/[&<>"']/g,t=>aW[t])),xc=class{constructor(t,e){ye(this,"documentElement"),this.documentElement=this.createElement(e),this.documentElement.setAttribute("xmlns",t)}createElement(t){return new R_({nodeName:t})}createTextNode(t){return new M_(t)}toString(){return this.documentElement.toString()}};ye(xc,"Node",{Create:n=>{switch(n.type){case"XML":return new R_(n);case"TEXT":return new M_(n.nodeValue);default:return null}}});var M_=class{constructor(t){ye(this,"nodeValue"),this.nodeValue=t}toJSON(){return{nodeValue:this.nodeValue,type:"TEXT"}}toString(){return FO(this.nodeValue)}},R_=class n{constructor(t){if(ye(this,"nodeName",""),ye(this,"children"),ye(this,"nodeValue"),ye(this,"attributes"),ye(this,"firstChild"),this.nodeName=t.nodeName,this.children=[],this.nodeValue=t.nodeValue||"",this.attributes={},t.children)for(let e=0,i=t.children.length;e<i;e++)this.appendChild(xc.Node.Create(t.children[e]));if(t.attributes)for(let e in t.attributes)t.attributes.hasOwnProperty(e)&&this.setAttribute(e,t.attributes[e])}toString(){let t=`<${this.nodeName}`;for(let i in this.attributes)this.attributes.hasOwnProperty(i)&&(t=`${t} ${i}="${FO(this.attributes[i])}"`);let e="";for(let i=0,r=this.children.length;i<r;i++)e+=this.children[i].toString();return e?t+=`>${e}</${this.nodeName}>`:t+="/>",t}toJSON(){let t=[];for(let e=0,i=this.children.length;e<i;e++)t.push(this.children[e].toJSON());return{nodeName:this.nodeName,children:t,nodeValue:this.nodeValue,attributes:this.attributes,type:"XML"}}setAttribute(t,e){if(e===null){delete this.attributes[t],delete this[t];return}this.attributes[t]=e,this[t]=e}appendChild(t){this.children.push(t),this.firstChild=this.children[0]}cloneNode(t){return new n(this.toJSON())}},A_=class Gl{static uniqueId(t){return Gl._idSpaces[t]||(Gl._idSpaces[t]=1),Gl._idSpaces[t]++}static createXmlDoc(t,e){return new xc(t||null,e)}static createElement(t,e,i){let r=t.createElement(e);i=i||[];let s=i.length;for(;s--;)r.setAttribute(i[s][0],i[s][1]);return r}static setAttributesOnDoc(t,e){for(let[i,r]of Object.entries(e)){if(oW(r))if(r.v!==null&&r.v!==void 0)switch(r.type){case Boolean:r=r.v?"1":"0";break}else r=null;r!=null&&t.setAttribute(i,r)}}static positionToLetterRef(t,e){let i=1,r,s=t,o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ";if(Gl.LETTER_REFS[t])return Gl.LETTER_REFS[t].concat(e);for(;s>0;)s-=Math.pow(26,i-1),r=s%Math.pow(26,i),s-=r,r=r/Math.pow(26,i-1),o=a.charAt(r)+o,i+=1;return Gl.LETTER_REFS[t]=o,o.concat(String(e))}};ye(A_,"_idSpaces",{}),ye(A_,"LETTER_REFS",{}),ye(A_,"schemas",{worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",sharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",stylesheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",relationships:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",relationshipPackage:"http://schemas.openxmlformats.org/package/2006/relationships",contentTypes:"http://schemas.openxmlformats.org/package/2006/content-types",spreadsheetml:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",markupCompat:"http://schemas.openxmlformats.org/markup-compatibility/2006",x14ac:"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac",officeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",package:"http://schemas.openxmlformats.org/package/2006/relationships",table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table",spreadsheetDrawing:"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing",drawing:"http://schemas.openxmlformats.org/drawingml/2006/main",drawingRelationship:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",chart:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink"});var rt=A_;var Ow={};function Ya(n="$lodash$"){Ow[n]||(Ow[n]=0);let t=++Ow[n];return n==="$lodash$"?`${t}`:`${n}${t}`}var $a={},sm=class{constructor(){ye(this,"relations",{}),ye(this,"lastId",1),Ya("rId")}importData(t){this.relations=t.relations,this.lastId=t.lastId}exportData(){return{relations:this.relations,lastId:this.lastId}}addRelation(t,e){return this.relations[t.id]={id:Ya("rId"),schema:rt.schemas[e],object:t},this.relations[t.id].id}getRelationshipId(t){return this.relations[t.id]?this.relations[t.id].id:null}toXML(){let t=rt.createXmlDoc(rt.schemas.relationshipPackage,"Relationships"),e=t.documentElement;for(let[i,r]of Object.entries(this.relations)){let s=rt.createElement(t,"Relationship",[["Id",r.id],["Type",r.schema],["Target",r.object.target||$a[i]]]);r.object.targetMode&&s.setAttribute("TargetMode",r.object.targetMode),e.appendChild(s)}return t}};var Aw=class{constructor(){ye(this,"state",null),ye(this,"xSplit",null),ye(this,"ySplit",null),ye(this,"activePane","bottomRight"),ye(this,"topLeftCell",null),ye(this,"_freezePane")}freezePane(t,e,i){this._freezePane={xSplit:t,ySplit:e,cell:i}}exportXML(t){let e=t.createElement("pane");return this.state!==null&&(e.setAttribute("xSplit",this._freezePane.xSplit),e.setAttribute("ySplit",this._freezePane.ySplit),e.setAttribute("topLeftCell",this._freezePane.cell),e.setAttribute("activePane","bottomRight"),e.setAttribute("state","frozen")),e}};var F_=class{constructor(){ye(this,"strings",{}),ye(this,"stringArray",[]),ye(this,"id",Ya("SharedStrings"))}addString(t){return this.strings[t]=this.stringArray.length,this.stringArray[this.stringArray.length]=t,this.strings[t]}exportData(){return this.strings}toXML(){let t=rt.createXmlDoc(rt.schemas.spreadsheetml,"sst"),e=t.documentElement;this.stringArray.reverse();let i=this.stringArray.length;e.setAttribute("count",i),e.setAttribute("uniqueCount",i);let r=t.createElement("si"),s=t.createElement("t");s.appendChild(t.createTextNode("--placeholder--")),r.appendChild(s);let o=this.stringArray;for(;i--;){let a=r.cloneNode(!0);typeof o[i]=="string"&&o[i].match(/\s+/)&&a.firstChild.setAttribute("xml:space","preserve"),a.firstChild.firstChild.nodeValue=o[i],e.appendChild(a)}return t}},Mw=class{constructor(t){ye(this,"pane"),ye(this,"showZeros",null),ye(this,"defaultGridColor",null),ye(this,"colorId",null),ye(this,"rightToLeft",null),ye(this,"showFormulas",null),ye(this,"showGridLines",null),ye(this,"showOutlineSymbols",null),ye(this,"showRowColHeaders",null),ye(this,"showRuler",null),ye(this,"showWhiteSpace",null),ye(this,"tabSelected",null),ye(this,"topLeftCell",null),ye(this,"viewType",null),ye(this,"windowProtection",null),ye(this,"zoomScale",null),ye(this,"zoomScaleNormal",null),ye(this,"zoomScalePageLayoutView",null),ye(this,"zoomScaleSheetLayoutView",null);let e=t||{};this.pane=e.pane||new Aw}freezePane(t,e,i){this.pane.state="frozen",this.pane.xSplit=t,this.pane.ySplit=e,this.pane.topLeftCell=i}exportXML(t){let e=t.createElement("sheetViews"),i=t.createElement("sheetView");return rt.setAttributesOnDoc(i,{workbookViewId:0,showZeros:{v:this.showZeros,type:Boolean},defaultGridColor:{v:this.defaultGridColor,type:Boolean},colorId:this.colorId,rightToLeft:{v:this.rightToLeft,type:Boolean},showFormulas:{v:this.showFormulas,type:Boolean},showGridLines:{v:this.showGridLines,type:Boolean},showOutlineSymbols:{v:this.showOutlineSymbols,type:Boolean},showRowColHeaders:{v:this.showRowColHeaders,type:Boolean},showRuler:{v:this.showRuler,type:Boolean},showWhiteSpace:{v:this.showWhiteSpace,type:Boolean},tabSelected:{v:this.tabSelected,type:Boolean},viewType:this.viewType,windowProtection:{v:this.windowProtection,type:Boolean},zoomScale:{v:this.zoomScale,type:Boolean},zoomScaleNormal:this.zoomScaleNormal,zoomScalePageLayoutView:this.zoomScalePageLayoutView,zoomScaleSheetLayoutView:this.zoomScaleSheetLayoutView}),i.appendChild(this.pane.exportXML(t)),e.appendChild(i),e}};function lW(n,t){return t.reduce((e,i)=>(n!=null&&n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}var P_=class{constructor(){ye(this,"id",Ya("StyleSheet")),ye(this,"cellStyles",[{name:"Normal",xfId:"0",builtinId:"0"}]),ye(this,"defaultTableStyle",!1),ye(this,"differentialStyles",[{}]),ye(this,"masterCellFormats",[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfid:0}]),ye(this,"masterCellStyles",[{numFmtId:0,fontId:0,fillId:0,borderId:0}]),ye(this,"fonts",[{}]),ye(this,"numberFormatters",[]),ye(this,"fills",[{},{type:"pattern",patternType:"gray125",fgColor:"FF333333",bgColor:"FF333333"}]),ye(this,"borders",[{top:{},left:{},right:{},bottom:{},diagonal:{}}]),ye(this,"tableStyles",[])}createSimpleFormatter(t){let e={id:this.masterCellFormats.length};switch(t){case"date":e.numFmtId=14;break}return this.masterCellFormats.push(e),e}createFill(t){let e=this.fills.length,i=t;return i.id=e,this.fills.push(i),i}createNumberFormatter(t){let e={id:this.numberFormatters.length+100,formatCode:t};return this.numberFormatters.push(e),e}createFormat(t){let e={id:this.masterCellFormats.length};if(t.protection&&(e.protection=t.protection),t.font&&Ko(t.font))e.fontId=this.createFontStyle(t.font).id;else if(t.font){if(Number.isNaN(Number.parseInt(t.font,10)))throw new Error("Passing a non-numeric font id is not supported");e.fontId=t.font}if(t.format&&Ec(t.format))e.numFmtId=this.createNumberFormatter(t.format).id;else if(t.format){if(Number.isNaN(Number.parseInt(t.format,10)))throw new Error("Invalid number formatter id");e.numFmtId=t.format}if(t.border&&Ko(t.border))e.borderId=this.createBorderFormatter(t.border).id;else if(t.border){if(Number.isNaN(Number.parseInt(t.border,10)))throw new Error("Passing a non-numeric border id is not supported");e.borderId=t.border}if(t.fill&&Ko(t.fill))e.fillId=this.createFill(t.fill).id;else if(t.fill){if(Number.isNaN(Number.parseInt(t.fill,10)))throw new Error("Passing a non-numeric fill id is not supported");e.fillId=t.fill}return t.alignment&&Ko(t.alignment)&&(e.alignment=lW(t.alignment,["horizontal","justifyLastLine","readingOrder","relativeIndent","shrinkToFit","textRotation","vertical","wrapText"])),this.masterCellFormats.push(e),e}createDifferentialStyle(t){let e=this.differentialStyles.length,i={id:e};return t.font&&Ko(t.font)&&(i.font=t.font),t.border&&Ko(t.border)&&(i.border=Object.assign({top:{},left:{},right:{},bottom:{},diagonal:{}},t.border)),t.fill&&Ko(t.fill)&&(i.fill=t.fill),t.alignment&&Ko(t.alignment)&&(i.alignment=t.alignment),t.format&&Ec(t.format)&&(i.numFmt=t.format),this.differentialStyles[e]=i,i}createTableStyle(t){this.tableStyles.push(t)}createBorderFormatter(t){return t=k({top:{},left:{},right:{},bottom:{},diagonal:{},id:this.borders.length},t),this.borders.push(t),t}createFontStyle(t){let e={id:this.fonts.length};return t.bold&&(e.bold=!0),t.italic&&(e.italic=!0),t.superscript&&(e.vertAlign="superscript"),t.subscript&&(e.vertAlign="subscript"),t.underline&&(typeof t.underline=="string"&&["double","singleAccounting","doubleAccounting"].includes(t.underline)?e.underline=t.underline:e.underline=!0),t.strike&&(e.strike=!0),t.outline&&(e.outline=!0),t.shadow&&(e.shadow=!0),t.size&&(e.size=t.size),t.color&&(e.color=t.color),t.fontName&&(e.fontName=t.fontName),this.fonts.push(e),e}exportBorders(t){let e=t.createElement("borders");e.setAttribute("count",this.borders.length);for(let i=0,r=this.borders.length;i<r;i++)e.appendChild(this.exportBorder(t,this.borders[i]));return e}exportBorder(t,e){let i=t.createElement("border"),r=s=>{let o=t.createElement(s);return e[s].style&&o.setAttribute("style",e[s].style),e[s].color&&o.appendChild(this.exportColor(t,e[s].color)),o};return i.appendChild(r("left")),i.appendChild(r("right")),i.appendChild(r("top")),i.appendChild(r("bottom")),i.appendChild(r("diagonal")),i}exportColor(t,e){let i=t.createElement("color");return Ec(e)?(i.setAttribute("rgb",e),i):(e.tint!==void 0&&i.setAttribute("tint",e.tint),e.auto!==void 0&&i.setAttribute("auto",String(!!e.auto)),e.theme!==void 0&&i.setAttribute("theme",e.theme),i)}exportMasterCellFormats(t){let e=rt.createElement(t,"cellXfs",[["count",this.masterCellFormats.length]]);for(let i=0,r=this.masterCellFormats.length;i<r;i++){let s=this.masterCellFormats[i];e.appendChild(this.exportCellFormatElement(t,s))}return e}exportMasterCellStyles(t){let e=rt.createElement(t,"cellStyleXfs",[["count",this.masterCellStyles.length]]);for(let i=0,r=this.masterCellStyles.length;i<r;i++){let s=this.masterCellStyles[i];e.appendChild(this.exportCellFormatElement(t,s))}return e}exportCellFormatElement(t,e){let i=t.createElement("xf"),r=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","borderId","fillId","fontId","numFmtId","pivotButton","quotePrefix","xfId"],s=Object.keys(e).filter(a=>r.indexOf(a)!==-1);if(e.alignment){let a=e.alignment;i.appendChild(this.exportAlignment(t,a))}e.protection&&(i.appendChild(this.exportProtection(t,e.protection)),i.setAttribute("applyProtection","1"));let o=s.length;for(;o--;)i.setAttribute(s[o],e[s[o]]);return e.fillId&&i.setAttribute("applyFill","1"),e.fontId&&i.setAttribute("applyFont","1"),e.borderId&&i.setAttribute("applyBorder","1"),e.alignment&&i.setAttribute("applyAlignment","1"),e.numFmtId&&i.setAttribute("applyNumberFormat","1"),e.numFmtId!==void 0&&e.xfId===void 0&&i.setAttribute("xfId","0"),i}exportAlignment(t,e){let i=t.createElement("alignment"),r=Object.keys(e);for(let s=0,o=r.length;s<o;s++)i.setAttribute(r[s],e[r[s]]);return i}exportFonts(t){let e=t.createElement("fonts");e.setAttribute("count",String(this.fonts.length));for(let i=0,r=this.fonts.length;i<r;i++){let s=this.fonts[i];e.appendChild(this.exportFont(t,s))}return e}exportFont(t,e){let i=t.createElement("font");if(e.size){let r=t.createElement("sz");r.setAttribute("val",e.size),i.appendChild(r)}if(e.fontName){let r=t.createElement("name");r.setAttribute("val",e.fontName),i.appendChild(r)}if(e.bold&&i.appendChild(t.createElement("b")),e.italic&&i.appendChild(t.createElement("i")),e.vertAlign){let r=t.createElement("vertAlign");r.setAttribute("val",e.vertAlign),i.appendChild(r)}if(e.underline){let r=t.createElement("u");e.underline!==!0&&r.setAttribute("val",e.underline),i.appendChild(r)}return e.strike&&i.appendChild(t.createElement("strike")),e.shadow&&i.appendChild(t.createElement("shadow")),e.outline&&i.appendChild(t.createElement("outline")),e.color&&i.appendChild(this.exportColor(t,e.color)),i}exportFills(t){let e=t.createElement("fills");e.setAttribute("count",String(this.fills.length));for(let i=0,r=this.fills.length;i<r;i++){let s=this.fills[i];e.appendChild(this.exportFill(t,s))}return e}exportFill(t,e){let i,r=t.createElement("fill");return e.type==="pattern"?(i=this.exportPatternFill(t,e),r.appendChild(i)):e.type==="gradient"&&(i=this.exportGradientFill(t,e),r.appendChild(i)),r}exportGradientFill(t,e){let i=t.createElement("gradientFill");e.degree?i.setAttribute("degree",e.degree):e.left&&(i.setAttribute("left",e.left),i.setAttribute("right",e.right),i.setAttribute("top",e.top),i.setAttribute("bottom",e.bottom));let r=t.createElement("stop");r.setAttribute("position",e.start.pureAt||0);let s=t.createElement("color");typeof e.start=="string"||e.start.color?s.setAttribute("rgb",e.start.color||e.start):e.start.theme&&s.setAttribute("theme",e.start.theme);let o=t.createElement("stop"),a=t.createElement("color");return o.setAttribute("position",e.end.pureAt||1),typeof e.start=="string"||e.end.color?a.setAttribute("rgb",e.end.color||e.end):e.end.theme&&a.setAttribute("theme",e.end.theme),r.appendChild(s),o.appendChild(a),i.appendChild(r),i.appendChild(o),i}exportPatternFill(t,e){let i=rt.createElement(t,"patternFill",[["patternType",e.patternType]]);e.bgColor||(e.bgColor="FFFFFFFF"),e.fgColor||(e.fgColor="FFFFFFFF");let r=t.createElement("bgColor");Ec(e.bgColor)?r.setAttribute("rgb",e.bgColor):e.bgColor.theme?r.setAttribute("theme",e.bgColor.theme):r.setAttribute("rgb",e.bgColor.rbg);let s=t.createElement("fgColor");return Ec(e.fgColor)?s.setAttribute("rgb",e.fgColor):e.fgColor.theme?s.setAttribute("theme",e.fgColor.theme):s.setAttribute("rgb",e.fgColor.rbg),i.appendChild(s),i.appendChild(r),i}exportNumberFormatters(t){let e=t.createElement("numFmts");e.setAttribute("count",String(this.numberFormatters.length));for(let i=0,r=this.numberFormatters.length;i<r;i++){let s=this.numberFormatters[i];e.appendChild(this.exportNumberFormatter(t,s))}return e}exportNumberFormatter(t,e){let i=t.createElement("numFmt");return i.setAttribute("numFmtId",e.id),i.setAttribute("formatCode",e.formatCode),i}exportCellStyles(t){let e=t.createElement("cellStyles");e.setAttribute("count",String(this.cellStyles.length));for(let i=0,r=this.cellStyles.length;i<r;i++){let s=this.cellStyles[i];delete s.id;let o=rt.createElement(t,"cellStyle");e.appendChild(o);let a=Object.keys(s),l=a.length;for(;l--;)o.setAttribute(a[l],s[a[l]])}return e}exportDifferentialStyles(t){let e=t.createElement("dxfs");e.setAttribute("count",String(this.differentialStyles.length));for(let i=0,r=this.differentialStyles.length;i<r;i++){let s=this.differentialStyles[i];e.appendChild(this.exportDFX(t,s))}return e}exportDFX(t,e){let i=t.createElement("dxf");return e.font&&i.appendChild(this.exportFont(t,e.font)),e.fill&&i.appendChild(this.exportFill(t,e.fill)),e.border&&i.appendChild(this.exportBorder(t,e.border)),e.numFmt&&i.appendChild(this.exportNumberFormatter(t,e.numFmt)),e.alignment&&i.appendChild(this.exportAlignment(t,e.alignment)),i}exportTableStyles(t){let e=t.createElement("tableStyles");e.setAttribute("count",String(this.tableStyles.length)),this.defaultTableStyle&&e.setAttribute("defaultTableStyle",String(this.defaultTableStyle));for(let i=0,r=this.tableStyles.length;i<r;i++)e.appendChild(this.exportTableStyle(t,this.tableStyles[i]));return e}exportTableStyle(t,e){let i=t.createElement("tableStyle");i.setAttribute("name",e.name),i.setAttribute("pivot",String(0));let r=0;return Object.entries(e).forEach(([s,o])=>{if(s==="name")return;r++;let a=t.createElement("tableStyleElement");a.setAttribute("type",s),a.setAttribute("dxfId",o),i.appendChild(a)}),i.setAttribute("count",String(r)),i}exportProtection(t,e){let i=t.createElement("protection");for(let r in e)r in e&&i.setAttribute(r,e[r]);return i}toXML(){let t=rt.createXmlDoc(rt.schemas.spreadsheetml,"styleSheet"),e=t.documentElement;return e.appendChild(this.exportNumberFormatters(t)),e.appendChild(this.exportFonts(t)),e.appendChild(this.exportFills(t)),e.appendChild(this.exportBorders(t)),e.appendChild(this.exportMasterCellStyles(t)),e.appendChild(this.exportMasterCellFormats(t)),e.appendChild(this.exportCellStyles(t)),e.appendChild(this.exportDifferentialStyles(t)),this.tableStyles.length&&e.appendChild(this.exportTableStyles(t)),t}};var Rw=class{constructor(t){ye(this,"name",""),ye(this,"id",Ya("Worksheet")),ye(this,"_timezoneOffset"),ye(this,"relations",null),ye(this,"columnFormats",[]),ye(this,"data",[]),ye(this,"mergedCells",[]),ye(this,"columns",[]),ye(this,"sheetProtection",!1),ye(this,"_headers",[]),ye(this,"_footers",[]),ye(this,"_tables",[]),ye(this,"_drawings",[]),ye(this,"_orientation"),ye(this,"_margin"),ye(this,"_rowInstructions",{}),ye(this,"_freezePane",{}),ye(this,"sharedStrings",null),ye(this,"hyperlinks",[]),ye(this,"sheetView"),ye(this,"showZeros",null),this._timezoneOffset=new Date().getTimezoneOffset()*60*1e3,this.sheetView=t.sheetView||new Mw,this.initialize(t)}initialize(t){t=t||{},this.name=t.name,this.id=Ya("Worksheet"),this._timezoneOffset=new Date().getTimezoneOffset()*60*1e3,t.columns&&this.setColumns(t.columns),this.relations=new sm}exportData(){return{relations:this.relations.exportData(),columnFormats:this.columnFormats,data:this.data,columns:this.columns,mergedCells:this.mergedCells,_headers:this._headers,_footers:this._footers,_tables:this._tables,_rowInstructions:this._rowInstructions,_freezePane:this._freezePane,name:this.name,id:this.id}}importData(t){this.relations.importData(t.relations),delete t.relations,Object.assign(this,t)}setSharedStringCollection(t){this.sharedStrings=t}addTable(t){this._tables.push(t),this.relations.addRelation(t,"table")}addDrawings(t){this._drawings.push(t),this.relations.addRelation(t,"drawingRelationship")}setRowInstructions(t,e){this._rowInstructions[t]=e}setHeader(t){if(!Array.isArray(t))throw"Invalid argument type - setHeader expects an array of three instructions";this._headers=t}setFooter(t){if(!Array.isArray(t))throw"Invalid argument type - setFooter expects an array of three instructions";this._footers=t}compilePageDetailPackage(t){return t=t||"",["&L",this.compilePageDetailPiece(t[0]||""),"&C",this.compilePageDetailPiece(t[1]||""),"&R",this.compilePageDetailPiece(t[2]||"")].join("")}compilePageDetailPiece(t){if(Ec(t))return'&"-,Regular"'.concat(t);if(Ko(t)&&!Array.isArray(t)){let e="";if(t.font||t.bold){let i=t.bold?"Bold":"Regular";e+=`&"${t.font||"-"}`,e+=`,${i}"`}else e+='&"-,Regular"';return t.underline&&(e+="&U"),t.fontSize&&(e+=`&${t.fontSize}`),e+=t.text,e}if(Array.isArray(t))return t.reduce((e,i)=>e.concat(this.compilePageDetailPiece(i)),"")}exportHeader(t){let e=t.createElement("oddHeader");return e.appendChild(t.createTextNode(this.compilePageDetailPackage(this._headers))),e}exportFooter(t){let e=t.createElement("oddFooter");return e.appendChild(t.createTextNode(this.compilePageDetailPackage(this._footers))),e}_buildCache(t){let e=t.createElement("c"),i=t.createElement("v");i.appendChild(t.createTextNode("--temp--")),e.appendChild(i);let r=t.createElement("c"),s=t.createElement("f");s.appendChild(t.createTextNode("--temp--")),r.appendChild(s);let o=t.createElement("c");o.setAttribute("t","s");let a=t.createElement("v");return a.appendChild(t.createTextNode("--temp--")),o.appendChild(a),{number:e,date:e,string:o,formula:r}}collectSharedStrings(){let t=this.data,e={};for(let i=0,r=t.length;i<r;i++){let s=t[i],o=s.length;for(let a=0;a<o;a++){let l=s[a],c=l?.metadata||{};l&&typeof l=="object"&&(l=l.value),c.type||typeof l=="number"&&(c.type="number"),(c.type==="text"||!c.type)&&typeof e[l]>"u"&&(e[l]=!0)}}return Object.keys(e)}toXML(){var t,e,i;let r=this.data,s=this.columns||[],o=rt.createXmlDoc(rt.schemas.spreadsheetml,"worksheet"),a=o.documentElement,l,c,h;a.setAttribute("xmlns:r",rt.schemas.relationships),a.setAttribute("xmlns:mc",rt.schemas.markupCompat);let m=0,f=rt.createElement(o,"sheetData"),v=this._buildCache(o);for(h=0,c=r.length;h<c;h++){let C=r[h],x=C.length;m=x>m?x:m;let E=o.createElement("row");for(let I=0;I<x;I++){s[I]=s[I]||{};let N=C[I],L,V=N?.metadata||{};switch(N&&typeof N=="object"&&(N=N.value),V.type||typeof N=="number"&&(V.type="number"),V.type){case"number":L=v.number.cloneNode(!0),L.firstChild.firstChild.nodeValue=N;break;case"date":L=v.date.cloneNode(!0),N instanceof Date&&(N=N.getTime()),L.firstChild.firstChild.nodeValue=25569+(N-this._timezoneOffset)/(60*60*24*1e3);break;case"formula":L=v.formula.cloneNode(!0),L.firstChild.firstChild.nodeValue=N;break;case"text":default:{let j;typeof((t=this.sharedStrings)==null?void 0:t.strings[N])<"u"?j=this.sharedStrings.strings[N]:j=(e=this.sharedStrings)==null?void 0:e.addString(N),L=v.string.cloneNode(!0),L.firstChild.firstChild.nodeValue=j;break}}V.style?L.setAttribute("s",V.style):((i=this._rowInstructions[h])==null?void 0:i.style)!==void 0&&L.setAttribute("s",this._rowInstructions[h].style),L.setAttribute("r",rt.positionToLetterRef(I+1,String(h+1))),E.appendChild(L)}if(E.setAttribute("r",h+1),this._rowInstructions[h]){let I=this._rowInstructions[h];I.height!==void 0&&(E.setAttribute("customHeight","1"),E.setAttribute("ht",I.height)),I.style!==void 0&&(E.setAttribute("customFormat","1"),E.setAttribute("s",I.style))}f.appendChild(E)}if(m!==0?a.appendChild(rt.createElement(o,"dimension",[["ref",`${rt.positionToLetterRef(1,1)}:${rt.positionToLetterRef(m,String(r.length))}`]])):a.appendChild(rt.createElement(o,"dimension",[["ref",rt.positionToLetterRef(1,1)]])),a.appendChild(this.sheetView.exportXML(o)),this.columns.length&&a.appendChild(this.exportColumns(o)),a.appendChild(f),this.sheetProtection&&a.appendChild(this.sheetProtection.exportXML(o)),this.hyperlinks.length>0){let C=o.createElement("hyperlinks"),x=this.hyperlinks;for(l=0,c=x.length;l<c;l++){let E=o.createElement("hyperlink"),I=x[l];E.setAttribute("ref",String(I.cell)),I.id=rt.uniqueId("hyperlink"),this.relations.addRelation({id:I.id,target:I.location,targetMode:I.targetMode||"External"},"hyperlink"),E.setAttribute("r:id",this.relations.getRelationshipId(I)),C.appendChild(E)}a.appendChild(C)}if(this.mergedCells.length>0){let C=o.createElement("mergeCells");for(l=0,c=this.mergedCells.length;l<c;l++){let x=o.createElement("mergeCell");x.setAttribute("ref",`${this.mergedCells[l][0]}:${this.mergedCells[l][1]}`),C.appendChild(x)}a.appendChild(C)}if(this.exportPageSettings(o,a),this._headers.length>0||this._footers.length>0){let C=o.createElement("headerFooter");this._headers.length>0&&C.appendChild(this.exportHeader(o)),this._footers.length>0&&C.appendChild(this.exportFooter(o)),a.appendChild(C)}for(l=0,c=this._drawings.length;l<c;l++){let C=o.createElement("drawing");C.setAttribute("r:id",this.relations.getRelationshipId(this._drawings[l])),a.appendChild(C)}if(this._tables.length>0){let C=o.createElement("tableParts");for(C.setAttribute("count",this._tables.length),l=0,c=this._tables.length;l<c;l++){let x=o.createElement("tablePart");x.setAttribute("r:id",this.relations.getRelationshipId(this._tables[l])),C.appendChild(x)}a.appendChild(C)}return o}exportColumns(t){let e=rt.createElement(t,"cols");for(let i=0,r=this.columns.length;i<r;i++){let s=this.columns[i],o=rt.createElement(t,"col",[["min",s.min||i+1],["max",s.max||i+1]]);s.hidden&&o.setAttribute("hidden",String(1)),s.bestFit&&o.setAttribute("bestFit",String(1)),(s.customWidth||s.width)&&o.setAttribute("customWidth",String(1)),s.width?o.setAttribute("width",s.width):o.setAttribute("width",String(9.140625)),e.appendChild(o)}return e}exportPageSettings(t,e){if(this._margin){let i=.7,r=this._margin.left?this._margin.left:i,s=this._margin.right?this._margin.right:i,o=this._margin.top?this._margin.top:i,a=this._margin.bottom?this._margin.bottom:i;i=.3;let l=this._margin.header?this._margin.header:i,c=this._margin.footer?this._margin.footer:i;e.appendChild(rt.createElement(t,"pageMargins",[["top",o],["bottom",a],["left",r],["right",s],["header",l],["footer",c]]))}this._orientation&&e.appendChild(rt.createElement(t,"pageSetup",[["orientation",this._orientation]]))}setPageOrientation(t){this._orientation=t}setPageMargin(t){this._margin=t}setColumns(t){this.columns=t}setData(t){this.data=t}mergeCells(t,e){this.mergedCells.push([t,e])}freezePane(t,e,i){this.sheetView.freezePane(t,e,i)}setColumnFormats(t){this.columnFormats=t}},N_=class{constructor(){ye(this,"id",Ya("Workbook")),ye(this,"styleSheet",new P_),ye(this,"sharedStrings",new F_),ye(this,"relations",new sm),ye(this,"worksheets",[]),ye(this,"tables",[]),ye(this,"drawings",[]),ye(this,"media",{}),ye(this,"printTitles"),this.initialize()}initialize(){this.id=Ya("Workbook"),this.styleSheet=new P_,this.sharedStrings=new F_,this.relations=new sm,this.relations.addRelation(this.styleSheet,"stylesheet"),this.relations.addRelation(this.sharedStrings,"sharedStrings")}createWorksheet(t){return t=Object.assign({},{name:"Sheet ".concat(String(this.worksheets.length+1))},t),new Rw(t)}getStyleSheet(){return this.styleSheet}addTable(t){this.tables.push(t)}addDrawings(t){this.drawings.push(t)}setPrintTitleTop(t,e){this.printTitles==null&&(this.printTitles={}),this.printTitles[t]==null&&(this.printTitles[t]={}),this.printTitles[t].top=e}setPrintTitleLeft(t,e){this.printTitles==null&&(this.printTitles={}),this.printTitles[t]==null&&(this.printTitles[t]={}),this.printTitles[t].left=String.fromCharCode(64+e)}addMedia(t,e,i,r){let s=e.split("."),o=s[s.length-1];if(!r)switch(o.toLowerCase()){case"jpeg":case"jpg":r="image/jpeg";break;case"png":r="image/png";break;case"gif":r="image/gif";break;default:r=null;break}return this.media[e]||(this.media[e]={id:e,data:i,fileName:e,contentType:r,extension:o}),this.media[e]}addWorksheet(t){this.relations.addRelation(t,"worksheet"),t.setSharedStringCollection(this.sharedStrings),this.worksheets.push(t)}createContentTypes(){let t=rt.createXmlDoc(rt.schemas.contentTypes,"Types"),e=t.documentElement,i,r;e.appendChild(rt.createElement(t,"Default",[["Extension","rels"],["ContentType","application/vnd.openxmlformats-package.relationships+xml"]])),e.appendChild(rt.createElement(t,"Default",[["Extension","xml"],["ContentType","application/xml"]]));let s={};for(let o in this.media)o in this.media&&(s[this.media[o].extension]=this.media[o].contentType);for(let o in s)o in s&&e.appendChild(rt.createElement(t,"Default",[["Extension",o],["ContentType",s[o]]]));for(e.appendChild(rt.createElement(t,"Override",[["PartName","/xl/workbook.xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"]])),e.appendChild(rt.createElement(t,"Override",[["PartName","/xl/sharedStrings.xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"]])),e.appendChild(rt.createElement(t,"Override",[["PartName","/xl/styles.xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"]])),i=0,r=this.worksheets.length;i<r;i++)e.appendChild(rt.createElement(t,"Override",[["PartName",`/xl/worksheets/sheet${i+1}.xml`],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"]]));for(i=0,r=this.tables.length;i<r;i++)e.appendChild(rt.createElement(t,"Override",[["PartName",`/xl/tables/table${i+1}.xml`],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"]]));for(i=0,r=this.drawings.length;i<r;i++)e.appendChild(rt.createElement(t,"Override",[["PartName",`/xl/drawings/drawing${i+1}.xml`],["ContentType","application/vnd.openxmlformats-officedocument.drawing+xml"]]));return t}toXML(){let t=rt.createXmlDoc(rt.schemas.spreadsheetml,"workbook"),e=t.documentElement;e.setAttribute("xmlns:r",rt.schemas.relationships);let i=31,r=rt.createElement(t,"sheets");for(let a=0,l=this.worksheets.length;a<l;a++){let c=t.createElement("sheet");typeof console<"u"&&this.worksheets[a].name.length>i&&console.log(`Microsoft Excel requires work sheet names to be less than ${i+1} characters long, work sheet name "${this.worksheets[a].name}" is ${this.worksheets[a].name.length} characters long`),c.setAttribute("name",this.worksheets[a].name),c.setAttribute("sheetId",a+1),c.setAttribute("r:id",this.relations.getRelationshipId(this.worksheets[a])),r.appendChild(c)}e.appendChild(r);let s=rt.createElement(t,"definedNames"),o=0;for(let a in this.printTitles)if(a in this.printTitles){let l=this.printTitles[a],c=t.createElement("definedName");c.setAttribute("name","_xlnm.Print_Titles"),c.setAttribute("localSheetId",o++);let h="";l.top&&(h+=`${a}!$1:$${l.top}`,l.left&&(h+=",")),l.left&&(h+=`${a}!$A:$${l.left}`),c.appendChild(t.createTextNode(h)),s.appendChild(c)}return e.appendChild(s),t}createWorkbookRelationship(){let t=rt.createXmlDoc(rt.schemas.relationshipPackage,"Relationships");return t.documentElement.appendChild(rt.createElement(t,"Relationship",[["Id","rId1"],["Type",rt.schemas.officeDocument],["Target","xl/workbook.xml"]])),t}_generateCorePaths(t){let e,i;for($a[this.styleSheet.id]="styles.xml",$a[this.sharedStrings.id]="sharedStrings.xml",$a[this.id]="/xl/workbook.xml",e=0,i=this.tables.length;e<i;e++)t[`/xl/tables/table${e+1}.xml`]=this.tables[e].toXML(),$a[this.tables[e].id]=`/xl/tables/table${e+1}.xml`;for(let r in this.media)if(r in this.media){let s=this.media[r];t[`/xl/media/${r}`]=s.data,$a[r]=`/xl/media/${r}`}for(e=0,i=this.drawings.length;e<i;e++)t[`/xl/drawings/drawing${e+1}.xml`]=this.drawings[e].toXML(),$a[this.drawings[e].id]=`/xl/drawings/drawing${e+1}.xml`,t[`/xl/drawings/_rels/drawing${e+1}.xml.rels`]=this.drawings[e].relations.toXML()}_prepareFilesForPackaging(t){Object.assign(t,{"/[Content_Types].xml":this.createContentTypes(),"/_rels/.rels":this.createWorkbookRelationship(),"/xl/styles.xml":this.styleSheet.toXML(),"/xl/workbook.xml":this.toXML(),"/xl/sharedStrings.xml":this.sharedStrings.toXML(),"/xl/_rels/workbook.xml.rels":this.relations.toXML()});for(let[e,i]of Object.entries(t))if(e.indexOf(".xml")!==-1||e.indexOf(".rels")!==-1){i instanceof xc?t[e]=i.toString():t[e]=i.xml||new window.XMLSerializer().serializeToString(i);let r=t[e].replace(/xmlns=""/g,"");r=r.replace(/NS[\d]+:/g,""),r=r.replace(/xmlns:NS[\d]+=""/g,""),t[e]=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
${r}`}}generateFiles(){return new Promise(t=>{let e={};this._generateCorePaths(e);for(let i=0,r=this.worksheets.length;i<r;i++)e[`/xl/worksheets/sheet${i+1}.xml`]=this.worksheets[i].toXML(),$a[this.worksheets[i].id]=`worksheets/sheet${i+1}.xml`,e[`/xl/worksheets/_rels/sheet${i+1}.xml.rels`]=this.worksheets[i].relations.toXML();return this._prepareFilesForPackaging(e),t(e)})}};function dW(n,t,e){let i={};return new Promise((r,s)=>{n.generateFiles().then(o=>{for(let[a,l]of Object.entries(o))i[a.substr(1)]=D_(l);return RO(i,e?.zipOptions||{},(a,l)=>{if(a){s(a);return}if(t==="Uint8Array")r(l);else{let c=e?.fileFormat??"xlsx",h=e?.mimeType;h===void 0&&(h=c==="xls"?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),r(new Blob([l],{type:h}))}})})})}function PO(n,t,e){if(e?.downloadType==="node")throw new Error('[Excel-Builder-Vanilla] Please note that `downloadExcelFile()` is currently only supporting the "browser" download type at the moment.');let i=t.match(/.*\.xls$/)?"xls":"xlsx";return dW(n,"Blob",Ce(k({},e),{fileFormat:i})).then(r=>{cW(t,r)})}function cW(n,t){let e=document.createElement("a"),i=URL.createObjectURL(t);e&&document&&(e.textContent="download",e.href=i,e.setAttribute("download",n),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(i))}var hW=(n,{excelFormatId:t})=>t!==void 0?{value:n,metadata:{style:t}}:n,uW=(n,{columnDef:t,excelFormatId:e,gridOptions:i})=>({value:typeof n=="string"&&/\d/g.test(n)?mW(n,t,i):n,metadata:{style:e}});function mW(n,t,e){let i=n;if(typeof n=="string"&&n){let r=Ns("decimalSeparator",t,e,se.DEFAULT_NUMBER_DECIMAL_SEPARATOR),s=parseFloat(r===","?n.replace(/[^0-9,-]+/g,"").replace(",","."):n.replace(/[^\d.-]/g,""));i=isNaN(s)?n:s}return i}function HO(n,t,e,i,r=!0){let s=kl(e),o,a=hW;return s===R.number&&r&&(o=V_(n,t,e,i,"cell").excelFormat.id,a=uW),{excelFormatId:o,getDataValueParser:a}}function zO(n,t){return n?.[t.groupType]?.[t.columnDef.field]??0}function pW(n,t,e){let i;if(e==="group")switch(n.groupTotalsFormatter){case ai.avgTotalsCurrency:case ai.avgTotalsDollar:case ai.sumTotalsCurrency:case ai.sumTotalsCurrencyColored:case ai.sumTotalsDollar:case ai.sumTotalsDollarBold:case ai.sumTotalsDollarColored:case ai.sumTotalsDollarColoredBold:i="currency";break;case ai.avgTotalsPercentage:i="percent";break;case ai.avgTotals:case ai.minTotals:case ai.maxTotals:case ai.sumTotals:case ai.sumTotalsColored:case ai.sumTotalsBold:default:i="decimal";break}else if(n.formatter===Zt.multiple&&Array.isArray(n.params?.formatters)){i="decimal";for(let r of n.params.formatters)if(i=NO(r),i!=="decimal")break}else i=NO(n.formatter);return lt(n,t,i,e)}function NO(n){let t;switch(n){case Zt.currency:case Zt.dollar:case Zt.dollarColored:case Zt.dollarColoredBold:t="currency";break;case Zt.percent:case Zt.percentComplete:case Zt.percentCompleteBar:case Zt.percentCompleteBarWithText:case Zt.percentSymbol:t="percent";break;case Zt.decimal:default:t="decimal";break}return t}function V_(n,t,e,i,r){let s="",o=e.groupTotalsExcelExportOptions?.groupType||"",a,l=kl(e);if(r==="group")switch(e.groupTotalsFormatter){case ai.avgTotals:case ai.avgTotalsCurrency:case ai.avgTotalsDollar:case ai.avgTotalsPercentage:o="avg";break;case ai.minTotals:o="min";break;case ai.maxTotals:o="max";break;case ai.sumTotals:case ai.sumTotalsBold:case ai.sumTotalsColored:case ai.sumTotalsCurrency:case ai.sumTotalsCurrencyColored:case ai.sumTotalsDollar:case ai.sumTotalsDollarColoredBold:case ai.sumTotalsDollarColored:case ai.sumTotalsDollarBold:o="sum";break;default:a=t.numberFormat;break}else switch(l){case R.number:switch(e.formatter){case Zt.multiple:if(Array.isArray(e.params?.formatters))for(let c of e.params.formatters){let{excelFormat:h}=V_(n,t,Ce(k({},e),{formatter:c}),i,r);if(h!==t.numberFormat){a=h;break}}a||(a=t.numberFormat);break;case Zt.currency:case Zt.decimal:case Zt.dollar:case Zt.dollarColored:case Zt.dollarColoredBold:case Zt.percent:case Zt.percentComplete:case Zt.percentCompleteBar:case Zt.percentCompleteBarWithText:case Zt.percentSymbol:s=VO(e,i,"cell");break;default:a=t.numberFormat;break}break}return!a&&(e.formatter||e.groupTotalsFormatter)&&(s=VO(e,i,r,o),t.hasOwnProperty(s)||(t[s]=n.createFormat({format:s})),a=t[s]),{excelFormat:a,groupType:o}}function LO(n){let[t,e,i,r,s,o,a,l]=n?.match(/^([^\d(-]*)([(]?)([^\d]*)([-]?[\w]]?[\d\s]*[.,\d]*[\d]*[^)\s%]?)([^\d.,)]*)([)]?)([^\d]*)$/i)||[],c=(s||"").replace(/1/g,"0").replace(/[2]/g,"#");return[L_(e??""),i??"",L_(r??""),c,L_(o??""),a??"",L_(l??"")].join("").replace(",",",")}function VO(n,t,e,i=""){let r="",s="",o="",{minDecimal:a,maxDecimal:l,thousandSeparator:c}=pW(n,t,e),m=parseFloat(`${c?"2220":"0"}.${fW(a,l)}`);return e==="group"&&n.groupTotalsFormatter?(s=yi(n.groupTotalsFormatter({[i]:{[n.field]:m}},n,t)),o=yi(n.groupTotalsFormatter({[i]:{[n.field]:-m}},n,t))):n.formatter&&(s=yi(n.formatter(0,0,m,n,{},t)),o=yi(n.formatter(0,0,-m,n,{},t))),s&&o&&(r=LO(s)+";"+LO(o)),r}function L_(n){return n&&`"${n}"`}function fW(n,t){return BO("1",n)+BO("2",t-n)}function BO(n,t){let e="";for(let i=0;i<t;i++)e+=n;return e}var gW={filename:"export",format:Pn.xlsx},rn=class{constructor(){this._fileFormat=Pn.xlsx,this._columnHeaders=[],this._hasColumnTitlePreHeader=!1,this._hasGroupedItems=!1,this._pubSubService=null,this._regularCellExcelFormats={},this._groupTotalExcelFormats={},this.className="ExcelExportService"}get _datasetIdPropName(){return this._gridOptions?.datasetIdPropertyName??"id"}get _dataView(){return this._grid?.getData()}get _gridOptions(){return this._grid?.getOptions()||{}}get stylesheet(){return this._stylesheet}get stylesheetFormats(){return this._stylesheetFormats}get groupTotalExcelFormats(){return this._groupTotalExcelFormats}get regularCellExcelFormats(){return this._regularCellExcelFormats}dispose(){this._pubSubService?.unsubscribeAll()}init(t,e){if(this._grid=t,this._pubSubService=e.get("PubSubService"),this._locales=this._gridOptions?.locales??se.locales,this._translaterService=this._gridOptions?.translater,this._gridOptions.enableTranslate&&(!this._translaterService||!this._translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be passed in the "translater" Grid Options when "enableTranslate" is enabled. (example: this.gridOptions = { enableTranslate: true, translater: this.translaterService })')}exportToExcel(t){if(!this._grid||!this._dataView||!this._pubSubService)throw new Error('[Slickgrid-Universal] it seems that the SlickGrid & DataView objects and/or PubSubService are not initialized did you forget to enable the grid option flag "enableExcelExport"?');return this._pubSubService?.publish("onBeforeExportToExcel",!0),this._excelExportOptions=oi(!0,{},k(k(k({},gW),this._gridOptions.excelExportOptions),t)),this._fileFormat=this._excelExportOptions.format||Pn.xlsx,this._regularCellExcelFormats={},this._groupTotalExcelFormats={},new Promise(e=>{let i={name:this._excelExportOptions.sheetName||"Sheet1"};this._workbook=new N_,this._sheet=this._workbook.createWorksheet(i),this._stylesheet=this._workbook.getStyleSheet();let r=this._stylesheet.createFormat({font:{bold:!0}}),s=this._stylesheet.createFormat({format:"@"}),o=this._stylesheet.createFormat({format:"0"});this._stylesheetFormats={boldFormat:r,numberFormat:o,stringFormat:s},this._sheet.setColumnFormats([r]);let a=this.getDataOutput();window.setTimeout(()=>Ze(this,null,function*(){this._gridOptions?.excelExportOptions?.customExcelHeader&&this._gridOptions.excelExportOptions.customExcelHeader(this._workbook,this._sheet);let l=this._grid?.getColumns()||[];this._sheet.setColumns(this.getColumnStyles(l));let c=this._sheet.data,h=c;Array.isArray(c)&&Array.isArray(a)&&(h=this._sheet.data.concat(a)),this._sheet.setData(h),this._workbook.addWorksheet(this._sheet);let m=this._excelExportOptions?.mimeType;m===void 0&&(m=this._fileFormat===Pn.xls?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");let f=`${this._excelExportOptions.filename}.${this._fileFormat}`;PO(this._workbook,f,{mimeType:m}).then(()=>{this._pubSubService?.publish("onAfterExportToExcel",{filename:f,mimeType:m}),e(!0)})}))})}getExcelColumnNameByIndex(t){let e="ZABCDEFGHIJKLMNOPQRSTUVWXY",i=Math.floor(t/26),r=Math.floor(t%26);return r===0&&i--,t>26?this.getExcelColumnNameByIndex(i)+e[r]:e[r]+""}getDataOutput(){let t=this._grid?.getColumns()||[],e=[],r=this._gridOptions?.excelExportOptions?.columnHeaderStyle,s=this._stylesheetFormats.boldFormat.id;if(r&&(s=this._stylesheet.createFormat(r).id),this._gridOptions.createPreHeaderPanel&&this._gridOptions.showPreHeaderPanel&&!this._gridOptions.enableDraggableGrouping){let o=this._stylesheet.createFormat({alignment:{horizontal:"center"},font:{bold:!0}});e.push(this.getColumnGroupedHeaderTitlesData(t,{style:o?.id})),this._hasColumnTitlePreHeader=!0}return e.push(this.getColumnHeaderData(t,{style:s})),this.pushAllGridRowDataToArray(e,t),e}getColumnStyles(t){let e=this._dataView.getGrouping(),i=[];return Array.isArray(e)&&e.length>0&&i.push({bestFit:!0,columnStyles:this._gridOptions?.excelExportOptions?.customColumnWidth??10}),t.forEach(r=>{let s=r.excludeFromExport??!1;(r.width===void 0||r.width>0)&&!s&&i.push({bestFit:!0,width:r.excelExportOptions?.width??this._gridOptions?.excelExportOptions?.customColumnWidth??10})}),i}getColumnGroupedHeaderTitlesData(t,e){let i=[];this._groupedColumnHeaders=this.getColumnGroupedHeaderTitles(t)||[],this._groupedColumnHeaders&&Array.isArray(this._groupedColumnHeaders)&&this._groupedColumnHeaders.length>0&&(i=this._groupedColumnHeaders.map(o=>({value:o.title,metadata:e})));let r=0,s=this._groupedColumnHeaders.length;for(let o=0;o<s;o++)if(o+1===s||o+1<s&&this._groupedColumnHeaders[o].title!==this._groupedColumnHeaders[o+1].title){let a=this.getExcelColumnNameByIndex(r+1),l=this.getExcelColumnNameByIndex(o+1);this._sheet.mergeCells(`${a}1`,`${l}1`),r=o+1}return i}getColumnHeaderData(t,e){let i=[];this._columnHeaders=this.getColumnHeaders(t)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0&&(i=this._columnHeaders.map(s=>({value:yi(s.title),metadata:e})));let r=this.getGroupColumnTitle();return r&&i.unshift({value:r,metadata:e}),i}getGroupColumnTitle(){let t=this._excelExportOptions.groupingColumnHeaderTitle;!t&&this._gridOptions.enableTranslate&&this._translaterService?.translate?t=this._translaterService.translate(`${Sn(this._gridOptions)}GROUP_BY`):t||(t=this._locales?.TEXT_GROUP_BY);let e=this._dataView.getGrouping();return Array.isArray(e)&&e.length>0?(this._hasGroupedItems=!0,t):(this._hasGroupedItems=!1,null)}getColumnGroupedHeaderTitles(t){let e=[];return Array.isArray(t)&&t.forEach(i=>{let r="";i.columnGroupKey&&this._gridOptions.enableTranslate&&this._translaterService?.translate?r=this._translaterService.translate(i.columnGroupKey):r=i.columnGroup||"";let s=i.excludeFromExport||!1;(i.width===void 0||i.width>0)&&!s&&e.push({key:i.field||i.id,title:r||""})}),e}getColumnHeaders(t){let e=[];return Array.isArray(t)&&t.forEach(i=>{let r="";(i.nameKey||i.nameKey)&&this._gridOptions.enableTranslate&&this._translaterService?.translate?r=this._translaterService.translate(i.nameKey||i.nameKey):r=Fr(i.name||"","innerHTML")||oo(i.field);let s=i.excludeFromExport||!1;(i.width===void 0||i.width>0)&&!s&&e.push({key:(i.field||i.id)+"",title:r})}),e}pushAllGridRowDataToArray(t,e){let i=this._dataView.getLength();for(let r=0;r<i;r++){let s=this._dataView.getItem(r);s&&!s.hasOwnProperty("getItem")&&(s[this._datasetIdPropName]!==null&&s[this._datasetIdPropName]!==void 0?t.push(this.readRegularRowData(e,r,s,r)):this._hasGroupedItems&&s.__groupTotals===void 0?t.push([this.readGroupedRowTitle(s)]):s.__groupTotals&&t.push(this.readGroupedTotalRows(e,s,r)))}return t}readRegularRowData(t,e,i,r){let s=0,o=[],a=t.length,l=1,c=0,h=this._dataView.getItemMetadata(e);for(let m=0;m<a;m++){let f=t[m];if(f.excludeFromExport)continue;this._hasGroupedItems&&s===0&&o.push("");let v=1;if(this._gridOptions.enableCellRowSpan){let E=this._grid.getParentRowSpanByCell(e,m,!1);if(E)if(E.start===e)v=E.end-E.start+1;else{o.push("");continue}}let C=1,x;if(h?.columns){let E=h.columns,I=E[f.id]||E[m];!isNaN(l)&&+l>1||l==="*"&&m>0||(l=I?.colspan??1),l==="*"?C=t.length-m:(C=l,(f.id in E||m in E)&&(x=f.id,c=m))}if(v>1&&!isNaN(l)&&+l==1&&f.id===x){let E=e+(this._hasColumnTitlePreHeader?3:2),I=this.getExcelColumnNameByIndex(m+1),N=this.getExcelColumnNameByIndex(m+1);this._sheet.mergeCells(`${I}${E}`,`${N}${E+v-1}`)}if(l==="*"&&m>0||!isNaN(l)&&+l>1&&f.id!==x){let E=e+(this._hasColumnTitlePreHeader?3:2);if(typeof l=="number"&&C-1===1){let I=this.getExcelColumnNameByIndex(c+1),N=this.getExcelColumnNameByIndex(m+1);this._sheet.mergeCells(`${I}${E}`,`${N}${E+v-1}`),o.push("")}else if(l==="*"&&C===1){let I=this.getExcelColumnNameByIndex(m+1);this._sheet.mergeCells(`A${E}`,`${I}${E+v-1}`)}else o.push("");typeof l=="number"&&!isNaN(l)&&+l>1&&(C=l--)}else{let E="",I=kl(f),N=k({},this._excelExportOptions);if(f.exportWithFormatter!==!1&&vr(I)&&(N.exportWithFormatter=!0),E=Mg(e,m,f,i,this._grid,N),!this._regularCellExcelFormats.hasOwnProperty(f.id)){let j=f.excelExportOptions?.autoDetectCellFormat??this._excelExportOptions?.autoDetectCellFormat,Y=HO(this._stylesheet,this._stylesheetFormats,f,this._grid,j);f.excelExportOptions?.style&&(Y.excelFormatId=this._stylesheet.createFormat(f.excelExportOptions.style).id),f.excelExportOptions?.valueParserCallback&&(Y.getDataValueParser=f.excelExportOptions.valueParserCallback),this._regularCellExcelFormats[f.id]=Y}typeof E=="string"&&(f.sanitizeDataExport||this._excelExportOptions.sanitizeDataExport)&&(E=yi(E));let{excelFormatId:L,getDataValueParser:V}=this._regularCellExcelFormats[f.id];E=V(E,{columnDef:f,excelFormatId:L,stylesheet:this._stylesheet,gridOptions:this._gridOptions,dataRowIdx:r,dataContext:i}),o.push(E),s++}}return o}readGroupedRowTitle(t){let e=yi(t.title);if(this._excelExportOptions?.addGroupIndentation){let i=this._excelExportOptions?.groupCollapsedSymbol||"\u2B9E",r=this._excelExportOptions?.groupExpandedSymbol||"\u2B9F";return(t.collapsed?i:r)+" "+Kd(5*t.level)+e}return e}readGroupedTotalRows(t,e,i){let s=[this._excelExportOptions.groupingAggregatorRowText||""];return t.forEach(o=>{let a="",l=kl(o),c=o.excludeFromExport||!1;if(o.exportCustomGroupTotalsFormatter){let m=o.exportCustomGroupTotalsFormatter(e,o,this._grid);a=m instanceof HTMLElement?m.textContent||"":m}let h=o.excelExportOptions?.autoDetectCellFormat??this._excelExportOptions?.autoDetectCellFormat;if(l===R.number&&h!==!1){let m=this._groupTotalExcelFormats[o.id];m?.groupType||(m=V_(this._stylesheet,this._stylesheetFormats,o,this._grid,"group"),o.groupTotalsExcelExportOptions?.style&&(m.excelFormat=this._stylesheet.createFormat(o.groupTotalsExcelExportOptions.style)),this._groupTotalExcelFormats[o.id]=m);let f=o.groupTotalsExcelExportOptions?.valueParserCallback??zO;if(e[m.groupType]?.[o.field]!==void 0){let v=f(e,{columnDef:o,groupType:m.groupType,excelFormatId:m.excelFormat?.id,stylesheet:this._stylesheet,dataRowIdx:i});a=typeof v=="object"&&v.hasOwnProperty("metadata")?v:a={value:v,metadata:{style:m.excelFormat?.id}}}}else if(o.groupTotalsFormatter){let m=o.groupTotalsFormatter(e,o,this._grid);a=m instanceof HTMLElement?m.textContent||"":m}typeof a=="string"&&(o.sanitizeDataExport||this._excelExportOptions.sanitizeDataExport)&&(a=yi(a)),(o.width===void 0||o.width>0)&&!c&&s.push(a)}),s}};var Ki=class{static getGridOptions(t,e){return{enableRtl:!0,enableFiltering:!0,enableAutoResize:!0,enableCellNavigation:!0,enableRowSelection:!0,rowSelectionOptions:{selectActiveRow:!0},autoResize:{container:"#grid-container",rightPadding:10},darkMode:e,enablePagination:!0,pagination:{pageSizes:[5,10,20,50,100,1e3],pageSize:50},rowHeight:33,enableSorting:!0,enableExcelExport:!0,enableExcelCopyBuffer:!0,externalResources:[t],excelExportOptions:{sanitizeDataExport:!0},preParseDateColumns:"__",dataItemColumnValueExtractor:function(i,r){for(var s=r.field.split("."),o=i[s[0]],a=1;a<s.length;a++)o&&typeof o=="object"&&s[a]in o?o=o[s[a]]:o="";return o}}}static scrollToTheRight(){setTimeout(()=>{let t=document.querySelector(".slick-viewport");t&&(t.scrollLeft=t.scrollWidth)},100)}};var _W={config:{url:"https://172.21.23.1/auth",realm:"system-janbazi",clientId:"system-janbazi-client"},initOptions:{onLoad:"login-required",flow:"standard",checkLoginIframe:!1}},jO=_W;var qa={production:!0,apiUrl:"/api",keycloak:jO,baseUrl:"https://172.21.23.1"};var Vn=(()=>{class n{constructor(e){this.http=e,this.baseUrl=qa.baseUrl}setUrl(e){this.baseUrl=this.baseUrl+e}getAll(){return this.http.get(`${this.baseUrl}/`)}get(e){return this.http.get(`${this.baseUrl}/${e}`)}create(e){return this.http.post(`${this.baseUrl}/`,e)}update(e,i){return this.http.put(`${this.baseUrl}/${e}`,i)}delete(e){return this.http.delete(`${this.baseUrl}/${e}`)}deleteAll(){return this.http.delete(this.baseUrl)}findByTitle(e){return this.http.get(`${this.baseUrl}?title=${e}`)}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var B_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/agencies")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vW(n,t){if(n&1){let e=Qt();_(0,"div",1)(1,"button",2),X("click",function(){Pe(e);let r=Me();return Ne(r.action())}),D(2),b()()}if(n&2){let e=Me();y(2),te(" ",e.data.action," ")}}var bW=["label"];function yW(n,t){}var wW=Math.pow(2,31)-1,$l=class{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ge,this._afterOpened=new ge,this._onAction=new ge,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,wW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},H_=new ie("MatSnackBarData"),kc=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},CW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return n})(),SW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return n})(),EW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return n})(),WO=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||n)(w($l),w(H_))}}static{this.\u0275cmp=de({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Xe],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0),D(1),b(),ve(2,vW,3,1,"div",1)),i&2&&(y(),te(" ",r.data.message,`
`),y(),Ot(r.hasAction?2:-1))},dependencies:[Ei,CW,SW,EW],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})(),xW={snackBarState:dn("state",[Wi("void, hidden",Lt({transform:"scale(0.8)",opacity:0})),Wi("visible",Lt({transform:"scale(1)",opacity:1})),Si("* => visible",Ci("150ms cubic-bezier(0, 0, 0.2, 1)")),Si("* => void, * => hidden",Ci("75ms cubic-bezier(0.4, 0.0, 1, 1)",Lt({opacity:0})))])},kW=0,DW=(()=>{class n extends zd{constructor(e,i,r,s,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=ee($e),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ge,this._onExit=new ge,this._onEnter=new ge,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${kW++}`,this.attachDomPortal=a=>{this._assertNotAttached();let l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},o.politeness==="assertive"&&!o.announcementMessage?this._live="assertive":o.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){let{fromState:i,toState:r}=e;if((r==="void"&&i!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?o.indexOf(e)===-1&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||n)(w(ke),w(we),w(Je),w(yt),w(kc))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(it(ka,7),it(bW,7)),i&2){let s;Ee(s=xe())&&(r._portalOutlet=s.first),Ee(s=xe())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,r){i&1&&ud("@state.done",function(o){return r.onAnimationEnd(o)}),i&2&&hd("@state",r._animationState)},standalone:!0,features:[ni,Xe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(_(0,"div",1)(1,"div",2,0)(3,"div",3),ve(4,yW,0,0,"ng-template",4),b(),G(5,"div"),b()()),i&2&&(y(5),Ue("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[ka],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[xW.snackBarState]}})}}return n})();function TW(){return new kc}var IW=new ie("mat-snack-bar-default-options",{providedIn:"root",factory:TW}),om=(()=>{class n{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,s,o,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=WO,this.snackBarContainerComponent=DW,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let s=k(k({},this._defaultConfig),r);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,s=ui.create({parent:r||this._injector,providers:[{provide:kc,useValue:i}]}),o=new Lo(this.snackBarContainerComponent,i.viewContainerRef,s),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){let r=k(k(k({},new kc),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new $l(o,s);if(e instanceof dr){let l=new Rr(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{let l=this._createInjector(r,a),c=new Lo(e,void 0,l),h=o.attachComponentPortal(c);a.instance=h.instance}return this._breakpointObserver.observe(Vp.HandsetPortrait).pipe(Tt(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){let i=new ms;i.direction=e.direction;let r=this._overlay.position().global(),s=e.direction==="rtl",o=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!s||e.horizontalPosition==="end"&&s,a=!o&&e.horizontalPosition!=="center";return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return ui.create({parent:r||this._injector,providers:[{provide:$l,useValue:i},{provide:H_,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||n)(P(Ni),P(Up),P(ui),P(Fd),P(n,12),P(IW))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GO=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[om],imports:[Zs,Da,Bd,qe,WO,qe]})}}return n})();var z_=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}close(){this.snackBarRef.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(w($l),w(H_))}}static{this.\u0275cmp=de({type:n,selectors:[["app-message"]],decls:5,vars:3,consts:[[1,"message-container"],["mat-button","",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"span"),D(2),b(),_(3,"button",1),X("click",function(){return r.close()}),D(4,"\u2716"),b()()),i&2&&(cr("background",r.data.background),y(2),Te(r.data.message))},dependencies:[Ei],styles:[".message-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#fff;padding:16px;border-radius:4px;width:100%}button[_ngcontent-%COMP%]{color:#fff;border:none;background:transparent;cursor:pointer}"]})}}return n})();var gn=(()=>{class n{constructor(e){this.snackBar=e}showMessage(e,i=3e3){this.snackBar.openFromComponent(z_,{data:{message:e,background:"rgb(58, 159, 92)"},duration:i,panelClass:["custom-snackbar"]})}static{this.\u0275fac=function(i){return new(i||n)(P(om))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pw=class{constructor(t){this._box=t,this._destroyed=new ge,this._resizeSubject=new ge,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new on(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(pt(e=>e.some(i=>i.target===t)),xo({bufferSize:1,refCount:!0}),Tt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},$O=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=ee(ke),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Pw(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var OW=["notch"],AW=["matFormFieldNotchedOutline",""],MW=["*"],RW=["textField"],FW=["iconPrefixContainer"],PW=["textPrefixContainer"],NW=["iconSuffixContainer"],LW=["textSuffixContainer"],VW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function HW(n,t){n&1&&G(0,"span",21)}function zW(n,t){if(n&1&&(_(0,"label",20),Re(1,1),ve(2,HW,1,0,"span",21),b()),n&2){let e=Me(2);M("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ue("for",e._control.disableAutomaticLabeling?null:e._control.id),y(2),Ot(!e.hideRequiredMarker&&e._control.required?2:-1)}}function jW(n,t){if(n&1&&ve(0,zW,3,5,"label",20),n&2){let e=Me();Ot(e._hasFloatingLabel()?0:-1)}}function UW(n,t){n&1&&G(0,"div",7)}function WW(n,t){}function GW(n,t){if(n&1&&ve(0,WW,0,0,"ng-template",13),n&2){Me(2);let e=ft(1);M("ngTemplateOutlet",e)}}function $W(n,t){if(n&1&&(_(0,"div",9),ve(1,GW,1,1,null,13),b()),n&2){let e=Me();M("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),y(),Ot(e._forceDisplayInfixLabel()?-1:1)}}function YW(n,t){n&1&&(_(0,"div",10,2),Re(2,2),b())}function qW(n,t){n&1&&(_(0,"div",11,3),Re(2,3),b())}function XW(n,t){}function KW(n,t){if(n&1&&ve(0,XW,0,0,"ng-template",13),n&2){Me();let e=ft(1);M("ngTemplateOutlet",e)}}function QW(n,t){n&1&&(_(0,"div",14,4),Re(2,4),b())}function ZW(n,t){n&1&&(_(0,"div",15,5),Re(2,5),b())}function JW(n,t){n&1&&G(0,"div",16)}function e3(n,t){if(n&1&&(_(0,"div",18),Re(1,6),b()),n&2){let e=Me();M("@transitionMessages",e._subscriptAnimationState)}}function t3(n,t){if(n&1&&(_(0,"mat-hint",22),D(1),b()),n&2){let e=Me(2);M("id",e._hintLabelId),y(),Te(e.hintLabel)}}function i3(n,t){if(n&1&&(_(0,"div",19),ve(1,t3,2,2,"mat-hint",22),Re(2,7),G(3,"div",23),Re(4,8),b()),n&2){let e=Me();M("@transitionMessages",e._subscriptAnimationState),y(),Ot(e.hintLabel?1:-1)}}var YO=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})(),n3=0,iA=new ie("MatError"),U_=(()=>{class n{constructor(e,i){this.id=`mat-mdc-error-${n3++}`,e||i.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(i){return new(i||n)(Gn("aria-live"),w(we))}}static{this.\u0275dir=Se({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&zr("id",r.id)},inputs:{id:"id"},standalone:!0,features:[vt([{provide:iA,useExisting:n}])]})}}return n})(),r3=0,qO=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${r3++}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(zr("id",r.id),Ue("align",null),je("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})(),nA=new ie("MatPrefix"),Dc=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[vt([{provide:nA,useExisting:n}])]})}}return n})(),s3=new ie("MatSuffix");var rA=new ie("FloatingLabelParent"),XO=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=ee($O),this._ngZone=ee(ke),this._parent=ee(rA),this._resizeSubscription=new Dt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return o3(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(w(we))}}static{this.\u0275dir=Se({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&je("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();function o3(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var KO="mdc-line-ripple--active",j_="mdc-line-ripple--deactivating",QO=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{let s=this._elementRef.nativeElement.classList,o=s.contains(j_);r.propertyName==="opacity"&&o&&s.remove(KO,j_)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(j_),e.add(KO)}deactivate(){this._elementRef.nativeElement.classList.add(j_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke))}}static{this.\u0275dir=Se({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),ZO=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke))}}static{this.\u0275cmp=de({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&it(OW,5),i&2){let s;Ee(s=xe())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&je("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Xe],attrs:AW,ngContentSelectors:MW,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(_t(),G(0,"div",1),_(1,"div",2,0),Re(3),b(),G(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),a3={transitionMessages:dn("transitionMessages",[Wi("enter",Lt({opacity:1,transform:"translateY(0%)"})),Si("void => enter",[Lt({opacity:0,transform:"translateY(-5px)"}),Ci("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Tc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n})}}return n})();var Zo=new ie("MatFormField"),l3=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JO=0,eA="fill",d3="auto",tA="fixed",c3="translateY(-50%)",Bn=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=wn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||d3}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||eA;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||tA}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||tA}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._labelChild=cS(YO),this._hideRequiredMarker=!1,this.color="primary",this._appearance=eA,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${JO++}`,this._hintLabelId=`mat-mdc-hint-${JO++}`,this._subscriptAnimationState="",this._destroyed=new ge,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=ee(ui),this.getLabelId=Io(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Io(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Tt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),wi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Vm(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Tt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,h=o?.getBoundingClientRect().width??0,m=this._dir.value==="rtl"?"-1":"1",f=`${a+l}px`,C=`calc(${m} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${c3} translateX(${C})
    )`;let x=a+l+c+h;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${x}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Je),w(ke),w(tn),w(yt),w(l3,8),w(_i,8),w($e))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(i&1&&(gS(s,r._labelChild,YO,5),Nt(s,Tc,5),Nt(s,nA,5),Nt(s,s3,5),Nt(s,iA,5),Nt(s,qO,5)),i&2){_S();let o;Ee(o=xe())&&(r._formFieldControl=o.first),Ee(o=xe())&&(r._prefixChildren=o),Ee(o=xe())&&(r._suffixChildren=o),Ee(o=xe())&&(r._errorChildren=o),Ee(o=xe())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(i&1&&(it(RW,5),it(FW,5),it(PW,5),it(NW,5),it(LW,5),it(XO,5),it(ZO,5),it(QO,5)),i&2){let s;Ee(s=xe())&&(r._textField=s.first),Ee(s=xe())&&(r._iconPrefixContainer=s.first),Ee(s=xe())&&(r._textPrefixContainer=s.first),Ee(s=xe())&&(r._iconSuffixContainer=s.first),Ee(s=xe())&&(r._textSuffixContainer=s.first),Ee(s=xe())&&(r._floatingLabel=s.first),Ee(s=xe())&&(r._notchedOutline=s.first),Ee(s=xe())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){i&2&&je("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[vt([{provide:Zo,useExisting:n},{provide:rA,useExisting:n}]),Xe],ngContentSelectors:BW,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let s=Qt();_t(VW),ve(0,jW,1,1,"ng-template",null,0,$m),_(2,"div",6,1),X("click",function(a){return Pe(s),Ne(r._control.onContainerClick(a))}),ve(4,UW,1,0,"div",7),_(5,"div",8),ve(6,$W,2,2,"div",9)(7,YW,3,0,"div",10)(8,qW,3,0,"div",11),_(9,"div",12),ve(10,KW,1,1,null,13),Re(11),b(),ve(12,QW,3,0,"div",14)(13,ZW,3,0,"div",15),b(),ve(14,JW,1,0,"div",16),b(),_(15,"div",17),ve(16,e3,2,1,"div",18)(17,i3,5,2,"div",19),b()}if(i&2){let s;y(2),je("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),y(2),Ot(!r._hasOutline()&&!r._control.disabled?4:-1),y(2),Ot(r._hasOutline()?6:-1),y(),Ot(r._hasIconPrefix?7:-1),y(),Ot(r._hasTextPrefix?8:-1),y(2),Ot(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),y(2),Ot(r._hasTextSuffix?12:-1),y(),Ot(r._hasIconSuffix?13:-1),y(),Ot(r._hasOutline()?-1:14),y(),je("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),y(),Ot((s=r._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[XO,ZO,pd,QO,qO],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[a3.transitionMessages]},changeDetection:0})}}return n})(),Yl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,Pi,Rd,qe]})}}return n})();var h3=["*"];var u3=new ie("MAT_CARD_CONFIG"),Hn=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(w(u3,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&je("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Xe],ngContentSelectors:h3,decls:1,vars:0,template:function(i,r){i&1&&(_t(),Re(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})();var zn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return n})();var sA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,Pi,qe]})}}return n})();var oA=Ir({passive:!0}),aA=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Dr;let i=Ar(e),r=this._monitoredElements.get(i);if(r)return r.subject;let s=new ge,o="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(o)?(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,oA),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,oA)}}),s}stopMonitoring(e){let i=Ar(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(P(yt),P(ke))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({})}}return n})();var Nw=new ie("MAT_INPUT_VALUE_ACCESSOR"),p3=["button","checkbox","file","hidden","image","radio","range","reset","submit"],f3=0,jn=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=wn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(hi.required)??!1}set required(e){this._required=wn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Wb().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=wn(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,s,o,a,l,c,h,m){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=c,this._ngZone=h,this._formField=m,this._uid=`mat-input-${f3++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new ge,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(C=>Wb().has(C)),this._iOSKeyupListener=C=>{let x=C.target;!x.value&&x.selectionStart===0&&x.selectionEnd===0&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,v=f.nodeName.toLowerCase();this._inputValueAccessor=l||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&h.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new bl(a,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=v==="select",this._isTextarea=v==="textarea",this._isInFormField=!!m,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){p3.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(yt),w(Js,10),w(_u,8),w(Gi,8),w(Qh),w(Nw,10),w(aA),w(ke),w(Zo,8))}}static{this.\u0275dir=Se({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){i&1&&X("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(zr("id",r.id)("disabled",r.disabled)("required",r.required),Ue("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),je("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[vt([{provide:Tc,useExisting:n}]),Kt]})}}return n})(),dA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,Yl,Yl,lA,qe]})}}return n})();var cA=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.translate=r,this.messageService=s,this.columnDefinitions=[],this.dataset=[],this.agencyService=i,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.agencyService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"name",field:"name",name:this.translate.instant("agency.name")},{id:"description",field:"description",name:this.translate.instant("agency.description")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.agencyForm.patchValue(o),this.selectedId=o.id})}}initForm(){this.agencyForm=this.fb.group({id:[],name:["",[hi.required]],description:[""],countryOfOrigin:[""],logoUrl:[""]})}save(){if(this.agencyForm.valid){let e=this.agencyForm.value;this.selectedId?this.agencyService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating agency:",i)}):this.agencyService.create(e).subscribe(i=>{this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating agency:",i)})}else this.markFormGroupTouched(this.agencyForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.agencyService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Agency deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting agency:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.agencyForm.reset(),this.selectedId=0}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(B_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:53,vars:30,consts:[["icon","     ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","name",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","id","name","formControlName","name"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid1",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"]],template:function(i,r){i&1&&(_(0,"app-page-header",0),D(1),U(2,"translate"),_(3,"button",1),X("click",function(){return r.print()}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",2),X("click",function(){return r.exportToExcel()}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",3),X("click",function(){return r.save()}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",4),X("click",function(){return r.delete()}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",5),X("click",function(){return r.resetForm()}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",6)(37,"div",7)(38,"div",8)(39,"label",9),D(40),U(41,"translate"),b(),_(42,"mat-form-field",10),G(43,"input",11),b()(),_(44,"div",8)(45,"label",12),D(46),U(47,"translate"),b(),_(48,"mat-form-field",10),G(49,"input",13),b()()()()()(),_(50,"div",14)(51,"angular-slickgrid",15),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(52," > "),b()()()),i&2&&(y(),te(" ",W(2,14,"agency.title")," "),y(6),Te(W(8,16,"crud.printBtn")),y(6),Te(W(14,18,"crud.exportBtn")),y(2),M("disabled",r.agencyForm.invalid),y(4),Te(W(20,20,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,22,"crud.deleteBtn")),y(6),Te(W(32,24,"crud.newBtn")),y(5),M("formGroup",r.agencyForm),y(4),te("",W(41,26,"agency.name"),":"),y(6),te("",W(47,28,"agency.description"),":"),y(5),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[Rn,hn,An,Mn,Di,Ei,Bn,Gi,Cn,Hn,zn,jn,Nn,cn,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var W_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/brands")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uA=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.translate=r,this.messageService=s,this.columnDefinitions=[],this.dataset=[],this.brandService=i,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.brandService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"name",field:"name",name:this.translate.instant("brand.name")},{id:"description",field:"description",name:this.translate.instant("brand.description")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.brandForm.patchValue(o),this.selectedId=o.id})}}initForm(){this.brandForm=this.fb.group({id:[],name:["",[hi.required]],description:[""],countryOfOrigin:[""],logoUrl:[""]})}save(){if(this.brandForm.valid){let e=this.brandForm.value;this.selectedId?this.brandService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating brand:",i)}):this.brandService.create(e).subscribe(i=>{this.grid.invalidate(),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating brand:",i)})}else this.markFormGroupTouched(this.brandForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.brandService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Brand deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting brand:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.brandForm.reset(),this.selectedId=0}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(W_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:53,vars:30,consts:[["icon","    ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","name",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","id","name","formControlName","name"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_brand",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"]],template:function(i,r){i&1&&(_(0,"app-page-header",0),D(1),U(2,"translate"),_(3,"button",1),X("click",function(){return r.print()}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",2),X("click",function(){return r.exportToExcel()}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",3),X("click",function(){return r.save()}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",4),X("click",function(){return r.delete()}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",5),X("click",function(){return r.resetForm()}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",6)(37,"div",7)(38,"div",8)(39,"label",9),D(40),U(41,"translate"),b(),_(42,"mat-form-field",10),G(43,"input",11),b()(),_(44,"div",8)(45,"label",12),D(46),U(47,"translate"),b(),_(48,"mat-form-field",10),G(49,"input",13),b()()()()()(),_(50,"div",14)(51,"angular-slickgrid",15),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(52," > "),b()()()),i&2&&(y(),te(" ",W(2,14,"brand.title")," "),y(6),Te(W(8,16,"crud.printBtn")),y(6),Te(W(14,18,"crud.exportBtn")),y(2),M("disabled",r.brandForm.invalid),y(4),Te(W(20,20,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,22,"crud.deleteBtn")),y(6),Te(W(32,24,"crud.newBtn")),y(5),M("formGroup",r.brandForm),y(4),te("",W(41,26,"brand.name"),":"),y(6),te("",W(47,28,"brand.description"),":"),y(5),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[Rn,hn,An,Mn,Di,Ei,Bn,Gi,Cn,Hn,zn,jn,Nn,cn,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var G_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/carmodels")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pA=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.translate=r,this.messageService=s,this.columnDefinitions=[],this.dataset=[],this.carModelService=i,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.carModelService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"name",field:"name",name:this.translate.instant("carModel.name")},{id:"description",field:"description",name:this.translate.instant("carModel.description")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.carModelForm.patchValue(o),this.selectedId=o.id})}}initForm(){this.carModelForm=this.fb.group({id:[],name:["",[hi.required]],description:[""],countryOfOrigin:[""],logoUrl:[""]})}save(){if(this.carModelForm.valid){let e=this.carModelForm.value;this.selectedId?this.carModelService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating carModel:",i)}):this.carModelService.create(e).subscribe(i=>{this.grid.invalidate(),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating carModel:",i)})}else this.markFormGroupTouched(this.carModelForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.carModelService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F CarModel deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting carModel:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.carModelForm.reset(),this.selectedId=0}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(G_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:53,vars:30,consts:[["icon","    ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","name",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","id","name","formControlName","name"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_car_model",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"]],template:function(i,r){i&1&&(_(0,"app-page-header",0),D(1),U(2,"translate"),_(3,"button",1),X("click",function(){return r.print()}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",2),X("click",function(){return r.exportToExcel()}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",3),X("click",function(){return r.save()}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",4),X("click",function(){return r.delete()}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",5),X("click",function(){return r.resetForm()}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",6)(37,"div",7)(38,"div",8)(39,"label",9),D(40),U(41,"translate"),b(),_(42,"mat-form-field",10),G(43,"input",11),b()(),_(44,"div",8)(45,"label",12),D(46),U(47,"translate"),b(),_(48,"mat-form-field",10),G(49,"input",13),b()()()()()(),_(50,"div",14)(51,"angular-slickgrid",15),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(52," > "),b()()()),i&2&&(y(),te(" ",W(2,14,"carModel.title")," "),y(6),Te(W(8,16,"crud.printBtn")),y(6),Te(W(14,18,"crud.exportBtn")),y(2),M("disabled",r.carModelForm.invalid),y(4),Te(W(20,20,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,22,"crud.deleteBtn")),y(6),Te(W(32,24,"crud.newBtn")),y(5),M("formGroup",r.carModelForm),y(4),te("",W(41,26,"carModel.name"),":"),y(6),te("",W(47,28,"carModel.description"),":"),y(5),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[Rn,hn,An,Mn,Di,Ei,Bn,Gi,Cn,Hn,zn,jn,Nn,cn,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var $_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/contracts")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function g3(n,t){n&1&&(_(0,"mat-error"),D(1," Name is required "),b())}function _3(n,t){n&1&&(_(0,"mat-error"),D(1," Name is required "),b())}var gA=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.translate=r,this.messageService=s,this.columnDefinitions=[],this.dataset=[],this.contractService=i,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.contractService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"name",field:"name",name:this.translate.instant("contract.name")},{id:"description",field:"description",name:this.translate.instant("contract.description")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.contractForm.patchValue(o),this.selectedId=o.id})}}initForm(){this.contractForm=this.fb.group({id:[],name:["",[hi.required]],description:[""],countryOfOrigin:[""],logoUrl:[""]})}save(){if(this.contractForm.valid){let e=this.contractForm.value;this.selectedId?this.contractService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating contract:",i)}):this.contractService.create(e).subscribe(i=>{this.grid.invalidate(),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating contract:",i)})}else this.markFormGroupTouched(this.contractForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.contractService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Contract deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting contract:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.contractForm.reset(),this.selectedId=0}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w($_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:55,vars:32,consts:[["icon","    ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","name",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","id","name","formControlName","name"],[4,"ngIf"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_contract",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"]],template:function(i,r){if(i&1&&(_(0,"app-page-header",0),D(1),U(2,"translate"),_(3,"button",1),X("click",function(){return r.print()}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",2),X("click",function(){return r.exportToExcel()}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",3),X("click",function(){return r.save()}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",4),X("click",function(){return r.delete()}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",5),X("click",function(){return r.resetForm()}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",6)(37,"div",7)(38,"div",8)(39,"label",9),D(40),U(41,"translate"),b(),_(42,"mat-form-field",10),G(43,"input",11),ve(44,g3,2,0,"mat-error",12),b()(),_(45,"div",8)(46,"label",13),D(47),U(48,"translate"),b(),_(49,"mat-form-field",10),G(50,"input",14),ve(51,_3,2,0,"mat-error",12),b()()()()()(),_(52,"div",15)(53,"angular-slickgrid",16),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(54," > "),b()()()),i&2){let s,o;y(),te(" ",W(2,16,"contract.title")," "),y(6),Te(W(8,18,"crud.printBtn")),y(6),Te(W(14,20,"crud.exportBtn")),y(2),M("disabled",r.contractForm.invalid),y(4),Te(W(20,22,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,24,"crud.deleteBtn")),y(6),Te(W(32,26,"crud.newBtn")),y(5),M("formGroup",r.contractForm),y(4),te("",W(41,28,"contract.name"),":"),y(4),M("ngIf",((s=r.contractForm.get("name"))==null?null:s.invalid)&&((s=r.contractForm.get("name"))==null?null:s.touched)),y(3),te("",W(48,30,"contract.description"),":"),y(4),M("ngIf",((o=r.contractForm.get("description"))==null?null:o.invalid)&&((o=r.contractForm.get("description"))==null?null:o.touched)),y(2),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset)}},dependencies:[os,Rn,hn,An,Mn,Di,Ei,Bn,U_,Gi,Cn,Hn,zn,jn,Nn,cn,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var am=function(n){return n.MAN="MAN",n.COMPANY="COMPANY",n}(am||{}),ql=class n{static investorTypeName(t){return[{value:am.MAN,displayText:t.instant("investorTypeName.Man")},{value:am.COMPANY,displayText:t.instant("investorTypeName.Company")}]}static getInvestorTypeName(t,e){let r=n.investorTypeName(e).find(s=>s.value===t);return r?r.displayText:"Unknown"}};var Y_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/investors")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var v3=["trigger"],b3=["panel"],y3=[[["mat-select-trigger"]],"*"],w3=["mat-select-trigger","*"];function C3(n,t){if(n&1&&(_(0,"span",4),D(1),b()),n&2){let e=Me();y(),Te(e.placeholder)}}function S3(n,t){n&1&&Re(0)}function E3(n,t){if(n&1&&(_(0,"span",11),D(1),b()),n&2){let e=Me(2);y(),Te(e.triggerValue)}}function x3(n,t){if(n&1&&(_(0,"span",5),ve(1,S3,1,0)(2,E3,2,1,"span",11),b()),n&2){let e=Me();y(),Ot(e.customTrigger?1:2)}}function k3(n,t){if(n&1){let e=Qt();_(0,"div",12,1),X("@transformPanel.done",function(r){Pe(e);let s=Me();return Ne(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){Pe(e);let s=Me();return Ne(s._handleKeydown(r))}),Re(2,1),b()}if(n&2){let e=Me();mS("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),M("ngClass",e.panelClass)("@transformPanel","showing"),Ue("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var D3={transformPanelWrap:dn("transformPanelWrap",[Si("* => void",NS("@transformPanel",[PS()],{optional:!0}))]),transformPanel:dn("transformPanel",[Wi("void",Lt({opacity:0,transform:"scale(1, 0.8)"})),Si("void => showing",Ci("120ms cubic-bezier(0, 0, 0.2, 1)",Lt({opacity:1,transform:"scale(1, 1)"}))),Si("* => void",Ci("100ms linear",Lt({opacity:0})))])};var vA=0,bA=new ie("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=ee(Ni);return()=>n.scrollStrategies.reposition()}});function T3(n){return()=>n.scrollStrategies.reposition()}var I3=new ie("MAT_SELECT_CONFIG"),O3={provide:bA,deps:[Ni],useFactory:T3},A3=new ie("MatSelectTrigger"),Lw=class{constructor(t,e){this.source=t,this.value=e}},Ic=(()=>{class n{_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,s=$p(e,this.options,this.optionGroups),o=i._getHostElement();e===0&&s===1?r.scrollTop=0:r.scrollTop=Yp(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Lw(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(hi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,s,o,a,l,c,h,m,f,v,C,x){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=a,this._parentFormField=h,this.ngControl=m,this._liveAnnouncer=C,this._defaultOptions=x,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(E,I)=>E===I,this._uid=`mat-select-${vA++}`,this._triggerAriaLabelledBy=null,this._destroy=new ge,this.stateChanges=new ge,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${vA++}`,this._panelDoneAnimatingStream=new ge,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ge,this.optionSelectionChanges=Br(()=>{let E=this.options;return E?E.changes.pipe(Jt(E),ii(()=>wi(...E.map(I=>I.onSelectionChange)))):this._initialized.pipe(ii(()=>this.optionSelectionChanges))}),this.openedChange=new ne,this._openedStream=this.openedChange.pipe(pt(E=>E),Oe(()=>{})),this._closedStream=this.openedChange.pipe(pt(E=>!E),Oe(()=>{})),this.selectionChange=new ne,this.valueChange=new ne,this._trackedModal=null,this._skipPredicate=E=>this.panelOpen?!1:E.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),x?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=x.typeaheadDebounceInterval),this._errorStateTracker=new bl(s,m,c,l,this.stateChanges),this._scrollStrategyFactory=v,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Qp(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Zc(),Tt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Tt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Tt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Jt(null),Tt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&_l(this._trackedModal,"aria-owns",i),$h(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;_l(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,s=i===13||i===32,o=this._keyManager;if(!o.isTyping()&&s&&!ki(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;o.onKeydown(e);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,s=r===40||r===38,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(!o&&(r===13||r===32)&&i.activeItem&&!ki(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!o&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe($t(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof du?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Nd(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=wi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Tt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),wi(...this.options.map(i=>i._stateChanges)).pipe(Tt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||n)(w(No),w(Je),w(ke),w(Qh),w(we),w(tn,8),w(_u,8),w(Gi,8),w(Zo,8),w(Js,10),Gn("tabindex"),w(bA),w(Up),w(I3,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(i&1&&(Nt(s,A3,5),Nt(s,hs,5),Nt(s,eu,5)),i&2){let o;Ee(o=xe())&&(r.customTrigger=o.first),Ee(o=xe())&&(r.options=o),Ee(o=xe())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(i&1&&(it(v3,5),it(b3,5),it(fy,5)),i&2){let s;Ee(s=xe())&&(r.trigger=s.first),Ee(s=xe())&&(r.panel=s.first),Ee(s=xe())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&X("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Ue("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),je("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ys(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Fe],placeholder:"placeholder",required:[2,"required","required",Fe],multiple:[2,"multiple","multiple",Fe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Fe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ys],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[vt([{provide:Tc,useExisting:n},{provide:Jh,useExisting:n}]),It,Kt,Xe],ngContentSelectors:w3,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let s=Qt();_t(y3),_(0,"div",2,0),X("click",function(){return Pe(s),Ne(r.open())}),_(3,"div",3),ve(4,C3,2,1,"span",4)(5,x3,3,1,"span",5),b(),_(6,"div",6)(7,"div",7),Wn(),_(8,"svg",8),G(9,"path",9),b()()()(),ve(10,k3,3,9,"ng-template",10),X("backdropClick",function(){return Pe(s),Ne(r.close())})("attach",function(){return Pe(s),Ne(r._onAttached())})("detach",function(){return Pe(s),Ne(r.close())})}if(i&2){let s=ft(1);y(3),Ue("id",r._valueId),y(),Ot(r.empty?4:5),y(6),M("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[du,fy,Jm],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[D3.transformPanel]},changeDetection:0})}}return n})();var yA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[O3],imports:[Pi,Zs,xa,qe,qr,Yl,xa,qe]})}}return n})();function M3(n,t){if(n&1&&(_(0,"mat-option",23),D(1),b()),n&2){let e=t.$implicit;M("value",e.value),y(),Te(e.displayText)}}var wA=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.translate=r,this.messageService=s,this.columnDefinitions=[],this.dataset=[],this.investorService=i,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.investorService.getAll().subscribe(e=>{this.dataset=e.map(i=>(i.typeName=ql.getInvestorTypeName(i.type,this.translate),i)),console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"firstName",field:"firstName",name:this.translate.instant("investor.firstName")},{id:"lastName",field:"lastName",name:this.translate.instant("investor.lastName")},{id:"address",field:"address",name:this.translate.instant("investor.address")},{id:"type",field:"type",hidden:!0,name:this.translate.instant("investor.type")},{id:"typeName",field:"typeName",name:this.translate.instant("investor.type")},{id:"phoneNumber",field:"phoneNumber",name:this.translate.instant("investor.phoneNumber")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.investorForm.patchValue(o),this.selectedId=o.id,this.manageLastNameField(o.type)})}}initForm(){this.investorForm=this.fb.group({id:[],firstName:["",[hi.required]],lastName:[""],address:[""],type:["",[hi.required]],typeName:[""],phoneNumber:[""]}),this.investorTypes=ql.investorTypeName(this.translate)}save(){if(this.investorForm.valid){let e=this.investorForm.value;e.type=this.investorTypeSelected,this.selectedId?this.investorService.create(e).subscribe(i=>{e.typeName=ql.getInvestorTypeName(e.type,this.translate),this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating investor:",i)}):this.investorService.create(e).subscribe(i=>{this.grid.invalidate(),i.typeName=ql.getInvestorTypeName(i.type,this.translate),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating investor:",i)})}else this.markFormGroupTouched(this.investorForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.investorService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Investor deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting investor:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.investorForm.reset(),this.selectedId=0}onInvestorTypeChange(e){this.investorTypeSelected=e,this.manageLastNameField(e)}manageLastNameField(e){e===am.MAN?(this.investorForm.get("lastName")?.enable(),this.investorForm.get("lastName")?.setValue("")):(this.investorForm.get("lastName")?.disable(),this.investorForm.get("lastName")?.setValue(""))}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(Y_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:72,vars:40,consts:[["icon","    ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","type",1,"form-label"],["appearance","outline",1,"form-field"],["id","type","formControlName","type",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","firstName",1,"form-label"],["matInput","","id","firstName","formControlName","firstName"],["for","lastName",1,"form-label"],["matInput","","id","lastName","formControlName","lastName"],["for","phoneNumber",1,"form-label"],["matInput","","id","phoneNumber","formControlName","phoneNumber"],["for","address",1,"form-label"],["matInput","","id","address","formControlName","address"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_investor",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"],[3,"value"]],template:function(i,r){i&1&&(_(0,"app-page-header",0),D(1),U(2,"translate"),_(3,"button",1),X("click",function(){return r.print()}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",2),X("click",function(){return r.exportToExcel()}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",3),X("click",function(){return r.save()}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",4),X("click",function(){return r.delete()}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",5),X("click",function(){return r.resetForm()}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",6)(37,"div",7)(38,"div",8)(39,"label",9),D(40),U(41,"translate"),b(),_(42,"mat-form-field",10)(43,"mat-select",11),X("selectionChange",function(o){return r.onInvestorTypeChange(o.value)}),ve(44,M3,2,2,"mat-option",12),b()()(),_(45,"div",8)(46,"label",13),D(47),U(48,"translate"),b(),_(49,"mat-form-field",10),G(50,"input",14),b()(),_(51,"div",8)(52,"label",15),D(53),U(54,"translate"),b(),_(55,"mat-form-field",10),G(56,"input",16),b()(),_(57,"div",8)(58,"label",17),D(59),U(60,"translate"),b(),_(61,"mat-form-field",10),G(62,"input",18),b()(),_(63,"div",8)(64,"label",19),D(65),U(66,"translate"),b(),_(67,"mat-form-field",10),G(68,"input",20),b()()()()()(),_(69,"div",21)(70,"angular-slickgrid",22),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(71," > "),b()()()),i&2&&(y(),te(" ",W(2,18,"investor.title")," "),y(6),Te(W(8,20,"crud.printBtn")),y(6),Te(W(14,22,"crud.exportBtn")),y(2),M("disabled",r.investorForm.invalid),y(4),Te(W(20,24,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,26,"crud.deleteBtn")),y(6),Te(W(32,28,"crud.newBtn")),y(5),M("formGroup",r.investorForm),y(4),te("",W(41,30,"investor.type"),":"),y(4),M("ngForOf",r.investorTypes),y(3),te("",W(48,32,"investor.firstName"),":"),y(6),te("",W(54,34,"investor.lastName"),":"),y(6),te("",W(60,36,"investor.phoneNumber"),":"),y(6),te("",W(66,38,"investor.address"),":"),y(5),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[qs,Rn,hn,An,Mn,Di,Ei,hs,Bn,Ic,Gi,Cn,Hn,zn,jn,Nn,cn,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var jA=Rm(hm()),Mc=class{static formatToJalaliDate(t,e,i){return i?(0,jA.default)(i).locale("fa").format("YYYY/MM/DD"):""}};var X_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/veterans")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Z3=["mat-calendar-body",""];function J3(n,t){return this._trackRow(t)}var QA=(n,t)=>t.id;function eG(n,t){if(n&1&&(_(0,"tr",0)(1,"td",3),D(2),b()()),n&2){let e=Me();y(),cr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ue("colspan",e.numCols),y(),te(" ",e.label," ")}}function tG(n,t){if(n&1&&(_(0,"td",3),D(1),b()),n&2){let e=Me(2);cr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ue("colspan",e._firstRowOffset),y(),te(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function iG(n,t){if(n&1){let e=Qt();_(0,"td",6)(1,"button",7),X("click",function(r){let s=Pe(e).$implicit,o=Me(2);return Ne(o._cellClicked(s,r))})("focus",function(r){let s=Pe(e).$implicit,o=Me(2);return Ne(o._emitActiveDateChange(s,r))}),_(2,"span",8),D(3),b(),G(4,"span",9),b()()}if(n&2){let e=t.$implicit,i=t.$index,r=Me().$index,s=Me();cr("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Ue("data-mat-row",r)("data-mat-col",i),y(),je("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),M("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Ue("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),y(),je("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),y(),te(" ",e.displayValue," ")}}function nG(n,t){if(n&1&&(_(0,"tr",1),ve(1,tG,2,6,"td",4),Bm(2,iG,5,48,"td",5,QA),b()),n&2){let e=t.$implicit,i=t.$index,r=Me();y(),Ot(i===0&&r._firstRowOffset?1:-1),y(),Hm(e)}}function rG(n,t){if(n&1&&(_(0,"th",2)(1,"span",6),D(2),b(),_(3,"span",3),D(4),b()()),n&2){let e=t.$implicit;y(2),Te(e.long),y(2),Te(e.narrow)}}var sG=["*"];function oG(n,t){}function aG(n,t){if(n&1){let e=Qt();_(0,"mat-month-view",4),Gm("activeDateChange",function(r){Pe(e);let s=Me();return Wm(s.activeDate,r)||(s.activeDate=r),Ne(r)}),X("_userSelection",function(r){Pe(e);let s=Me();return Ne(s._dateSelected(r))})("dragStarted",function(r){Pe(e);let s=Me();return Ne(s._dragStarted(r))})("dragEnded",function(r){Pe(e);let s=Me();return Ne(s._dragEnded(r))}),b()}if(n&2){let e=Me();Um("activeDate",e.activeDate),M("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function lG(n,t){if(n&1){let e=Qt();_(0,"mat-year-view",5),Gm("activeDateChange",function(r){Pe(e);let s=Me();return Wm(s.activeDate,r)||(s.activeDate=r),Ne(r)}),X("monthSelected",function(r){Pe(e);let s=Me();return Ne(s._monthSelectedInYearView(r))})("selectedChange",function(r){Pe(e);let s=Me();return Ne(s._goToDateInView(r,"month"))}),b()}if(n&2){let e=Me();Um("activeDate",e.activeDate),M("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function dG(n,t){if(n&1){let e=Qt();_(0,"mat-multi-year-view",6),Gm("activeDateChange",function(r){Pe(e);let s=Me();return Wm(s.activeDate,r)||(s.activeDate=r),Ne(r)}),X("yearSelected",function(r){Pe(e);let s=Me();return Ne(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){Pe(e);let s=Me();return Ne(s._goToDateInView(r,"year"))}),b()}if(n&2){let e=Me();Um("activeDate",e.activeDate),M("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function cG(n,t){}var hG=["button"],uG=[[["","matDatepickerToggleIcon",""]]],mG=["[matDatepickerToggleIcon]"];function pG(n,t){n&1&&(Wn(),_(0,"svg",2),G(1,"path",3),b())}var fm=(()=>{class n{constructor(){this.changes=new ge,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fG=0,mm=class{constructor(t,e,i,r,s={},o=t,a){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=a,this.id=fG++}},gG=1,WA=Ir({passive:!1,capture:!0}),Xa=Ir({passive:!0,capture:!0}),K_=Ir({passive:!0}),Fc=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=ee(yt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new ne,this.previewChange=new ne,this.activeDateChange=new ne,this.dragStarted=new ne,this.dragEnded=new ne,this._didDragSinceMouseDown=!1,this._injector=ee(ui),this._trackRow=r=>r,this._enterHandler=r=>{if(this._skipNextFocus&&r.type==="focus"){this._skipNextFocus=!1;return}if(r.target&&this.isRange){let s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;let s=GA(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),Xw(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{this.previewEnd!==null&&this.isRange&&(r.type!=="blur"&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&!(r.relatedTarget&&this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;let s=Xw(r.target);if(!s){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})});return}s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})})},this._touchendHandler=r=>{let s=GA(r);s&&this._mouseupHandler({target:s})},this._id=`mat-calendar-body-${gG++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,WA),r.addEventListener("mouseenter",this._enterHandler,Xa),r.addEventListener("focus",this._enterHandler,Xa),r.addEventListener("mouseleave",this._leaveHandler,Xa),r.addEventListener("blur",this._leaveHandler,Xa),r.addEventListener("mousedown",this._mousedownHandler,K_),r.addEventListener("touchstart",this._mousedownHandler,K_),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,WA),e.removeEventListener("mouseenter",this._enterHandler,Xa),e.removeEventListener("focus",this._enterHandler,Xa),e.removeEventListener("mouseleave",this._leaveHandler,Xa),e.removeEventListener("blur",this._leaveHandler,Xa),e.removeEventListener("mousedown",this._mousedownHandler,K_),e.removeEventListener("touchstart",this._mousedownHandler,K_),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){er(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Kw(e,this.startValue,this.endValue)}_isRangeEnd(e){return Qw(e,this.startValue,this.endValue)}_isInRange(e){return Zw(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Kw(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){let o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){let o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return Qw(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Zw(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Kw(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Qw(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Zw(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let i=Xw(e);if(i){let r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(ke))}}static{this.\u0275cmp=de({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[Kt,Xe],attrs:Z3,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){i&1&&(ve(0,eG,3,6,"tr",0),Bm(1,nG,4,1,"tr",1,J3,!0),_(3,"span",2),D(4),b(),_(5,"span",2),D(6),b()),i&2&&(Ot(r._firstRowOffset<r.labelMinRequiredCells?0:-1),y(),Hm(r.rows),y(2),M("id",r._startDateLabelId),y(),te(" ",r.startDateAccessibleName,`
`),y(),M("id",r._endDateLabelId),y(),te(" ",r.endDateAccessibleName,`
`))},dependencies:[Jm],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return n})();function qw(n){return n?.nodeName==="TD"}function Xw(n){let t;return qw(n)?t=n:qw(n.parentNode)?t=n.parentNode:qw(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function Kw(n,t,e){return e!==null&&t!==e&&n<e&&n===t}function Qw(n,t,e){return t!==null&&t!==e&&n>=t&&n===e}function Zw(n,t,e,i){return i&&t!==null&&e!==null&&t!==e&&n>=t&&n<=e}function GA(n){let t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var vs=class{constructor(t,e){this.start=t,this.end=e}},pm=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new ge,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(i){fa()}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),_G=(()=>{class n extends pm{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(i){return new(i||n)(P(nn))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function vG(n,t){return n||new _G(t)}var ZA={provide:pm,deps:[[new sd,new Jc,pm],nn],useFactory:vG};var JA=new ie("MAT_DATE_RANGE_SELECTION_STRATEGY");var Jw=7,bG=0,$A=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof vs?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Dt.EMPTY,this.activeDrag=null,this.selectedChange=new ne,this._userSelection=new ne,this.dragStarted=new ne,this.dragEnded=new ne,this.activeDateChange=new ne,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Jt(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,r=this._getDateFromDayOfMonth(i),s,o;this._selected instanceof vs?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!ki(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Jw+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Jw,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){let o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((o,a)=>({long:o,narrow:i[a],id:bG++}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){s==Jw&&(this._weeks.push([]),s=0);let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new mm(r+1,i[r],l,a,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof vs?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(i){return new(i||n)(w(Je),w(Ks,8),w(nn,8),w(tn,8),w(JA,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(i&1&&it(Fc,5),i&2){let s;Ee(s=xe())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[Kt,Xe],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(_(0,"table",0)(1,"thead",1)(2,"tr"),Bm(3,rG,5,2,"th",2,QA),b(),_(5,"tr",3),G(6,"th",4),b()(),_(7,"tbody",5),X("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),b()()),i&2&&(y(3),Hm(r._weekdays),y(4),M("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Fc],encapsulation:2,changeDetection:0})}}return n})(),ts=24,eC=4,YA=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),eM(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof vs?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Dt.EMPTY,this.selectedChange=new ne,this.yearSelected=new ne,this.activeDateChange=new ne,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Jt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-um(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<ts;r++)s.push(i+r),s.length==eC&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-eC);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,eC);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-um(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ts-um(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-ts*10:-ts);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?ts*10:ts);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return um(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new mm(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let r=i;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof vs){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(i){return new(i||n)(w(Je),w(nn,8),w(tn,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(i&1&&it(Fc,5),i&2){let s;Ee(s=xe())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[Xe],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(_(0,"table",0)(1,"thead",1)(2,"tr"),G(3,"th",2),b()(),_(4,"tbody",3),X("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),b()()),i&2&&(y(4),M("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Fc],encapsulation:2,changeDetection:0})}}return n})();function eM(n,t,e,i,r){let s=n.getYear(t),o=n.getYear(e),a=tM(n,i,r);return Math.floor((s-a)/ts)===Math.floor((o-a)/ts)}function um(n,t,e,i){let r=n.getYear(t);return yG(r-tM(n,e,i),ts)}function tM(n,t,e){let i=0;return e?i=n.getYear(e)-ts+1:t&&(i=n.getYear(t)),i}function yG(n,t){return(n%t+t)%t}var qA=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof vs?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Dt.EMPTY,this.selectedChange=new ne,this.monthSelected=new ne,this.activeDateChange=new ne,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Jt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);let s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new mm(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,e,1);for(let s=r;this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof vs?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(i){return new(i||n)(w(Je),w(Ks,8),w(nn,8),w(tn,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(i&1&&it(Fc,5),i&2){let s;Ee(s=xe())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[Xe],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(_(0,"table",0)(1,"thead",1)(2,"tr"),G(3,"th",2),b()(),_(4,"tbody",3),X("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),b()()),i&2&&(y(4),M("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Fc],encapsulation:2,changeDetection:0})}}return n})(),wG=1,iM=(()=>{class n{constructor(e,i,r,s,o){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id=`mat-calendar-header-${wG++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-ts)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:ts)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):eM(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-um(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+ts-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[s,o]}static{this.\u0275fac=function(i){return new(i||n)(w(fm),w(Tn(()=>tC)),w(nn,8),w(Ks,8),w(Je))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[Xe],ngContentSelectors:sG,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,r){i&1&&(_t(),_(0,"div",0)(1,"div",1)(2,"span",2),D(3),b(),_(4,"button",3),X("click",function(){return r.currentPeriodClicked()}),_(5,"span",4),D(6),b(),Wn(),_(7,"svg",5),G(8,"polygon",6),b()(),sl(),G(9,"div",7),Re(10),_(11,"button",8),X("click",function(){return r.previousClicked()}),Wn(),_(12,"svg",9),G(13,"path",10),b()(),sl(),_(14,"button",11),X("click",function(){return r.nextClicked()}),Wn(),_(15,"svg",9),G(16,"path",12),b()()()()),i&2&&(y(2),M("id",r._periodButtonLabelId),y(),Te(r.periodButtonDescription),y(),Ue("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),y(2),Te(r.periodButtonText),y(),je("mat-calendar-invert",r.calendar.currentView!=="month"),y(4),M("disabled",!r.previousEnabled()),Ue("aria-label",r.prevButtonLabel),y(3),M("disabled",!r.nextEnabled()),Ue("aria-label",r.nextButtonLabel))},dependencies:[Ei,iu],encapsulation:2,changeDetection:0})}}return n})(),tC=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof vs?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new ne,this.yearSelected=new ne,this.monthSelected=new ne,this.viewChanged=new ne(!0),this._userSelection=new ne,this._userDragDrop=new ne,this._activeDrag=null,this.stateChanges=new ge,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Lo(this.headerComponent||iM),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){let o=this._getCurrentViewComponent();o&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof vs||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(i){return new(i||n)(w(fm),w(nn,8),w(Ks,8),w(Je))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(i&1&&(it($A,5),it(qA,5),it(YA,5)),i&2){let s;Ee(s=xe())&&(r.monthView=s.first),Ee(s=xe())&&(r.yearView=s.first),Ee(s=xe())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[vt([ZA]),Kt,Xe],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,r){if(i&1&&(ve(0,oG,0,0,"ng-template",0),_(1,"div",1),ve(2,aG,1,11,"mat-month-view",2)(3,lG,1,6,"mat-year-view",3)(4,dG,1,6,"mat-multi-year-view",3),b()),i&2){let s;M("cdkPortalOutlet",r._calendarHeaderPortal),y(2),Ot((s=r.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[ka,Px,$A,qA,YA],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),XA={transformPanel:dn("transformPanel",[Si("void => enter-dropdown",Ci("120ms cubic-bezier(0, 0, 0.2, 1)",Mv([Lt({opacity:0,transform:"scale(1, 0.8)"}),Lt({opacity:1,transform:"scale(1, 1)"})]))),Si("void => enter-dialog",Ci("150ms cubic-bezier(0, 0, 0.2, 1)",Mv([Lt({opacity:0,transform:"scale(0.7)"}),Lt({transform:"none",opacity:1})]))),Si("* => void",Ci("100ms linear",Lt({opacity:0})))]),fadeInCalendar:dn("fadeInCalendar",[Wi("void",Lt({opacity:0})),Wi("enter",Lt({opacity:1})),Si("void => *",Ci("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},CG=0,nM=new ie("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=ee(Ni);return()=>n.scrollStrategies.reposition()}});function SG(n){return()=>n.scrollStrategies.reposition()}var EG={provide:nM,deps:[Ni],useFactory:SG},rM=(()=>{class n{constructor(e,i,r,s,o,a){this._elementRef=e,this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Dt,this._animationDone=new ge,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,r=e.value,s=i instanceof vs;if(s&&this._rangeSelectionStrategy){let o=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Je),w(pm),w(nn),w(JA,8),w(fm))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(i&1&&it(tC,5),i&2){let s;Ee(s=xe())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,r){i&1&&ud("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),i&2&&(hd("@transformPanel",r._animationState),ln(r.color?"mat-"+r.color:""),je("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[Xe],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,r){if(i&1&&(_(0,"div",0)(1,"mat-calendar",1),X("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),b(),ve(2,cG,0,0,"ng-template",2),_(3,"button",3),X("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),D(4),b()()),i&2){let s;je("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Ue("aria-modal",!0)("aria-labelledby",(s=r._dialogLabelId)!==null&&s!==void 0?s:void 0),y(),ln(r.datepicker.panelClass),M("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),y(),M("cdkPortalOutlet",r._actionsPortal),y(),je("cdk-visually-hidden",!r._closeButtonFocused),M("color",r.color||"primary"),y(),Te(r._closeButtonText)}},dependencies:[Rx,tC,ka,Ei],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[XA.transformPanel,XA.fadeInCalendar]},changeDetection:0})}}return n})(),KA=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Cx(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,o,a,l){this._overlay=e,this._viewContainerRef=r,this._dateAdapter=o,this._dir=a,this._model=l,this._inputStateChanges=Dt.EMPTY,this._document=ee($e),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new ne,this.monthSelected=new ne,this.viewChanged=new ne(!0),this.openedStream=new ne,this.closedStream=new ne,this._opened=!1,this.id=`mat-datepicker-${CG++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ge,this._injector=ee(ui),this._changeDetectorRef=ee(Je),this._dateAdapter,this._scrollStrategy=s,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof lu&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Lp(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe($t(1)).subscribe(()=>{let o=this._document.activeElement;e&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,i=new Lo(rM,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new ms({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{let o=s.keyCode;(o===38||o===40||o===37||o===39||o===33||o===34)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||er(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let i=this.xPosition==="end"?"end":"start",r=i==="start"?"end":"start",s=this.yPosition==="above"?"bottom":"top",o=s==="top"?"bottom":"top";return e.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(e){let i=["ctrlKey","shiftKey","metaKey"];return wi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(pt(r=>r.keyCode===27&&!ki(r)||this.datepickerInput&&ki(r,"altKey")&&r.keyCode===38&&i.every(s=>!ki(r,s)))))}static{this.\u0275fac=function(i){return new(i||n)(w(Ni),w(ke),w(In),w(nM),w(nn,8),w(tn,8),w(pm))}}static{this.\u0275dir=Se({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Fe],disabled:[2,"disabled","disabled",Fe],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Fe],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Fe]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[It,Kt]})}}return n})(),Pc=(()=>{class n extends KA{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Mi(n)))(r||n)}})()}static{this.\u0275cmp=de({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[vt([ZA,{provide:KA,useExisting:n}]),ni,Xe],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}}return n})(),Rc=class{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},xG=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let i=e,r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Rc(this,this._elementRef.nativeElement)),this.dateChange.emit(new Rc(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new ne,this.dateInput=new ne,this.stateChanges=new ge,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Dt.EMPTY,this._localeSubscription=Dt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMinDate();return!a||!o||this._dateAdapter.compareDate(a,o)<=0?null:{matDatepickerMin:{min:a,actual:o}}},this._maxValidator=s=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMaxDate();return!a||!o||this._dateAdapter.compareDate(a,o)>=0?null:{matDatepickerMax:{max:a,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){kG(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let i=["ctrlKey","shiftKey","metaKey"];ki(e,"altKey")&&e.keyCode===40&&i.every(s=>!ki(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let i=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new Rc(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Rc(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let i=this._getDateFilter();return!i||i(e)}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(nn,8),w(Ks,8))}}static{this.\u0275dir=Se({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",Fe]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[It,Kt]})}}return n})();function kG(n,t){let e=Object.keys(n);for(let i of e){let{previousValue:r,currentValue:s}=n[i];if(t.isDateInstance(r)&&t.isDateInstance(s)){if(!t.sameDate(r,s))return!0}else return!0}return!1}var DG={provide:eo,useExisting:Tn(()=>Ka),multi:!0},TG={provide:Vo,useExisting:Tn(()=>Ka),multi:!0},Ka=(()=>{class n extends xG{set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){let i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Dt.EMPTY,this._openedSubscription=Dt.EMPTY,this._ariaOwns=$s(null),this._validator=hi.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(nn,8),w(Ks,8),w(Zo,8))}}static{this.\u0275dir=Se({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){i&1&&X("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),i&2&&(zr("disabled",r.disabled),Ue("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[vt([DG,TG,{provide:Nw,useExisting:n}]),ni]})}}return n})(),IG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Se({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return n})(),Kl=(()=>{class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Dt.EMPTY;let s=Number(r);this.tabIndex=s||s===0?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:_e(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:_e(),r=this.datepicker?wi(this.datepicker.openedStream,this.datepicker.closedStream):_e();this._stateChanges.unsubscribe(),this._stateChanges=wi(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(w(fm),w(Je),Gn("tabindex"))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(i&1&&Nt(s,IG,5),i&2){let o;Ee(o=xe())&&(r._customIcon=o.first)}},viewQuery:function(i,r){if(i&1&&it(hG,5),i&2){let s;Ee(s=xe())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){i&1&&X("click",function(o){return r._open(o)}),i&2&&(Ue("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),je("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Fe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[It,Kt,Xe],ngContentSelectors:mG,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){i&1&&(_t(uG),_(0,"button",1,0),ve(2,pG,2,0,":svg:svg",2),Re(3),b()),i&2&&(M("disabled",r.disabled)("disableRipple",r.disableRipple),Ue("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),y(2),Ot(r._customIcon?-1:2))},dependencies:[iu],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})();var sM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[fm,EG],imports:[Pi,Bd,Zs,Nx,Da,qe,rM,Kl,iM,qr]})}}return n})();var OG=["panel"],AG=["*"];function MG(n,t){if(n&1){let e=Qt();_(0,"div",1,0),X("@panelAnimation.done",function(r){Pe(e);let s=Me();return Ne(s._animationDone.next(r))}),Re(2),b()}if(n&2){let e=t.id,i=Me();ln(i._classList),je("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),M("id",i.id)("@panelAnimation",i.isOpen?"visible":"hidden"),Ue("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var RG=dn("panelAnimation",[Wi("void, hidden",Lt({opacity:0,transform:"scaleY(0.8)"})),Si(":enter, hidden => visible",[FS([Ci("0.03s linear",Lt({opacity:1})),Ci("0.12s cubic-bezier(0, 0, 0.2, 1)",Lt({transform:"scaleY(1)"}))])]),Si(":leave, visible => hidden",[Ci("0.075s linear",Lt({opacity:0}))])]),FG=0,nC=class{constructor(t,e){this.source=t,this.option=e}},oM=new ie("mat-autocomplete-default-options",{providedIn:"root",factory:PG});function PG(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var Nc=(()=>{class n{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,i,r,s){this._changeDetectorRef=e,this._elementRef=i,this._defaults=r,this._activeOptionChanges=Dt.EMPTY,this._animationDone=new ne,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new ne,this.opened=new ne,this.closed=new ne,this.optionActivated=new ne,this.id=`mat-autocomplete-${FG++}`,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Nd(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new nC(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static{this.\u0275fac=function(i){return new(i||n)(w(Je),w(we),w(oM),w(yt))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,s){if(i&1&&(Nt(s,hs,5),Nt(s,eu,5)),i&2){let o;Ee(o=xe())&&(r.options=o),Ee(o=xe())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(i&1&&(it(dr,7),it(OG,5)),i&2){let s;Ee(s=xe())&&(r.template=s.first),Ee(s=xe())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Fe],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Fe],requireSelection:[2,"requireSelection","requireSelection",Fe],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Fe],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Fe]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[vt([{provide:Jh,useExisting:n}]),It,Xe],ngContentSelectors:AG,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){i&1&&(_t(),ve(0,MG,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[RG]},changeDetection:0})}}return n})();var NG={provide:eo,useExisting:Tn(()=>Ql),multi:!0};var aM=new ie("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=ee(Ni);return()=>n.scrollStrategies.reposition()}});function LG(n){return()=>n.scrollStrategies.reposition()}var VG={provide:aM,deps:[Ni],useFactory:LG},Ql=(()=>{class n{constructor(e,i,r,s,o,a,l,c,h,m,f){this._element=e,this._overlay=i,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=l,this._formField=c,this._document=h,this._viewportRuler=m,this._defaults=f,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Dt.EMPTY,this._breakpointObserver=ee(Fd),this._handsetLandscapeSubscription=Dt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ge,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new ge,this._injector=ee(ui),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Br(()=>{let v=this.autocomplete?this.autocomplete.options:null;return v?v.changes.pipe(Jt(v),ii(()=>wi(...v.map(C=>C.onSelectionChange)))):this._initialized.pipe(ii(()=>this.optionSelections))}),this._handlePanelKeydown=v=>{(v.keyCode===27&&!ki(v)||v.keyCode===38&&ki(v,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),v.stopPropagation(),v.preventDefault())},this._trackedModal=null,this._scrollStrategy=a}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&_l(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return wi(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(pt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(pt(()=>this._overlayAttached)):_e()).pipe(Oe(e=>e instanceof Kh?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return wi(Ws(this._document,"click"),Ws(this._document,"auxclick"),Ws(this._document,"touchend")).pipe(pt(e=>{let i=pr(e),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!s||!s.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,r=ki(e);if(i===27&&!r&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,o=i===38||i===40;i===9||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;if(i.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let s=this.autocomplete.options?.find(o=>o.selected);if(s){let o=this._getDisplayValue(s.value);r!==o&&s.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new on(r=>{er(()=>{r.next()},{injector:this._injector})}),i=this.autocomplete.options.changes.pipe(Ai(()=>this._positionStrategy.reapplyLastPosition()),Qc(0));return wi(e,i).pipe(ii(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),$t(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,r=e?e.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe($t(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(r=>{r!==e&&r.selected&&r.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;$h(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Rr(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(Vp.HandsetLandscape).subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new ms({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],o;this.position==="above"?o=s:this.position==="below"?o=i:o=[...i,...s],e.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){i=r;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let i=this.autocomplete,r=$p(e,i.options,i.optionGroups);if(e===0&&r===1)i._setScrollTop(0);else if(i.panel){let s=i.options.toArray()[e];if(s){let o=s._getHostElement(),a=Yp(o.offsetTop,o.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&_l(this._trackedModal,"aria-owns",i),$h(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;_l(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Ni),w(In),w(ke),w(Je),w(aM),w(tn,8),w(Zo,9),w($e,8),w(No),w(oM,8))}}static{this.\u0275dir=Se({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){i&1&&X("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),i&2&&Ue("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Fe]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[vt([NG]),It,Kt]})}}return n})(),lM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:[VG],imports:[Zs,xa,qe,Pi,qr,xa,qe]})}}return n})();function BG(n,t){n&1&&(_(0,"mat-error"),D(1," Last name is required "),b())}function HG(n,t){n&1&&(_(0,"mat-error"),D(1," Phone number is required "),b())}function zG(n,t){n&1&&(_(0,"mat-error"),D(1," Disability percentage is required "),b())}function jG(n,t){n&1&&(_(0,"mat-error"),D(1," Unified system username is required "),b())}function UG(n,t){n&1&&(_(0,"mat-error"),D(1," Unified system password is required "),b())}function WG(n,t){n&1&&(_(0,"mat-error"),D(1," Veterans system username is required "),b())}function GG(n,t){n&1&&(_(0,"mat-error"),D(1," Veterans system password is required "),b())}function $G(n,t){if(n&1&&(_(0,"mat-option",34),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),te(" ",e.name," ")}}var dM=(()=>{class n{constructor(e,i,r,s,o){this.fb=e,this.translate=r,this.messageService=s,this.contractService=o,this.columnDefinitions=[],this.dataset=[],this.contractMap=new Map,this.veteranService=i,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.veteranService.getAll().subscribe(e=>{this.dataset=this.dataset=e.map(i=>i),console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))}),this.contractService.getAll().subscribe(e=>{e.forEach(i=>this.contractMap.set(i.id,i))},e=>console.error("\u274C Error loading brands:",e))}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"firstName",field:"firstName",name:this.translate.instant("veteran.firstName")},{id:"lastName",field:"lastName",name:this.translate.instant("veteran.lastName")},{id:"nationalId",field:"nationalId",name:this.translate.instant("veteran.nationalId")},{id:"phoneNumber",field:"phoneNumber",name:this.translate.instant("veteran.phoneNumber")},{id:"contract",field:"contract.id",hidden:!0,name:this.translate.instant("contract.id")},{id:"contractName",field:"contract.name",name:this.translate.instant("contract.name")},{id:"contractNumber",field:"contractNumber",name:this.translate.instant("veteran.contractNumber")},{id:"description",field:"description",name:this.translate.instant("veteran.description")},{id:"contractDate",field:"contractDate",hidden:!0,name:this.translate.instant("veteran.contractDate")},{id:"contractDateShamsi",field:"contractDate",formatter:Mc.formatToJalaliDate.bind(this),name:this.translate.instant("veteran.contractDate")},{id:"disabilityPercentage",field:"disabilityPercentage",name:this.translate.instant("veteran.disabilityPercentage")},{id:"unifiedSystemUsername",field:"unifiedSystemUsername",name:this.translate.instant("veteran.unifiedSystemUsername")},{id:"unifiedSystemPassword",field:"unifiedSystemPassword",name:this.translate.instant("veteran.unifiedSystemPassword")},{id:"veteransSystemUsername",field:"veteransSystemUsername",name:this.translate.instant("veteran.veteransSystemUsername")},{id:"veteransSystemPassword",field:"veteransSystemPassword",name:this.translate.instant("veteran.veteransSystemPassword")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.veteranForm.patchValue({id:o.id,contract:o.contract?.id?this.contractMap.get(o.contract.id)??null:null,contractDate:o.contractDate,contractNumber:o.contractNumber,description:o.description,firstName:o.firstName,lastName:o.lastName,nationalId:o.nationalId,phoneNumber:o.phoneNumber,disabilityPercentage:o.disabilityPercentage,unifiedSystemUsername:o.unifiedSystemUsername,unifiedSystemPassword:o.unifiedSystemPassword,veteransSystemUsername:o.veteransSystemUsername,veteransSystemPassword:o.veteransSystemPassword}),this.selectedId=o.id})}}initForm(){this.veteranForm=this.fb.group({id:[null],firstName:["",[hi.required]],lastName:[""],nationalId:[""],phoneNumber:[""],contract:[null],contractDate:[null],contractNumber:[null],description:[null],disabilityPercentage:[""],unifiedSystemUsername:[""],unifiedSystemPassword:[""],veteransSystemUsername:[""],veteransSystemPassword:[""]}),this.contractFilter()}save(){if(this.veteranForm.valid){let e=this.veteranForm.value;this.selectedId?this.veteranService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating veteran:",i)}):this.veteranService.create(e).subscribe(i=>{this.grid.invalidate(),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating veteran:",i)})}else this.markFormGroupTouched(this.veteranForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.veteranService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Veteran deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting veteran:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.veteranForm.reset(),this.selectedId=0}contractFilter(){this.filteredContractArray=this.veteranForm.controls.contract.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.contractArray.filter(i=>`${i.name}`.toLowerCase().includes(e.toLowerCase())):this.contractArray.slice()))}get contractArray(){return Array.from(this.contractMap.values())}displayName(e){return e&&e.name?`${e.name}`:""}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(X_),w(vi),w(gn),w($_))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:135,vars:78,consts:[["contractAuto","matAutocomplete"],["contractDatePicker",""],["icon","    ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","firstName",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","id","firstName","formControlName","firstName"],["for","lastName",1,"form-label"],["matInput","","id","lastName","formControlName","lastName"],["for","nationalId",1,"form-label"],["matInput","","id","nationalId","formControlName","nationalId"],[4,"ngIf"],["for","phoneNumber",1,"form-label"],["matInput","","id","phoneNumber","formControlName","phoneNumber"],["for","disabilityPercentage",1,"form-label"],["matInput","","id","disabilityPercentage","formControlName","disabilityPercentage"],["for","unifiedSystemUsername",1,"form-label"],["matInput","","id","unifiedSystemUsername","formControlName","unifiedSystemUsername"],["for","unifiedSystemPassword",1,"form-label"],["matInput","","id","unifiedSystemPassword","formControlName","unifiedSystemPassword","type","password"],["for","veteransSystemUsername",1,"form-label"],["matInput","","id","veteransSystemUsername","formControlName","veteransSystemUsername"],["for","veteransSystemPassword",1,"form-label"],["matInput","","id","veteransSystemPassword","formControlName","veteransSystemPassword","type","password"],["for","contract",1,"form-label"],["type","text","matInput","","formControlName","contract",3,"matAutocomplete"],[3,"displayWith"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","contractNumber",1,"form-label"],["matInput","","id","contractNumber","formControlName","contractNumber"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description"],["for","contractDate",1,"form-label"],["appearance","fill",1,"form-field"],["matInput","","id","contractDate","formControlName","contractDate",3,"matDatepicker"],["matPrefix","",3,"for"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_veteran",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"]],template:function(i,r){if(i&1){let s=Qt();_(0,"app-page-header",2),D(1),U(2,"translate"),_(3,"button",3),X("click",function(){return Pe(s),Ne(r.print())}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",4),X("click",function(){return Pe(s),Ne(r.exportToExcel())}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",5),X("click",function(){return Pe(s),Ne(r.save())}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",6),X("click",function(){return Pe(s),Ne(r.delete())}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",7),X("click",function(){return Pe(s),Ne(r.resetForm())}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",8)(37,"div",9)(38,"div",10)(39,"label",11),D(40),U(41,"translate"),b(),_(42,"mat-form-field",12),G(43,"input",13),b()(),_(44,"div",10)(45,"label",14),D(46),U(47,"translate"),b(),_(48,"mat-form-field",12),G(49,"input",15),b()(),_(50,"div",10)(51,"label",16),D(52),U(53,"translate"),b(),_(54,"mat-form-field",12),G(55,"input",17),ve(56,BG,2,0,"mat-error",18),b()(),_(57,"div",10)(58,"label",19),D(59),U(60,"translate"),b(),_(61,"mat-form-field",12),G(62,"input",20),ve(63,HG,2,0,"mat-error",18),b()(),_(64,"div",10)(65,"label",21),D(66),U(67,"translate"),b(),_(68,"mat-form-field",12),G(69,"input",22),ve(70,zG,2,0,"mat-error",18),b()(),_(71,"div",10)(72,"label",23),D(73),U(74,"translate"),b(),_(75,"mat-form-field",12),G(76,"input",24),ve(77,jG,2,0,"mat-error",18),b()(),_(78,"div",10)(79,"label",25),D(80),U(81,"translate"),b(),_(82,"mat-form-field",12),G(83,"input",26),ve(84,UG,2,0,"mat-error",18),b()(),_(85,"div",10)(86,"label",27),D(87),U(88,"translate"),b(),_(89,"mat-form-field",12),G(90,"input",28),ve(91,WG,2,0,"mat-error",18),b()(),_(92,"div",10)(93,"label",29),D(94),U(95,"translate"),b(),_(96,"mat-form-field",12),G(97,"input",30),ve(98,GG,2,0,"mat-error",18),b()(),_(99,"div",10)(100,"label",31),D(101),U(102,"translate"),b(),_(103,"mat-form-field",12),G(104,"input",32),_(105,"mat-autocomplete",33,0)(107,"mat-option",34),D(108,"-- None --"),b(),ve(109,$G,2,2,"mat-option",35),U(110,"async"),b()()(),_(111,"div",10)(112,"label",36),D(113),U(114,"translate"),b(),_(115,"mat-form-field",12),G(116,"input",37),b()(),_(117,"div",10)(118,"label",38),D(119),U(120,"translate"),b(),_(121,"mat-form-field",12),G(122,"input",39),b()(),_(123,"div",10)(124,"label",40),D(125),U(126,"translate"),b(),_(127,"mat-form-field",41),G(128,"input",42)(129,"mat-datepicker-toggle",43)(130,"mat-datepicker",null,1),b()()()()()(),_(132,"div",44)(133,"angular-slickgrid",45),X("onAngularGridCreated",function(a){return Pe(s),Ne(r.angularGridReady(a.detail))})("onSelectedRowsChanged",function(a){return Pe(s),Ne(r.onSelectedRowsChanged(a.detail.eventData,a.detail.args))}),D(134," > "),b()()()}if(i&2){let s,o,a,l,c,h,m,f=ft(106),v=ft(131);y(),te(" ",W(2,38,"veteran.title")," "),y(6),Te(W(8,40,"crud.printBtn")),y(6),Te(W(14,42,"crud.exportBtn")),y(2),M("disabled",r.veteranForm.invalid),y(4),Te(W(20,44,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,46,"crud.deleteBtn")),y(6),Te(W(32,48,"crud.newBtn")),y(5),M("formGroup",r.veteranForm),y(4),te("",W(41,50,"veteran.firstName"),":"),y(6),te("",W(47,52,"veteran.lastName"),":"),y(6),te("",W(53,54,"veteran.nationalId"),":"),y(4),M("ngIf",((s=r.veteranForm.get("nationalId"))==null?null:s.invalid)&&((s=r.veteranForm.get("nationalId"))==null?null:s.touched)),y(3),te("",W(60,56,"veteran.phoneNumber"),":"),y(4),M("ngIf",((o=r.veteranForm.get("phoneNumber"))==null?null:o.invalid)&&((o=r.veteranForm.get("phoneNumber"))==null?null:o.touched)),y(3),te("",W(67,58,"veteran.disabilityPercentage"),":"),y(4),M("ngIf",((a=r.veteranForm.get("disabilityPercentage"))==null?null:a.invalid)&&((a=r.veteranForm.get("disabilityPercentage"))==null?null:a.touched)),y(3),te("",W(74,60,"veteran.unifiedSystemUsername"),":"),y(4),M("ngIf",((l=r.veteranForm.get("unifiedSystemUsername"))==null?null:l.invalid)&&((l=r.veteranForm.get("unifiedSystemUsername"))==null?null:l.touched)),y(3),te("",W(81,62,"veteran.unifiedSystemPassword"),":"),y(4),M("ngIf",((c=r.veteranForm.get("unifiedSystemPassword"))==null?null:c.invalid)&&((c=r.veteranForm.get("unifiedSystemPassword"))==null?null:c.touched)),y(3),te("",W(88,64,"veteran.veteransSystemUsername"),":"),y(4),M("ngIf",((h=r.veteranForm.get("veteransSystemUsername"))==null?null:h.invalid)&&((h=r.veteranForm.get("veteransSystemUsername"))==null?null:h.touched)),y(3),te("",W(95,66,"veteran.veteransSystemPassword"),":"),y(4),M("ngIf",((m=r.veteranForm.get("veteransSystemPassword"))==null?null:m.invalid)&&((m=r.veteranForm.get("veteransSystemPassword"))==null?null:m.touched)),y(3),te("",W(102,68,"contract.title"),":"),y(3),M("matAutocomplete",f),y(),M("displayWith",r.displayName),y(2),M("value",null),y(2),M("ngForOf",W(110,70,r.filteredContractArray)),y(4),te("",W(114,72,"veteran.contractNumber"),":"),y(6),te("",W(120,74,"veteran.description"),":"),y(6),te("",W(126,76,"veteran.contractDate"),":"),y(3),M("matDatepicker",v),y(),M("for",v),y(4),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset)}},dependencies:[qs,os,Rn,hn,An,Mn,Di,Ei,hs,Bn,U_,Dc,Gi,Cn,Hn,zn,jn,Pc,Ka,Kl,Nc,Ql,Nn,cn,fd,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var cM=["USD $","EUR \u20AC","JPY \xA5","GBP \xA3","AUD A$","CAD C$","CHF CHF","CNY \xA5","SEK kr","NZD NZ$"];var Q_=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/products")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YG(n,t){if(n&1&&(_(0,"mat-option",15),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),te(" ",e.name," ")}}function qG(n,t){if(n&1&&(_(0,"mat-option",15),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),te(" ",e.name," ")}}function XG(n,t){if(n&1&&(_(0,"mat-option",15),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),Te(e)}}var uM=(()=>{class n{constructor(e,i,r,s,o,a){this.fb=e,this.productService=i,this.brandService=r,this.carModelService=s,this.translate=o,this.messageService=a,this.columnDefinitions=[],this.dataset=[],this.brandMap=new Map,this.carModelMap=new Map,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm(),this.loadBrands(),this.loadCarModels(),this.currenciesList=cM}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData()}loadData(){this.productService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}loadBrands(){this.brandService.getAll().subscribe(e=>{e.forEach(i=>this.brandMap.set(i.id,i)),console.log("\u2714\uFE0F Brands loaded:",this.brandMap)},e=>console.error("\u274C Error loading brands:",e))}loadCarModels(){this.carModelService.getAll().subscribe(e=>{e.forEach(i=>this.carModelMap.set(i.id,i)),console.log("\u2714\uFE0F Car Models loaded:",this.carModelMap)},e=>console.error("\u274C Error loading car models:",e))}get brandArray(){return Array.from(this.brandMap.values())}get carModelArray(){return Array.from(this.carModelMap.values())}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"brand",field:"brand.id",hidden:!0,name:this.translate.instant("product.brand")},{id:"brandName",field:"brand.name",name:this.translate.instant("product.brand")},{id:"carModel",field:"carModel.id",hidden:!0,name:this.translate.instant("product.carModel")},{id:"carModelName",field:"carModel.name",name:this.translate.instant("product.carModel")},{id:"chassisFormat",field:"chassisFormat",name:this.translate.instant("product.chassisFormat")},{id:"productIdentifier",field:"productIdentifier",name:this.translate.instant("product.productIdentifier")},{id:"manufacturingCountry",field:"manufacturingCountry",name:this.translate.instant("product.manufacturingCountry")},{id:"tariff",field:"tariff",name:this.translate.instant("product.tariff")},{id:"currency",field:"currency",name:this.translate.instant("product.currency")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter={model:zi.input},e.sortable=!0}),this.columnDefinitions.reverse(),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme"))}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.productForm.patchValue({id:o.id,brand:this.brandMap.get(o.brand.id)||null,carModel:this.carModelMap.get(o.carModel.id)||null,chassisFormat:o.chassisFormat,productIdentifier:o.productIdentifier,manufacturingCountry:o.manufacturingCountry,tariff:o.tariff,currency:o.currency}),this.selectedId=o.id})}}initForm(){this.productForm=this.fb.group({id:[],brand:[null,[hi.required]],carModel:[null,[hi.required]],chassisFormat:["",[hi.required]],productIdentifier:[""],manufacturingCountry:[""],tariff:[""],currency:[""]}),this.brandFilter(),this.carModelFilter()}brandFilter(){this.filteredBrandArray=this.productForm.controls.brand.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.brandArray.filter(i=>`${i.name}`.toLowerCase().includes(e.toLowerCase())):this.brandArray.slice()))}carModelFilter(){this.filteredCarModelArray=this.productForm.controls.carModel.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.carModelArray.filter(i=>`${i.name}`.toLowerCase().includes(e.toLowerCase())):this.carModelArray.slice()))}displayName(e){return e&&e.name?`${e.name}`:""}save(){if(this.productForm.valid){let e=this.productForm.value;e.currency=this.currencySelected,this.selectedId?this.productService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(e),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating product:",i)}):this.productService.create(e).subscribe(i=>{this.grid.invalidate(),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating product:",i)})}else this.markFormGroupTouched(this.productForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.productService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Product deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting product:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.productForm.reset(),this.selectedId=0}onCurrenciesChange(e){this.currencySelected=e}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(Q_),w(W_),w(G_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:96,vars:58,consts:[["brandAuto","matAutocomplete"],["carModelAuto","matAutocomplete"],["icon","    ",1,"action"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],["mat-flat-button","","color","accent",1,"action",3,"click"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","agency",1,"form-label"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","brand",3,"matAutocomplete"],[3,"displayWith"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","carModel",1,"form-label"],["type","text","matInput","","formControlName","carModel",3,"matAutocomplete"],["for","chassisFormat",1,"form-label"],["matInput","","id","chassisFormat","formControlName","chassisFormat"],["for","productIdentifier",1,"form-label"],["matInput","","id","productIdentifier","formControlName","productIdentifier"],["for","manufacturingCountry",1,"form-label"],["matInput","","id","manufacturingCountry","formControlName","manufacturingCountry"],["for","tariff",1,"form-label"],["matInput","","id","tariff","formControlName","tariff"],["for","type",1,"form-label"],["id","currency","formControlName","currency",3,"selectionChange"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_product",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"]],template:function(i,r){if(i&1){let s=Qt();_(0,"app-page-header",2),D(1),U(2,"translate"),_(3,"button",3),X("click",function(){return Pe(s),Ne(r.print())}),_(4,"mat-icon"),D(5,"print"),b(),_(6,"span"),D(7),U(8,"translate"),b()(),_(9,"button",4),X("click",function(){return Pe(s),Ne(r.exportToExcel())}),_(10,"mat-icon"),D(11,"output"),b(),_(12,"span"),D(13),U(14,"translate"),b()(),_(15,"button",5),X("click",function(){return Pe(s),Ne(r.save())}),_(16,"mat-icon"),D(17,"save"),b(),_(18,"span"),D(19),U(20,"translate"),b()(),_(21,"button",6),X("click",function(){return Pe(s),Ne(r.delete())}),_(22,"mat-icon"),D(23,"delete"),b(),_(24,"span"),D(25),U(26,"translate"),b()(),_(27,"button",7),X("click",function(){return Pe(s),Ne(r.resetForm())}),_(28,"mat-icon"),D(29,"add"),b(),_(30,"span"),D(31),U(32,"translate"),b()()(),_(33,"div")(34,"mat-card")(35,"mat-card-content")(36,"form",8)(37,"div",9)(38,"div",10)(39,"label",11),D(40),U(41,"translate"),b(),_(42,"mat-form-field",12),G(43,"input",13),_(44,"mat-autocomplete",14,0)(46,"mat-option",15),D(47,"-- None --"),b(),ve(48,YG,2,2,"mat-option",16),U(49,"async"),b()()(),_(50,"div",10)(51,"label",17),D(52),U(53,"translate"),b(),_(54,"mat-form-field",12),G(55,"input",18),_(56,"mat-autocomplete",14,1)(58,"mat-option",15),D(59,"-- None --"),b(),ve(60,qG,2,2,"mat-option",16),U(61,"async"),b()()(),_(62,"div",10)(63,"label",19),D(64),U(65,"translate"),b(),_(66,"mat-form-field",12),G(67,"input",20),b()(),_(68,"div",10)(69,"label",21),D(70),U(71,"translate"),b(),_(72,"mat-form-field",12),G(73,"input",22),b()(),_(74,"div",10)(75,"label",23),D(76),U(77,"translate"),b(),_(78,"mat-form-field",12),G(79,"input",24),b()(),_(80,"div",10)(81,"label",25),D(82),U(83,"translate"),b(),_(84,"mat-form-field",12),G(85,"input",26),b()(),_(86,"div",10)(87,"label",27),D(88),U(89,"translate"),b(),_(90,"mat-form-field",12)(91,"mat-select",28),X("selectionChange",function(a){return Pe(s),Ne(r.onCurrenciesChange(a.value))}),ve(92,XG,2,2,"mat-option",16),b()()()()()()(),_(93,"div",29)(94,"angular-slickgrid",30),X("onAngularGridCreated",function(a){return Pe(s),Ne(r.angularGridReady(a.detail))})("onSelectedRowsChanged",function(a){return Pe(s),Ne(r.onSelectedRowsChanged(a.detail.eventData,a.detail.args))}),D(95," > "),b()()()}if(i&2){let s=ft(45),o=ft(57);y(),te(" ",W(2,28,"product.title")," "),y(6),Te(W(8,30,"crud.printBtn")),y(6),Te(W(14,32,"crud.exportBtn")),y(2),M("disabled",r.productForm.invalid),y(4),Te(W(20,34,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(26,36,"crud.deleteBtn")),y(6),Te(W(32,38,"crud.newBtn")),y(5),M("formGroup",r.productForm),y(4),te("",W(41,40,"brand.title"),":"),y(3),M("matAutocomplete",s),y(),M("displayWith",r.displayName),y(2),M("value",null),y(2),M("ngForOf",W(49,42,r.filteredBrandArray)),y(4),te("",W(53,44,"product.carModel"),":"),y(3),M("matAutocomplete",o),y(),M("displayWith",r.displayName),y(2),M("value",null),y(2),M("ngForOf",W(61,46,r.filteredCarModelArray)),y(4),te("",W(65,48,"product.chassisFormat"),":"),y(6),te("",W(71,50,"product.productIdentifier"),":"),y(6),te("",W(77,52,"product.manufacturingCountry"),":"),y(6),te("",W(83,54,"product.tariff"),":"),y(6),te("",W(89,56,"product.currency"),":"),y(4),M("ngForOf",r.currenciesList),y(2),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset)}},dependencies:[qs,Rn,hn,An,Mn,Di,Ei,hs,Bn,Ic,Gi,Cn,Hn,zn,jn,Nc,Ql,Nn,cn,fd,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var Lc=class{static setBooleanTypeOption(t,e){t.exportCustomFormatter=Zt.complexObject,t.formatter=Zt.multiple,t.params={formatters:[Zt.complexObject,Zt.checkmarkMaterial]},t.filter={collection:[{isValue:"",label:""},{isValue:!0,label:e.instant("columnDefBoolean.true")},{isValue:!1,label:e.instant("columnDefBoolean.false")}],customStructure:{value:"isValue",label:"label"},model:zi.singleSelect,filterOptions:{autoAdjustDropHeight:!0}}}};var bM=Rm(hm());var mM=["\u0639\u0644\u06CC \u0627\u062D\u0633\u0627\u0628","\u06A9\u0627\u0645\u0644"];var pM=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/orders")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QG=["input"],ZG=["label"],JG=["*"],e$=new ie("mat-checkbox-default-options",{providedIn:"root",factory:gM});function gM(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var sr=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(sr||{}),t$={provide:eo,useExisting:Tn(()=>Vc),multi:!0},sC=class{},i$=0,fM=gM(),Vc=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let i=new sC;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,o,a){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=o,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new ne,this.indeterminateChange=new ne,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=sr.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||fM,this.color=this._options.color||fM.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++i$}`,this.disabledInteractive=a?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let i=e!=this._indeterminate;this._indeterminate=e,i&&(this._indeterminate?this._transitionCheckState(sr.Indeterminate):this._transitionCheckState(this.checked?sr.Checked:sr.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?sr.Checked:sr.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if(this._animationMode==="NoopAnimations")return"";switch(e){case sr.Init:if(i===sr.Checked)return this._animationClasses.uncheckedToChecked;if(i==sr.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case sr.Unchecked:return i===sr.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case sr.Checked:return i===sr.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case sr.Indeterminate:return i===sr.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(i){return new(i||n)(w(we),w(Je),w(ke),Gn("tabindex"),w(_i,8),w(e$,8))}}static{this.\u0275cmp=de({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(it(QG,5),it(ZG,5),it(Fo,5)),i&2){let s;Ee(s=xe())&&(r._inputElement=s.first),Ee(s=xe())&&(r._labelElement=s.first),Ee(s=xe())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(zr("id",r.id),Ue("tabindex",null)("aria-label",null)("aria-labelledby",null),ln(r.color?"mat-"+r.color:"mat-accent"),je("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Fe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Ys(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe],checked:[2,"checked","checked",Fe],disabled:[2,"disabled","disabled",Fe],indeterminate:[2,"indeterminate","indeterminate",Fe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[vt([t$,{provide:Vo,useExisting:n,multi:!0}]),It,Kt,Xe],ngContentSelectors:JG,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let s=Qt();_t(),_(0,"div",3),X("click",function(a){return Pe(s),Ne(r._preventBubblingFromLabel(a))}),_(1,"div",4,0)(3,"div",5),X("click",function(){return Pe(s),Ne(r._onTouchTargetClick())}),b(),_(4,"input",6,1),X("blur",function(){return Pe(s),Ne(r._onBlur())})("click",function(){return Pe(s),Ne(r._onInputClick())})("change",function(a){return Pe(s),Ne(r._onInteractionEvent(a))}),b(),G(6,"div",7),_(7,"div",8),Wn(),_(8,"svg",9),G(9,"path",10),b(),sl(),G(10,"div",11),b(),G(11,"div",12),b(),_(12,"label",13,2),Re(14),b()()}if(i&2){let s=ft(2);M("labelPosition",r.labelPosition),y(4),je("mdc-checkbox--selected",r.checked),M("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Ue("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("name",r.name)("value",r.value),y(7),M("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),y(),M("for",r.inputId)}},dependencies:[Fo,qp],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var _M=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Vc,qe,qe]})}}return n})();function n$(n,t){if(n&1&&(_(0,"mat-option",30),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),ga(" ",e.firstName," ",e.lastName," ")}}function r$(n,t){if(n&1&&(_(0,"mat-option",30),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),ga(" ",e.firstName," | ",e.lastName," ")}}function s$(n,t){if(n&1&&(_(0,"mat-option",30),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),ga(" ",e.brand.name," | ",e.carModel.name," ")}}function o$(n,t){if(n&1&&(_(0,"mat-option",30),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),te(" ",e.name," ")}}function a$(n,t){if(n&1&&(_(0,"mat-option",30),D(1),b()),n&2){let e=t.$implicit;M("value",e),y(),Te(e)}}function l$(n,t){if(n&1){let e=Qt();_(0,"mat-card")(1,"mat-card-content")(2,"form",23)(3,"div",24)(4,"div",25)(5,"label",26),D(6),U(7,"translate"),b(),_(8,"mat-form-field",27),G(9,"input",28),_(10,"mat-autocomplete",29,0)(12,"mat-option",30),D(13,"-- None --"),b(),ve(14,n$,2,3,"mat-option",31),U(15,"async"),b()()(),_(16,"div",25)(17,"label",32),D(18),U(19,"translate"),b(),_(20,"mat-form-field",27),G(21,"input",33),_(22,"mat-autocomplete",29,1)(24,"mat-option",30),D(25,"-- None --"),b(),ve(26,r$,2,3,"mat-option",31),U(27,"async"),b()()(),_(28,"div",25)(29,"label",34),D(30),U(31,"translate"),b(),_(32,"mat-form-field",27),G(33,"input",35),_(34,"mat-autocomplete",29,2)(36,"mat-option",30),D(37,"-- None --"),b(),ve(38,s$,2,3,"mat-option",31),U(39,"async"),b()()(),_(40,"div",25)(41,"label",36),D(42),U(43,"translate"),b(),_(44,"mat-form-field",27),G(45,"input",37),_(46,"mat-autocomplete",29,3)(48,"mat-option",30),D(49,"-- None --"),b(),ve(50,o$,2,2,"mat-option",31),U(51,"async"),b()()(),_(52,"div",25)(53,"label",38),D(54),U(55,"translate"),b(),_(56,"mat-form-field",27),G(57,"input",39),b()(),_(58,"div",25)(59,"label",40),D(60),U(61,"translate"),b(),_(62,"mat-form-field",27),G(63,"input",41)(64,"mat-datepicker-toggle",42)(65,"mat-datepicker",null,4),b()(),_(67,"div",25)(68,"label",43),D(69),U(70,"translate"),b(),_(71,"mat-form-field",27),G(72,"input",44)(73,"mat-datepicker-toggle",42)(74,"mat-datepicker",null,5),b()(),_(76,"div",25)(77,"label",45),D(78),U(79,"translate"),b(),_(80,"mat-form-field",27),G(81,"input",46)(82,"mat-datepicker-toggle",42)(83,"mat-datepicker",null,6),b()(),_(85,"div",25)(86,"label",47),D(87),U(88,"translate"),b(),_(89,"mat-form-field",27),G(90,"input",48)(91,"mat-datepicker-toggle",42)(92,"mat-datepicker",null,7),b()(),_(94,"div",25)(95,"label",49),D(96),U(97,"translate"),b(),_(98,"mat-form-field",27),G(99,"input",50)(100,"mat-datepicker-toggle",42)(101,"mat-datepicker",null,8),b()(),_(103,"div",25)(104,"label",51),D(105),U(106,"translate"),b(),G(107,"mat-checkbox",52),_(108,"label",53),D(109),U(110,"translate"),b(),_(111,"mat-form-field",54),G(112,"input",55)(113,"mat-datepicker-toggle",42)(114,"mat-datepicker",null,9),b()(),_(116,"div",25)(117,"label",56),D(118),U(119,"translate"),b(),_(120,"mat-form-field",27),G(121,"input",57),b()(),_(122,"div",25)(123,"label",58),D(124),U(125,"translate"),b(),G(126,"mat-checkbox",59),_(127,"label",60),D(128),U(129,"translate"),b(),_(130,"mat-form-field",54),G(131,"input",61)(132,"mat-datepicker-toggle",42)(133,"mat-datepicker",null,10),b()(),_(135,"div",25)(136,"label",62),D(137),U(138,"translate"),b(),_(139,"mat-form-field",27),G(140,"input",63),b()(),_(141,"div",25)(142,"label",64),D(143),U(144,"translate"),b(),G(145,"mat-checkbox",65),_(146,"label",66),D(147),U(148,"translate"),b(),_(149,"mat-form-field",54),G(150,"input",67)(151,"mat-datepicker-toggle",42)(152,"mat-datepicker",null,11),b()(),_(154,"div",25)(155,"label",68),D(156),U(157,"translate"),b(),_(158,"mat-form-field",27)(159,"mat-select",69),X("selectionChange",function(r){Pe(e);let s=Me();return Ne(s.onCandidatePaymentTypeChange(r.value))}),ve(160,a$,2,2,"mat-option",31),b()()(),_(161,"div",25)(162,"label",70),D(163),U(164,"translate"),b(),_(165,"mat-form-field",27),G(166,"input",71),b()(),_(167,"div",25)(168,"label",72),D(169),U(170,"translate"),b(),_(171,"mat-form-field",27),G(172,"input",73),b()(),_(173,"div",25)(174,"label",74),D(175),U(176,"translate"),b(),_(177,"mat-form-field",75),G(178,"input",76),b(),_(179,"label",77),D(180),U(181,"translate"),b(),_(182,"mat-form-field",54),G(183,"input",78)(184,"mat-datepicker-toggle",42)(185,"mat-datepicker",null,12),b()(),_(187,"div",25)(188,"label",79),D(189),U(190,"translate"),b(),G(191,"mat-checkbox",80),_(192,"label",81),D(193),U(194,"translate"),b(),_(195,"mat-form-field",54),G(196,"input",82)(197,"mat-datepicker-toggle",42)(198,"mat-datepicker",null,13),b()()()()()()}if(n&2){let e=ft(11),i=ft(23),r=ft(35),s=ft(47),o=ft(66),a=ft(75),l=ft(84),c=ft(93),h=ft(102),m=ft(115),f=ft(134),v=ft(153),C=ft(186),x=ft(199),E=Me();y(2),M("formGroup",E.orderForm),y(4),te("",W(7,63,"investor.title"),":"),y(3),M("matAutocomplete",e),y(),M("displayWith",E.displayFirstAndLastName),y(2),M("value",null),y(2),M("ngForOf",W(15,65,E.filteredInvestorArray)),y(4),te("",W(19,67,"veteran.title"),":"),y(3),M("matAutocomplete",i),y(),M("displayWith",E.displayFirstAndLastName),y(2),M("value",null),y(2),M("ngForOf",W(27,69,E.filteredVeteranArray)),y(4),te("",W(31,71,"product.title"),":"),y(3),M("matAutocomplete",r),y(),M("displayWith",E.displayProduct),y(2),M("value",null),y(2),M("ngForOf",W(39,73,E.filteredProductArray)),y(4),te("",W(43,75,"agency.title"),":"),y(3),M("matAutocomplete",s),y(),M("displayWith",E.displayName),y(2),M("value",null),y(2),M("ngForOf",W(51,77,E.filteredAgencyArray)),y(4),te("",W(55,79,"order.eightDigitOrderCode"),":"),y(6),te("",W(61,81,"order.supplyDate"),":"),y(3),M("matDatepicker",o),y(),M("for",o),y(5),te("",W(70,83,"order.currencyAllocationApprovalDate"),":"),y(3),M("matDatepicker",a),y(),M("for",a),y(5),te("",W(79,85,"order.currencyAllocationQueueDate"),":"),y(3),M("matDatepicker",l),y(),M("for",l),y(5),te("",W(88,87,"order.orderSubmissionDate"),":"),y(3),M("matDatepicker",c),y(),M("for",c),y(5),te("",W(97,89,"order.warrantyContractDate"),":"),y(3),M("matDatepicker",h),y(),M("for",h),y(5),te("",W(106,91,"order.documentVerified"),":"),y(4),te("",W(110,93,"order.documentVerifiedDate"),":"),y(3),M("matDatepicker",m),y(),M("for",m),y(5),te("",W(119,95,"order.fileNumber"),":"),y(6),te("",W(125,97,"order.powerOfAttorney"),":"),y(4),te("",W(129,99,"order.powerOfAttorneyDate"),":"),y(3),M("matDatepicker",f),y(),M("for",f),y(5),te("",W(138,101,"order.lastStatus"),":"),y(6),te("",W(144,103,"order.token"),":"),y(4),te("",W(148,105,"order.tokenDate"),":"),y(3),M("matDatepicker",v),y(),M("for",v),y(5),te("",W(157,107,"order.candidatePaymentType"),":"),y(4),M("ngForOf",E.candidatePaymentTypeList),y(3),te("",W(164,109,"order.candidatePaymentDescription"),":"),y(6),te("",W(170,111,"order.chassi"),":"),y(6),te("",W(176,113,"order.amount"),":"),y(5),te("",W(181,115,"order.amountDate"),":"),y(3),M("matDatepicker",C),y(),M("for",C),y(5),te("",W(190,117,"order.hasOrderComplete"),":"),y(4),te("",W(194,119,"order.hasOrderCompleteDate"),":"),y(3),M("matDatepicker",x),y(),M("for",x)}}var yM=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.fb=e,this.orderService=i,this.investorService=r,this.veteranService=s,this.productService=o,this.agencyService=a,this.translate=l,this.messageService=c,this.columnDefinitions=[],this.dataset=[],this.investorMap=new Map,this.veteranMap=new Map,this.productMap=new Map,this.agencyMap=new Map,this.showForm=!1,this.excelExportService=new rn}ngOnInit(){this.gridConstructor(),this.initForm(),this.loadSelectOptions(),this.candidatePaymentTypeList=mM}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData(),Ki.scrollToTheRight()}loadData(){this.orderService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}loadSelectOptions(){this.investorService.getAll().subscribe(e=>{e.forEach(i=>this.investorMap.set(i.id,i))},e=>console.error("\u274C Error loading brands:",e)),this.veteranService.getAll().subscribe(e=>{e.forEach(i=>this.veteranMap.set(i.id,i))},e=>console.error("\u274C Error loading brands:",e)),this.productService.getAll().subscribe(e=>{e.forEach(i=>this.productMap.set(i.id,i))},e=>console.error("\u274C Error loading brands:",e)),this.agencyService.getAll().subscribe(e=>{e.forEach(i=>this.agencyMap.set(i.id,i))},e=>console.error("\u274C Error loading brands:",e))}get productArray(){return Array.from(this.productMap.values())}get agencyArray(){return Array.from(this.agencyMap.values())}get investorArray(){return Array.from(this.investorMap.values())}get veteranArray(){return Array.from(this.veteranMap.values())}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"investorPhoneNumber",field:"investor.phoneNumber",name:this.translate.instant("order.investorPhoneNumber")},{id:"veteran",field:"veteran.id",hidden:!0,name:this.translate.instant("veteran.title")},{id:"veteranFirstName",field:"veteran.firstName",name:this.translate.instant("veteran.firstName")},{id:"veteranLastName",field:"veteran.lastName",name:this.translate.instant("veteran.lastName")},{id:"veteran",field:"veteran.nationalId",name:this.translate.instant("veteran.nationalId")},{id:"veteran",field:"veteran.phoneNumber",name:this.translate.instant("veteran.phoneNumber")},{id:"contractName",field:"veteran.contract.name",name:this.translate.instant("contract.name")},{id:"contractNumber",field:"veteran.contractNumber",name:this.translate.instant("veteran.contractNumber")},{id:"description",field:"veteran.description",name:this.translate.instant("veteran.description")},{id:"contractDateShamsi",field:"veteran.contractDate",formatter:Mc.formatToJalaliDate.bind(this),name:this.translate.instant("veteran.contractDate")},{id:"veteranDisabilityPercentage",field:"veteran.disabilityPercentage",name:this.translate.instant("veteran.disabilityPercentage")},{id:"veteranUnifiedSystemUsername",field:"veteran.unifiedSystemUsername",name:this.translate.instant("veteran.unifiedSystemUsername")},{id:"veteranUnifiedSystemPassword",field:"veteran.unifiedSystemPassword",name:this.translate.instant("veteran.unifiedSystemPassword")},{id:"veteransSystemUsername",field:"veteran.veteransSystemUsername",name:this.translate.instant("veteran.veteransSystemUsername")},{id:"veteransSystemPassword",field:"veteran.veteransSystemPassword",name:this.translate.instant("veteran.veteransSystemPassword")},{id:"product",field:"product.id",hidden:!0,name:this.translate.instant("product.title")},{id:"productCarModelName",field:"product.carModel.name",name:this.translate.instant("carModel.name")},{id:"productBrandName",field:"product.brand.name",name:this.translate.instant("brand.name")},{id:"productChassisFormat",field:"product.chassisFormat",name:this.translate.instant("product.chassisFormat")},{id:"productIdentifier",field:"product.productIdentifier",name:this.translate.instant("product.productIdentifier")},{id:"productManufacturingCountry",field:"product.manufacturingCountry",name:this.translate.instant("product.manufacturingCountry")},{id:"agency",field:"agency.id",hidden:!0,name:this.translate.instant("agency.title")},{id:"agencyName",field:"agency.name",name:this.translate.instant("agency.name")},{id:"warrantyContractDate",field:"warrantyContractDate",hidden:!0,name:this.translate.instant("order.warrantyContractDate")},{id:"warrantyContractDateShamsi",field:"warrantyContractDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.warrantyContractDate")},{id:"documentVerified",field:"documentVerified",type:R.boolean,name:this.translate.instant("order.documentVerified")},{id:"token",field:"token",type:R.boolean,name:this.translate.instant("order.token")},{id:"powerOfAttorney",field:"powerOfAttorney",type:R.boolean,formatter:Zt.checkmarkMaterial,name:this.translate.instant("order.powerOfAttorney")},{id:"eightDigitOrderCode",field:"eightDigitOrderCode",name:this.translate.instant("order.eightDigitOrderCode")},{id:"candidatePaymentType",field:"candidatePaymentType",name:this.translate.instant("order.candidatePaymentType")},{id:"candidatePaymentDescription",field:"candidatePaymentDescription",name:this.translate.instant("order.candidatePaymentDescription")},{id:"chassi",field:"chassi",name:this.translate.instant("order.chassi")},{id:"amount",field:"amount",name:this.translate.instant("order.amount")},{id:"amountDate",field:"amountDate",hidden:!0,name:this.translate.instant("order.amountDate")},{id:"amountDateShamsi",field:"amountDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.amountDate")},{id:"documentVerifiedDate",field:"documentVerifiedDate",hidden:!0,name:this.translate.instant("order.documentVerifiedDate")},{id:"documentVerifiedDateShamsi",field:"documentVerifiedDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.documentVerifiedDate")},{id:"tokenDate",field:"tokenDate",hidden:!0,name:this.translate.instant("order.tokenDate")},{id:"tokenDateShamsi",field:"tokenDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.tokenDate")},{id:"powerOfAttorneyDate",field:"powerOfAttorneyDate",hidden:!0,name:this.translate.instant("order.powerOfAttorneyDate")},{id:"powerOfAttorneyDateShamsi",field:"powerOfAttorneyDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.powerOfAttorneyDate")},{id:"orderSubmissionDate",field:"orderSubmissionDate",hidden:!0,name:this.translate.instant("order.orderSubmissionDate")},{id:"orderSubmissionDateShamsi",field:"orderSubmissionDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.orderSubmissionDate")},{id:"currencyAllocationQueueDate",field:"currencyAllocationQueueDate",hidden:!0,name:this.translate.instant("order.currencyAllocationQueueDate")},{id:"currencyAllocationQueueDateShamsi",field:"currencyAllocationQueueDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.currencyAllocationQueueDate")},{id:"currencyAllocationApprovalDate",field:"currencyAllocationApprovalDate",hidden:!0,name:this.translate.instant("order.currencyAllocationApprovalDate")},{id:"currencyAllocationApprovalDateShamsi",field:"currencyAllocationApprovalDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.currencyAllocationApprovalDate")},{id:"supplyDate",field:"supplyDate",hidden:!0,name:this.translate.instant("order.supplyDate")},{id:"supplyDateShamsi",field:"supplyDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.supplyDate")},{id:"lastStatus",field:"lastStatus",name:this.translate.instant("order.lastStatus")},{id:"fileNumber",field:"fileNumber",name:this.translate.instant("order.fileNumber")},{id:"hasOrderComplete",field:"hasOrderComplete",type:R.boolean,name:this.translate.instant("order.hasOrderComplete")},{id:"hasOrderCompleteDate",field:"hasOrderCompleteDate",hidden:!0,name:this.translate.instant("order.hasOrderCompleteDate")},{id:"hasOrderCompleteDateShamsi",field:"hasOrderCompleteDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.hasOrderCompleteDate")},{id:"createUserDate",field:"createUserDate",hidden:!0,name:this.translate.instant("order.createUserDate")},{id:"createUserDateShamsi",field:"createUserDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.createUserDate")},{id:"createUser",field:"createUser",name:this.translate.instant("order.createUser")},{id:"updateUserDate",field:"updateUserDate",hidden:!0,name:this.translate.instant("order.updateUserDate")},{id:"updateUserDateShamsi",field:"updateUserDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.updateUserDate")},{id:"updateUser",field:"updateUser",name:this.translate.instant("order.updateUser")},{id:"investor",field:"investor.id",hidden:!0,name:this.translate.instant("investor.title")},{id:"investorFirstName",field:"investor.firstName",name:this.translate.instant("investor.firstName")},{id:"investorLastName",field:"investor.lastName",name:this.translate.instant("investor.lastName")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter===void 0&&(e.filter={model:zi.input}),e.type!==void 0&&e.type===R.boolean&&Lc.setBooleanTypeOption(e,this.translate),e.sortable=!0,e.minWidth=150}),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme")),this.columnDefinitions.reverse()}formatToJalaliDate(e,i,r){return r?(0,bM.default)(r).locale("fa").format("YYYY/MM/DD"):""}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.orderForm.patchValue({id:o.id,investor:o.investor?.id?this.investorMap.get(o.investor.id)??null:null,veteran:o.veteran?.id?this.veteranMap.get(o.veteran.id)??null:null,product:o.product?.id?this.productMap.get(o.product.id)??null:null,agency:o.agency?.id?this.agencyMap.get(o.agency.id)??null:null,warrantyContractDate:o.warrantyContractDate,documentVerified:o.documentVerified,token:o.token,powerOfAttorney:o.powerOfAttorney,orderSubmissionDate:o.orderSubmissionDate,eightDigitOrderCode:o.eightDigitOrderCode,currencyAllocationQueueDate:o.currencyAllocationQueueDate,currencyAllocationApprovalDate:o.currencyAllocationApprovalDate,supplyDate:o.supplyDate,lastStatus:o.lastStatus,fileNumber:o.fileNumber,amount:o.amount,amountDate:o.amountDate,documentVerifiedDate:o.documentVerifiedDate,tokenDate:o.tokenDate,powerOfAttorneyDate:o.powerOfAttorneyDate,candidatePaymentType:o.candidatePaymentType,candidatePaymentDescription:o.candidatePaymentDescription,chassi:o.chassi,hasOrderComplete:o.hasOrderComplete,hasOrderCompleteDate:o.hasOrderCompleteDate,createUser:o.createUser,createUserDate:o.createUserDate,updateUser:o.updateUser,updateUserDate:o.updateUserDate}),this.selectedId=o.id})}}initForm(){this.orderForm=this.fb.group({id:[],investor:[null,[hi.required]],veteran:[null],product:[null],agency:[null],warrantyContractDate:[null],documentVerified:[!1],token:[!1],powerOfAttorney:[!1],orderSubmissionDate:[null],eightDigitOrderCode:[""],currencyAllocationQueueDate:[null],currencyAllocationApprovalDate:[null],supplyDate:[null],lastStatus:[""],fileNumber:[""],createUserDate:[""],createUser:[""],updateUserDate:[""],updateUser:[""],amount:[""],amountDate:[null],documentVerifiedDate:[null],tokenDate:[null],powerOfAttorneyDate:[null],candidatePaymentType:[null],candidatePaymentDescription:[""],chassi:[""],hasOrderComplete:[""],hasOrderCompleteDate:[""]}),this.investorFilter(),this.veteranFilter(),this.productFilter(),this.agencyFilter()}investorFilter(){this.filteredInvestorArray=this.orderForm.controls.investor.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.investorArray.filter(i=>`${i.firstName} ${i.lastName}`.toLowerCase().includes(e.toLowerCase())):this.investorArray.slice()))}veteranFilter(){this.filteredVeteranArray=this.orderForm.controls.veteran.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.veteranArray.filter(i=>`${i.firstName} ${i.lastName}`.toLowerCase().includes(e.toLowerCase())):this.veteranArray.slice()))}productFilter(){this.filteredProductArray=this.orderForm.controls.product.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.productArray.filter(i=>`${i.brand.name} ${i.carModel.name}`.toLowerCase().includes(e.toLowerCase())):this.productArray.slice()))}agencyFilter(){this.filteredAgencyArray=this.orderForm.controls.agency.valueChanges.pipe(Jt(""),Dn(300),Oe(e=>typeof e=="string"?this.agencyArray.filter(i=>`${i.name}`.toLowerCase().includes(e.toLowerCase())):this.agencyArray.slice()))}displayProduct(e){return e?`${e.brand.name} ${e.carModel.name}`:""}displayName(e){return e&&e.name?`${e.name}`:""}displayFirstAndLastName(e){return e&&e.firstName?`${e.firstName} ${e.lastName}`:""}save(){if(this.orderForm.valid){let e=this.orderForm.value;e.candidatePaymentType=this.candidatePaymentTypeSelected,this.selectedId?this.orderService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating order:",i)}):this.orderService.create(e).subscribe(i=>{this.grid.invalidate(),this.angularGrid.gridService.addItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.saved"),3e3)},i=>{console.error("\u274C Error creating order:",i)})}else this.markFormGroupTouched(this.orderForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.orderService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Order deleted successfully:",e),this.dataset=this.dataset.filter(i=>i.id!==this.selectedId),this.angularGrid.gridService.deleteItemById(this.selectedId),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting order:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.orderForm.reset(),this.selectedId=0}toggleFormVisibility(){this.showForm=!this.showForm,this.gridOptions.pagination&&(this.showForm?this.angularGrid.paginationService?.changeItemPerPage(10):this.angularGrid.paginationService?.changeItemPerPage(50)),this.angularGrid.resizerService.resizeGrid(2)}onCandidatePaymentTypeChange(e){this.candidatePaymentTypeSelected=e}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(pM),w(Y_),w(X_),w(Q_),w(B_),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:41,vars:24,consts:[["auto","matAutocomplete"],["veteranAuto","matAutocomplete"],["productAuto","matAutocomplete"],["agencyAuto","matAutocomplete"],["supplyDatePicker",""],["currencyAllocationApprovalDatePicker",""],["currencyAllocationQueueDatePicker",""],["orderSubmissionDatePicker",""],["warrantyPicker",""],["documentVerifiedDatePicker",""],["powerOfAttorneyDatePicker",""],["tokenDatePicker",""],["amountDatePicker",""],["hasOrderCompleteDatePicker",""],["icon","    ",1,"action"],["mat-flat-button","","color","accent",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],[4,"ngIf"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_order",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"],[3,"formGroup"],[1,"form-grid"],[1,"form-item"],["for","investor",1,"form-label"],["appearance","outline",1,"form-field"],["type","text","matInput","","formControlName","investor",3,"matAutocomplete"],[3,"displayWith"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","veteran",1,"form-label"],["type","text","matInput","","formControlName","veteran",3,"matAutocomplete"],["for","product",1,"form-label"],["type","text","matInput","","formControlName","product",3,"matAutocomplete"],["for","agency",1,"form-label"],["type","text","matInput","","formControlName","agency",3,"matAutocomplete"],["for","eightDigitOrderCode",1,"form-label"],["matInput","","id","eightDigitOrderCode","formControlName","eightDigitOrderCode"],["for","supplyDate",1,"form-label"],["matInput","","id","supplyDate","formControlName","supplyDate",3,"matDatepicker"],["matPrefix","",3,"for"],["for","currencyAllocationApprovalDate",1,"form-label"],["matInput","","id","currencyAllocationApprovalDate","formControlName","currencyAllocationApprovalDate",3,"matDatepicker"],["for","currencyAllocationQueueDate",1,"form-label"],["matInput","","id","currencyAllocationQueueDate","formControlName","currencyAllocationQueueDate",3,"matDatepicker"],["for","orderSubmissionDate",1,"form-label"],["matInput","","id","orderSubmissionDate","formControlName","orderSubmissionDate",3,"matDatepicker"],["for","warrantyContractDate",1,"form-label"],["matInput","","id","warrantyContractDate","formControlName","warrantyContractDate",3,"matDatepicker"],["for","documentVerified",1,"form-label"],["id","documentVerified","formControlName","documentVerified"],["for","documentVerifiedDate",1,"form-label"],["appearance","outline",1,"form-field","datetimepicker"],["matInput","","id","documentVerifiedDate","formControlName","documentVerifiedDate",3,"matDatepicker"],["for","fileNumber",1,"form-label"],["matInput","","id","fileNumber","formControlName","fileNumber"],["for","powerOfAttorney",1,"form-label"],["id","powerOfAttorney","formControlName","powerOfAttorney"],["for","powerOfAttorneyDate",1,"form-label"],["matInput","","id","powerOfAttorneyDate","formControlName","powerOfAttorneyDate",3,"matDatepicker"],["for","lastStatus",1,"form-label"],["matInput","","id","lastStatus","formControlName","lastStatus"],["for","token",1,"form-label"],["id","token","formControlName","token"],["for","tokenDate",1,"form-label"],["matInput","","id","tokenDate","formControlName","tokenDate",3,"matDatepicker"],["for","candidatePaymentType",1,"form-label"],["id","candidatePaymentType","formControlName","candidatePaymentType",3,"selectionChange"],["for","candidatePaymentDescription",1,"form-label"],["matInput","","id","candidatePaymentDescription","formControlName","candidatePaymentDescription"],["for","chassi",1,"form-label"],["matInput","","id","chassi","formControlName","chassi"],["for","amount",1,"form-label"],["appearance","outline",1,"form-field",2,"width","100px"],["matInput","","id","amount","formControlName","amount"],["for","amountDate",2,"width","80px"],["matInput","","id","amountDate","formControlName","amountDate",3,"matDatepicker"],["for","hasOrderComplete",1,"form-label"],["id","hasOrderComplete","formControlName","hasOrderComplete"],["for","hasOrderCompleteDate",1,"form-label"],["matInput","","id","hasOrderCompleteDate","formControlName","hasOrderCompleteDate",3,"matDatepicker"]],template:function(i,r){i&1&&(_(0,"app-page-header",14),D(1),U(2,"translate"),_(3,"button",15),X("click",function(){return r.toggleFormVisibility()}),_(4,"mat-icon"),D(5,"visibility"),b()(),_(6,"button",16),X("click",function(){return r.print()}),_(7,"mat-icon"),D(8,"print"),b(),_(9,"span"),D(10),U(11,"translate"),b()(),_(12,"button",17),X("click",function(){return r.exportToExcel()}),_(13,"mat-icon"),D(14,"output"),b(),_(15,"span"),D(16),U(17,"translate"),b()(),_(18,"button",18),X("click",function(){return r.save()}),_(19,"mat-icon"),D(20,"save"),b(),_(21,"span"),D(22),U(23,"translate"),b()(),_(24,"button",19),X("click",function(){return r.delete()}),_(25,"mat-icon"),D(26,"delete"),b(),_(27,"span"),D(28),U(29,"translate"),b()(),_(30,"button",15),X("click",function(){return r.resetForm()}),_(31,"mat-icon"),D(32,"add"),b(),_(33,"span"),D(34),U(35,"translate"),b()()(),_(36,"div"),ve(37,l$,200,121,"mat-card",20),_(38,"div",21)(39,"angular-slickgrid",22),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(40," > "),b()()()),i&2&&(y(),te(" ",W(2,12,"order.orderTitle")," "),y(9),Te(W(11,14,"crud.printBtn")),y(6),Te(W(17,16,"crud.exportBtn")),y(2),M("disabled",r.orderForm.invalid),y(4),Te(W(23,18,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(29,20,"crud.deleteBtn")),y(6),Te(W(35,22,"crud.newBtn")),y(3),M("ngIf",r.showForm),y(2),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[qs,os,Rn,hn,An,Mn,Di,Ei,hs,Bn,Dc,Ic,Gi,Cn,Hn,zn,jn,Vc,Pc,Ka,Kl,Nc,Ql,Nn,cn,fd,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var CM=Rm(hm());var wM=(()=>{class n extends Vn{constructor(e){super(e),this.setUrl("/api/v1/tarkhis")}static{this.\u0275fac=function(i){return new(i||n)(P(mi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function c$(n,t){if(n&1&&(_(0,"mat-card")(1,"mat-card-content")(2,"div",19)(3,"div",20)(4,"label",21),D(5),U(6,"translate"),b(),_(7,"mat-form-field",22),G(8,"input",23),b()()(),_(9,"form",24)(10,"div",19)(11,"div",20)(12,"label",25),D(13),U(14,"translate"),b(),_(15,"mat-form-field",22),G(16,"input",26),b()(),_(17,"div",20)(18,"label",27),D(19),U(20,"translate"),b(),_(21,"mat-form-field",22),G(22,"input",28)(23,"mat-datepicker-toggle",29)(24,"mat-datepicker",null,0),b()(),_(26,"div",20)(27,"label",30),D(28),U(29,"translate"),b(),_(30,"mat-form-field",22),G(31,"input",31)(32,"mat-datepicker-toggle",29)(33,"mat-datepicker",null,1),b()(),_(35,"div",20)(36,"label",32),D(37),U(38,"translate"),b(),_(39,"mat-form-field",22),G(40,"input",33)(41,"mat-datepicker-toggle",29)(42,"mat-datepicker",null,2),b()(),_(44,"div",20)(45,"label",34),D(46),U(47,"translate"),b(),_(48,"mat-form-field",22),G(49,"input",35),b()(),_(50,"div",20)(51,"label",36),D(52),U(53,"translate"),b(),_(54,"mat-form-field",22),G(55,"input",37),b()(),_(56,"div",20)(57,"label",38),D(58),U(59,"translate"),b(),_(60,"mat-form-field",22),G(61,"input",39)(62,"mat-datepicker-toggle",29)(63,"mat-datepicker",null,3),b()(),_(65,"div",20)(66,"label",40),D(67),U(68,"translate"),b(),_(69,"mat-form-field",22),G(70,"input",41),b()(),_(71,"div",20)(72,"label",42),D(73),U(74,"translate"),b(),_(75,"mat-form-field",22),G(76,"input",43)(77,"mat-datepicker-toggle",29)(78,"mat-datepicker",null,4),b()(),_(80,"div",20)(81,"label",44),D(82),U(83,"translate"),b(),_(84,"mat-form-field",22),G(85,"input",45),b()(),_(86,"div",20)(87,"label",46),D(88),U(89,"translate"),b(),G(90,"mat-checkbox",47),_(91,"label",48),D(92),U(93,"translate"),b(),_(94,"mat-form-field",49),G(95,"input",50)(96,"mat-datepicker-toggle",29)(97,"mat-datepicker",null,5),b()(),_(99,"div",20)(100,"label",51),D(101),U(102,"translate"),b(),G(103,"mat-checkbox",52),_(104,"label",53),D(105),U(106,"translate"),b(),_(107,"mat-form-field",49),G(108,"input",54)(109,"mat-datepicker-toggle",29)(110,"mat-datepicker",null,6),b()(),_(112,"div",20)(113,"label",55),D(114),U(115,"translate"),b(),G(116,"mat-checkbox",56),_(117,"label",57),D(118),U(119,"translate"),b(),_(120,"mat-form-field",49),G(121,"input",58)(122,"mat-datepicker-toggle",29)(123,"mat-datepicker",null,7),b()(),_(125,"div",20)(126,"label",59),D(127),U(128,"translate"),b(),G(129,"mat-checkbox",60),_(130,"label",61),D(131),U(132,"translate"),b(),_(133,"mat-form-field",49),G(134,"input",62)(135,"mat-datepicker-toggle",29)(136,"mat-datepicker",null,8),b()(),_(138,"div",20)(139,"label",63),D(140),U(141,"translate"),b(),_(142,"mat-form-field",22),G(143,"input",64)(144,"mat-datepicker-toggle",29)(145,"mat-datepicker",null,9),b()()()()()()),n&2){let e=ft(25),i=ft(34),r=ft(43),s=ft(64),o=ft(79),a=ft(98),l=ft(111),c=ft(124),h=ft(137),m=ft(146),f=Me();y(5),te("",W(6,42,"order.chassi"),":"),y(3),pS("value",f.selectedItemData.chassi),y(),M("formGroup",f.orderForm),y(4),te("",W(14,44,"order.color"),":"),y(6),te("",W(20,46,"order.carArrivalDate"),":"),y(3),M("matDatepicker",e),y(),M("for",e),y(5),te("",W(29,48,"order.warehouseReceiptDate"),":"),y(3),M("matDatepicker",i),y(),M("for",i),y(5),te("",W(38,50,"order.docsSentToBrokerDate"),":"),y(3),M("matDatepicker",r),y(),M("for",r),y(5),te("",W(47,52,"order.eplPassword"),":"),y(6),te("",W(53,54,"order.kotajNumber"),":"),y(6),te("",W(59,56,"order.kotajDate"),":"),y(3),M("matDatepicker",s),y(),M("for",s),y(5),te("",W(68,58,"order.sataCode"),":"),y(6),te("",W(74,60,"order.sataDate"),":"),y(3),M("matDatepicker",o),y(),M("for",o),y(5),te("",W(83,62,"order.paymentToolCode"),":"),y(6),te("",W(89,64,"order.standardTick"),":"),y(4),te("",W(93,66,"order.standardTickDate"),":"),y(3),M("matDatepicker",a),y(),M("for",a),y(5),te("",W(102,68,"order.environmentTick"),":"),y(4),te("",W(106,70,"order.environmentTickDate"),":"),y(3),M("matDatepicker",l),y(),M("for",l),y(5),te("",W(115,72,"order.developmentOrgTick"),":"),y(4),te("",W(119,74,"order.developmentOrgTickDate"),":"),y(3),M("matDatepicker",c),y(),M("for",c),y(5),te("",W(128,76,"order.dealerInquiry"),":"),y(4),te("",W(132,78,"order.dealerInquiryDate"),":"),y(3),M("matDatepicker",h),y(),M("for",h),y(5),te("",W(141,80,"order.clearanceDate"),":"),y(3),M("matDatepicker",m),y(),M("for",m)}}var SM=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.tarkhisService=i,this.translate=r,this.messageService=s,this.columnDefinitions=[],this.dataset=[],this.showForm=!0,this.excelExportService=new rn,this.selectedItemData={}}ngOnInit(){this.gridConstructor(),this.initForm()}angularGridReady(e){this.angularGrid=e,this.grid=this.angularGrid.slickGrid,this.gridService=this.angularGrid.gridService,this.dataView=this.angularGrid.dataView,console.log("angularGridReady "+this.dataset),console.log("\u2714\uFE0F Grid is Ready. Loading Data..."),this.loadData(),Ki.scrollToTheRight()}loadData(){this.tarkhisService.getAll().subscribe(e=>{this.dataset=e,console.log("\u2714\uFE0F Data loaded:",this.dataset),this.dataView?(this.dataView.setItems(this.dataset),this.angularGrid.gridService.addItem({id:4e7,name:"ddd"}),this.angularGrid.gridService.deleteItem({id:4e7,name:"ddd"})):(console.warn("DataView is not initialized. Retrying in 500ms..."),setTimeout(()=>{this.dataView&&this.dataView.setItems(this.dataset)},500))})}gridConstructor(){this.columnDefinitions=[{id:"id",field:"id",name:"Id",hidden:!0},{id:"veteran",field:"veteran.id",hidden:!0,name:this.translate.instant("veteran.title")},{id:"veteranFirstName",field:"veteran.firstName",name:this.translate.instant("veteran.firstName")},{id:"veteranLastName",field:"veteran.lastName",name:this.translate.instant("veteran.lastName")},{id:"veteran",field:"veteran.nationalId",name:this.translate.instant("veteran.nationalId")},{id:"product",field:"product.id",hidden:!0,name:this.translate.instant("product.title")},{id:"productChassisFormat",field:"product.chassisFormat",name:this.translate.instant("product.chassisFormat")},{id:"productCarModelName",field:"product.carModel.name",name:this.translate.instant("carModel.name")},{id:"productBrandName",field:"product.brand.name",name:this.translate.instant("brand.name")},{id:"productIdentifier",field:"product.productIdentifier",name:this.translate.instant("product.productIdentifier")},{id:"productManufacturingCountry",field:"product.manufacturingCountry",name:this.translate.instant("product.manufacturingCountry")},{id:"color",field:"order.color",name:this.translate.instant("order.color")},{id:"carArrivalDate",field:"carArrivalDate",hidden:!0,name:this.translate.instant("order.carArrivalDate")},{id:"carArrivalDateShamsi",field:"carArrivalDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.carArrivalDate")},{id:"warehouseReceiptDate",field:"warehouseReceiptDate",hidden:!0,name:this.translate.instant("order.warehouseReceiptDate")},{id:"warehouseReceiptDateShamsi",field:"warehouseReceiptDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.warehouseReceiptDate")},{id:"customOffice",field:"order.customOffice",name:this.translate.instant("order.customOffice")},{id:"docsSentToBrokerDate",field:"docsSentToBrokerDate",hidden:!0,name:this.translate.instant("order.docsSentToBrokerDate")},{id:"docsSentToBrokerDateShamsi",field:"docsSentToBrokerDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.docsSentToBrokerDate")},{id:"eplPassword",field:"order.eplPassword",name:this.translate.instant("order.eplPassword")},{id:"kotajNumber",field:"order.kotajNumber",name:this.translate.instant("order.kotajNumber")},{id:"kotajDate",field:"kotajDate",hidden:!0,name:this.translate.instant("order.kotajDate")},{id:"kotajDateShamsi",field:"kotajDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.kotajDate")},{id:"sataCode",field:"order.sataCode",name:this.translate.instant("order.sataCode")},{id:"sataDate",field:"sataDate",hidden:!0,name:this.translate.instant("order.sataDate")},{id:"sataDateShamsi",field:"sataDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.sataDate")},{id:"paymentToolCode",field:"order.paymentToolCode",name:this.translate.instant("order.paymentToolCode")},{id:"standardTick",field:"standardTick",type:R.boolean,formatter:Zt.checkmarkMaterial,name:this.translate.instant("order.standardTick")},{id:"standardTickDate",field:"standardTickDate",hidden:!0,name:this.translate.instant("order.standardTickDate")},{id:"standardTickDateShamsi",field:"standardTickDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.standardTickDate")},{id:"environmentTick",field:"environmentTick",type:R.boolean,formatter:Zt.checkmarkMaterial,name:this.translate.instant("order.environmentTick")},{id:"environmentTickDate",field:"environmentTickDate",hidden:!0,name:this.translate.instant("order.environmentTickDate")},{id:"environmentTickDateShamsi",field:"environmentTickDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.environmentTickDate")},{id:"developmentOrgTick",field:"developmentOrgTick",type:R.boolean,formatter:Zt.checkmarkMaterial,name:this.translate.instant("order.developmentOrgTick")},{id:"developmentOrgTickDate",field:"developmentOrgTickDate",hidden:!0,name:this.translate.instant("order.developmentOrgTickDate")},{id:"developmentOrgTickDateShamsi",field:"developmentOrgTickDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.developmentOrgTickDate")},{id:"dealerInquiry",field:"order.dealerInquiry",name:this.translate.instant("order.dealerInquiry")},{id:"dealerInquiryDate",field:"dealerInquiryDate",hidden:!0,name:this.translate.instant("order.dealerInquiryDate")},{id:"dealerInquiryDateShamsi",field:"dealerInquiryDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.dealerInquiryDate")},{id:"documentStatus",field:"order.documentStatus",name:this.translate.instant("order.documentStatus")},{id:"clearanceDate",field:"clearanceDate",hidden:!0,name:this.translate.instant("order.clearanceDate")},{id:"clearanceDateShamsi",field:"clearanceDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.clearanceDate")},{id:"tarkhisCreateUserDate",field:"tarkhisCreateUserDate",hidden:!0,name:this.translate.instant("order.tarkhisCreateUserDate")},{id:"tarkhisCreateUserDateShamsi",field:"tarkhisCreateUserDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.tarkhisCreateUserDate")},{id:"tarkhisCreateUser",field:"tarkhisCreateUser",name:this.translate.instant("order.tarkhisCreateUser")},{id:"tarkhisUpdateUserDate",field:"tarkhisUpdateUserDate",hidden:!0,name:this.translate.instant("order.tarkhisUpdateUserDate")},{id:"tarkhisUpdateUserDateShamsi",field:"tarkhisUpdateUserDate",formatter:this.formatToJalaliDate.bind(this),name:this.translate.instant("order.tarkhisUpdateUserDate")},{id:"tarkhisUpdateUser",field:"tarkhisUpdateUser",name:this.translate.instant("order.tarkhisUpdateUser")}],this.columnDefinitions.forEach(e=>{e.cssClass="rtl",e.headerCssClass="rtl",e.filterable=!0,e.filter===void 0&&(e.filter={model:zi.input}),e.type!==void 0&&e.type===R.boolean&&Lc.setBooleanTypeOption(e,this.translate),e.sortable=!0,e.minWidth=150}),this.gridOptions=Ki.getGridOptions(this.excelExportService,document.body.classList.contains("dark-theme")),this.columnDefinitions.reverse()}formatToJalaliDate(e,i,r){return r?(0,CM.default)(r).locale("fa").format("YYYY/MM/DD"):""}exportToExcel(){console.log("export to excel"),this.excelExportService.exportToExcel({filename:"export",format:"xlsx"})}print(){}onSelectedRowsChanged(e,i){if(Array.isArray(i.rows)){let r=i.rows.map(s=>{let o=this.grid.getDataItem(s);console.log("Selected Item:",o),this.orderForm.patchValue(o),this.selectedId=o.id,this.selectedItemData=o})}}initForm(){this.orderForm=this.fb.group({id:[],color:["",[hi.required]],carArrivalDate:[null,[hi.required]],warehouseReceiptDate:[null],customOffice:[""],docsSentToBrokerDate:[null],eplPassword:[""],kotajNumber:[""],kotajDate:[null],sataCode:[""],sataDate:[null],paymentToolCode:[""],standardTick:[!1],standardTickDate:[null],environmentTick:[!1],environmentTickDate:[null],developmentOrgTick:[!1],developmentOrgTickDate:[null],dealerInquiry:[""],dealerInquiryDate:[null],documentStatus:[""],clearanceDate:[null],tarkhisCreateUserDate:[null],tarkhisCreateUser:[""],tarkhisUpdateUserDate:[null],tarkhisUpdateUser:[""]})}save(){if(this.orderForm.valid){let e=this.orderForm.value;this.selectedId&&this.tarkhisService.create(e).subscribe(i=>{this.angularGrid.gridService.updateItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.updated"),3e3)},i=>{console.error("\u274C Error updating order:",i)})}else this.markFormGroupTouched(this.orderForm)}delete(){confirm(this.translate.instant("crud.areYouSureToDelete"))&&this.tarkhisService.delete(this.selectedId).subscribe(e=>{console.log("\u2714\uFE0F Order deleted successfully:",e),this.orderForm.reset();let i=this.dataset.filter(r=>r.id===this.selectedId)[0];for(let r in i)r!=="id"&&this.orderForm.value.hasOwnProperty(r)&&(i[r]=null);this.angularGrid.gridService.updateItem(i),this.resetForm(),this.messageService.showMessage(this.translate.instant("crud.deleted"),3e3)},e=>{console.error("\u274C Error deleting order:",e)})}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof Li&&this.markFormGroupTouched(i)})}resetForm(){this.orderForm.reset(),this.selectedId=0}toggleFormVisibility(){this.showForm=!this.showForm,this.gridOptions.pagination&&(this.showForm?this.angularGrid.paginationService?.changeItemPerPage(10):this.angularGrid.paginationService?.changeItemPerPage(50)),this.angularGrid.resizerService.resizeGrid(2)}static{this.\u0275fac=function(i){return new(i||n)(w(Fn),w(wM),w(vi),w(gn))}}static{this.\u0275cmp=de({type:n,selectors:[["ng-component"]],decls:41,vars:25,consts:[["carArrivalDatePicker",""],["warehouseReceiptDatePicker",""],["docsSentToBrokerDatePicker",""],["kotajDatePicker",""],["sataDatePicker",""],["standardTickDatePicker",""],["environmentTickDatePicker",""],["developmentOrgTickDatePicker",""],["dealerInquiryDatePicker",""],["clearanceDatePicker",""],["icon","    ",1,"action"],["mat-flat-button","","color","accent",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent","hidden","",1,"action",3,"click"],["mat-flat-button","","type","submit","color","accent",1,"action",3,"click"],["mat-flat-button","","color","accent",1,"action",3,"click","disabled"],["mat-flat-button","","color","warn",1,"action",3,"click","disabled"],[4,"ngIf"],["id","grid-container",2,"direction","ltr","width","100%","height","100%","overflow-x","auto"],["gridId","grid_tarkhis",3,"onAngularGridCreated","onSelectedRowsChanged","columnDefinitions","gridOptions","dataset"],[1,"form-grid"],[1,"form-item"],["for","chassi",1,"form-label"],["appearance","outline",1,"form-field"],["matInput","","id","chassi","disabled","",3,"value"],[3,"formGroup"],["for","color",1,"form-label"],["matInput","","id","color","formControlName","color"],["for","carArrivalDate",1,"form-label"],["matInput","","id","carArrivalDate","formControlName","carArrivalDate",3,"matDatepicker"],["matPrefix","",3,"for"],["for","warehouseReceiptDate",1,"form-label"],["matInput","","id","warehouseReceiptDate","formControlName","warehouseReceiptDate",3,"matDatepicker"],["for","docsSentToBrokerDate",1,"form-label"],["matInput","","id","docsSentToBrokerDate","formControlName","docsSentToBrokerDate",3,"matDatepicker"],["for","eplPassword",1,"form-label"],["matInput","","id","eplPassword","formControlName","eplPassword"],["for","kotajNumber",1,"form-label"],["matInput","","id","kotajNumber","formControlName","kotajNumber"],["for","kotajDate",1,"form-label"],["matInput","","id","kotajDate","formControlName","kotajDate",3,"matDatepicker"],["for","sataCode",1,"form-label"],["matInput","","id","sataCode","formControlName","sataCode"],["for","sataDate",1,"form-label"],["matInput","","id","sataDate","formControlName","sataDate",3,"matDatepicker"],["for","paymentToolCode",1,"form-label"],["matInput","","id","paymentToolCode","formControlName","paymentToolCode"],["for","standardTick",1,"form-label"],["id","standardTick","formControlName","standardTick"],["for","standardTickDate",1,"form-label"],["appearance","outline",1,"form-field","datetimepicker"],["matInput","","id","standardTickDate","formControlName","standardTickDate",3,"matDatepicker"],["for","environmentTick",1,"form-label"],["id","environmentTick","formControlName","environmentTick"],["for","environmentTickDate",1,"form-label"],["matInput","","id","environmentTickDate","formControlName","environmentTickDate",3,"matDatepicker"],["for","developmentOrgTick",1,"form-label"],["id","developmentOrgTick","formControlName","developmentOrgTick"],["for","developmentOrgTickDate",1,"form-label"],["matInput","","id","developmentOrgTickDate","formControlName","developmentOrgTickDate",3,"matDatepicker"],["for","dealerInquiry",1,"form-label"],["id","dealerInquiry","formControlName","dealerInquiry"],["for","dealerInquiryDate",1,"form-label"],["matInput","","id","dealerInquiryDate","formControlName","dealerInquiryDate",3,"matDatepicker"],["for","clearanceDate",1,"form-label"],["matInput","","id","clearanceDate","formControlName","clearanceDate",3,"matDatepicker"]],template:function(i,r){i&1&&(_(0,"app-page-header",10),D(1),U(2,"translate"),_(3,"button",11),X("click",function(){return r.toggleFormVisibility()}),_(4,"mat-icon"),D(5,"visibility"),b()(),_(6,"button",12),X("click",function(){return r.print()}),_(7,"mat-icon"),D(8,"print"),b(),_(9,"span"),D(10),U(11,"translate"),b()(),_(12,"button",13),X("click",function(){return r.exportToExcel()}),_(13,"mat-icon"),D(14,"output"),b(),_(15,"span"),D(16),U(17,"translate"),b()(),_(18,"button",14),X("click",function(){return r.save()}),_(19,"mat-icon"),D(20,"save"),b(),_(21,"span"),D(22),U(23,"translate"),b()(),_(24,"button",15),X("click",function(){return r.delete()}),_(25,"mat-icon"),D(26,"delete"),b(),_(27,"span"),D(28),U(29,"translate"),b()(),_(30,"button",11),X("click",function(){return r.resetForm()}),_(31,"mat-icon"),D(32,"add"),b(),_(33,"span"),D(34),U(35,"translate"),b()()(),_(36,"div"),ve(37,c$,147,82,"mat-card",16),_(38,"div",17)(39,"angular-slickgrid",18),X("onAngularGridCreated",function(o){return r.angularGridReady(o.detail)})("onSelectedRowsChanged",function(o){return r.onSelectedRowsChanged(o.detail.eventData,o.detail.args)}),D(40," > "),b()()()),i&2&&(y(),ga(" ",W(2,13,"order.tarkhisTitle")," : ",r.selectedItemData.id," "),y(9),Te(W(11,15,"crud.printBtn")),y(6),Te(W(17,17,"crud.exportBtn")),y(2),M("disabled",r.orderForm.invalid),y(4),Te(W(23,19,"crud.saveBtn")),y(2),M("disabled",r.selectedId===0),y(4),Te(W(29,21,"crud.deleteBtn")),y(6),Te(W(35,23,"crud.newBtn")),y(3),M("ngIf",r.showForm),y(2),M("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[os,Rn,hn,An,Mn,Di,Ei,Bn,Dc,Gi,Cn,Hn,zn,jn,Vc,Pc,Ka,Kl,Nn,cn,Yi],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:0}"]})}}return n})();var h$=[{path:"",component:yD,canActivate:[Tr],data:{roles:["ROLE_USER"]},children:[{path:"home",component:ik,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"agency",component:cA,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"brand",component:uA,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"carModel",component:pA,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"contract",component:gA,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"investor",component:wA,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"veteran",component:dM,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"product",component:uM,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"order",component:yM,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"tarkhis",component:SM,canActivate:[Tr],data:{roles:["ROLE_ADMIN"]}},{path:"access-denied",component:fx}]}],EM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Bb.forRoot(h$),Bb]})}}return n})();var xM=(()=>{class n{constructor(e){this.translate=e,e.setDefaultLang("en"),e.use("en"),console.log(window.crypto)}static{this.\u0275fac=function(i){return new(i||n)(w(vi))}}static{this.\u0275cmp=de({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){i&1&&G(0,"router-outlet")},dependencies:[Vh],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;max-width:176px}"]})}}return n})();var kM=(()=>{class n{constructor(e,i){this.http=e,this.authService=i}getAdminData(){var e=qa.baseUrl+"/api/v1/admin";return this.authService.addTokenToHeader(),this.http.get(e)}getManagerData(){var e=qa.baseUrl+"/api/v1/manager";let i=new jr({Authorization:"Bearer "+this.authService.getToken()});return this.http.get(e,{headers:i})}static{this.\u0275fac=function(i){return new(i||n)(P(mi),P(Hd))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DM(n){let t={config:qa.keycloak.config,loadUserProfileAtStartUp:!0,initOptions:qa.keycloak.initOptions,bearerExcludedUrls:[]};return console.log("Keycloak Init Options:",t),()=>n.init(t)}var u$="@",m$=(()=>{class n{constructor(e,i,r,s,o){this.doc=e,this.delegate=i,this.zone=r,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=ee(dS,{optional:!0}),this.loadingSchedulerFn=ee(p$,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-Z76ZVPDQ.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new di(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new oC(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let a=o.createRenderer(e,i);s.use(a),this.scheduler?.notify(10)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){fa()}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),oC=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(u$)}},p$=new ie("");function TM(n="animations"){return Lm("NgAsyncAnimations"),rl([{provide:ld,useFactory:(t,e,i)=>new m$(t,e,i,n),deps:[$e,gd,ke]},{provide:_i,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var f$=(()=>{class n extends np{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(P($e),P(ah),P(ip))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function g$(){return new VS}function _$(n,t,e){return new HS(n,t,e)}var OM=[{provide:ip,useFactory:g$},{provide:np,useClass:f$},{provide:ld,useFactory:_$,deps:[gd,np,ke]}],IM=[{provide:ah,useFactory:()=>new BS},{provide:_i,useValue:"BrowserAnimations"},...OM],v$=[{provide:ah,useClass:LS},{provide:_i,useValue:"NoopAnimations"},...OM],AM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?v$:IM}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({providers:IM,imports:[cp]})}}return n})();var MM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[Pi,qe]})}}return n})();var RM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[ru]})}}return n})();var FM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe,RM,qe]})}}return n})();var PM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=he({imports:[qe]})}}return n})();var NM=(()=>{class n{http;prefix;suffix;constructor(e,i="/assets/i18n/",r=".json"){this.http=e,this.prefix=i,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(i){return new(i||n)(P(mi),P(String),P(String))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var LM={parse:{dateInput:"jYYYY/jMM/jDD"},display:{dateInput:"jYYYY/jMM/jDD",monthYearLabel:"jYYYY jMMMM",dateA11yLabel:"jYYYY/jMM/jDD",monthYearA11yLabel:"jYYYY jMMMM"}};var Cr=Rm(hm());function b$(n,t){let e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}var Z_=class extends nn{constructor(){super(),super.setLocale("fa")}getYear(t){return this.clone(t).jYear()}getMonth(t){return this.clone(t).jMonth()}getDate(t){return this.clone(t).jDate()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){switch(t){case"long":case"short":return Cr.default.localeData("fa").jMonths().slice(0);case"narrow":return Cr.default.localeData("fa").jMonthsShort().slice(0)}}getDateNames(){return b$(31,t=>String(t+1))}getDayOfWeekNames(t){switch(t){case"long":return Cr.default.localeData("fa").weekdays().slice(0);case"short":return Cr.default.localeData("fa").weekdaysShort().slice(0);case"narrow":return["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"]}}getYearName(t){return this.clone(t).jYear().toString()}getFirstDayOfWeek(){return Cr.default.localeData("fa").firstDayOfWeek()}getNumDaysInMonth(t){return this.clone(t).jDaysInMonth()}clone(t){return t.clone().locale("fa")}createDate(t,e,i){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);let r=(0,Cr.default)().jYear(t).jMonth(e).jDate(i).hours(0).minutes(0).seconds(0).milliseconds(0).locale("fa");if(this.getMonth(r)!==e)throw Error(`Invalid date ${i} for month with index ${e}.`);if(!r.isValid())throw Error(`Invalid date "${i}" for month with index "${e}".`);return r}today(){return(0,Cr.default)().locale("fa")}parse(t,e){return t&&typeof t=="string"?(0,Cr.default)(t,e,"fa"):t?(0,Cr.default)(t).locale("fa"):null}format(t,e){if(t=this.clone(t),!this.isValid(t))throw Error("JalaliMomentDateAdapter: Cannot format invalid date.");return t.format(e)}addCalendarYears(t,e){return this.clone(t).add(e,"jYear")}addCalendarMonths(t,e){return this.clone(t).add(e,"jmonth")}addCalendarDays(t,e){return this.clone(t).add(e,"jDay")}toIso8601(t){return this.clone(t).format()}isDateInstance(t){return Cr.default.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return Cr.default.invalid()}deserialize(t){let e;if(t instanceof Date&&(e=(0,Cr.default)(t)),typeof t=="string"){if(!t)return null;e=(0,Cr.default)(t,Cr.default.ISO_8601).locale("fa")}return e&&this.isValid(e)?e:super.deserialize(t)}};var VM=(()=>{class n{constructor(e,i,r){this.router=e,this.snackBar=i,this.translate=r}intercept(e,i){return i.handle(e).pipe(Gs(r=>{throw r.status===401?(this.router.navigate(["/login"]),this.showErrorMessage(this.translate.instant("error.sessionExpiry"))):r.status===403?(this.router.navigate(["/access-denied"]),this.showErrorMessage(this.translate.instant("error.permission"))):r.status===500?r.error.toLowerCase().lastIndexOf("foreign key")>0?this.showErrorMessage(this.translate.instant("error.foreignKey")):this.showErrorMessage(this.translate.instant("error.serverError")):this.showErrorMessage(`Error ${r.status}: ${r.message}`),r}))}showErrorMessage(e){this.snackBar.openFromComponent(z_,{data:{message:e,background:"rgb(224, 51, 51)"},duration:5e3,verticalPosition:"bottom",horizontalPosition:"center"})}static{this.\u0275fac=function(i){return new(i||n)(P($r),P(om),P(vi))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();var BM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ue({type:n,bootstrap:[xM]})}static{this.\u0275inj=he({providers:[{provide:uh,useClass:VM,multi:!0},{provide:nn,useClass:Z_,deps:[Gp]},{provide:Ks,useValue:LM},{provide:md,useFactory:DM,deps:[Ca],multi:!0},vi,{provide:md,useFactory:w$,deps:[vi],multi:!0},Tr,Hd,kM,gn,TM()],imports:[cp,AM,Iy,ek,Bd,vk,ok,aD,xa,MM,vD,Ck,vx,EM,eE,yA,Kk,Pi,Iy,Xk,sA,Yl,dA,FM,PM,GO,_M,sM,Yx,lM,_O.forRoot({enableAutoResize:!0,autoResize:{container:"#demo-container",rightPadding:10},sanitizer:e=>SE.sanitize(e,{ADD_ATTR:["level"],RETURN_TRUSTED_TYPE:!0})}),tD.forRoot({loader:{provide:Ma,useFactory:y$,deps:[mi]}})]})}}return n})();function y$(n){return new NM(n,"./assets/i18n/",".json")}function w$(n){return()=>(n.setDefaultLang("en"),n.use("en").toPromise())}aE().bootstrapModule(BM).catch(n=>console.error(n));
